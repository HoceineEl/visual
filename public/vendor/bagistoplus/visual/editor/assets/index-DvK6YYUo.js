import{_ as fr,a as dr}from"./x-mark-DngKAgwX.js";import{_ as vr,a as pr,b as gr,S as _r,c as yr}from"./sortable.core.esm-C98KhqFw.js";import{_ as br}from"./trash-aovsqj31.js";import{d as ie,u as $r,o as y,c as w,a as A,b as C,e as _,t as x,w as _e,f as j,n as hr,g as mr,h as Ar,F as K,r as V,i as ee,_ as oe,j as z,k as qe,l as E,m as le,p as ze,q as We,s as R,v as Je,x as wr,y as ue,z as Sr,A as W,B as Tr,C as Qe,D as xr,E as ce,G as Or,H as Xe,I as Ye,J as Pr,K as Cr,L as Er,M as Mr,N as Lr,O as ye,P as U,Q as b,R as G,S as B,T as Br,U as Rr,V as be,W as Dr}from"./index-Cl32qGqU.js";const Fr=["data-disabled","data-id"],Ir={key:0,class:"handle flex-none py-2 px-1 rounded-md hover:bg-zinc-200 cursor-move"},Gr={class:"w-0 flex-1 truncate"},Ur=ie({__name:"Section",props:{section:null,static:{type:Boolean,default:!1}},emits:["activate","deactivate","toggle","remove"],setup(e,{emit:r}){const t=$r(),n=r,s=e;function a(){t.push(s.section.id)}return(i,o)=>{const l=vr,u=br,v=pr,g=gr;return y(),w("div",{onMouseenter:o[2]||(o[2]=f=>n("activate")),onMouseleave:o[3]||(o[3]=f=>n("deactivate")),class:"section flex rounded border border-zinc-100 h-10 cursor-pointer hover:bg-zinc-100 data-[disabled=true]:text-zinc-500","data-disabled":e.section.disabled,"data-id":e.section.name},[e.static?C("",!0):(y(),w("button",Ir,[A(l,{class:"inline w-4"})])),_("div",{onClick:a,class:hr(["group py-2 pr-1 text-sm flex-1 flex items-center max-w-full",{"px-4":e.static,"px-2":!e.static}])},[_("div",Gr,x(s.section.name),1),e.static?C("",!0):(y(),w("button",{key:0,onClick:o[0]||(o[0]=_e(f=>n("remove"),["stop"])),class:"flex-none cursor-pointer invisible group-hover:visible py-[1px] px-[2px] rounded-md hover:bg-zinc-200"},[A(u,{class:"inline w-4"})])),_("button",{onClick:o[1]||(o[1]=_e(f=>n("toggle"),["stop"])),class:"flex-none cursor-pointer invisible group-hover:visible py-[1px] px-[2px] rounded-md hover:bg-zinc-200 ml-1"},[e.section.disabled?(y(),j(g,{key:1,class:"inline w-4"})):(y(),j(v,{key:0,class:"inline w-4"}))])],2)],40,Fr)}}}),kr={class:"pb-3"},Kr={class:"text-sm font-semibold p-3"},jr={ref:"sortable",class:"space-y-1 mx-3"},Hr={key:0,class:"text-sm px-3"},Nr={key:1,class:"space-y-2 mt-4 px-3"},qr=ie({__name:"SectionsGroup",props:{title:null,sections:null,order:{default:()=>[]},static:{type:Boolean,default:!1}},emits:["reorder","reordering","addSection","toggleSection","removeSection","activateSection","deactivateSection"],setup(e,{emit:r}){const t=e,n=r,s=mr("sortable");Ar(()=>{t.static||new _r(s.value,{animation:150,ghostClass:"sortable-ghost",onChange({oldIndex:i,newIndex:o}){const l=a({oldIndex:i,newIndex:o});n("reordering",{order:l,sectionId:t.order[i]})},onEnd({newIndex:i,oldIndex:o}){const l=a({oldIndex:o,newIndex:i});n("reorder",l)}})});function a({oldIndex:i,newIndex:o}){const l=[...t.order],u=l.splice(i,1)[0];return l.splice(o,0,u),l}return(i,o)=>{const l=Ur,u=yr;return y(),w("div",kr,[_("h2",Kr,x(e.title),1),_("div",jr,[e.sections.length>0?(y(!0),w(K,{key:0},V(e.sections,v=>(y(),j(l,{key:v.id,static:e.static,section:v,onToggle:g=>n("toggleSection",v.id),onRemove:g=>n("removeSection",v.id),onActivate:g=>n("activateSection",v.id),onDeactivate:g=>n("deactivateSection",v.id)},null,8,["static","section","onToggle","onRemove","onActivate","onDeactivate"]))),128)):C("",!0)],512),e.static&&e.sections.length===0?(y(),w("p",Hr,x(i.$t("No sections")),1)):C("",!0),t.static?C("",!0):(y(),w("div",Nr,[_("button",{class:"w-full text-sm text-blue-600 rounded-lg cursor-pointer outline-0 inline-flex items-center gap-2 px-2 py-1 hover:bg-gray-200 focus:ring focus:ring-gray-700",onClick:o[0]||(o[0]=v=>n("addSection",v))},[A(u,{class:"w-4 h-4 inline mr-1"}),ee(" "+x(i.$t("Add Section")),1)])]))])}}});function zr(e,r){for(var t=-1,n=r.length,s=e.length;++t<n;)e[s+t]=r[t];return e}var Ze=zr,Wr=oe,Jr=z,Qr="[object Arguments]";function Xr(e){return Jr(e)&&Wr(e)==Qr}var Yr=Xr,$e=Yr,Zr=z,Ve=Object.prototype,Vr=Ve.hasOwnProperty,et=Ve.propertyIsEnumerable,rt=$e(function(){return arguments}())?$e:function(e){return Zr(e)&&Vr.call(e,"callee")&&!et.call(e,"callee")},fe=rt,he=qe,tt=fe,nt=E,me=he?he.isConcatSpreadable:void 0;function at(e){return nt(e)||tt(e)||!!(me&&e&&e[me])}var st=at,it=Ze,ot=st;function er(e,r,t,n,s){var a=-1,i=e.length;for(t||(t=ot),s||(s=[]);++a<i;){var o=e[a];r>0&&t(o)?r>1?er(o,r-1,t,n,s):it(s,o):n||(s[s.length]=o)}return s}var lt=er,ut=le;function ct(){this.__data__=new ut,this.size=0}var ft=ct;function dt(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}var vt=dt;function pt(e){return this.__data__.get(e)}var gt=pt;function _t(e){return this.__data__.has(e)}var yt=_t,bt=le,$t=ze,ht=We,mt=200;function At(e,r){var t=this.__data__;if(t instanceof bt){var n=t.__data__;if(!$t||n.length<mt-1)return n.push([e,r]),this.size=++t.size,this;t=this.__data__=new ht(n)}return t.set(e,r),this.size=t.size,this}var wt=At,St=le,Tt=ft,xt=vt,Ot=gt,Pt=yt,Ct=wt;function D(e){var r=this.__data__=new St(e);this.size=r.size}D.prototype.clear=Tt;D.prototype.delete=xt;D.prototype.get=Ot;D.prototype.has=Pt;D.prototype.set=Ct;var rr=D,Et="__lodash_hash_undefined__";function Mt(e){return this.__data__.set(e,Et),this}var Lt=Mt;function Bt(e){return this.__data__.has(e)}var Rt=Bt,Dt=We,Ft=Lt,It=Rt;function H(e){var r=-1,t=e==null?0:e.length;for(this.__data__=new Dt;++r<t;)this.add(e[r])}H.prototype.add=H.prototype.push=Ft;H.prototype.has=It;var Gt=H;function Ut(e,r){for(var t=-1,n=e==null?0:e.length;++t<n;)if(r(e[t],t,e))return!0;return!1}var kt=Ut;function Kt(e,r){return e.has(r)}var jt=Kt,Ht=Gt,Nt=kt,qt=jt,zt=1,Wt=2;function Jt(e,r,t,n,s,a){var i=t&zt,o=e.length,l=r.length;if(o!=l&&!(i&&l>o))return!1;var u=a.get(e),v=a.get(r);if(u&&v)return u==r&&v==e;var g=-1,f=!0,S=t&Wt?new Ht:void 0;for(a.set(e,r),a.set(r,e);++g<o;){var $=e[g],m=r[g];if(n)var T=i?n(m,$,g,r,e,a):n($,m,g,e,r,a);if(T!==void 0){if(T)continue;f=!1;break}if(S){if(!Nt(r,function(c,d){if(!qt(S,d)&&($===c||s($,c,t,n,a)))return S.push(d)})){f=!1;break}}else if(!($===m||s($,m,t,n,a))){f=!1;break}}return a.delete(e),a.delete(r),f}var tr=Jt,Qt=R,Xt=Qt.Uint8Array,Yt=Xt;function Zt(e){var r=-1,t=Array(e.size);return e.forEach(function(n,s){t[++r]=[s,n]}),t}var Vt=Zt;function en(e){var r=-1,t=Array(e.size);return e.forEach(function(n){t[++r]=n}),t}var rn=en,Ae=qe,we=Yt,tn=Je,nn=tr,an=Vt,sn=rn,on=1,ln=2,un="[object Boolean]",cn="[object Date]",fn="[object Error]",dn="[object Map]",vn="[object Number]",pn="[object RegExp]",gn="[object Set]",_n="[object String]",yn="[object Symbol]",bn="[object ArrayBuffer]",$n="[object DataView]",Se=Ae?Ae.prototype:void 0,X=Se?Se.valueOf:void 0;function hn(e,r,t,n,s,a,i){switch(t){case $n:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case bn:return!(e.byteLength!=r.byteLength||!a(new we(e),new we(r)));case un:case cn:case vn:return tn(+e,+r);case fn:return e.name==r.name&&e.message==r.message;case pn:case _n:return e==r+"";case dn:var o=an;case gn:var l=n&on;if(o||(o=sn),e.size!=r.size&&!l)return!1;var u=i.get(e);if(u)return u==r;n|=ln,i.set(e,r);var v=nn(o(e),o(r),n,s,a,i);return i.delete(e),v;case yn:if(X)return X.call(e)==X.call(r)}return!1}var mn=hn,An=Ze,wn=E;function Sn(e,r,t){var n=r(e);return wn(e)?n:An(n,t(e))}var Tn=Sn;function xn(e,r){for(var t=-1,n=e==null?0:e.length,s=0,a=[];++t<n;){var i=e[t];r(i,t,e)&&(a[s++]=i)}return a}var On=xn;function Pn(){return[]}var Cn=Pn,En=On,Mn=Cn,Ln=Object.prototype,Bn=Ln.propertyIsEnumerable,Te=Object.getOwnPropertySymbols,Rn=Te?function(e){return e==null?[]:(e=Object(e),En(Te(e),function(r){return Bn.call(e,r)}))}:Mn,Dn=Rn;function Fn(e,r){for(var t=-1,n=Array(e);++t<e;)n[t]=r(t);return n}var In=Fn,N={exports:{}};function Gn(){return!1}var Un=Gn;N.exports;(function(e,r){var t=R,n=Un,s=r&&!r.nodeType&&r,a=s&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===s,o=i?t.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||n;e.exports=u})(N,N.exports);var nr=N.exports,kn=9007199254740991;function Kn(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=kn}var de=Kn,jn=oe,Hn=de,Nn=z,qn="[object Arguments]",zn="[object Array]",Wn="[object Boolean]",Jn="[object Date]",Qn="[object Error]",Xn="[object Function]",Yn="[object Map]",Zn="[object Number]",Vn="[object Object]",ea="[object RegExp]",ra="[object Set]",ta="[object String]",na="[object WeakMap]",aa="[object ArrayBuffer]",sa="[object DataView]",ia="[object Float32Array]",oa="[object Float64Array]",la="[object Int8Array]",ua="[object Int16Array]",ca="[object Int32Array]",fa="[object Uint8Array]",da="[object Uint8ClampedArray]",va="[object Uint16Array]",pa="[object Uint32Array]",p={};p[ia]=p[oa]=p[la]=p[ua]=p[ca]=p[fa]=p[da]=p[va]=p[pa]=!0;p[qn]=p[zn]=p[aa]=p[Wn]=p[sa]=p[Jn]=p[Qn]=p[Xn]=p[Yn]=p[Zn]=p[Vn]=p[ea]=p[ra]=p[ta]=p[na]=!1;function ga(e){return Nn(e)&&Hn(e.length)&&!!p[jn(e)]}var _a=ga;function ya(e){return function(r){return e(r)}}var ar=ya,q={exports:{}};q.exports;(function(e,r){var t=wr,n=r&&!r.nodeType&&r,s=n&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===n,i=a&&t.process,o=function(){try{var l=s&&s.require&&s.require("util").types;return l||i&&i.binding&&i.binding("util")}catch{}}();e.exports=o})(q,q.exports);var ba=q.exports,$a=_a,ha=ar,xe=ba,Oe=xe&&xe.isTypedArray,ma=Oe?ha(Oe):$a,sr=ma,Aa=In,wa=fe,Sa=E,Ta=nr,xa=ue,Oa=sr,Pa=Object.prototype,Ca=Pa.hasOwnProperty;function Ea(e,r){var t=Sa(e),n=!t&&wa(e),s=!t&&!n&&Ta(e),a=!t&&!n&&!s&&Oa(e),i=t||n||s||a,o=i?Aa(e.length,String):[],l=o.length;for(var u in e)(r||Ca.call(e,u))&&!(i&&(u=="length"||s&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||xa(u,l)))&&o.push(u);return o}var Ma=Ea,La=Object.prototype;function Ba(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||La;return e===t}var Ra=Ba;function Da(e,r){return function(t){return e(r(t))}}var Fa=Da,Ia=Fa,Ga=Ia(Object.keys,Object),Ua=Ga,ka=Ra,Ka=Ua,ja=Object.prototype,Ha=ja.hasOwnProperty;function Na(e){if(!ka(e))return Ka(e);var r=[];for(var t in Object(e))Ha.call(e,t)&&t!="constructor"&&r.push(t);return r}var qa=Na,za=Sr,Wa=de;function Ja(e){return e!=null&&Wa(e.length)&&!za(e)}var J=Ja,Qa=Ma,Xa=qa,Ya=J;function Za(e){return Ya(e)?Qa(e):Xa(e)}var ve=Za,Va=Tn,es=Dn,rs=ve;function ts(e){return Va(e,rs,es)}var ns=ts,Pe=ns,as=1,ss=Object.prototype,is=ss.hasOwnProperty;function os(e,r,t,n,s,a){var i=t&as,o=Pe(e),l=o.length,u=Pe(r),v=u.length;if(l!=v&&!i)return!1;for(var g=l;g--;){var f=o[g];if(!(i?f in r:is.call(r,f)))return!1}var S=a.get(e),$=a.get(r);if(S&&$)return S==r&&$==e;var m=!0;a.set(e,r),a.set(r,e);for(var T=i;++g<l;){f=o[g];var c=e[f],d=r[f];if(n)var h=i?n(d,c,f,r,e,a):n(c,d,f,e,r,a);if(!(h===void 0?c===d||s(c,d,t,n,a):h)){m=!1;break}T||(T=f=="constructor")}if(m&&!T){var M=e.constructor,L=r.constructor;M!=L&&"constructor"in e&&"constructor"in r&&!(typeof M=="function"&&M instanceof M&&typeof L=="function"&&L instanceof L)&&(m=!1)}return a.delete(e),a.delete(r),m}var ls=os,us=W,cs=R,fs=us(cs,"DataView"),ds=fs,vs=W,ps=R,gs=vs(ps,"Promise"),_s=gs,ys=W,bs=R,$s=ys(bs,"Set"),hs=$s,ms=W,As=R,ws=ms(As,"WeakMap"),Ss=ws,re=ds,te=ze,ne=_s,ae=hs,se=Ss,ir=oe,F=Tr,Ce="[object Map]",Ts="[object Object]",Ee="[object Promise]",Me="[object Set]",Le="[object WeakMap]",Be="[object DataView]",xs=F(re),Os=F(te),Ps=F(ne),Cs=F(ae),Es=F(se),P=ir;(re&&P(new re(new ArrayBuffer(1)))!=Be||te&&P(new te)!=Ce||ne&&P(ne.resolve())!=Ee||ae&&P(new ae)!=Me||se&&P(new se)!=Le)&&(P=function(e){var r=ir(e),t=r==Ts?e.constructor:void 0,n=t?F(t):"";if(n)switch(n){case xs:return Be;case Os:return Ce;case Ps:return Ee;case Cs:return Me;case Es:return Le}return r});var Ms=P,Y=rr,Ls=tr,Bs=mn,Rs=ls,Re=Ms,De=E,Fe=nr,Ds=sr,Fs=1,Ie="[object Arguments]",Ge="[object Array]",k="[object Object]",Is=Object.prototype,Ue=Is.hasOwnProperty;function Gs(e,r,t,n,s,a){var i=De(e),o=De(r),l=i?Ge:Re(e),u=o?Ge:Re(r);l=l==Ie?k:l,u=u==Ie?k:u;var v=l==k,g=u==k,f=l==u;if(f&&Fe(e)){if(!Fe(r))return!1;i=!0,v=!1}if(f&&!v)return a||(a=new Y),i||Ds(e)?Ls(e,r,t,n,s,a):Bs(e,r,l,t,n,s,a);if(!(t&Fs)){var S=v&&Ue.call(e,"__wrapped__"),$=g&&Ue.call(r,"__wrapped__");if(S||$){var m=S?e.value():e,T=$?r.value():r;return a||(a=new Y),s(m,T,t,n,a)}}return f?(a||(a=new Y),Rs(e,r,t,n,s,a)):!1}var Us=Gs,ks=Us,ke=z;function or(e,r,t,n,s){return e===r?!0:e==null||r==null||!ke(e)&&!ke(r)?e!==e&&r!==r:ks(e,r,t,n,or,s)}var lr=or,Ks=rr,js=lr,Hs=1,Ns=2;function qs(e,r,t,n){var s=t.length,a=s,i=!n;if(e==null)return!a;for(e=Object(e);s--;){var o=t[s];if(i&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++s<a;){o=t[s];var l=o[0],u=e[l],v=o[1];if(i&&o[2]){if(u===void 0&&!(l in e))return!1}else{var g=new Ks;if(n)var f=n(u,v,l,e,r,g);if(!(f===void 0?js(v,u,Hs|Ns,n,g):f))return!1}}return!0}var zs=qs,Ws=Qe;function Js(e){return e===e&&!Ws(e)}var ur=Js,Qs=ur,Xs=ve;function Ys(e){for(var r=Xs(e),t=r.length;t--;){var n=r[t],s=e[n];r[t]=[n,s,Qs(s)]}return r}var Zs=Ys;function Vs(e,r){return function(t){return t==null?!1:t[e]===r&&(r!==void 0||e in Object(t))}}var cr=Vs,ei=zs,ri=Zs,ti=cr;function ni(e){var r=ri(e);return r.length==1&&r[0][2]?ti(r[0][0],r[0][1]):function(t){return t===e||ei(t,e,r)}}var ai=ni;function si(e,r){return e!=null&&r in Object(e)}var ii=si,oi=xr,li=fe,ui=E,ci=ue,fi=de,di=ce;function vi(e,r,t){r=oi(r,e);for(var n=-1,s=r.length,a=!1;++n<s;){var i=di(r[n]);if(!(a=e!=null&&t(e,i)))break;e=e[i]}return a||++n!=s?a:(s=e==null?0:e.length,!!s&&fi(s)&&ci(i,s)&&(ui(e)||li(e)))}var pi=vi,gi=ii,_i=pi;function yi(e,r){return e!=null&&_i(e,r,gi)}var bi=yi,$i=lr,hi=Or,mi=bi,Ai=Xe,wi=ur,Si=cr,Ti=ce,xi=1,Oi=2;function Pi(e,r){return Ai(e)&&wi(r)?Si(Ti(e),r):function(t){var n=hi(t,e);return n===void 0&&n===r?mi(t,e):$i(r,n,xi|Oi)}}var Ci=Pi;function Ei(e){return e}var Q=Ei;function Mi(e){return function(r){return r==null?void 0:r[e]}}var Li=Mi,Bi=Ye;function Ri(e){return function(r){return Bi(r,e)}}var Di=Ri,Fi=Li,Ii=Di,Gi=Xe,Ui=ce;function ki(e){return Gi(e)?Fi(Ui(e)):Ii(e)}var Ki=ki,ji=ai,Hi=Ci,Ni=Q,qi=E,zi=Ki;function Wi(e){return typeof e=="function"?e:e==null?Ni:typeof e=="object"?qi(e)?Hi(e[0],e[1]):ji(e):zi(e)}var Ji=Wi;function Qi(e){return function(r,t,n){for(var s=-1,a=Object(r),i=n(r),o=i.length;o--;){var l=i[e?o:++s];if(t(a[l],l,a)===!1)break}return r}}var Xi=Qi,Yi=Xi,Zi=Yi(),Vi=Zi,eo=Vi,ro=ve;function to(e,r){return e&&eo(e,r,ro)}var no=to,ao=J;function so(e,r){return function(t,n){if(t==null)return t;if(!ao(t))return e(t,n);for(var s=t.length,a=r?s:-1,i=Object(t);(r?a--:++a<s)&&n(i[a],a,i)!==!1;);return t}}var io=so,oo=no,lo=io,uo=lo(oo),co=uo,fo=co,vo=J;function po(e,r){var t=-1,n=vo(e)?Array(e.length):[];return fo(e,function(s,a,i){n[++t]=r(s,a,i)}),n}var go=po;function _o(e,r){var t=e.length;for(e.sort(r);t--;)e[t]=e[t].value;return e}var yo=_o,Ke=Pr;function bo(e,r){if(e!==r){var t=e!==void 0,n=e===null,s=e===e,a=Ke(e),i=r!==void 0,o=r===null,l=r===r,u=Ke(r);if(!o&&!u&&!a&&e>r||a&&i&&l&&!o&&!u||n&&i&&l||!t&&l||!s)return 1;if(!n&&!a&&!u&&e<r||u&&t&&s&&!n&&!a||o&&t&&s||!i&&s||!l)return-1}return 0}var $o=bo,ho=$o;function mo(e,r,t){for(var n=-1,s=e.criteria,a=r.criteria,i=s.length,o=t.length;++n<i;){var l=ho(s[n],a[n]);if(l){if(n>=o)return l;var u=t[n];return l*(u=="desc"?-1:1)}}return e.index-r.index}var Ao=mo,Z=Cr,wo=Ye,So=Ji,To=go,xo=yo,Oo=ar,Po=Ao,Co=Q,Eo=E;function Mo(e,r,t){r.length?r=Z(r,function(a){return Eo(a)?function(i){return wo(i,a.length===1?a[0]:a)}:a}):r=[Co];var n=-1;r=Z(r,Oo(So));var s=To(e,function(a,i,o){var l=Z(r,function(u){return u(a)});return{criteria:l,index:++n,value:a}});return xo(s,function(a,i){return Po(a,i,t)})}var Lo=Mo;function Bo(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)}var Ro=Bo,Do=Ro,je=Math.max;function Fo(e,r,t){return r=je(r===void 0?e.length-1:r,0),function(){for(var n=arguments,s=-1,a=je(n.length-r,0),i=Array(a);++s<a;)i[s]=n[r+s];s=-1;for(var o=Array(r+1);++s<r;)o[s]=n[s];return o[r]=t(i),Do(e,this,o)}}var Io=Fo;function Go(e){return function(){return e}}var Uo=Go,ko=Uo,He=Er,Ko=Q,jo=He?function(e,r){return He(e,"toString",{configurable:!0,enumerable:!1,value:ko(r),writable:!0})}:Ko,Ho=jo,No=800,qo=16,zo=Date.now;function Wo(e){var r=0,t=0;return function(){var n=zo(),s=qo-(n-t);if(t=n,s>0){if(++r>=No)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}var Jo=Wo,Qo=Ho,Xo=Jo,Yo=Xo(Qo),Zo=Yo,Vo=Q,el=Io,rl=Zo;function tl(e,r){return rl(el(e,r,Vo),e+"")}var nl=tl,al=Je,sl=J,il=ue,ol=Qe;function ll(e,r,t){if(!ol(t))return!1;var n=typeof r;return(n=="number"?sl(t)&&il(r,t.length):n=="string"&&r in t)?al(t[r],e):!1}var ul=ll,cl=lt,fl=Lo,dl=nl,Ne=ul,vl=dl(function(e,r){if(e==null)return[];var t=r.length;return t>1&&Ne(e,r[0],r[1])?r=[]:t>2&&Ne(r[0],r[1],r[2])&&(r=[r[0]]),fl(e,cl(r,1),[])}),pl=vl;const gl=Mr(pl),_l={class:"w-full h-full flex flex-col"},yl={class:"flex none px-4 py-3 border-b font-medium"},bl={key:0,class:"flex items-center gap-2"},$l=["innerHTML"],hl={class:"flex-1 overflow-y-auto"},ml={class:"flex-none h-12 border-b border-gray-200 bg-gray-100 flex gap-3 px-4 items-center justify-between"},Al={class:"flex-1 flex flex-col overflow-hidden"},wl={class:"flex items-center gap-3 px-3 border-b py-2 focus-within:ring focus-within:ring-gray-700"},Sl=["placeholder"],Tl={class:"flex-1 p-6 overflow-y-auto"},xl={class:"sticky capitalize mb-2 font-medium"},Ol={class:"grid grid-cols-2 gap-6"},Pl=["onClick"],Cl={class:"aspect-[16/9] bg-gray-100"},El=["src","alt"],Ml={class:"text-center p-3"},Ll={class:"uppercase text-xs font-semibold"},Bl={class:"text-xs line-clamp-2"},Ul=ie({__name:"index",setup(e){const r=Lr(),t=ye(!1),n=ye(""),s=gl(window.ThemeEditor.availableSections(),["name"],["asc"]),a=U(()=>s.filter(c=>c.disabledOn.some(h=>u(h,r.themeData.template))?!1:c.enabledOn.some(h=>u(h,r.themeData.template)))),i=U(()=>{if(!n.value)return a.value;const c=new RegExp(n.value,"gi");return a.value.filter(d=>c.test(d.slug)||c.test(d.name)||c.test(d.description)||c.test(d.previewDescription))}),o=U(()=>{const c={};return i.value.forEach(d=>{let h="default";d.slug.includes("::")&&(h=d.slug.split("::")[0]),c[h]||(c[h]=[]),c[h].push(d)}),c}),l=U(()=>r.templates.find(c=>c.template===r.themeData.template));function u(c,d){return new RegExp("^"+c.replace(/\*/g,".*")+"$").test(d)}function v(){t.value=!t.value}function g(c){r.setContentSectionsOrder(c)}function f(c){r.toggleSection(c)}function S(c){r.removeSection(c)}function $(c){r.activateSection(c)}function m(c){r.deactivateSection(c)}function T(c){v(),r.addNewSection(c)}return(c,d)=>{var pe;const h=qr,M=fr,L=dr;return y(),w(K,null,[_("div",_l,[_("header",yl,[b(l)?(y(),w("h2",bl,[_("span",{innerHTML:b(l).icon,class:"h-4 w-4"},null,8,$l),ee(" "+x((pe=b(l))==null?void 0:pe.label),1)])):C("",!0)]),_("div",hl,[A(h,{static:"",title:c.$t("Layout Header Sections"),sections:b(r).beforeContentSections,onToggleSection:f,onActivateSection:$,onDeactivateSection:m},null,8,["title","sections"]),d[2]||(d[2]=_("hr",null,null,-1)),A(h,{title:c.$t("Template Sections"),order:b(r).contentSectionsOrder,sections:b(r).contentSections,onReorder:g,onReordering:b(r).reorderingContentSections,onAddSection:v,onToggleSection:f,onRemoveSection:S,onActivateSection:$,onDeactivateSection:m},null,8,["title","order","sections","onReordering"]),d[3]||(d[3]=_("hr",null,null,-1)),A(h,{static:"",title:c.$t("Layout Footer Sections"),sections:b(r).afterContentSections,onToggleSection:f,onActivateSection:$,onDeactivateSection:m},null,8,["title","sections"])])]),A(b(B).Root,{open:b(t),"onUpdate:open":d[1]||(d[1]=I=>be(t)?t.value=I:null),lazyMount:""},{default:G(()=>[(y(),j(Dr,{to:"body"},[A(b(B).Backdrop,{class:"fixed h-screen w-screen left-0 top-0 backdrop-blur-sm bg-gray-700/30"}),A(b(B).Positioner,{class:"flex fixed inset-0 items-center justify-center"},{default:G(()=>[A(b(B).Content,{class:"bg-white shadow rounded-md flex flex-col w-full max-w-2xl h-3/4 overflow-hidden"},{default:G(()=>[_("header",ml,[A(b(B).Title,null,{default:G(()=>[ee(x(c.$t("Add new section")),1)]),_:1}),A(b(B).CloseTrigger,{class:"cursor-pointer rounded-lg p-0.5 text-neutral-700 hover:bg-neutral-300"},{default:G(()=>[A(M,{class:"w-5 h-5"})]),_:1})]),_("section",Al,[_("div",wl,[A(L,{class:"w-4 h-4"}),Br(_("input",{"onUpdate:modelValue":d[0]||(d[0]=I=>be(n)?n.value=I:null),type:"text",name:"search",class:"appearance-none block w-full outline-none",placeholder:c.$t("Search a section")},null,8,Sl),[[Rr,b(n)]])]),_("div",Tl,[(y(!0),w(K,null,V(b(o),(I,ge)=>(y(),w("div",{key:ge,class:"mb-4"},[_("h4",xl,x(c.$t("From"))+" "+x(ge.replace("-"," ")),1),_("div",Ol,[(y(!0),w(K,null,V(I,O=>(y(),w("div",{key:O.slug,class:"rounded cursor-pointer shadow hover:shadow-lg",onClick:Rl=>T(O)},[_("div",Cl,[O.previewImageUrl?(y(),w("img",{key:0,src:O.previewImageUrl,alt:O.name,class:"h-full w-full object-cover object-center"},null,8,El)):C("",!0)]),_("div",Ml,[_("h3",Ll,x(O.name),1),_("p",Bl,x(O.previewDescription),1)])],8,Pl))),128))])]))),128))])])]),_:1})]),_:1})]))]),_:1},8,["open"])],64)}}});export{Ul as default};

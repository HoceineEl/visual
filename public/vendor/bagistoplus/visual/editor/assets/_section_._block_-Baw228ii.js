import{_ as $}from"./trash-BUJlVxJd.js";import{_ as A,A as i,a as F}from"./accordion-CGl7dXWD.js";import{d as L,u as E,Z as M,O,Q as f,h as Q,_ as Z,c as r,a as b,S as t,o as s,b as a,e as c,t as u,T as m,F as k,r as v,f as x,i as y,$ as j}from"./index-DcyBIITu.js";import{g as q}from"./utils-BZao-1VW.js";import"./x-mark-BTf71qNp.js";const z={key:0,class:"flex flex-col h-full overflow-hidden relative w-full"},H={class:"flex-none p-2 border-b"},J={class:"flex items-center"},K={class:"ml-2 truncate"},P={key:0,class:"mt-2 text-sm"},U={class:"flex-1 min-h-0 overflow-y-auto"},W={key:1,class:"p-2 text-sm"},X={class:"flex-none border-t"},ne=L({__name:"[section].[block]",setup(Y){const g=E(),e=M(),n=O(),_=f(()=>n.getSectionBlockData(e.params.section,e.params.block)),l=f(()=>_.value?n.getSectionBlockByType(e.params.section,_.value.type):null),B=f(()=>{var o;return q(((o=l.value)==null?void 0:o.settings)||[])});Q(()=>{n.selectBlock(e.params.section,e.params.block)}),Z(()=>{n.deselectBlock(e.params.section,e.params.block)});function S(){g.back()}function w(o){return n.getThemeDataValue(["sectionsData",e.params.section,"blocks",e.params.block,"settings",o])}function V(o,h){return n.updateThemeDataValue(["sectionsData",e.params.section,"blocks",e.params.block,"settings",o],h)}function D(){n.removeSectionBlock(e.params.section,e.params.block),g.back()}return(o,h)=>{const I=A,T=j,C=F,R=$;return t(l)?(s(),r("div",z,[a("header",H,[a("div",J,[a("button",{class:"p-1 px-2 rounded hover:bg-gray-200 focus:outline-none",onClick:S},[c(I,{class:"inline w-4"})]),a("span",K,u(t(_).settings.title||t(_).settings.heading||t(l).name),1)]),t(l).description?(s(),r("p",P,u(t(l).description),1)):b("",!0)]),a("section",U,[c(t(i).Root,{multiple:"",defaultValue:["blocks","Settings"]},{default:m(()=>[(s(!0),r(k,null,v(t(B),p=>(s(),x(t(i).Item,{value:p.name,key:p.name},{default:m(()=>[c(t(i).ItemTrigger,null,{default:m(()=>[y(u(p.name)+" ",1),c(t(i).ItemIndicator,null,{default:m(()=>[c(T)]),_:1})]),_:2},1024),c(t(i).ItemContent,null,{default:m(()=>[(s(!0),r(k,null,v(p.settings,d=>(s(),x(C,{key:d.id,value:w(d.id),setting:d,onInput:N=>V(d.id,N)},null,8,["value","setting","onInput"]))),128))]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1}),t(l).settings.length>0?(s(),r(k,{key:0},[],64)):(s(),r("p",W,u(o.$t("This block has no configuration")),1))]),a("footer",X,[a("button",{class:"flex items-center w-full text-left py-2 px-4 text-red-500 hover:bg-gray-100",onClick:D},[c(R,{class:"inline mr-2 w-4"}),y(" "+u(o.$t("Remove block")),1)])])])):b("",!0)}}});export{ne as default};

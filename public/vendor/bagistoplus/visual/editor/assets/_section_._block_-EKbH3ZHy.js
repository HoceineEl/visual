import{_ as $}from"./trash-pEVngqgf.js";import{A as i,_ as A,a as F}from"./accordion-TFtkRyIt.js";import{d as E,N as L,P as f,h as M,Q as e,c as r,a as s,b as a,t as u,e as b,R as _,F as g,i as v,u as P,X as Q,o as n,r as x,f as y,Z as X}from"./index-CSYeDq2l.js";import{g as Z}from"./utils-BZao-1VW.js";import"./x-mark-DaKyCesj.js";const j={key:0,class:"flex flex-col h-full overflow-hidden relative w-full"},q={class:"flex-none p-2 border-b"},z={class:"flex items-center"},H={class:"ml-2 truncate"},J={key:0,class:"mt-2 text-sm"},K={class:"flex-1 overflow-y-auto"},O={key:1,class:"p-2 text-sm"},U={class:"flex-none border-t"},ne=E({__name:"[section].[block]",setup(W){const k=P(),t=Q(),c=L(),m=f(()=>c.getSectionBlockData(t.params.section,t.params.block)),l=f(()=>m.value?c.getSectionBlockByType(t.params.section,m.value.type):null),S=f(()=>{var o;return Z(((o=l.value)==null?void 0:o.settings)||[])});M(()=>{c.selectSection(t.params.section)});function B(){k.back()}function w(o){return c.getThemeDataValue(["sectionsData",t.params.section,"blocks",t.params.block,"settings",o])}function V(o,h){return c.updateThemeDataValue(["sectionsData",t.params.section,"blocks",t.params.block,"settings",o],h)}function D(){c.removeSectionBlock(t.params.section,t.params.block),k.back()}return(o,h)=>{const I=A,C=X,R=F,T=$;return e(l)?(n(),r("div",j,[s("header",q,[s("div",z,[s("button",{class:"p-1 px-2 rounded hover:bg-gray-200 focus:outline-none",onClick:B},[a(I,{class:"inline w-4"})]),s("span",H,u(e(m).settings.title||e(m).settings.heading||e(l).name),1)]),e(l).description?(n(),r("p",J,u(e(l).description),1)):b("",!0)]),s("section",K,[a(e(i).Root,{multiple:"",defaultValue:["blocks","Settings"]},{default:_(()=>[(n(!0),r(g,null,x(e(S),p=>(n(),y(e(i).Item,{value:p.name,key:p.name},{default:_(()=>[a(e(i).ItemTrigger,null,{default:_(()=>[v(u(p.name)+" ",1),a(e(i).ItemIndicator,null,{default:_(()=>[a(C)]),_:1})]),_:2},1024),a(e(i).ItemContent,null,{default:_(()=>[(n(!0),r(g,null,x(p.settings,d=>(n(),y(R,{key:d.id,value:w(d.id),setting:d,onInput:N=>V(d.id,N)},null,8,["value","setting","onInput"]))),128))]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1}),e(l).settings.length>0?(n(),r(g,{key:0},[],64)):(n(),r("p",O,u(o.$t("This block has no configuration")),1))]),s("footer",U,[s("button",{class:"flex items-center w-full text-left py-2 px-4 text-red-500 hover:bg-gray-100",onClick:D},[a(T,{class:"inline mr-2 w-4"}),v(" "+u(o.$t("Remove block")),1)])])])):b("",!0)}}});export{ne as default};

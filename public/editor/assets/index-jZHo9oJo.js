import{r as Nn,_ as Fn}from"./TextInput.vue_vue_type_script_setup_true_lang-C0nkeeYV.js";import{o as L,c as ye,a as M,d as K,u as An,b as oe,t as on,w as $t,e as kn,f as xn,F as Rn,r as Bn,g as Mn,h as Bt,i as ae,j as Ln,k as $n,l as jn,m as Gn,n as Wn,p as Xn,q as Yn,s as Kn,v as Hn,x as jt,y as zn,z as Un,A as Vn,B as wt,C as Gt,D as qn,E as Zn,G as Qn,H as Jn,I as Oe,J as er,K as tr,L as nr,M as rr,N as te,O as Z,P as Q,Q as ce,R as O,S as de,T as or,U as ir,V as ar,W as sr,X as lr,Y as ur,Z as cr,_ as an,$ as dr,a0 as fr,a1 as pr,a2 as hr}from"./index-Dk3igTKn.js";function vr(n,e){return L(),ye("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[M("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7.5 7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5"})])}function gr(n,e){return L(),ye("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[M("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),M("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}function mr(n,e){return L(),ye("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[M("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}const br={class:"flex rounded hover:bg-zinc-100 cursor-pointer active:ring-inset active:ring-2"},yr={class:"handle flex-none py-2 px-1 rounded-md hover:bg-zinc-200 cursor-move"},Er={class:"w-0 flex-1 truncate"},wr=K({__name:"Section",props:{section:null},emits:["activate","deactivate","toggle","remove"],setup(n,{emit:e}){const t=An(),r=e,o=n;function a(){t.push(o.section.id)}return(i,l)=>{const s=vr,u=Nn,h=gr;return L(),ye("div",{class:"",onMouseenter:l[2]||(l[2]=f=>r("activate")),onMouseleave:l[3]||(l[3]=f=>r("deactivate"))},[M("div",br,[M("button",yr,[oe(s,{class:"inline w-3"})]),M("div",{onClick:a,class:"group mx-2 py-2 pr-1 text-sm flex-1 flex items-center max-w-full"},[M("div",Er,on(o.section.name),1),M("button",{onClick:l[0]||(l[0]=$t(f=>r("remove"),["stop"])),class:"flex-none invisible group-hover:visible py-[1px] px-[2px] rounded-md hover:bg-zinc-200"},[oe(u,{class:"inline w-4"})]),M("button",{onClick:l[1]||(l[1]=$t(f=>r("toggle"),["stop"])),class:"flex-none invisible group-hover:visible py-[1px] px-[2px] rounded-md hover:bg-zinc-200 ml-1"},[oe(h,{class:"inline w-4"})])])])],32)}}});/**!
 * Sortable 1.15.3
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Wt(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function ue(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Wt(Object(t),!0).forEach(function(r){Sr(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Wt(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ot(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ot=function(e){return typeof e}:ot=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ot(n)}function Sr(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function we(){return we=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},we.apply(this,arguments)}function _r(n,e){if(n==null)return{};var t={},r=Object.keys(n),o,a;for(a=0;a<r.length;a++)o=r[a],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function Tr(n,e){if(n==null)return{};var t=_r(n,e),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(o=0;o<a.length;o++)r=a[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}var Cr="1.15.3";function ve(n){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(n)}var Se=ve(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),mt=ve(/Edge/i),Xt=ve(/firefox/i),it=ve(/safari/i)&&!ve(/chrome/i)&&!ve(/android/i),sn=ve(/iP(ad|od|hone)/i),ln=ve(/chrome/i)&&ve(/android/i),un={capture:!1,passive:!1};function I(n,e,t){n.addEventListener(e,t,!Se&&un)}function D(n,e,t){n.removeEventListener(e,t,!Se&&un)}function ut(n,e){if(e){if(e[0]===">"&&(e=e.substring(1)),n)try{if(n.matches)return n.matches(e);if(n.msMatchesSelector)return n.msMatchesSelector(e);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(e)}catch{return!1}return!1}}function cn(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function ie(n,e,t,r){if(n){t=t||document;do{if(e!=null&&(e[0]===">"?n.parentNode===t&&ut(n,e):ut(n,e))||r&&n===t)return n;if(n===t)break}while(n=cn(n))}return null}var Yt=/\s+/g;function U(n,e,t){if(n&&e)if(n.classList)n.classList[t?"add":"remove"](e);else{var r=(" "+n.className+" ").replace(Yt," ").replace(" "+e+" "," ");n.className=(r+(t?" "+e:"")).replace(Yt," ")}}function m(n,e,t){var r=n&&n.style;if(r){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(t=n.currentStyle),e===void 0?t:t[e];!(e in r)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),r[e]=t+(typeof t=="string"?"":"px")}}function Le(n,e){var t="";if(typeof n=="string")t=n;else do{var r=m(n,"transform");r&&r!=="none"&&(t=r+" "+t)}while(!e&&(n=n.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(t)}function dn(n,e,t){if(n){var r=n.getElementsByTagName(e),o=0,a=r.length;if(t)for(;o<a;o++)t(r[o],o);return r}return[]}function Ee(){var n=document.scrollingElement;return n||document.documentElement}function B(n,e,t,r,o){if(!(!n.getBoundingClientRect&&n!==window)){var a,i,l,s,u,h,f;if(n!==window&&n.parentNode&&n!==Ee()?(a=n.getBoundingClientRect(),i=a.top,l=a.left,s=a.bottom,u=a.right,h=a.height,f=a.width):(i=0,l=0,s=window.innerHeight,u=window.innerWidth,h=window.innerHeight,f=window.innerWidth),(e||t)&&n!==window&&(o=o||n.parentNode,!Se))do if(o&&o.getBoundingClientRect&&(m(o,"transform")!=="none"||t&&m(o,"position")!=="static")){var v=o.getBoundingClientRect();i-=v.top+parseInt(m(o,"border-top-width")),l-=v.left+parseInt(m(o,"border-left-width")),s=i+a.height,u=l+a.width;break}while(o=o.parentNode);if(r&&n!==window){var _=Le(o||n),b=_&&_.a,S=_&&_.d;_&&(i/=S,l/=b,f/=b,h/=S,s=i+h,u=l+f)}return{top:i,left:l,bottom:s,right:u,width:f,height:h}}}function Kt(n,e,t){for(var r=zt(n,!0),o=B(n)[e];r;){var a=B(r)[t],i=void 0;if(i=o>=a,!i)return r;if(r===Ee())break;r=zt(r,!1)}return!1}function $e(n,e,t,r){for(var o=0,a=0,i=n.children;a<i.length;){if(i[a].style.display!=="none"&&i[a]!==w.ghost&&(r||i[a]!==w.dragged)&&ie(i[a],t.draggable,n,!1)){if(o===e)return i[a];o++}a++}return null}function Mt(n,e){for(var t=n.lastElementChild;t&&(t===w.ghost||m(t,"display")==="none"||e&&!ut(t,e));)t=t.previousElementSibling;return t||null}function ee(n,e){var t=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==w.clone&&(!e||ut(n,e))&&t++;return t}function Ht(n){var e=0,t=0,r=Ee();if(n)do{var o=Le(n),a=o.a,i=o.d;e+=n.scrollLeft*a,t+=n.scrollTop*i}while(n!==r&&(n=n.parentNode));return[e,t]}function Dr(n,e){for(var t in n)if(n.hasOwnProperty(t)){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===n[t][r])return Number(t)}return-1}function zt(n,e){if(!n||!n.getBoundingClientRect)return Ee();var t=n,r=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var o=m(t);if(t.clientWidth<t.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return Ee();if(r||e)return t;r=!0}}while(t=t.parentNode);return Ee()}function Or(n,e){if(n&&e)for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function St(n,e){return Math.round(n.top)===Math.round(e.top)&&Math.round(n.left)===Math.round(e.left)&&Math.round(n.height)===Math.round(e.height)&&Math.round(n.width)===Math.round(e.width)}var _t;function Pr(n,e){return function(){if(!_t){var t=arguments,r=this;t.length===1?n.call(r,t[0]):n.apply(r,t),_t=setTimeout(function(){_t=void 0},e)}}}function Ir(n,e,t){n.scrollLeft+=e,n.scrollTop+=t}function fn(n){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(n).cloneNode(!0):t?t(n).clone(!0)[0]:n.cloneNode(!0)}function pn(n,e,t){var r={};return Array.from(n.children).forEach(function(o){var a,i,l,s;if(!(!ie(o,e.draggable,n,!1)||o.animated||o===t)){var u=B(o);r.left=Math.min((a=r.left)!==null&&a!==void 0?a:1/0,u.left),r.top=Math.min((i=r.top)!==null&&i!==void 0?i:1/0,u.top),r.right=Math.max((l=r.right)!==null&&l!==void 0?l:-1/0,u.right),r.bottom=Math.max((s=r.bottom)!==null&&s!==void 0?s:-1/0,u.bottom)}}),r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}var q="Sortable"+new Date().getTime();function Nr(){var n=[],e;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(o){if(!(m(o,"display")==="none"||o===w.ghost)){n.push({target:o,rect:B(o)});var a=ue({},n[n.length-1].rect);if(o.thisAnimationDuration){var i=Le(o,!0);i&&(a.top-=i.f,a.left-=i.e)}o.fromRect=a}})}},addAnimationState:function(r){n.push(r)},removeAnimationState:function(r){n.splice(Dr(n,{target:r}),1)},animateAll:function(r){var o=this;if(!this.options.animation){clearTimeout(e),typeof r=="function"&&r();return}var a=!1,i=0;n.forEach(function(l){var s=0,u=l.target,h=u.fromRect,f=B(u),v=u.prevFromRect,_=u.prevToRect,b=l.rect,S=Le(u,!0);S&&(f.top-=S.f,f.left-=S.e),u.toRect=f,u.thisAnimationDuration&&St(v,f)&&!St(h,f)&&(b.top-f.top)/(b.left-f.left)===(h.top-f.top)/(h.left-f.left)&&(s=Ar(b,v,_,o.options)),St(f,h)||(u.prevFromRect=h,u.prevToRect=f,s||(s=o.options.animation),o.animate(u,b,f,s)),s&&(a=!0,i=Math.max(i,s),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},s),u.thisAnimationDuration=s)}),clearTimeout(e),a?e=setTimeout(function(){typeof r=="function"&&r()},i):typeof r=="function"&&r(),n=[]},animate:function(r,o,a,i){if(i){m(r,"transition",""),m(r,"transform","");var l=Le(this.el),s=l&&l.a,u=l&&l.d,h=(o.left-a.left)/(s||1),f=(o.top-a.top)/(u||1);r.animatingX=!!h,r.animatingY=!!f,m(r,"transform","translate3d("+h+"px,"+f+"px,0)"),this.forRepaintDummy=Fr(r),m(r,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),m(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){m(r,"transition",""),m(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},i)}}}}function Fr(n){return n.offsetWidth}function Ar(n,e,t,r){return Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*r.animation}var Ae=[],Tt={initializeByDefault:!0},Ue={mount:function(e){for(var t in Tt)Tt.hasOwnProperty(t)&&!(t in e)&&(e[t]=Tt[t]);Ae.forEach(function(r){if(r.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Ae.push(e)},pluginEvent:function(e,t,r){var o=this;this.eventCanceled=!1,r.cancel=function(){o.eventCanceled=!0};var a=e+"Global";Ae.forEach(function(i){t[i.pluginName]&&(t[i.pluginName][a]&&t[i.pluginName][a](ue({sortable:t},r)),t.options[i.pluginName]&&t[i.pluginName][e]&&t[i.pluginName][e](ue({sortable:t},r)))})},initializePlugins:function(e,t,r,o){Ae.forEach(function(l){var s=l.pluginName;if(!(!e.options[s]&&!l.initializeByDefault)){var u=new l(e,t,e.options);u.sortable=e,u.options=e.options,e[s]=u,we(r,u.defaults)}});for(var a in e.options)if(e.options.hasOwnProperty(a)){var i=this.modifyOption(e,a,e.options[a]);typeof i<"u"&&(e.options[a]=i)}},getEventProperties:function(e,t){var r={};return Ae.forEach(function(o){typeof o.eventProperties=="function"&&we(r,o.eventProperties.call(t[o.pluginName],e))}),r},modifyOption:function(e,t,r){var o;return Ae.forEach(function(a){e[a.pluginName]&&a.optionListeners&&typeof a.optionListeners[t]=="function"&&(o=a.optionListeners[t].call(e[a.pluginName],r))}),o}};function kr(n){var e=n.sortable,t=n.rootEl,r=n.name,o=n.targetEl,a=n.cloneEl,i=n.toEl,l=n.fromEl,s=n.oldIndex,u=n.newIndex,h=n.oldDraggableIndex,f=n.newDraggableIndex,v=n.originalEvent,_=n.putSortable,b=n.extraEventProperties;if(e=e||t&&t[q],!!e){var S,j=e.options,$="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!Se&&!mt?S=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(S=document.createEvent("Event"),S.initEvent(r,!0,!0)),S.to=i||t,S.from=l||t,S.item=o||t,S.clone=a,S.oldIndex=s,S.newIndex=u,S.oldDraggableIndex=h,S.newDraggableIndex=f,S.originalEvent=v,S.pullMode=_?_.lastPutMode:void 0;var W=ue(ue({},b),Ue.getEventProperties(r,e));for(var fe in W)S[fe]=W[fe];t&&t.dispatchEvent(S),j[$]&&j[$].call(e,S)}}var xr=["evt"],z=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=r.evt,a=Tr(r,xr);Ue.pluginEvent.bind(w)(e,t,ue({dragEl:p,parentEl:k,ghostEl:E,rootEl:F,nextEl:Ce,lastDownEl:at,cloneEl:A,cloneHidden:be,dragStarted:Xe,putSortable:G,activeSortable:w.active,originalEvent:o,oldIndex:Me,oldDraggableIndex:Ye,newIndex:V,newDraggableIndex:me,hideGhostForTarget:mn,unhideGhostForTarget:bn,cloneNowHidden:function(){be=!0},cloneNowShown:function(){be=!1},dispatchSortableEvent:function(l){H({sortable:t,name:l,originalEvent:o})}},a))};function H(n){kr(ue({putSortable:G,cloneEl:A,targetEl:p,rootEl:F,oldIndex:Me,oldDraggableIndex:Ye,newIndex:V,newDraggableIndex:me},n))}var p,k,E,F,Ce,at,A,be,Me,V,Ye,me,Ze,G,Be=!1,ct=!1,dt=[],_e,re,Ct,Dt,Ut,Vt,Xe,ke,Ke,He=!1,Qe=!1,st,Y,Ot=[],kt=!1,ft=[],bt=typeof document<"u",Je=sn,qt=mt||Se?"cssFloat":"float",Rr=bt&&!ln&&!sn&&"draggable"in document.createElement("div"),hn=function(){if(bt){if(Se)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}}(),vn=function(e,t){var r=m(e),o=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),a=$e(e,0,t),i=$e(e,1,t),l=a&&m(a),s=i&&m(i),u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+B(a).width,h=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+B(i).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&l.float&&l.float!=="none"){var f=l.float==="left"?"left":"right";return i&&(s.clear==="both"||s.clear===f)?"vertical":"horizontal"}return a&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||u>=o&&r[qt]==="none"||i&&r[qt]==="none"&&u+h>o)?"vertical":"horizontal"},Br=function(e,t,r){var o=r?e.left:e.top,a=r?e.right:e.bottom,i=r?e.width:e.height,l=r?t.left:t.top,s=r?t.right:t.bottom,u=r?t.width:t.height;return o===l||a===s||o+i/2===l+u/2},Mr=function(e,t){var r;return dt.some(function(o){var a=o[q].options.emptyInsertThreshold;if(!(!a||Mt(o))){var i=B(o),l=e>=i.left-a&&e<=i.right+a,s=t>=i.top-a&&t<=i.bottom+a;if(l&&s)return r=o}}),r},gn=function(e){function t(a,i){return function(l,s,u,h){var f=l.options.group.name&&s.options.group.name&&l.options.group.name===s.options.group.name;if(a==null&&(i||f))return!0;if(a==null||a===!1)return!1;if(i&&a==="clone")return a;if(typeof a=="function")return t(a(l,s,u,h),i)(l,s,u,h);var v=(i?l:s).options.group.name;return a===!0||typeof a=="string"&&a===v||a.join&&a.indexOf(v)>-1}}var r={},o=e.group;(!o||ot(o)!="object")&&(o={name:o}),r.name=o.name,r.checkPull=t(o.pull,!0),r.checkPut=t(o.put),r.revertClone=o.revertClone,e.group=r},mn=function(){!hn&&E&&m(E,"display","none")},bn=function(){!hn&&E&&m(E,"display","")};bt&&!ln&&document.addEventListener("click",function(n){if(ct)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),ct=!1,!1},!0);var Te=function(e){if(p){e=e.touches?e.touches[0]:e;var t=Mr(e.clientX,e.clientY);if(t){var r={};for(var o in e)e.hasOwnProperty(o)&&(r[o]=e[o]);r.target=r.rootEl=t,r.preventDefault=void 0,r.stopPropagation=void 0,t[q]._onDragOver(r)}}},Lr=function(e){p&&p.parentNode[q]._isOutsideThisEl(e.target)};function w(n,e){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=e=we({},e),n[q]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return vn(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(i,l){i.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:w.supportPointer!==!1&&"PointerEvent"in window&&!it,emptyInsertThreshold:5};Ue.initializePlugins(this,n,t);for(var r in t)!(r in e)&&(e[r]=t[r]);gn(e);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=e.forceFallback?!1:Rr,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?I(n,"pointerdown",this._onTapStart):(I(n,"mousedown",this._onTapStart),I(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(I(n,"dragover",this),I(n,"dragenter",this)),dt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),we(this,Nr())}w.prototype={constructor:w,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(ke=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,p):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,r=this.el,o=this.options,a=o.preventOnFilter,i=e.type,l=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,s=(l||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,h=o.filter;if(Hr(r),!p&&!(/mousedown|pointerdown/.test(i)&&e.button!==0||o.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&it&&s&&s.tagName.toUpperCase()==="SELECT")&&(s=ie(s,o.draggable,r,!1),!(s&&s.animated)&&at!==s)){if(Me=ee(s),Ye=ee(s,o.draggable),typeof h=="function"){if(h.call(this,e,s,this)){H({sortable:t,rootEl:u,name:"filter",targetEl:s,toEl:r,fromEl:r}),z("filter",t,{evt:e}),a&&e.cancelable&&e.preventDefault();return}}else if(h&&(h=h.split(",").some(function(f){if(f=ie(u,f.trim(),r,!1),f)return H({sortable:t,rootEl:f,name:"filter",targetEl:s,fromEl:r,toEl:r}),z("filter",t,{evt:e}),!0}),h)){a&&e.cancelable&&e.preventDefault();return}o.handle&&!ie(u,o.handle,r,!1)||this._prepareDragStart(e,l,s)}}},_prepareDragStart:function(e,t,r){var o=this,a=o.el,i=o.options,l=a.ownerDocument,s;if(r&&!p&&r.parentNode===a){var u=B(r);if(F=a,p=r,k=p.parentNode,Ce=p.nextSibling,at=r,Ze=i.group,w.dragged=p,_e={target:p,clientX:(t||e).clientX,clientY:(t||e).clientY},Ut=_e.clientX-u.left,Vt=_e.clientY-u.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,p.style["will-change"]="all",s=function(){if(z("delayEnded",o,{evt:e}),w.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!Xt&&o.nativeDraggable&&(p.draggable=!0),o._triggerDragStart(e,t),H({sortable:o,name:"choose",originalEvent:e}),U(p,i.chosenClass,!0)},i.ignore.split(",").forEach(function(h){dn(p,h.trim(),Pt)}),I(l,"dragover",Te),I(l,"mousemove",Te),I(l,"touchmove",Te),I(l,"mouseup",o._onDrop),I(l,"touchend",o._onDrop),I(l,"touchcancel",o._onDrop),Xt&&this.nativeDraggable&&(this.options.touchStartThreshold=4,p.draggable=!0),z("delayStart",this,{evt:e}),i.delay&&(!i.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(mt||Se))){if(w.eventCanceled){this._onDrop();return}I(l,"mouseup",o._disableDelayedDrag),I(l,"touchend",o._disableDelayedDrag),I(l,"touchcancel",o._disableDelayedDrag),I(l,"mousemove",o._delayedDragTouchMoveHandler),I(l,"touchmove",o._delayedDragTouchMoveHandler),i.supportPointer&&I(l,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(s,i.delay)}else s()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){p&&Pt(p),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;D(e,"mouseup",this._disableDelayedDrag),D(e,"touchend",this._disableDelayedDrag),D(e,"touchcancel",this._disableDelayedDrag),D(e,"mousemove",this._delayedDragTouchMoveHandler),D(e,"touchmove",this._delayedDragTouchMoveHandler),D(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?I(document,"pointermove",this._onTouchMove):t?I(document,"touchmove",this._onTouchMove):I(document,"mousemove",this._onTouchMove):(I(p,"dragend",this),I(F,"dragstart",this._onDragStart));try{document.selection?lt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(Be=!1,F&&p){z("dragStarted",this,{evt:t}),this.nativeDraggable&&I(document,"dragover",Lr);var r=this.options;!e&&U(p,r.dragClass,!1),U(p,r.ghostClass,!0),w.active=this,e&&this._appendGhost(),H({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(re){this._lastX=re.clientX,this._lastY=re.clientY,mn();for(var e=document.elementFromPoint(re.clientX,re.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(re.clientX,re.clientY),e!==t);)t=e;if(p.parentNode[q]._isOutsideThisEl(e),t)do{if(t[q]){var r=void 0;if(r=t[q]._onDragOver({clientX:re.clientX,clientY:re.clientY,target:e,rootEl:t}),r&&!this.options.dragoverBubble)break}e=t}while(t=cn(t));bn()}},_onTouchMove:function(e){if(_e){var t=this.options,r=t.fallbackTolerance,o=t.fallbackOffset,a=e.touches?e.touches[0]:e,i=E&&Le(E,!0),l=E&&i&&i.a,s=E&&i&&i.d,u=Je&&Y&&Ht(Y),h=(a.clientX-_e.clientX+o.x)/(l||1)+(u?u[0]-Ot[0]:0)/(l||1),f=(a.clientY-_e.clientY+o.y)/(s||1)+(u?u[1]-Ot[1]:0)/(s||1);if(!w.active&&!Be){if(r&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(E){i?(i.e+=h-(Ct||0),i.f+=f-(Dt||0)):i={a:1,b:0,c:0,d:1,e:h,f};var v="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");m(E,"webkitTransform",v),m(E,"mozTransform",v),m(E,"msTransform",v),m(E,"transform",v),Ct=h,Dt=f,re=a}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!E){var e=this.options.fallbackOnBody?document.body:F,t=B(p,!0,Je,!0,e),r=this.options;if(Je){for(Y=e;m(Y,"position")==="static"&&m(Y,"transform")==="none"&&Y!==document;)Y=Y.parentNode;Y!==document.body&&Y!==document.documentElement?(Y===document&&(Y=Ee()),t.top+=Y.scrollTop,t.left+=Y.scrollLeft):Y=Ee(),Ot=Ht(Y)}E=p.cloneNode(!0),U(E,r.ghostClass,!1),U(E,r.fallbackClass,!0),U(E,r.dragClass,!0),m(E,"transition",""),m(E,"transform",""),m(E,"box-sizing","border-box"),m(E,"margin",0),m(E,"top",t.top),m(E,"left",t.left),m(E,"width",t.width),m(E,"height",t.height),m(E,"opacity","0.8"),m(E,"position",Je?"absolute":"fixed"),m(E,"zIndex","100000"),m(E,"pointerEvents","none"),w.ghost=E,e.appendChild(E),m(E,"transform-origin",Ut/parseInt(E.style.width)*100+"% "+Vt/parseInt(E.style.height)*100+"%")}},_onDragStart:function(e,t){var r=this,o=e.dataTransfer,a=r.options;if(z("dragStart",this,{evt:e}),w.eventCanceled){this._onDrop();return}z("setupClone",this),w.eventCanceled||(A=fn(p),A.removeAttribute("id"),A.draggable=!1,A.style["will-change"]="",this._hideClone(),U(A,this.options.chosenClass,!1),w.clone=A),r.cloneId=lt(function(){z("clone",r),!w.eventCanceled&&(r.options.removeCloneOnHide||F.insertBefore(A,p),r._hideClone(),H({sortable:r,name:"clone"}))}),!t&&U(p,a.dragClass,!0),t?(ct=!0,r._loopId=setInterval(r._emulateDragOver,50)):(D(document,"mouseup",r._onDrop),D(document,"touchend",r._onDrop),D(document,"touchcancel",r._onDrop),o&&(o.effectAllowed="move",a.setData&&a.setData.call(r,o,p)),I(document,"drop",r),m(p,"transform","translateZ(0)")),Be=!0,r._dragStartId=lt(r._dragStarted.bind(r,t,e)),I(document,"selectstart",r),Xe=!0,it&&m(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,r=e.target,o,a,i,l=this.options,s=l.group,u=w.active,h=Ze===s,f=l.sort,v=G||u,_,b=this,S=!1;if(kt)return;function j(P,x){z(P,b,ue({evt:e,isOwner:h,axis:_?"vertical":"horizontal",revert:i,dragRect:o,targetRect:a,canSort:f,fromSortable:v,target:r,completed:W,onMove:function(R,he){return et(F,t,p,o,R,B(R),e,he)},changed:fe},x))}function $(){j("dragOverAnimationCapture"),b.captureAnimationState(),b!==v&&v.captureAnimationState()}function W(P){return j("dragOverCompleted",{insertion:P}),P&&(h?u._hideClone():u._showClone(b),b!==v&&(U(p,G?G.options.ghostClass:u.options.ghostClass,!1),U(p,l.ghostClass,!0)),G!==b&&b!==w.active?G=b:b===w.active&&G&&(G=null),v===b&&(b._ignoreWhileAnimating=r),b.animateAll(function(){j("dragOverAnimationComplete"),b._ignoreWhileAnimating=null}),b!==v&&(v.animateAll(),v._ignoreWhileAnimating=null)),(r===p&&!p.animated||r===t&&!r.animated)&&(ke=null),!l.dragoverBubble&&!e.rootEl&&r!==document&&(p.parentNode[q]._isOutsideThisEl(e.target),!P&&Te(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),S=!0}function fe(){V=ee(p),me=ee(p,l.draggable),H({sortable:b,name:"change",toEl:t,newIndex:V,newDraggableIndex:me,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),r=ie(r,l.draggable,t,!0),j("dragOver"),w.eventCanceled)return S;if(p.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||b._ignoreWhileAnimating===r)return W(!1);if(ct=!1,u&&!l.disabled&&(h?f||(i=k!==F):G===this||(this.lastPutMode=Ze.checkPull(this,u,p,e))&&s.checkPut(this,u,p,e))){if(_=this._getDirection(e,r)==="vertical",o=B(p),j("dragOverValid"),w.eventCanceled)return S;if(i)return k=F,$(),this._hideClone(),j("revert"),w.eventCanceled||(Ce?F.insertBefore(p,Ce):F.appendChild(p)),W(!0);var J=Mt(t,l.draggable);if(!J||Wr(e,_,this)&&!J.animated){if(J===p)return W(!1);if(J&&t===e.target&&(r=J),r&&(a=B(r)),et(F,t,p,o,r,a,e,!!r)!==!1)return $(),J&&J.nextSibling?t.insertBefore(p,J.nextSibling):t.appendChild(p),k=t,fe(),W(!0)}else if(J&&Gr(e,_,this)){var Ie=$e(t,0,l,!0);if(Ie===p)return W(!1);if(r=Ie,a=B(r),et(F,t,p,o,r,a,e,!1)!==!1)return $(),t.insertBefore(p,Ie),k=t,fe(),W(!0)}else if(r.parentNode===t){a=B(r);var pe=0,Ne,Ve=p.parentNode!==t,qe=!Br(p.animated&&p.toRect||o,r.animated&&r.toRect||a,_),Fe=_?"top":"left",ne=Kt(r,"top","top")||Kt(p,"top","top"),N=ne?ne.scrollTop:void 0;ke!==r&&(Ne=a[Fe],He=!1,Qe=!qe&&l.invertSwap||Ve),pe=Xr(e,r,a,_,qe?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,Qe,ke===r);var c;if(pe!==0){var d=ee(p);do d-=pe,c=k.children[d];while(c&&(m(c,"display")==="none"||c===E))}if(pe===0||c===r)return W(!1);ke=r,Ke=pe;var g=r.nextElementSibling,T=!1;T=pe===1;var C=et(F,t,p,o,r,a,e,T);if(C!==!1)return(C===1||C===-1)&&(T=C===1),kt=!0,setTimeout(jr,30),$(),T&&!g?t.appendChild(p):r.parentNode.insertBefore(p,T?g:r),ne&&Ir(ne,0,N-ne.scrollTop),k=p.parentNode,Ne!==void 0&&!Qe&&(st=Math.abs(Ne-B(r)[Fe])),fe(),W(!0)}if(t.contains(p))return W(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){D(document,"mousemove",this._onTouchMove),D(document,"touchmove",this._onTouchMove),D(document,"pointermove",this._onTouchMove),D(document,"dragover",Te),D(document,"mousemove",Te),D(document,"touchmove",Te)},_offUpEvents:function(){var e=this.el.ownerDocument;D(e,"mouseup",this._onDrop),D(e,"touchend",this._onDrop),D(e,"pointerup",this._onDrop),D(e,"touchcancel",this._onDrop),D(document,"selectstart",this)},_onDrop:function(e){var t=this.el,r=this.options;if(V=ee(p),me=ee(p,r.draggable),z("drop",this,{evt:e}),k=p&&p.parentNode,V=ee(p),me=ee(p,r.draggable),w.eventCanceled){this._nulling();return}Be=!1,Qe=!1,He=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),xt(this.cloneId),xt(this._dragStartId),this.nativeDraggable&&(D(document,"drop",this),D(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),it&&m(document.body,"user-select",""),m(p,"transform",""),e&&(Xe&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),E&&E.parentNode&&E.parentNode.removeChild(E),(F===k||G&&G.lastPutMode!=="clone")&&A&&A.parentNode&&A.parentNode.removeChild(A),p&&(this.nativeDraggable&&D(p,"dragend",this),Pt(p),p.style["will-change"]="",Xe&&!Be&&U(p,G?G.options.ghostClass:this.options.ghostClass,!1),U(p,this.options.chosenClass,!1),H({sortable:this,name:"unchoose",toEl:k,newIndex:null,newDraggableIndex:null,originalEvent:e}),F!==k?(V>=0&&(H({rootEl:k,name:"add",toEl:k,fromEl:F,originalEvent:e}),H({sortable:this,name:"remove",toEl:k,originalEvent:e}),H({rootEl:k,name:"sort",toEl:k,fromEl:F,originalEvent:e}),H({sortable:this,name:"sort",toEl:k,originalEvent:e})),G&&G.save()):V!==Me&&V>=0&&(H({sortable:this,name:"update",toEl:k,originalEvent:e}),H({sortable:this,name:"sort",toEl:k,originalEvent:e})),w.active&&((V==null||V===-1)&&(V=Me,me=Ye),H({sortable:this,name:"end",toEl:k,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){z("nulling",this),F=p=k=E=Ce=A=at=be=_e=re=Xe=V=me=Me=Ye=ke=Ke=G=Ze=w.dragged=w.ghost=w.clone=w.active=null,ft.forEach(function(e){e.checked=!0}),ft.length=Ct=Dt=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":p&&(this._onDragOver(e),$r(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,r=this.el.children,o=0,a=r.length,i=this.options;o<a;o++)t=r[o],ie(t,i.draggable,this.el,!1)&&e.push(t.getAttribute(i.dataIdAttr)||Kr(t));return e},sort:function(e,t){var r={},o=this.el;this.toArray().forEach(function(a,i){var l=o.children[i];ie(l,this.options.draggable,o,!1)&&(r[a]=l)},this),t&&this.captureAnimationState(),e.forEach(function(a){r[a]&&(o.removeChild(r[a]),o.appendChild(r[a]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return ie(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var r=this.options;if(t===void 0)return r[e];var o=Ue.modifyOption(this,e,t);typeof o<"u"?r[e]=o:r[e]=t,e==="group"&&gn(r)},destroy:function(){z("destroy",this);var e=this.el;e[q]=null,D(e,"mousedown",this._onTapStart),D(e,"touchstart",this._onTapStart),D(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(D(e,"dragover",this),D(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),dt.splice(dt.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!be){if(z("hideClone",this),w.eventCanceled)return;m(A,"display","none"),this.options.removeCloneOnHide&&A.parentNode&&A.parentNode.removeChild(A),be=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(be){if(z("showClone",this),w.eventCanceled)return;p.parentNode==F&&!this.options.group.revertClone?F.insertBefore(A,p):Ce?F.insertBefore(A,Ce):F.appendChild(A),this.options.group.revertClone&&this.animate(p,A),m(A,"display",""),be=!1}}};function $r(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function et(n,e,t,r,o,a,i,l){var s,u=n[q],h=u.options.onMove,f;return window.CustomEvent&&!Se&&!mt?s=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(s=document.createEvent("Event"),s.initEvent("move",!0,!0)),s.to=e,s.from=n,s.dragged=t,s.draggedRect=r,s.related=o||e,s.relatedRect=a||B(e),s.willInsertAfter=l,s.originalEvent=i,n.dispatchEvent(s),h&&(f=h.call(u,s,i)),f}function Pt(n){n.draggable=!1}function jr(){kt=!1}function Gr(n,e,t){var r=B($e(t.el,0,t.options,!0)),o=pn(t.el,t.options,E),a=10;return e?n.clientX<o.left-a||n.clientY<r.top&&n.clientX<r.right:n.clientY<o.top-a||n.clientY<r.bottom&&n.clientX<r.left}function Wr(n,e,t){var r=B(Mt(t.el,t.options.draggable)),o=pn(t.el,t.options,E),a=10;return e?n.clientX>o.right+a||n.clientY>r.bottom&&n.clientX>r.left:n.clientY>o.bottom+a||n.clientX>r.right&&n.clientY>r.top}function Xr(n,e,t,r,o,a,i,l){var s=r?n.clientY:n.clientX,u=r?t.height:t.width,h=r?t.top:t.left,f=r?t.bottom:t.right,v=!1;if(!i){if(l&&st<u*o){if(!He&&(Ke===1?s>h+u*a/2:s<f-u*a/2)&&(He=!0),He)v=!0;else if(Ke===1?s<h+st:s>f-st)return-Ke}else if(s>h+u*(1-o)/2&&s<f-u*(1-o)/2)return Yr(e)}return v=v||i,v&&(s<h+u*a/2||s>f-u*a/2)?s>h+u/2?1:-1:0}function Yr(n){return ee(p)<ee(n)?1:-1}function Kr(n){for(var e=n.tagName+n.className+n.src+n.href+n.textContent,t=e.length,r=0;t--;)r+=e.charCodeAt(t);return r.toString(36)}function Hr(n){ft.length=0;for(var e=n.getElementsByTagName("input"),t=e.length;t--;){var r=e[t];r.checked&&ft.push(r)}}function lt(n){return setTimeout(n,0)}function xt(n){return clearTimeout(n)}bt&&I(document,"touchmove",function(n){(w.active||Be)&&n.cancelable&&n.preventDefault()});w.utils={on:I,off:D,css:m,find:dn,is:function(e,t){return!!ie(e,t,e,!1)},extend:Or,throttle:Pr,closest:ie,toggleClass:U,clone:fn,index:ee,nextTick:lt,cancelNextTick:xt,detectDirection:vn,getChild:$e,expando:q};w.get=function(n){return n[q]};w.mount=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(w.utils=ue(ue({},w.utils),r.utils)),Ue.mount(r)})};w.create=function(n,e){return new w(n,e)};w.version=Cr;var yn=function(e){var t=e.originalEvent,r=e.putSortable,o=e.dragEl,a=e.activeSortable,i=e.dispatchSortableEvent,l=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var u=r||a;l();var h=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,f=document.elementFromPoint(h.clientX,h.clientY);s(),u&&!u.el.contains(f)&&(i("spill"),this.onSpill({dragEl:o,putSortable:r}))}};function En(){}En.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var o=$e(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(t,o):this.sortable.el.appendChild(t),this.sortable.animateAll(),r&&r.animateAll()},drop:yn};we(En,{pluginName:"revertOnSpill"});function wn(){}wn.prototype={onSpill:function(e){var t=e.dragEl,r=e.putSortable,o=r||this.sortable;o.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),o.animateAll()},drop:yn};we(wn,{pluginName:"removeOnSpill"});const zr={class:"text-sm font-medium pl-2"},Ur={key:0,class:"space-y-2 mt-4"},Vr=K({__name:"SectionsGroup",props:{title:null,sections:null,order:{default:()=>[]},static:{type:Boolean,default:!1}},emits:["reorder","addSection","activateSection","deactivateSection"],setup(n,{emit:e}){const t=n,r=e,o=kn("sortable");return xn(()=>{new w(o.value,{animation:150,ghostClass:"sortable-ghost",onEnd({newIndex:a,oldIndex:i}){const l=[...t.order],s=l.splice(i,1)[0];l.splice(a,0,s),r("reorder",l)}})}),(a,i)=>{const l=wr,s=mr;return L(),ye("div",null,[M("h2",zr,on(n.title),1),M("div",{ref_key:"sortable",ref:o,class:"space-y-1 mt-4"},[(L(!0),ye(Rn,null,Bn(n.sections,u=>(L(),ae(l,{section:u,onActivate:h=>r("activateSection",u.id),onDeactivate:h=>r("deactivateSection",u.id)},null,8,["section","onActivate","onDeactivate"]))),256))],512),t.static?Bt("",!0):(L(),ye("div",Ur,[M("button",{class:"block w-full !text-left",onClick:i[0]||(i[0]=u=>r("addSection",u))},[oe(s,{class:"w-4 h-4 inline mr-1"}),i[1]||(i[1]=Mn(" Add Section "))])]))])}}});var qr=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},xe=new WeakMap,tt=new WeakMap,nt={},It=0,Sn=function(n){return n&&(n.host||Sn(n.parentNode))},Zr=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=Sn(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},Qr=function(n,e,t,r){var o=Zr(e,Array.isArray(n)?n:[n]);nt[t]||(nt[t]=new WeakMap);var a=nt[t],i=[],l=new Set,s=new Set(o),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};o.forEach(u);var h=function(f){!f||s.has(f)||Array.prototype.forEach.call(f.children,function(v){if(l.has(v))h(v);else try{var _=v.getAttribute(r),b=_!==null&&_!=="false",S=(xe.get(v)||0)+1,j=(a.get(v)||0)+1;xe.set(v,S),a.set(v,j),i.push(v),S===1&&b&&tt.set(v,!0),j===1&&v.setAttribute(t,"true"),b||v.setAttribute(r,"true")}catch($){console.error("aria-hidden: cannot operate on ",v,$)}})};return h(e),l.clear(),It++,function(){i.forEach(function(f){var v=xe.get(f)-1,_=a.get(f)-1;xe.set(f,v),a.set(f,_),v||(tt.has(f)||f.removeAttribute(r),tt.delete(f)),_||f.removeAttribute(t)}),It--,It||(xe=new WeakMap,xe=new WeakMap,tt=new WeakMap,nt={})}},Jr=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),o=qr(n);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),Qr(r,o,t,"aria-hidden")):function(){return null}},eo=n=>{const e=requestAnimationFrame(()=>n());return()=>cancelAnimationFrame(e)};function to(n,e={}){const{defer:t=!0}=e,r=t?eo:a=>a(),o=[];return o.push(r(()=>{const i=(typeof n=="function"?n():n).filter(Boolean);o.push(Jr(i))})),()=>{o.forEach(a=>a==null?void 0:a())}}var Nt="data-scroll-lock";function Zt(n,e){if(!n)return;const t=n.style.cssText;return Object.assign(n.style,e),()=>{n.style.cssText=t}}function no(n,e,t){if(!n)return;const r=n.style.getPropertyValue(e);return n.style.setProperty(e,t),()=>{r?n.style.setProperty(e,r):n.style.removeProperty(e)}}function ro(n){const e=n.getBoundingClientRect().left;return Math.round(e)+n.scrollLeft?"paddingLeft":"paddingRight"}function oo(n){const e=n??document,t=e.defaultView??window,{documentElement:r,body:o}=e;if(o.hasAttribute(Nt))return;o.setAttribute(Nt,"");const i=t.innerWidth-r.clientWidth,l=()=>no(r,"--scrollbar-width",`${i}px`),s=ro(r),u=()=>Zt(o,{overflow:"hidden",[s]:`${i}px`}),h=()=>{const{scrollX:v,scrollY:_,visualViewport:b}=t,S=(b==null?void 0:b.offsetLeft)??0,j=(b==null?void 0:b.offsetTop)??0,$=Zt(o,{position:"fixed",overflow:"hidden",top:`${-(_-Math.floor(j))}px`,left:`${-(v-Math.floor(S))}px`,right:"0",[s]:`${i}px`});return()=>{$==null||$(),t.scrollTo({left:v,top:_,behavior:"instant"})}},f=[l(),Ln()?h():u()];return()=>{f.forEach(v=>v==null?void 0:v()),o.removeAttribute(Nt)}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var _n=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],pt=_n.join(","),Tn=typeof Element>"u",Pe=Tn?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,ht=!Tn&&Element.prototype.getRootNode?function(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}:function(n){return n==null?void 0:n.ownerDocument},vt=function n(e,t){var r;t===void 0&&(t=!0);var o=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),a=o===""||o==="true",i=a||t&&e&&n(e.parentNode);return i},io=function(e){var t,r=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return r===""||r==="true"},Cn=function(e,t,r){if(vt(e))return[];var o=Array.prototype.slice.apply(e.querySelectorAll(pt));return t&&Pe.call(e,pt)&&o.unshift(e),o=o.filter(r),o},Dn=function n(e,t,r){for(var o=[],a=Array.from(e);a.length;){var i=a.shift();if(!vt(i,!1))if(i.tagName==="SLOT"){var l=i.assignedElements(),s=l.length?l:i.children,u=n(s,!0,r);r.flatten?o.push.apply(o,u):o.push({scopeParent:i,candidates:u})}else{var h=Pe.call(i,pt);h&&r.filter(i)&&(t||!e.includes(i))&&o.push(i);var f=i.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(i),v=!vt(f,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(i));if(f&&v){var _=n(f===!0?i.children:f.children,!0,r);r.flatten?o.push.apply(o,_):o.push({scopeParent:i,candidates:_})}else a.unshift.apply(a,i.children)}}return o},On=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},De=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||io(e))&&!On(e)?0:e.tabIndex},ao=function(e,t){var r=De(e);return r<0&&t&&!On(e)?0:r},so=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},Pn=function(e){return e.tagName==="INPUT"},lo=function(e){return Pn(e)&&e.type==="hidden"},uo=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return t},co=function(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]},fo=function(e){if(!e.name)return!0;var t=e.form||ht(e),r=function(l){return t.querySelectorAll('input[type="radio"][name="'+l+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=r(window.CSS.escape(e.name));else try{o=r(e.name)}catch(i){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",i.message),!1}var a=co(o,e.form);return!a||a===e},po=function(e){return Pn(e)&&e.type==="radio"},ho=function(e){return po(e)&&!fo(e)},vo=function(e){var t,r=e&&ht(e),o=(t=r)===null||t===void 0?void 0:t.host,a=!1;if(r&&r!==e){var i,l,s;for(a=!!((i=o)!==null&&i!==void 0&&(l=i.ownerDocument)!==null&&l!==void 0&&l.contains(o)||e!=null&&(s=e.ownerDocument)!==null&&s!==void 0&&s.contains(e));!a&&o;){var u,h,f;r=ht(o),o=(u=r)===null||u===void 0?void 0:u.host,a=!!((h=o)!==null&&h!==void 0&&(f=h.ownerDocument)!==null&&f!==void 0&&f.contains(o))}}return a},Qt=function(e){var t=e.getBoundingClientRect(),r=t.width,o=t.height;return r===0&&o===0},go=function(e,t){var r=t.displayCheck,o=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var a=Pe.call(e,"details>summary:first-of-type"),i=a?e.parentElement:e;if(Pe.call(i,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof o=="function"){for(var l=e;e;){var s=e.parentElement,u=ht(e);if(s&&!s.shadowRoot&&o(s)===!0)return Qt(e);e.assignedSlot?e=e.assignedSlot:!s&&u!==e.ownerDocument?e=u.host:e=s}e=l}if(vo(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return Qt(e);return!1},mo=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var r=0;r<t.children.length;r++){var o=t.children.item(r);if(o.tagName==="LEGEND")return Pe.call(t,"fieldset[disabled] *")?!0:!o.contains(e)}return!0}t=t.parentElement}return!1},gt=function(e,t){return!(t.disabled||vt(t)||lo(t)||go(t,e)||uo(t)||mo(t))},Rt=function(e,t){return!(ho(t)||De(t)<0||!gt(e,t))},bo=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},yo=function n(e){var t=[],r=[];return e.forEach(function(o,a){var i=!!o.scopeParent,l=i?o.scopeParent:o,s=ao(l,i),u=i?n(o.candidates):l;s===0?i?t.push.apply(t,u):t.push(l):r.push({documentOrder:a,tabIndex:s,item:o,isScope:i,content:u})}),r.sort(so).reduce(function(o,a){return a.isScope?o.push.apply(o,a.content):o.push(a.content),o},[]).concat(t)},Eo=function(e,t){t=t||{};var r;return t.getShadowRoot?r=Dn([e],t.includeContainer,{filter:Rt.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:bo}):r=Cn(e,t.includeContainer,Rt.bind(null,t)),yo(r)},wo=function(e,t){t=t||{};var r;return t.getShadowRoot?r=Dn([e],t.includeContainer,{filter:gt.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):r=Cn(e,t.includeContainer,gt.bind(null,t)),r},Re=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return Pe.call(e,pt)===!1?!1:Rt(t,e)},So=_n.concat("iframe").join(","),Ft=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return Pe.call(e,So)===!1?!1:gt(t,e)};/*!
* focus-trap 7.6.0
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function _o(n,e,t){return(e=Co(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Jt(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function en(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Jt(Object(t),!0).forEach(function(r){_o(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Jt(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function To(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Co(n){var e=To(n,"string");return typeof e=="symbol"?e:e+""}var tn={activateTrap:function(e,t){if(e.length>0){var r=e[e.length-1];r!==t&&r.pause()}var o=e.indexOf(t);o===-1||e.splice(o,1),e.push(t)},deactivateTrap:function(e,t){var r=e.indexOf(t);r!==-1&&e.splice(r,1),e.length>0&&e[e.length-1].unpause()}},Do=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},Oo=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},ze=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},Po=function(e){return ze(e)&&!e.shiftKey},Io=function(e){return ze(e)&&e.shiftKey},nn=function(e){return setTimeout(e,0)},rn=function(e,t){var r=-1;return e.every(function(o,a){return t(o)?(r=a,!1):!0}),r},We=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return typeof e=="function"?e.apply(void 0,r):e},rt=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},No=[],Fo=function(e,t){var r=(t==null?void 0:t.document)||document,o=(t==null?void 0:t.trapStack)||No,a=en({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:Po,isKeyBackward:Io},t),i={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},l,s=function(c,d,g){return c&&c[d]!==void 0?c[d]:a[g||d]},u=function(c,d){var g=typeof(d==null?void 0:d.composedPath)=="function"?d.composedPath():void 0;return i.containerGroups.findIndex(function(T){var C=T.container,P=T.tabbableNodes;return C.contains(c)||(g==null?void 0:g.includes(C))||P.find(function(x){return x===c})})},h=function(c){var d=a[c];if(typeof d=="function"){for(var g=arguments.length,T=new Array(g>1?g-1:0),C=1;C<g;C++)T[C-1]=arguments[C];d=d.apply(void 0,T)}if(d===!0&&(d=void 0),!d){if(d===void 0||d===!1)return d;throw new Error("`".concat(c,"` was specified but was not a node, or did not return a node"))}var P=d;if(typeof d=="string"&&(P=r.querySelector(d),!P))throw new Error("`".concat(c,"` as selector refers to no known node"));return P},f=function(){var c=h("initialFocus");if(c===!1)return!1;if(c===void 0||!Ft(c,a.tabbableOptions))if(u(r.activeElement)>=0)c=r.activeElement;else{var d=i.tabbableGroups[0],g=d&&d.firstTabbableNode;c=g||h("fallbackFocus")}if(!c)throw new Error("Your focus-trap needs to have at least one focusable element");return c},v=function(){if(i.containerGroups=i.containers.map(function(c){var d=Eo(c,a.tabbableOptions),g=wo(c,a.tabbableOptions),T=d.length>0?d[0]:void 0,C=d.length>0?d[d.length-1]:void 0,P=g.find(function(R){return Re(R)}),x=g.slice().reverse().find(function(R){return Re(R)}),X=!!d.find(function(R){return De(R)>0});return{container:c,tabbableNodes:d,focusableNodes:g,posTabIndexesFound:X,firstTabbableNode:T,lastTabbableNode:C,firstDomTabbableNode:P,lastDomTabbableNode:x,nextTabbableNode:function(he){var je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ge=d.indexOf(he);return ge<0?je?g.slice(g.indexOf(he)+1).find(function(Ge){return Re(Ge)}):g.slice(0,g.indexOf(he)).reverse().find(function(Ge){return Re(Ge)}):d[ge+(je?1:-1)]}}}),i.tabbableGroups=i.containerGroups.filter(function(c){return c.tabbableNodes.length>0}),i.tabbableGroups.length<=0&&!h("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(i.containerGroups.find(function(c){return c.posTabIndexesFound})&&i.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},_=function(c){var d=c.activeElement;if(d)return d.shadowRoot&&d.shadowRoot.activeElement!==null?_(d.shadowRoot):d},b=function(c){if(c!==!1&&c!==_(document)){if(!c||!c.focus){b(f());return}c.focus({preventScroll:!!a.preventScroll}),i.mostRecentlyFocusedNode=c,Do(c)&&c.select()}},S=function(c){var d=h("setReturnFocus",c);return d||(d===!1?!1:c)},j=function(c){var d=c.target,g=c.event,T=c.isBackward,C=T===void 0?!1:T;d=d||rt(g),v();var P=null;if(i.tabbableGroups.length>0){var x=u(d,g),X=x>=0?i.containerGroups[x]:void 0;if(x<0)C?P=i.tabbableGroups[i.tabbableGroups.length-1].lastTabbableNode:P=i.tabbableGroups[0].firstTabbableNode;else if(C){var R=rn(i.tabbableGroups,function(yt){var Et=yt.firstTabbableNode;return d===Et});if(R<0&&(X.container===d||Ft(d,a.tabbableOptions)&&!Re(d,a.tabbableOptions)&&!X.nextTabbableNode(d,!1))&&(R=x),R>=0){var he=R===0?i.tabbableGroups.length-1:R-1,je=i.tabbableGroups[he];P=De(d)>=0?je.lastTabbableNode:je.lastDomTabbableNode}else ze(g)||(P=X.nextTabbableNode(d,!1))}else{var ge=rn(i.tabbableGroups,function(yt){var Et=yt.lastTabbableNode;return d===Et});if(ge<0&&(X.container===d||Ft(d,a.tabbableOptions)&&!Re(d,a.tabbableOptions)&&!X.nextTabbableNode(d))&&(ge=x),ge>=0){var Ge=ge===i.tabbableGroups.length-1?0:ge+1,Lt=i.tabbableGroups[Ge];P=De(d)>=0?Lt.firstTabbableNode:Lt.firstDomTabbableNode}else ze(g)||(P=X.nextTabbableNode(d))}}else P=h("fallbackFocus");return P},$=function(c){var d=rt(c);if(!(u(d,c)>=0)){if(We(a.clickOutsideDeactivates,c)){l.deactivate({returnFocus:a.returnFocusOnDeactivate});return}We(a.allowOutsideClick,c)||c.preventDefault()}},W=function(c){var d=rt(c),g=u(d,c)>=0;if(g||d instanceof Document)g&&(i.mostRecentlyFocusedNode=d);else{c.stopImmediatePropagation();var T,C=!0;if(i.mostRecentlyFocusedNode)if(De(i.mostRecentlyFocusedNode)>0){var P=u(i.mostRecentlyFocusedNode),x=i.containerGroups[P].tabbableNodes;if(x.length>0){var X=x.findIndex(function(R){return R===i.mostRecentlyFocusedNode});X>=0&&(a.isKeyForward(i.recentNavEvent)?X+1<x.length&&(T=x[X+1],C=!1):X-1>=0&&(T=x[X-1],C=!1))}}else i.containerGroups.some(function(R){return R.tabbableNodes.some(function(he){return De(he)>0})})||(C=!1);else C=!1;C&&(T=j({target:i.mostRecentlyFocusedNode,isBackward:a.isKeyBackward(i.recentNavEvent)})),b(T||i.mostRecentlyFocusedNode||f())}i.recentNavEvent=void 0},fe=function(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;i.recentNavEvent=c;var g=j({event:c,isBackward:d});g&&(ze(c)&&c.preventDefault(),b(g))},J=function(c){(a.isKeyForward(c)||a.isKeyBackward(c))&&fe(c,a.isKeyBackward(c))},Ie=function(c){Oo(c)&&We(a.escapeDeactivates,c)!==!1&&(c.preventDefault(),l.deactivate())},pe=function(c){var d=rt(c);u(d,c)>=0||We(a.clickOutsideDeactivates,c)||We(a.allowOutsideClick,c)||(c.preventDefault(),c.stopImmediatePropagation())},Ne=function(){if(i.active)return tn.activateTrap(o,l),i.delayInitialFocusTimer=a.delayInitialFocus?nn(function(){b(f())}):b(f()),r.addEventListener("focusin",W,!0),r.addEventListener("mousedown",$,{capture:!0,passive:!1}),r.addEventListener("touchstart",$,{capture:!0,passive:!1}),r.addEventListener("click",pe,{capture:!0,passive:!1}),r.addEventListener("keydown",J,{capture:!0,passive:!1}),r.addEventListener("keydown",Ie),l},Ve=function(){if(i.active)return r.removeEventListener("focusin",W,!0),r.removeEventListener("mousedown",$,!0),r.removeEventListener("touchstart",$,!0),r.removeEventListener("click",pe,!0),r.removeEventListener("keydown",J,!0),r.removeEventListener("keydown",Ie),l},qe=function(c){var d=c.some(function(g){var T=Array.from(g.removedNodes);return T.some(function(C){return C===i.mostRecentlyFocusedNode})});d&&b(f())},Fe=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(qe):void 0,ne=function(){Fe&&(Fe.disconnect(),i.active&&!i.paused&&i.containers.map(function(c){Fe.observe(c,{subtree:!0,childList:!0})}))};return l={get active(){return i.active},get paused(){return i.paused},activate:function(c){if(i.active)return this;var d=s(c,"onActivate"),g=s(c,"onPostActivate"),T=s(c,"checkCanFocusTrap");T||v(),i.active=!0,i.paused=!1,i.nodeFocusedBeforeActivation=r.activeElement,d==null||d();var C=function(){T&&v(),Ne(),ne(),g==null||g()};return T?(T(i.containers.concat()).then(C,C),this):(C(),this)},deactivate:function(c){if(!i.active)return this;var d=en({onDeactivate:a.onDeactivate,onPostDeactivate:a.onPostDeactivate,checkCanReturnFocus:a.checkCanReturnFocus},c);clearTimeout(i.delayInitialFocusTimer),i.delayInitialFocusTimer=void 0,Ve(),i.active=!1,i.paused=!1,ne(),tn.deactivateTrap(o,l);var g=s(d,"onDeactivate"),T=s(d,"onPostDeactivate"),C=s(d,"checkCanReturnFocus"),P=s(d,"returnFocus","returnFocusOnDeactivate");g==null||g();var x=function(){nn(function(){P&&b(S(i.nodeFocusedBeforeActivation)),T==null||T()})};return P&&C?(C(S(i.nodeFocusedBeforeActivation)).then(x,x),this):(x(),this)},pause:function(c){if(i.paused||!i.active)return this;var d=s(c,"onPause"),g=s(c,"onPostPause");return i.paused=!0,d==null||d(),Ve(),ne(),g==null||g(),this},unpause:function(c){if(!i.paused||!i.active)return this;var d=s(c,"onUnpause"),g=s(c,"onPostUnpause");return i.paused=!1,d==null||d(),v(),Ne(),ne(),g==null||g(),this},updateContainerElements:function(c){var d=[].concat(c).filter(Boolean);return i.containers=d.map(function(g){return typeof g=="string"?r.querySelector(g):g}),i.active&&v(),ne(),this}},l.updateContainerElements(e),l},Ao=$n("popover").parts("arrow","arrowTip","anchor","trigger","indicator","positioner","content","title","description","closeTrigger"),le=Ao.build(),y=jn({getAnchorId:n=>{var e;return((e=n.ids)==null?void 0:e.anchor)??`popover:${n.id}:anchor`},getTriggerId:n=>{var e;return((e=n.ids)==null?void 0:e.trigger)??`popover:${n.id}:trigger`},getContentId:n=>{var e;return((e=n.ids)==null?void 0:e.content)??`popover:${n.id}:content`},getPositionerId:n=>{var e;return((e=n.ids)==null?void 0:e.positioner)??`popover:${n.id}:popper`},getArrowId:n=>{var e;return((e=n.ids)==null?void 0:e.arrow)??`popover:${n.id}:arrow`},getTitleId:n=>{var e;return((e=n.ids)==null?void 0:e.title)??`popover:${n.id}:title`},getDescriptionId:n=>{var e;return((e=n.ids)==null?void 0:e.description)??`popover:${n.id}:desc`},getCloseTriggerId:n=>{var e;return((e=n.ids)==null?void 0:e.closeTrigger)??`popover:${n.id}:close`},getAnchorEl:n=>y.getById(n,y.getAnchorId(n)),getTriggerEl:n=>y.getById(n,y.getTriggerId(n)),getContentEl:n=>y.getById(n,y.getContentId(n)),getPositionerEl:n=>y.getById(n,y.getPositionerId(n)),getTitleEl:n=>y.getById(n,y.getTitleId(n)),getDescriptionEl:n=>y.getById(n,y.getDescriptionId(n)),getFocusableEls:n=>Hn(y.getContentEl(n)),getFirstFocusableEl:n=>y.getFocusableEls(n)[0]});function ko(n,e,t){const r=n.matches("open"),o=n.context.currentPlacement,a=n.context.currentPortalled,i=n.context.renderedElements,l=Gn({...n.context.positioning,placement:o});return{portalled:a,open:r,setOpen(s){s!==r&&e(s?"OPEN":"CLOSE")},reposition(s={}){e({type:"POSITIONING.SET",options:s})},getArrowProps(){return t.element({id:y.getArrowId(n.context),...le.arrow.attrs,dir:n.context.dir,style:l.arrow})},getArrowTipProps(){return t.element({...le.arrowTip.attrs,dir:n.context.dir,style:l.arrowTip})},getAnchorProps(){return t.element({...le.anchor.attrs,dir:n.context.dir,id:y.getAnchorId(n.context)})},getTriggerProps(){return t.button({...le.trigger.attrs,dir:n.context.dir,type:"button","data-placement":o,id:y.getTriggerId(n.context),"aria-haspopup":"dialog","aria-expanded":r,"data-state":r?"open":"closed","aria-controls":y.getContentId(n.context),onClick(s){s.defaultPrevented||e("TOGGLE")},onBlur(s){e({type:"TRIGGER_BLUR",target:s.relatedTarget})}})},getIndicatorProps(){return t.element({...le.indicator.attrs,dir:n.context.dir,"data-state":r?"open":"closed"})},getPositionerProps(){return t.element({id:y.getPositionerId(n.context),...le.positioner.attrs,dir:n.context.dir,style:l.floating})},getContentProps(){return t.element({...le.content.attrs,dir:n.context.dir,id:y.getContentId(n.context),tabIndex:-1,role:"dialog",hidden:!r,"data-state":r?"open":"closed","data-expanded":Wn(r),"aria-labelledby":i.title?y.getTitleId(n.context):void 0,"aria-describedby":i.description?y.getDescriptionId(n.context):void 0,"data-placement":o})},getTitleProps(){return t.element({...le.title.attrs,id:y.getTitleId(n.context),dir:n.context.dir})},getDescriptionProps(){return t.element({...le.description.attrs,id:y.getDescriptionId(n.context),dir:n.context.dir})},getCloseTriggerProps(){return t.button({...le.closeTrigger.attrs,dir:n.context.dir,id:y.getCloseTriggerId(n.context),type:"button","aria-label":"close",onClick(s){s.defaultPrevented||e("CLOSE")}})}}}function xo(n){const e=Xn(n);return Yn({id:"popover",initial:e.open?"open":"closed",context:{closeOnInteractOutside:!0,closeOnEscape:!0,autoFocus:!0,modal:!1,portalled:!0,positioning:{placement:"bottom",...e.positioning},currentPlacement:void 0,...e,renderedElements:{title:!0,description:!0}},computed:{currentPortalled:t=>!!t.modal||!!t.portalled},watch:{open:["toggleVisibility"]},entry:["checkRenderedElements"],states:{closed:{on:{"CONTROLLED.OPEN":{target:"open",actions:["setInitialFocus"]},TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}]}},open:{activities:["trapFocus","preventScroll","hideContentBelow","trackPositioning","trackDismissableElement","proxyTabFocus"],on:{"CONTROLLED.CLOSE":{target:"closed",actions:["setFinalFocus"]},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose","setFinalFocus"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"POSITIONING.SET":{actions:"reposition"}}}}},{guards:{isOpenControlled:t=>!!t["open.controlled"]},activities:{trackPositioning(t){t.currentPlacement=t.positioning.placement;const r=y.getAnchorEl(t)??y.getTriggerEl(t);return jt(r,()=>y.getPositionerEl(t),{...t.positioning,defer:!0,onComplete(a){t.currentPlacement=a.placement}})},trackDismissableElement(t,r,{send:o}){const a=()=>y.getContentEl(t);let i=!0;return zn(a,{pointerBlocking:t.modal,exclude:y.getTriggerEl(t),defer:!0,onEscapeKeyDown(l){var s;(s=t.onEscapeKeyDown)==null||s.call(t,l),!t.closeOnEscape&&l.preventDefault()},onInteractOutside(l){var s;(s=t.onInteractOutside)==null||s.call(t,l),!l.defaultPrevented&&(i=!(l.detail.focusable||l.detail.contextmenu),t.closeOnInteractOutside||l.preventDefault())},onPointerDownOutside:t.onPointerDownOutside,onFocusOutside:t.onFocusOutside,persistentElements:t.persistentElements,onDismiss(){o({type:"CLOSE",src:"interact-outside",restoreFocus:i})}})},proxyTabFocus(t){return t.modal||!t.portalled?void 0:Un(()=>y.getContentEl(t),{triggerElement:y.getTriggerEl(t),defer:!0,onFocus(o){o.focus({preventScroll:!0})}})},hideContentBelow(t){return t.modal?to(()=>[y.getContentEl(t),y.getTriggerEl(t)],{defer:!0}):void 0},preventScroll(t){if(t.modal)return oo(y.getDoc(t))},trapFocus(t){if(!t.modal)return;let r;return Vn(()=>{const o=y.getContentEl(t);if(o){r=Fo(o,{escapeDeactivates:!1,allowOutsideClick:!0,preventScroll:!0,returnFocusOnDeactivate:!0,document:y.getDoc(t),fallbackFocus:o,initialFocus:Gt({root:y.getContentEl(t),getInitialEl:t.initialFocusEl,enabled:t.autoFocus})});try{r.activate()}catch{}}}),()=>r==null?void 0:r.deactivate()}},actions:{reposition(t,r){const o=y.getAnchorEl(t)??y.getTriggerEl(t);jt(o,()=>y.getPositionerEl(t),{...t.positioning,...r.options,defer:!0,listeners:!1,onComplete(i){t.currentPlacement=i.placement}})},checkRenderedElements(t){wt(()=>{Object.assign(t.renderedElements,{title:!!y.getTitleEl(t),description:!!y.getDescriptionEl(t)})})},setInitialFocus(t){t.modal||wt(()=>{const r=Gt({root:y.getContentEl(t),getInitialEl:t.initialFocusEl,enabled:t.autoFocus});r==null||r.focus({preventScroll:!0})})},setFinalFocus(t,r){var a;const o=r.restoreFocus??((a=r.previousEvent)==null?void 0:a.restoreFocus);o!=null&&!o||wt(()=>{const i=y.getTriggerEl(t);i==null||i.focus({preventScroll:!0})})},invokeOnOpen(t){var r;(r=t.onOpenChange)==null||r.call(t,{open:!0})},invokeOnClose(t){var r;(r=t.onOpenChange)==null||r.call(t,{open:!1})},toggleVisibility(t,r,{send:o}){o({type:t.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:r})}}})}Kn()(["autoFocus","closeOnEscape","closeOnInteractOutside","dir","getRootNode","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","open.controlled","open","persistentElements","portalled","positioning"]);const Ro=(n,e)=>{const t=qn(),r=Zn(),o=Qn(Jn),a=Oe(()=>({id:t,dir:o.value.dir,open:n.open??n.defaultOpen,"open.controlled":n.open!==void 0,getRootNode:r==null?void 0:r.value.getRootNode,onOpenChange:s=>{e==null||e("openChange",s),e==null||e("update:open",s.open)},onEscapeKeyDown:s=>e==null?void 0:e("escapeKeyDown",s),onFocusOutside:s=>e==null?void 0:e("focusOutside",s),onInteractOutside:s=>e==null?void 0:e("interactOutside",s),onPointerDownOutside:s=>e==null?void 0:e("pointerDownOutside",s),...er(n)})),[i,l]=tr(xo(a.value),{context:a});return Oe(()=>ko(i.value,l,nr))},[In,se]=rr("PopoverContext"),Bo=K({__name:"popover-anchor",props:{asChild:{type:Boolean}},setup(n){const e=se();return te(),(t,r)=>(L(),ae(O(de).div,ce(O(e).getAnchorProps(),{"as-child":t.asChild}),{default:Z(()=>[Q(t.$slots,"default")]),_:3},16,["as-child"]))}}),Mo=K({__name:"popover-arrow-tip",props:{asChild:{type:Boolean}},setup(n){const e=se();return te(),(t,r)=>(L(),ae(O(de).div,ce(O(e).getArrowTipProps(),{"as-child":t.asChild}),{default:Z(()=>[Q(t.$slots,"default")]),_:3},16,["as-child"]))}}),Lo=K({__name:"popover-arrow",props:{asChild:{type:Boolean}},setup(n){const e=se();return te(),(t,r)=>(L(),ae(O(de).div,ce(O(e).getArrowProps(),{"as-child":t.asChild}),{default:Z(()=>[Q(t.$slots,"default")]),_:3},16,["as-child"]))}}),$o=K({__name:"popover-close-trigger",props:{asChild:{type:Boolean}},setup(n){const e=se();return te(),(t,r)=>(L(),ae(O(de).button,ce(O(e).getCloseTriggerProps(),{"as-child":t.asChild}),{default:Z(()=>[Q(t.$slots,"default")]),_:3},16,["as-child"]))}}),jo=K({__name:"popover-content",props:{asChild:{type:Boolean}},setup(n){const e=se(),t=or(),r=Oe(()=>ir(e.value.getContentProps(),t.value.presenceProps));return te(),(o,a)=>O(t).unmounted?Bt("",!0):(L(),ae(O(de).div,ce({key:0},r.value,{"as-child":o.asChild}),{default:Z(()=>[Q(o.$slots,"default")]),_:3},16,["as-child"]))}}),Go=K({__name:"popover-context",setup(n){const e=se();return(t,r)=>Q(t.$slots,"default",ar(sr(O(e))))}}),Wo=K({__name:"popover-description",props:{asChild:{type:Boolean}},setup(n){const e=se();return te(),(t,r)=>(L(),ae(O(de).div,ce(O(e).getDescriptionProps(),{"as-child":t.asChild}),{default:Z(()=>[Q(t.$slots,"default")]),_:3},16,["as-child"]))}}),Xo=K({__name:"popover-indicator",props:{asChild:{type:Boolean}},setup(n){const e=se();return te(),(t,r)=>(L(),ae(O(de).div,ce(O(e).getIndicatorProps(),{"as-child":t.asChild}),{default:Z(()=>[Q(t.$slots,"default")]),_:3},16,["as-child"]))}}),Yo=K({__name:"popover-positioner",props:{asChild:{type:Boolean}},setup(n){const e=se(),t=lr(),r=ur(Oe(()=>({...t.value,present:e.value.open})));return cr(r),te(),(o,a)=>O(r).unmounted?Bt("",!0):(L(),ae(O(de).div,ce({key:0},O(e).getPositionerProps(),{"as-child":o.asChild}),{default:Z(()=>[Q(o.$slots,"default")]),_:3},16,["as-child"]))}}),Ko=K({__name:"popover-root-provider",props:{value:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean}},setup(n){const e=n,t=Oe(()=>e.value);return In(t),an(Oe(()=>({lazyMount:e.lazyMount,unmountOnExit:e.unmountOnExit}))),te(),(r,o)=>Q(r.$slots,"default")}}),Ho=K({__name:"popover-root",props:dr({autoFocus:{type:Boolean},closeOnEscape:{type:Boolean},closeOnInteractOutside:{type:Boolean},defaultOpen:{type:Boolean},id:{},ids:{},initialFocusEl:{type:Function},modal:{type:Boolean},open:{type:Boolean},persistentElements:{},portalled:{type:Boolean},positioning:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean}},{autoFocus:void 0,closeOnEscape:void 0,closeOnInteractOutside:void 0,defaultOpen:void 0,modal:void 0,open:void 0,portalled:void 0}),emits:["escapeKeyDown","focusOutside","interactOutside","openChange","pointerDownOutside","update:open"],setup(n,{emit:e}){const t=n,o=Ro(t,e);return In(o),an(Oe(()=>({lazyMount:t.lazyMount,unmountOnExit:t.unmountOnExit}))),te(),(a,i)=>Q(a.$slots,"default")}}),zo=K({__name:"popover-title",props:{asChild:{type:Boolean}},setup(n){const e=se();return te(),(t,r)=>(L(),ae(O(de).div,ce(O(e).getTitleProps(),{"as-child":t.asChild}),{default:Z(()=>[Q(t.$slots,"default")]),_:3},16,["as-child"]))}}),Uo=K({__name:"popover-trigger",props:{asChild:{type:Boolean}},setup(n){const e=se();return te(),(t,r)=>(L(),ae(O(de).button,ce(O(e).getTriggerProps(),{"as-child":t.asChild}),{default:Z(()=>[Q(t.$slots,"default")]),_:3},16,["as-child"]))}}),At=Object.freeze(Object.defineProperty({__proto__:null,Anchor:Bo,Arrow:Lo,ArrowTip:Mo,CloseTrigger:$o,Content:jo,Context:Go,Description:Wo,Indicator:Xo,Positioner:Yo,Root:Ho,RootProvider:Ko,Title:zo,Trigger:Uo},Symbol.toStringTag,{value:"Module"})),Vo={class:"w-full h-full flex flex-col"},qo={class:"flex-1 overflow-y-auto p-3"},Jo=K({__name:"index",setup(n){const e=fr(),t=pr(!1);function r(l){t.value=!t.value}function o(l){e.setContentSectionsOrder(l)}function a(l){e.activateSection(l)}function i(l){e.deactivateSection(l)}return(l,s)=>{const u=Vr,h=Fn;return L(),ye("div",Vo,[s[3]||(s[3]=M("header",{class:"flex none px-4 py-3 border-b font-medium"},[M("h1",null,"Page title")],-1)),M("div",qo,[oe(u,{static:"",title:"Layout Sections g",sections:O(e).beforeContentSections,onAddSection:r,onActivateSection:a,onDeactivateSection:i},null,8,["sections"]),s[1]||(s[1]=M("hr",{class:"my-2"},null,-1)),oe(u,{title:"Template Sections",order:O(e).contentSectionsOrder,sections:O(e).contentSections,onReorder:o,onAddSection:r,onActivateSection:a,onDeactivateSection:i},null,8,["order","sections"]),s[2]||(s[2]=M("hr",{class:"my-2"},null,-1)),oe(u,{static:"",title:"Layout Sections",sections:[],onAddSection:r})]),oe(O(At).Root,{open:O(t),"onUpdate:open":s[0]||(s[0]=f=>hr(t)?t.value=f:null),positioning:{placement:"left-start",gutter:16,offset:{mainAxis:120,crossAxis:120}}},{default:Z(()=>[oe(O(At).Positioner,null,{default:Z(()=>[oe(O(At).Content,{class:"bg-white w-48 border rounded shadow p-1"},{default:Z(()=>[M("header",null,[oe(h)])]),_:1})]),_:1})]),_:1},8,["open"])])}}});export{Jo as default};

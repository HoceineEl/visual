import{R as $e,ao as Le,bg as Ze,k as Je,h as Qe,aC as et,y as tt,q as j,V,W as rt,d as E,aB as xe,ap as I,o as C,f as _,m as F,aq as w,ar as S,l as f,as as k,e as be,av as Me,aw as Ve,D as nt,E as ot,i as at,t as it,b as st,H as lt,s as ut,c as ct,a as dt,bh as pt,S as ft,U as vt,a2 as gt,a3 as bt,aI as ht,bi as mt,a6 as Fe,a5 as yt,bj as Et,aL as Tt,a8 as Ee,aY as Ie,ag as wt,ah as Pt,ai as Ct,aj as Ot,ak as _t,al as Ft,an as It,at as Nt,au as St,ax as kt,ay as Dt,az as At,aA as je}from"./index-C0VFbjsv.js";const Bt=$e("field").parts("root","errorText","helperText","input","label","select","textarea"),q=Bt.build(),[Ke,H]=Le("FieldContext"),Rt=r=>{const{required:e,disabled:t,invalid:n,readOnly:o,ids:i}=r,a=Ze({hasErrorText:!1,hasHelperText:!1}),c=r.id??`field-${Math.random().toString(36).substr(2,9)}`,u=Je(null),m=(i==null?void 0:i.control)??`field::${c}`,P=(i==null?void 0:i.errorText)??`field::${c}::error-text`,v=(i==null?void 0:i.helperText)??`field::${c}::helper-text`,g=(i==null?void 0:i.label)??`field::${c}::label`;Qe(()=>{const Y=u.value;if(!Y)return;const J=et(Y),Q=J.document,le=()=>{a.hasErrorText=!!Q.getElementById(P),a.hasHelperText=!!Q.getElementById(v)};le();const z=new J.MutationObserver(le);z.observe(Y,{childList:!0,subtree:!0}),tt(()=>{z.disconnect()})});const D=()=>({...q.root.attrs,id:m,role:"group","data-disabled":V(t),"data-invalid":V(n),"data-readonly":V(o)}),O=()=>({...q.label.attrs,id:g,"data-disabled":V(t),"data-invalid":V(n),"data-readonly":V(o),htmlFor:c}),R=[];a.hasErrorText&&n&&R.push(P),a.hasHelperText&&R.push(v);const L=()=>({"aria-describedby":R.join(" ")||void 0,"aria-invalid":rt(n),"data-invalid":V(n),"data-required":V(e),"data-readonly":V(o),id:c,required:e,disabled:t,readOnly:o}),$=()=>({...L(),...q.input.attrs}),ae=()=>({...L(),...q.textarea.attrs}),he=()=>({...L(),...q.select.attrs}),ie=()=>({id:v,...q.helperText.attrs}),se=()=>({id:P,...q.errorText.attrs,"aria-live":"polite"});return j(()=>({ariaDescribedby:R.join(" "),ids:{control:c,label:g,errorText:P,helperText:v},refs:{rootRef:u},disabled:t,invalid:n,readOnly:o,required:e,getLabelProps:O,getRootProps:D,getInputProps:$,getTextareaProps:ae,getSelectProps:he,getHelperTextProps:ie,getErrorTextProps:se}))},$t=E({__name:"field-root",props:xe({disabled:{type:Boolean},id:{},ids:{},invalid:{type:Boolean},readOnly:{type:Boolean},required:{type:Boolean},asChild:{type:Boolean}},{disabled:void 0,invalid:void 0,readOnly:void 0,required:void 0}),setup(r){const t=Rt(r);return Ke(t),I(),(n,o)=>(C(),_(f(k).div,S(f(t).getRootProps(),{"as-child":n.asChild}),{default:F(()=>[w(n.$slots,"default")]),_:3},16,["as-child"]))}}),Lt=E({__name:"field-root-provider",props:{value:{},asChild:{type:Boolean}},setup(r){const e=r,t=j(()=>e.value);return Ke(t),I(),(n,o)=>(C(),_(f(k).div,S(t.value.getRootProps(),{"as-child":n.asChild}),{default:F(()=>[w(n.$slots,"default")]),_:3},16,["as-child"]))}}),xt=E({__name:"field-label",props:{asChild:{type:Boolean}},setup(r){const e=H();return I(),(t,n)=>(C(),_(f(k).label,S(f(e).getLabelProps(),{"as-child":t.asChild}),{default:F(()=>[w(t.$slots,"default")]),_:3},16,["as-child"]))}}),Mt=E({__name:"field-input",props:{modelValue:{},asChild:{type:Boolean}},emits:["update:modelValue"],setup(r,{emit:e}){const t=H(),n=e;return I(),(o,i)=>(C(),_(f(k).input,S(f(t).getInputProps(),{"as-child":o.asChild,value:o.modelValue,onInput:i[0]||(i[0]=a=>n("update:modelValue",a.target.value))}),{default:F(()=>[w(o.$slots,"default")]),_:3},16,["as-child","value"]))}}),Vt=E({__name:"field-textarea",props:{modelValue:{},asChild:{type:Boolean}},emits:["update:modelValue"],setup(r,{emit:e}){const t=H(),n=e;return I(),(o,i)=>(C(),_(f(k).textarea,S(f(t).getTextareaProps(),{value:o.modelValue,onInput:i[0]||(i[0]=a=>n("update:modelValue",a.target.value)),"as-child":o.asChild}),{default:F(()=>[w(o.$slots,"default")]),_:3},16,["value","as-child"]))}}),jt=E({__name:"field-select",props:{modelValue:{},asChild:{type:Boolean}},emits:["update:modelValue"],setup(r,{emit:e}){const t=H(),n=e;return I(),(o,i)=>(C(),_(f(k).select,S(f(t).getSelectProps(),{value:o.modelValue,onChange:i[0]||(i[0]=a=>n("update:modelValue",a.target.value)),"as-child":o.asChild}),{default:F(()=>[w(o.$slots,"default")]),_:3},16,["value","as-child"]))}}),Kt=E({__name:"field-helper-text",props:{asChild:{type:Boolean}},setup(r){const e=H();return I(),(t,n)=>(C(),_(f(k).span,S(f(e).getHelperTextProps(),{"as-child":t.asChild}),{default:F(()=>[w(t.$slots,"default")]),_:3},16,["as-child"]))}}),Gt=E({__name:"field-error-text",props:{asChild:{type:Boolean}},setup(r){const e=H();return I(),(t,n)=>f(e).invalid?(C(),_(f(k).span,S({key:0},f(e).getErrorTextProps(),{"as-child":t.asChild}),{default:F(()=>[w(t.$slots,"default")]),_:3},16,["as-child"])):be("",!0)}}),qt=E({__name:"field-context",setup(r){const e=H();return(t,n)=>w(t.$slots,"default",Me(Ve(f(e))))}}),Te=Object.freeze(Object.defineProperty({__proto__:null,Context:qt,ErrorText:Gt,HelperText:Kt,Input:Mt,Label:xt,Root:$t,RootProvider:Lt,Select:jt,Textarea:Vt},Symbol.toStringTag,{value:"Module"})),Ur=E({__name:"TextInput",props:nt({label:null},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(r){const e=ot(r,"modelValue"),t=r;return(n,o)=>(C(),_(f(Te).Root,{class:"flex flex-col gap-1.5"},{default:F(()=>[r.label?(C(),_(f(Te).Label,{key:0,class:"text-sm font-medium"},{default:F(()=>[at(it(t.label),1)]),_:1})):be("",!0),st(f(Te).Input,{modelValue:e.value,"onUpdate:modelValue":o[0]||(o[0]=i=>e.value=i),class:lt(["px-3 h-10 text-surface-500 ","rounded border border-gray-300","focus:outline-none focus:ring focus:ring-gray-700"])},null,8,["modelValue"])]),_:1}))}}),Wt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Ut(r,e){return C(),ct("svg",Wt,e[0]||(e[0]=[dt("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"m14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21q.512.078 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48 48 0 0 0-3.478-.397m-12 .562q.51-.088 1.022-.165m0 0a48 48 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a52 52 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a49 49 0 0 0-7.5 0"},null,-1)]))}const Hr=ut({name:"heroicons-trash",render:Ut});var Ht=function(r){if(typeof document>"u")return null;var e=Array.isArray(r)?r[0]:r;return e.ownerDocument.body},X=new WeakMap,ue=new WeakMap,ce={},we=0,Ge=function(r){return r&&(r.host||Ge(r.parentNode))},Yt=function(r,e){return e.map(function(t){if(r.contains(t))return t;var n=Ge(t);return n&&r.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",r,". Doing nothing"),null)}).filter(function(t){return!!t})},zt=function(r,e,t,n){var o=Yt(e,Array.isArray(r)?r:[r]);ce[t]||(ce[t]=new WeakMap);var i=ce[t],a=[],c=new Set,u=new Set(o),m=function(v){!v||c.has(v)||(c.add(v),m(v.parentNode))};o.forEach(m);var P=function(v){!v||u.has(v)||Array.prototype.forEach.call(v.children,function(g){if(c.has(g))P(g);else try{var D=g.getAttribute(n),O=D!==null&&D!=="false",R=(X.get(g)||0)+1,L=(i.get(g)||0)+1;X.set(g,R),i.set(g,L),a.push(g),R===1&&O&&ue.set(g,!0),L===1&&g.setAttribute(t,"true"),O||g.setAttribute(n,"true")}catch($){console.error("aria-hidden: cannot operate on ",g,$)}})};return P(e),c.clear(),we++,function(){a.forEach(function(v){var g=X.get(v)-1,D=i.get(v)-1;X.set(v,g),i.set(v,D),g||(ue.has(v)||v.removeAttribute(n),ue.delete(v)),D||v.removeAttribute(t)}),we--,we||(X=new WeakMap,X=new WeakMap,ue=new WeakMap,ce={})}},Xt=function(r,e,t){t===void 0&&(t="data-aria-hidden");var n=Array.from(Array.isArray(r)?r:[r]),o=Ht(r);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live]"))),zt(n,o,t,"aria-hidden")):function(){return null}},Zt=r=>{const e=requestAnimationFrame(()=>r());return()=>cancelAnimationFrame(e)};function Jt(r,e={}){const{defer:t=!0}=e,n=t?Zt:i=>i(),o=[];return o.push(n(()=>{const a=(typeof r=="function"?r():r).filter(Boolean);o.push(Xt(a))})),()=>{o.forEach(i=>i==null?void 0:i())}}var Pe="data-scroll-lock";function Ne(r,e){if(!r)return;const t=r.style.cssText;return Object.assign(r.style,e),()=>{r.style.cssText=t}}function Qt(r,e,t){if(!r)return;const n=r.style.getPropertyValue(e);return r.style.setProperty(e,t),()=>{n?r.style.setProperty(e,n):r.style.removeProperty(e)}}function er(r){const e=r.getBoundingClientRect().left;return Math.round(e)+r.scrollLeft?"paddingLeft":"paddingRight"}function tr(r){const e=r??document,t=e.defaultView??window,{documentElement:n,body:o}=e;if(o.hasAttribute(Pe))return;o.setAttribute(Pe,"");const a=t.innerWidth-n.clientWidth,c=()=>Qt(n,"--scrollbar-width",`${a}px`),u=er(n),m=()=>Ne(o,{overflow:"hidden",[u]:`${a}px`}),P=()=>{const{scrollX:g,scrollY:D,visualViewport:O}=t,R=(O==null?void 0:O.offsetLeft)??0,L=(O==null?void 0:O.offsetTop)??0,$=Ne(o,{position:"fixed",overflow:"hidden",top:`${-(D-Math.floor(L))}px`,left:`${-(g-Math.floor(R))}px`,right:"0",[u]:`${a}px`});return()=>{$==null||$(),t.scrollTo({left:g,top:D,behavior:"instant"})}},v=[c(),pt()?P():m()];return()=>{v.forEach(g=>g==null?void 0:g()),o.removeAttribute(Pe)}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var qe=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],pe=qe.join(","),We=typeof Element>"u",U=We?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,fe=!We&&Element.prototype.getRootNode?function(r){var e;return r==null||(e=r.getRootNode)===null||e===void 0?void 0:e.call(r)}:function(r){return r==null?void 0:r.ownerDocument},ve=function r(e,t){var n;t===void 0&&(t=!0);var o=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),i=o===""||o==="true",a=i||t&&e&&r(e.parentNode);return a},rr=function(e){var t,n=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return n===""||n==="true"},Ue=function(e,t,n){if(ve(e))return[];var o=Array.prototype.slice.apply(e.querySelectorAll(pe));return t&&U.call(e,pe)&&o.unshift(e),o=o.filter(n),o},He=function r(e,t,n){for(var o=[],i=Array.from(e);i.length;){var a=i.shift();if(!ve(a,!1))if(a.tagName==="SLOT"){var c=a.assignedElements(),u=c.length?c:a.children,m=r(u,!0,n);n.flatten?o.push.apply(o,m):o.push({scopeParent:a,candidates:m})}else{var P=U.call(a,pe);P&&n.filter(a)&&(t||!e.includes(a))&&o.push(a);var v=a.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(a),g=!ve(v,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(a));if(v&&g){var D=r(v===!0?a.children:v.children,!0,n);n.flatten?o.push.apply(o,D):o.push({scopeParent:a,candidates:D})}else i.unshift.apply(i,a.children)}}return o},Ye=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},W=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||rr(e))&&!Ye(e)?0:e.tabIndex},nr=function(e,t){var n=W(e);return n<0&&t&&!Ye(e)?0:n},or=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},ze=function(e){return e.tagName==="INPUT"},ar=function(e){return ze(e)&&e.type==="hidden"},ir=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return t},sr=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]},lr=function(e){if(!e.name)return!0;var t=e.form||fe(e),n=function(c){return t.querySelectorAll('input[type="radio"][name="'+c+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=n(window.CSS.escape(e.name));else try{o=n(e.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var i=sr(o,e.form);return!i||i===e},ur=function(e){return ze(e)&&e.type==="radio"},cr=function(e){return ur(e)&&!lr(e)},dr=function(e){var t,n=e&&fe(e),o=(t=n)===null||t===void 0?void 0:t.host,i=!1;if(n&&n!==e){var a,c,u;for(i=!!((a=o)!==null&&a!==void 0&&(c=a.ownerDocument)!==null&&c!==void 0&&c.contains(o)||e!=null&&(u=e.ownerDocument)!==null&&u!==void 0&&u.contains(e));!i&&o;){var m,P,v;n=fe(o),o=(m=n)===null||m===void 0?void 0:m.host,i=!!((P=o)!==null&&P!==void 0&&(v=P.ownerDocument)!==null&&v!==void 0&&v.contains(o))}}return i},Se=function(e){var t=e.getBoundingClientRect(),n=t.width,o=t.height;return n===0&&o===0},pr=function(e,t){var n=t.displayCheck,o=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var i=U.call(e,"details>summary:first-of-type"),a=i?e.parentElement:e;if(U.call(a,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof o=="function"){for(var c=e;e;){var u=e.parentElement,m=fe(e);if(u&&!u.shadowRoot&&o(u)===!0)return Se(e);e.assignedSlot?e=e.assignedSlot:!u&&m!==e.ownerDocument?e=m.host:e=u}e=c}if(dr(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return Se(e);return!1},fr=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var n=0;n<t.children.length;n++){var o=t.children.item(n);if(o.tagName==="LEGEND")return U.call(t,"fieldset[disabled] *")?!0:!o.contains(e)}return!0}t=t.parentElement}return!1},ge=function(e,t){return!(t.disabled||ve(t)||ar(t)||pr(t,e)||ir(t)||fr(t))},Oe=function(e,t){return!(cr(t)||W(t)<0||!ge(e,t))},vr=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},gr=function r(e){var t=[],n=[];return e.forEach(function(o,i){var a=!!o.scopeParent,c=a?o.scopeParent:o,u=nr(c,a),m=a?r(o.candidates):c;u===0?a?t.push.apply(t,m):t.push(c):n.push({documentOrder:i,tabIndex:u,item:o,isScope:a,content:m})}),n.sort(or).reduce(function(o,i){return i.isScope?o.push.apply(o,i.content):o.push(i.content),o},[]).concat(t)},br=function(e,t){t=t||{};var n;return t.getShadowRoot?n=He([e],t.includeContainer,{filter:Oe.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:vr}):n=Ue(e,t.includeContainer,Oe.bind(null,t)),gr(n)},hr=function(e,t){t=t||{};var n;return t.getShadowRoot?n=He([e],t.includeContainer,{filter:ge.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):n=Ue(e,t.includeContainer,ge.bind(null,t)),n},Z=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return U.call(e,pe)===!1?!1:Oe(t,e)},mr=qe.concat("iframe").join(","),Ce=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return U.call(e,mr)===!1?!1:ge(t,e)};/*!
* focus-trap 7.6.0
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function yr(r,e,t){return(e=Tr(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function ke(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,n)}return t}function De(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ke(Object(t),!0).forEach(function(n){yr(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ke(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Er(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Tr(r){var e=Er(r,"string");return typeof e=="symbol"?e:e+""}var Ae={activateTrap:function(e,t){if(e.length>0){var n=e[e.length-1];n!==t&&n.pause()}var o=e.indexOf(t);o===-1||e.splice(o,1),e.push(t)},deactivateTrap:function(e,t){var n=e.indexOf(t);n!==-1&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}},wr=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},Pr=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},oe=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},Cr=function(e){return oe(e)&&!e.shiftKey},Or=function(e){return oe(e)&&e.shiftKey},Be=function(e){return setTimeout(e,0)},Re=function(e,t){var n=-1;return e.every(function(o,i){return t(o)?(n=i,!1):!0}),n},ne=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return typeof e=="function"?e.apply(void 0,n):e},de=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},_r=[],Fr=function(e,t){var n=(t==null?void 0:t.document)||document,o=(t==null?void 0:t.trapStack)||_r,i=De({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:Cr,isKeyBackward:Or},t),a={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},c,u=function(s,l,d){return s&&s[l]!==void 0?s[l]:i[d||l]},m=function(s,l){var d=typeof(l==null?void 0:l.composedPath)=="function"?l.composedPath():void 0;return a.containerGroups.findIndex(function(b){var h=b.container,T=b.tabbableNodes;return h.contains(s)||(d==null?void 0:d.includes(h))||T.find(function(N){return N===s})})},P=function(s){var l=i[s];if(typeof l=="function"){for(var d=arguments.length,b=new Array(d>1?d-1:0),h=1;h<d;h++)b[h-1]=arguments[h];l=l.apply(void 0,b)}if(l===!0&&(l=void 0),!l){if(l===void 0||l===!1)return l;throw new Error("`".concat(s,"` was specified but was not a node, or did not return a node"))}var T=l;if(typeof l=="string"&&(T=n.querySelector(l),!T))throw new Error("`".concat(s,"` as selector refers to no known node"));return T},v=function(){var s=P("initialFocus");if(s===!1)return!1;if(s===void 0||!Ce(s,i.tabbableOptions))if(m(n.activeElement)>=0)s=n.activeElement;else{var l=a.tabbableGroups[0],d=l&&l.firstTabbableNode;s=d||P("fallbackFocus")}if(!s)throw new Error("Your focus-trap needs to have at least one focusable element");return s},g=function(){if(a.containerGroups=a.containers.map(function(s){var l=br(s,i.tabbableOptions),d=hr(s,i.tabbableOptions),b=l.length>0?l[0]:void 0,h=l.length>0?l[l.length-1]:void 0,T=d.find(function(A){return Z(A)}),N=d.slice().reverse().find(function(A){return Z(A)}),B=!!l.find(function(A){return W(A)>0});return{container:s,tabbableNodes:l,focusableNodes:d,posTabIndexesFound:B,firstTabbableNode:b,lastTabbableNode:h,firstDomTabbableNode:T,lastDomTabbableNode:N,nextTabbableNode:function(G){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,K=l.indexOf(G);return K<0?te?d.slice(d.indexOf(G)+1).find(function(re){return Z(re)}):d.slice(0,d.indexOf(G)).reverse().find(function(re){return Z(re)}):l[K+(te?1:-1)]}}}),a.tabbableGroups=a.containerGroups.filter(function(s){return s.tabbableNodes.length>0}),a.tabbableGroups.length<=0&&!P("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(a.containerGroups.find(function(s){return s.posTabIndexesFound})&&a.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},D=function(s){var l=s.activeElement;if(l)return l.shadowRoot&&l.shadowRoot.activeElement!==null?D(l.shadowRoot):l},O=function(s){if(s!==!1&&s!==D(document)){if(!s||!s.focus){O(v());return}s.focus({preventScroll:!!i.preventScroll}),a.mostRecentlyFocusedNode=s,wr(s)&&s.select()}},R=function(s){var l=P("setReturnFocus",s);return l||(l===!1?!1:s)},L=function(s){var l=s.target,d=s.event,b=s.isBackward,h=b===void 0?!1:b;l=l||de(d),g();var T=null;if(a.tabbableGroups.length>0){var N=m(l,d),B=N>=0?a.containerGroups[N]:void 0;if(N<0)h?T=a.tabbableGroups[a.tabbableGroups.length-1].lastTabbableNode:T=a.tabbableGroups[0].firstTabbableNode;else if(h){var A=Re(a.tabbableGroups,function(me){var ye=me.firstTabbableNode;return l===ye});if(A<0&&(B.container===l||Ce(l,i.tabbableOptions)&&!Z(l,i.tabbableOptions)&&!B.nextTabbableNode(l,!1))&&(A=N),A>=0){var G=A===0?a.tabbableGroups.length-1:A-1,te=a.tabbableGroups[G];T=W(l)>=0?te.lastTabbableNode:te.lastDomTabbableNode}else oe(d)||(T=B.nextTabbableNode(l,!1))}else{var K=Re(a.tabbableGroups,function(me){var ye=me.lastTabbableNode;return l===ye});if(K<0&&(B.container===l||Ce(l,i.tabbableOptions)&&!Z(l,i.tabbableOptions)&&!B.nextTabbableNode(l))&&(K=N),K>=0){var re=K===a.tabbableGroups.length-1?0:K+1,_e=a.tabbableGroups[re];T=W(l)>=0?_e.firstTabbableNode:_e.firstDomTabbableNode}else oe(d)||(T=B.nextTabbableNode(l))}}else T=P("fallbackFocus");return T},$=function(s){var l=de(s);if(!(m(l,s)>=0)){if(ne(i.clickOutsideDeactivates,s)){c.deactivate({returnFocus:i.returnFocusOnDeactivate});return}ne(i.allowOutsideClick,s)||s.preventDefault()}},ae=function(s){var l=de(s),d=m(l,s)>=0;if(d||l instanceof Document)d&&(a.mostRecentlyFocusedNode=l);else{s.stopImmediatePropagation();var b,h=!0;if(a.mostRecentlyFocusedNode)if(W(a.mostRecentlyFocusedNode)>0){var T=m(a.mostRecentlyFocusedNode),N=a.containerGroups[T].tabbableNodes;if(N.length>0){var B=N.findIndex(function(A){return A===a.mostRecentlyFocusedNode});B>=0&&(i.isKeyForward(a.recentNavEvent)?B+1<N.length&&(b=N[B+1],h=!1):B-1>=0&&(b=N[B-1],h=!1))}}else a.containerGroups.some(function(A){return A.tabbableNodes.some(function(G){return W(G)>0})})||(h=!1);else h=!1;h&&(b=L({target:a.mostRecentlyFocusedNode,isBackward:i.isKeyBackward(a.recentNavEvent)})),O(b||a.mostRecentlyFocusedNode||v())}a.recentNavEvent=void 0},he=function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;a.recentNavEvent=s;var d=L({event:s,isBackward:l});d&&(oe(s)&&s.preventDefault(),O(d))},ie=function(s){(i.isKeyForward(s)||i.isKeyBackward(s))&&he(s,i.isKeyBackward(s))},se=function(s){Pr(s)&&ne(i.escapeDeactivates,s)!==!1&&(s.preventDefault(),c.deactivate())},Y=function(s){var l=de(s);m(l,s)>=0||ne(i.clickOutsideDeactivates,s)||ne(i.allowOutsideClick,s)||(s.preventDefault(),s.stopImmediatePropagation())},J=function(){if(a.active)return Ae.activateTrap(o,c),a.delayInitialFocusTimer=i.delayInitialFocus?Be(function(){O(v())}):O(v()),n.addEventListener("focusin",ae,!0),n.addEventListener("mousedown",$,{capture:!0,passive:!1}),n.addEventListener("touchstart",$,{capture:!0,passive:!1}),n.addEventListener("click",Y,{capture:!0,passive:!1}),n.addEventListener("keydown",ie,{capture:!0,passive:!1}),n.addEventListener("keydown",se),c},Q=function(){if(a.active)return n.removeEventListener("focusin",ae,!0),n.removeEventListener("mousedown",$,!0),n.removeEventListener("touchstart",$,!0),n.removeEventListener("click",Y,!0),n.removeEventListener("keydown",ie,!0),n.removeEventListener("keydown",se),c},le=function(s){var l=s.some(function(d){var b=Array.from(d.removedNodes);return b.some(function(h){return h===a.mostRecentlyFocusedNode})});l&&O(v())},z=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(le):void 0,ee=function(){z&&(z.disconnect(),a.active&&!a.paused&&a.containers.map(function(s){z.observe(s,{subtree:!0,childList:!0})}))};return c={get active(){return a.active},get paused(){return a.paused},activate:function(s){if(a.active)return this;var l=u(s,"onActivate"),d=u(s,"onPostActivate"),b=u(s,"checkCanFocusTrap");b||g(),a.active=!0,a.paused=!1,a.nodeFocusedBeforeActivation=n.activeElement,l==null||l();var h=function(){b&&g(),J(),ee(),d==null||d()};return b?(b(a.containers.concat()).then(h,h),this):(h(),this)},deactivate:function(s){if(!a.active)return this;var l=De({onDeactivate:i.onDeactivate,onPostDeactivate:i.onPostDeactivate,checkCanReturnFocus:i.checkCanReturnFocus},s);clearTimeout(a.delayInitialFocusTimer),a.delayInitialFocusTimer=void 0,Q(),a.active=!1,a.paused=!1,ee(),Ae.deactivateTrap(o,c);var d=u(l,"onDeactivate"),b=u(l,"onPostDeactivate"),h=u(l,"checkCanReturnFocus"),T=u(l,"returnFocus","returnFocusOnDeactivate");d==null||d();var N=function(){Be(function(){T&&O(R(a.nodeFocusedBeforeActivation)),b==null||b()})};return T&&h?(h(R(a.nodeFocusedBeforeActivation)).then(N,N),this):(N(),this)},pause:function(s){if(a.paused||!a.active)return this;var l=u(s,"onPause"),d=u(s,"onPostPause");return a.paused=!0,l==null||l(),Q(),ee(),d==null||d(),this},unpause:function(s){if(!a.paused||!a.active)return this;var l=u(s,"onUnpause"),d=u(s,"onPostUnpause");return a.paused=!1,l==null||l(),g(),J(),ee(),d==null||d(),this},updateContainerElements:function(s){var l=[].concat(s).filter(Boolean);return a.containers=l.map(function(d){return typeof d=="string"?n.querySelector(d):d}),a.active&&g(),ee(),this}},c.updateContainerElements(e),c},Ir=$e("popover").parts("arrow","arrowTip","anchor","trigger","indicator","positioner","content","title","description","closeTrigger"),M=Ir.build(),p=ft({getAnchorId:r=>{var e;return((e=r.ids)==null?void 0:e.anchor)??`popover:${r.id}:anchor`},getTriggerId:r=>{var e;return((e=r.ids)==null?void 0:e.trigger)??`popover:${r.id}:trigger`},getContentId:r=>{var e;return((e=r.ids)==null?void 0:e.content)??`popover:${r.id}:content`},getPositionerId:r=>{var e;return((e=r.ids)==null?void 0:e.positioner)??`popover:${r.id}:popper`},getArrowId:r=>{var e;return((e=r.ids)==null?void 0:e.arrow)??`popover:${r.id}:arrow`},getTitleId:r=>{var e;return((e=r.ids)==null?void 0:e.title)??`popover:${r.id}:title`},getDescriptionId:r=>{var e;return((e=r.ids)==null?void 0:e.description)??`popover:${r.id}:desc`},getCloseTriggerId:r=>{var e;return((e=r.ids)==null?void 0:e.closeTrigger)??`popover:${r.id}:close`},getAnchorEl:r=>p.getById(r,p.getAnchorId(r)),getTriggerEl:r=>p.getById(r,p.getTriggerId(r)),getContentEl:r=>p.getById(r,p.getContentId(r)),getPositionerEl:r=>p.getById(r,p.getPositionerId(r)),getTitleEl:r=>p.getById(r,p.getTitleId(r)),getDescriptionEl:r=>p.getById(r,p.getDescriptionId(r)),getFocusableEls:r=>mt(p.getContentEl(r)),getFirstFocusableEl:r=>p.getFocusableEls(r)[0]});function Nr(r,e,t){const n=r.matches("open"),o=r.context.currentPlacement,i=r.context.currentPortalled,a=r.context.renderedElements,c=vt({...r.context.positioning,placement:o});return{portalled:i,open:n,setOpen(u){u!==n&&e(u?"OPEN":"CLOSE")},reposition(u={}){e({type:"POSITIONING.SET",options:u})},getArrowProps(){return t.element({id:p.getArrowId(r.context),...M.arrow.attrs,dir:r.context.dir,style:c.arrow})},getArrowTipProps(){return t.element({...M.arrowTip.attrs,dir:r.context.dir,style:c.arrowTip})},getAnchorProps(){return t.element({...M.anchor.attrs,dir:r.context.dir,id:p.getAnchorId(r.context)})},getTriggerProps(){return t.button({...M.trigger.attrs,dir:r.context.dir,type:"button","data-placement":o,id:p.getTriggerId(r.context),"aria-haspopup":"dialog","aria-expanded":n,"data-state":n?"open":"closed","aria-controls":p.getContentId(r.context),onClick(u){u.defaultPrevented||e("TOGGLE")},onBlur(u){e({type:"TRIGGER_BLUR",target:u.relatedTarget})}})},getIndicatorProps(){return t.element({...M.indicator.attrs,dir:r.context.dir,"data-state":n?"open":"closed"})},getPositionerProps(){return t.element({id:p.getPositionerId(r.context),...M.positioner.attrs,dir:r.context.dir,style:c.floating})},getContentProps(){return t.element({...M.content.attrs,dir:r.context.dir,id:p.getContentId(r.context),tabIndex:-1,role:"dialog",hidden:!n,"data-state":n?"open":"closed","data-expanded":V(n),"aria-labelledby":a.title?p.getTitleId(r.context):void 0,"aria-describedby":a.description?p.getDescriptionId(r.context):void 0,"data-placement":o})},getTitleProps(){return t.element({...M.title.attrs,id:p.getTitleId(r.context),dir:r.context.dir})},getDescriptionProps(){return t.element({...M.description.attrs,id:p.getDescriptionId(r.context),dir:r.context.dir})},getCloseTriggerProps(){return t.button({...M.closeTrigger.attrs,dir:r.context.dir,id:p.getCloseTriggerId(r.context),type:"button","aria-label":"close",onClick(u){u.defaultPrevented||e("CLOSE")}})}}}function Sr(r){const e=gt(r);return bt({id:"popover",initial:e.open?"open":"closed",context:{closeOnInteractOutside:!0,closeOnEscape:!0,autoFocus:!0,modal:!1,portalled:!0,positioning:{placement:"bottom",...e.positioning},currentPlacement:void 0,...e,renderedElements:{title:!0,description:!0}},computed:{currentPortalled:t=>!!t.modal||!!t.portalled},watch:{open:["toggleVisibility"]},entry:["checkRenderedElements"],states:{closed:{on:{"CONTROLLED.OPEN":{target:"open",actions:["setInitialFocus"]},TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}]}},open:{activities:["trapFocus","preventScroll","hideContentBelow","trackPositioning","trackDismissableElement","proxyTabFocus"],on:{"CONTROLLED.CLOSE":{target:"closed",actions:["setFinalFocus"]},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose","setFinalFocus"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"POSITIONING.SET":{actions:"reposition"}}}}},{guards:{isOpenControlled:t=>!!t["open.controlled"]},activities:{trackPositioning(t){t.currentPlacement=t.positioning.placement;const n=p.getAnchorEl(t)??p.getTriggerEl(t);return Fe(n,()=>p.getPositionerEl(t),{...t.positioning,defer:!0,onComplete(i){t.currentPlacement=i.placement}})},trackDismissableElement(t,n,{send:o}){const i=()=>p.getContentEl(t);let a=!0;return yt(i,{pointerBlocking:t.modal,exclude:p.getTriggerEl(t),defer:!0,onEscapeKeyDown(c){var u;(u=t.onEscapeKeyDown)==null||u.call(t,c),!t.closeOnEscape&&c.preventDefault()},onInteractOutside(c){var u;(u=t.onInteractOutside)==null||u.call(t,c),!c.defaultPrevented&&(a=!(c.detail.focusable||c.detail.contextmenu),t.closeOnInteractOutside||c.preventDefault())},onPointerDownOutside:t.onPointerDownOutside,onFocusOutside:t.onFocusOutside,persistentElements:t.persistentElements,onDismiss(){o({type:"CLOSE",src:"interact-outside",restoreFocus:a})}})},proxyTabFocus(t){return t.modal||!t.portalled?void 0:Et(()=>p.getContentEl(t),{triggerElement:p.getTriggerEl(t),defer:!0,onFocus(o){o.focus({preventScroll:!0})}})},hideContentBelow(t){return t.modal?Jt(()=>[p.getContentEl(t),p.getTriggerEl(t)],{defer:!0}):void 0},preventScroll(t){if(t.modal)return tr(p.getDoc(t))},trapFocus(t){if(!t.modal)return;let n;return Tt(()=>{const o=p.getContentEl(t);if(o){n=Fr(o,{escapeDeactivates:!1,allowOutsideClick:!0,preventScroll:!0,returnFocusOnDeactivate:!0,document:p.getDoc(t),fallbackFocus:o,initialFocus:Ie({root:p.getContentEl(t),getInitialEl:t.initialFocusEl,enabled:t.autoFocus})});try{n.activate()}catch{}}}),()=>n==null?void 0:n.deactivate()}},actions:{reposition(t,n){const o=p.getAnchorEl(t)??p.getTriggerEl(t);Fe(o,()=>p.getPositionerEl(t),{...t.positioning,...n.options,defer:!0,listeners:!1,onComplete(a){t.currentPlacement=a.placement}})},checkRenderedElements(t){Ee(()=>{Object.assign(t.renderedElements,{title:!!p.getTitleEl(t),description:!!p.getDescriptionEl(t)})})},setInitialFocus(t){t.modal||Ee(()=>{const n=Ie({root:p.getContentEl(t),getInitialEl:t.initialFocusEl,enabled:t.autoFocus});n==null||n.focus({preventScroll:!0})})},setFinalFocus(t,n){var i;const o=n.restoreFocus??((i=n.previousEvent)==null?void 0:i.restoreFocus);o!=null&&!o||Ee(()=>{const a=p.getTriggerEl(t);a==null||a.focus({preventScroll:!0})})},invokeOnOpen(t){var n;(n=t.onOpenChange)==null||n.call(t,{open:!0})},invokeOnClose(t){var n;(n=t.onOpenChange)==null||n.call(t,{open:!1})},toggleVisibility(t,n,{send:o}){o({type:t.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:n})}}})}ht()(["autoFocus","closeOnEscape","closeOnInteractOutside","dir","getRootNode","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","open.controlled","open","persistentElements","portalled","positioning"]);const kr=(r,e)=>{const t=wt(),n=Pt(),o=Ct(Ot),i=j(()=>({id:t,dir:o.value.dir,open:r.open??r.defaultOpen,"open.controlled":r.open!==void 0,getRootNode:n==null?void 0:n.value.getRootNode,onOpenChange:u=>{e==null||e("openChange",u),e==null||e("update:open",u.open)},onEscapeKeyDown:u=>e==null?void 0:e("escapeKeyDown",u),onFocusOutside:u=>e==null?void 0:e("focusOutside",u),onInteractOutside:u=>e==null?void 0:e("interactOutside",u),onPointerDownOutside:u=>e==null?void 0:e("pointerDownOutside",u),..._t(r)})),[a,c]=Ft(Sr(i.value),{context:i});return j(()=>Nr(a.value,c,It))},[Xe,x]=Le("PopoverContext"),Dr=E({__name:"popover-anchor",props:{asChild:{type:Boolean}},setup(r){const e=x();return I(),(t,n)=>(C(),_(f(k).div,S(f(e).getAnchorProps(),{"as-child":t.asChild}),{default:F(()=>[w(t.$slots,"default")]),_:3},16,["as-child"]))}}),Ar=E({__name:"popover-arrow-tip",props:{asChild:{type:Boolean}},setup(r){const e=x();return I(),(t,n)=>(C(),_(f(k).div,S(f(e).getArrowTipProps(),{"as-child":t.asChild}),{default:F(()=>[w(t.$slots,"default")]),_:3},16,["as-child"]))}}),Br=E({__name:"popover-arrow",props:{asChild:{type:Boolean}},setup(r){const e=x();return I(),(t,n)=>(C(),_(f(k).div,S(f(e).getArrowProps(),{"as-child":t.asChild}),{default:F(()=>[w(t.$slots,"default")]),_:3},16,["as-child"]))}}),Rr=E({__name:"popover-close-trigger",props:{asChild:{type:Boolean}},setup(r){const e=x();return I(),(t,n)=>(C(),_(f(k).button,S(f(e).getCloseTriggerProps(),{"as-child":t.asChild}),{default:F(()=>[w(t.$slots,"default")]),_:3},16,["as-child"]))}}),$r=E({__name:"popover-content",props:{asChild:{type:Boolean}},setup(r){const e=x(),t=Nt(),n=j(()=>St(e.value.getContentProps(),t.value.presenceProps));return I(),(o,i)=>f(t).unmounted?be("",!0):(C(),_(f(k).div,S({key:0},n.value,{"as-child":o.asChild}),{default:F(()=>[w(o.$slots,"default")]),_:3},16,["as-child"]))}}),Lr=E({__name:"popover-context",setup(r){const e=x();return(t,n)=>w(t.$slots,"default",Me(Ve(f(e))))}}),xr=E({__name:"popover-description",props:{asChild:{type:Boolean}},setup(r){const e=x();return I(),(t,n)=>(C(),_(f(k).div,S(f(e).getDescriptionProps(),{"as-child":t.asChild}),{default:F(()=>[w(t.$slots,"default")]),_:3},16,["as-child"]))}}),Mr=E({__name:"popover-indicator",props:{asChild:{type:Boolean}},setup(r){const e=x();return I(),(t,n)=>(C(),_(f(k).div,S(f(e).getIndicatorProps(),{"as-child":t.asChild}),{default:F(()=>[w(t.$slots,"default")]),_:3},16,["as-child"]))}}),Vr=E({__name:"popover-positioner",props:{asChild:{type:Boolean}},setup(r){const e=x(),t=kt(),n=Dt(j(()=>({...t.value,present:e.value.open})));return At(n),I(),(o,i)=>f(n).unmounted?be("",!0):(C(),_(f(k).div,S({key:0},f(e).getPositionerProps(),{"as-child":o.asChild}),{default:F(()=>[w(o.$slots,"default")]),_:3},16,["as-child"]))}}),jr=E({__name:"popover-root-provider",props:{value:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean}},setup(r){const e=r,t=j(()=>e.value);return Xe(t),je(j(()=>({lazyMount:e.lazyMount,unmountOnExit:e.unmountOnExit}))),I(),(n,o)=>w(n.$slots,"default")}}),Kr=E({__name:"popover-root",props:xe({autoFocus:{type:Boolean},closeOnEscape:{type:Boolean},closeOnInteractOutside:{type:Boolean},defaultOpen:{type:Boolean},id:{},ids:{},initialFocusEl:{type:Function},modal:{type:Boolean},open:{type:Boolean},persistentElements:{},portalled:{type:Boolean},positioning:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean}},{autoFocus:void 0,closeOnEscape:void 0,closeOnInteractOutside:void 0,defaultOpen:void 0,modal:void 0,open:void 0,portalled:void 0}),emits:["escapeKeyDown","focusOutside","interactOutside","openChange","pointerDownOutside","update:open"],setup(r,{emit:e}){const t=r,o=kr(t,e);return Xe(o),je(j(()=>({lazyMount:t.lazyMount,unmountOnExit:t.unmountOnExit}))),I(),(i,a)=>w(i.$slots,"default")}}),Gr=E({__name:"popover-title",props:{asChild:{type:Boolean}},setup(r){const e=x();return I(),(t,n)=>(C(),_(f(k).div,S(f(e).getTitleProps(),{"as-child":t.asChild}),{default:F(()=>[w(t.$slots,"default")]),_:3},16,["as-child"]))}}),qr=E({__name:"popover-trigger",props:{asChild:{type:Boolean}},setup(r){const e=x();return I(),(t,n)=>(C(),_(f(k).button,S(f(e).getTriggerProps(),{"as-child":t.asChild}),{default:F(()=>[w(t.$slots,"default")]),_:3},16,["as-child"]))}}),Yr=Object.freeze(Object.defineProperty({__proto__:null,Anchor:Dr,Arrow:Br,ArrowTip:Ar,CloseTrigger:Rr,Content:$r,Context:Lr,Description:xr,Indicator:Mr,Positioner:Vr,Root:Kr,RootProvider:jr,Title:Gr,Trigger:qr},Symbol.toStringTag,{value:"Module"}));export{Te as F,Yr as P,Hr as _,Ur as a,Jt as b,Fr as c,tr as p,H as u};

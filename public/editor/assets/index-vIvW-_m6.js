import{r as M,a as G,p as z,c as K,_ as V}from"./focus-trap.esm-Du7aTJAV.js";import{d as g,u as U,o as u,c as I,a as f,b as y,t as R,w as D,e as S,f as _,g as j,h as H,F as q,r as J,i as Q,j as W,k as X,l as Y,m as Z,n as ee,p as te,q as oe,s as ne,v as B,x as re,y as se,z as ie,A as F,B as A,C as ae,D as le,E as ce,G as de,H as T,I as pe,J as ue,K as ge,L as ve,M as E,N as m,O as h,P,Q as l,R as b,S as fe,T as me,U as _e,V as he,W as Ee,X as Oe,Y as Ce,Z as L,_ as ye,$ as Pe,a0 as be,a1 as Ie}from"./index-T6PvvqwX.js";import{r as Te,a as Se,b as $e,S as we,c as Fe}from"./sortable.core.esm-CpnGq8Mt.js";const ke=["data-disabled"],De={class:"handle flex-none py-2 px-1 rounded-md hover:bg-zinc-200 cursor-move"},Be={class:"w-0 flex-1 truncate"},Ae=g({__name:"Section",props:{section:null,static:{type:Boolean,default:!1}},emits:["activate","deactivate","toggle","remove"],setup(t,{emit:o}){const e=U(),n=o,s=t;function c(){e.push(s.section.id)}return(d,a)=>{const i=Te,p=M,v=Se,$=$e;return u(),I("div",{class:"",onMouseenter:a[2]||(a[2]=w=>n("activate")),onMouseleave:a[3]||(a[3]=w=>n("deactivate"))},[f("div",{class:"flex rounded border border-zinc-100 hover:bg-zinc-100 cursor-pointer active:ring-inset active:ring-2 active:ring-gray-700 data-[disabled=true]:text-zinc-500","data-disabled":t.section.disabled},[f("button",De,[y(i,{class:"inline w-3"})]),f("div",{onClick:c,class:"group mx-2 py-2 pr-1 text-sm flex-1 flex items-center max-w-full"},[f("div",Be,R(s.section.name),1),t.static?S("",!0):(u(),I("button",{key:0,onClick:a[0]||(a[0]=D(w=>n("remove"),["stop"])),class:"flex-none cursor-pointer invisible group-hover:visible py-[1px] px-[2px] rounded-md hover:bg-zinc-200"},[y(p,{class:"inline w-4"})])),f("button",{onClick:a[1]||(a[1]=D(w=>n("toggle"),["stop"])),class:"flex-none cursor-pointer invisible group-hover:visible py-[1px] px-[2px] rounded-md hover:bg-zinc-200 ml-1"},[t.section.disabled?(u(),_($,{key:1,class:"inline w-4"})):(u(),_(v,{key:0,class:"inline w-4"}))])])],8,ke)],32)}}}),Re={class:"pb-3"},Le={class:"text-sm font-semibold p-3"},Ne={key:0,class:"text-sm px-3"},xe={key:1,class:"space-y-2 mt-4 px-3"},Me=g({__name:"SectionsGroup",props:{title:null,sections:null,order:{default:()=>[]},static:{type:Boolean,default:!1}},emits:["reorder","addSection","toggleSection","removeSection","activateSection","deactivateSection"],setup(t,{emit:o}){const e=t,n=o,s=j("sortable");return H(()=>{new we(s.value,{animation:150,ghostClass:"sortable-ghost",onEnd({newIndex:c,oldIndex:d}){const a=[...e.order],i=a.splice(d,1)[0];a.splice(c,0,i),n("reorder",a)}})}),(c,d)=>{const a=Ae,i=Fe;return u(),I("div",Re,[f("h2",Le,R(t.title),1),f("div",{ref_key:"sortable",ref:s,class:"space-y-1 px-3"},[t.sections.length>0?(u(!0),I(q,{key:0},J(t.sections,p=>(u(),_(a,{key:p.id,static:t.static,section:p,onToggle:v=>n("toggleSection",p.id),onRemove:v=>n("removeSection",p.id),onActivate:v=>n("activateSection",p.id),onDeactivate:v=>n("deactivateSection",p.id)},null,8,["static","section","onToggle","onRemove","onActivate","onDeactivate"]))),128)):S("",!0)],512),t.static?(u(),I("p",Ne,"No sections")):S("",!0),e.static?S("",!0):(u(),I("div",xe,[f("button",{class:"block w-full !text-left",onClick:d[0]||(d[0]=p=>n("addSection",p))},[y(i,{class:"w-4 h-4 inline mr-1"}),d[1]||(d[1]=Q(" Add Section "))])]))])}}});var Ge=W("popover").parts("arrow","arrowTip","anchor","trigger","indicator","positioner","content","title","description","closeTrigger"),C=Ge.build(),r=X({getAnchorId:t=>{var o;return((o=t.ids)==null?void 0:o.anchor)??`popover:${t.id}:anchor`},getTriggerId:t=>{var o;return((o=t.ids)==null?void 0:o.trigger)??`popover:${t.id}:trigger`},getContentId:t=>{var o;return((o=t.ids)==null?void 0:o.content)??`popover:${t.id}:content`},getPositionerId:t=>{var o;return((o=t.ids)==null?void 0:o.positioner)??`popover:${t.id}:popper`},getArrowId:t=>{var o;return((o=t.ids)==null?void 0:o.arrow)??`popover:${t.id}:arrow`},getTitleId:t=>{var o;return((o=t.ids)==null?void 0:o.title)??`popover:${t.id}:title`},getDescriptionId:t=>{var o;return((o=t.ids)==null?void 0:o.description)??`popover:${t.id}:desc`},getCloseTriggerId:t=>{var o;return((o=t.ids)==null?void 0:o.closeTrigger)??`popover:${t.id}:close`},getAnchorEl:t=>r.getById(t,r.getAnchorId(t)),getTriggerEl:t=>r.getById(t,r.getTriggerId(t)),getContentEl:t=>r.getById(t,r.getContentId(t)),getPositionerEl:t=>r.getById(t,r.getPositionerId(t)),getTitleEl:t=>r.getById(t,r.getTitleId(t)),getDescriptionEl:t=>r.getById(t,r.getDescriptionId(t)),getFocusableEls:t=>ne(r.getContentEl(t)),getFirstFocusableEl:t=>r.getFocusableEls(t)[0]});function ze(t,o,e){const n=t.matches("open"),s=t.context.currentPlacement,c=t.context.currentPortalled,d=t.context.renderedElements,a=Y({...t.context.positioning,placement:s});return{portalled:c,open:n,setOpen(i){i!==n&&o(i?"OPEN":"CLOSE")},reposition(i={}){o({type:"POSITIONING.SET",options:i})},getArrowProps(){return e.element({id:r.getArrowId(t.context),...C.arrow.attrs,dir:t.context.dir,style:a.arrow})},getArrowTipProps(){return e.element({...C.arrowTip.attrs,dir:t.context.dir,style:a.arrowTip})},getAnchorProps(){return e.element({...C.anchor.attrs,dir:t.context.dir,id:r.getAnchorId(t.context)})},getTriggerProps(){return e.button({...C.trigger.attrs,dir:t.context.dir,type:"button","data-placement":s,id:r.getTriggerId(t.context),"aria-haspopup":"dialog","aria-expanded":n,"data-state":n?"open":"closed","aria-controls":r.getContentId(t.context),onClick(i){i.defaultPrevented||o("TOGGLE")},onBlur(i){o({type:"TRIGGER_BLUR",target:i.relatedTarget})}})},getIndicatorProps(){return e.element({...C.indicator.attrs,dir:t.context.dir,"data-state":n?"open":"closed"})},getPositionerProps(){return e.element({id:r.getPositionerId(t.context),...C.positioner.attrs,dir:t.context.dir,style:a.floating})},getContentProps(){return e.element({...C.content.attrs,dir:t.context.dir,id:r.getContentId(t.context),tabIndex:-1,role:"dialog",hidden:!n,"data-state":n?"open":"closed","data-expanded":Z(n),"aria-labelledby":d.title?r.getTitleId(t.context):void 0,"aria-describedby":d.description?r.getDescriptionId(t.context):void 0,"data-placement":s})},getTitleProps(){return e.element({...C.title.attrs,id:r.getTitleId(t.context),dir:t.context.dir})},getDescriptionProps(){return e.element({...C.description.attrs,id:r.getDescriptionId(t.context),dir:t.context.dir})},getCloseTriggerProps(){return e.button({...C.closeTrigger.attrs,dir:t.context.dir,id:r.getCloseTriggerId(t.context),type:"button","aria-label":"close",onClick(i){i.defaultPrevented||o("CLOSE")}})}}}function Ke(t){const o=ee(t);return te({id:"popover",initial:o.open?"open":"closed",context:{closeOnInteractOutside:!0,closeOnEscape:!0,autoFocus:!0,modal:!1,portalled:!0,positioning:{placement:"bottom",...o.positioning},currentPlacement:void 0,...o,renderedElements:{title:!0,description:!0}},computed:{currentPortalled:e=>!!e.modal||!!e.portalled},watch:{open:["toggleVisibility"]},entry:["checkRenderedElements"],states:{closed:{on:{"CONTROLLED.OPEN":{target:"open",actions:["setInitialFocus"]},TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}]}},open:{activities:["trapFocus","preventScroll","hideContentBelow","trackPositioning","trackDismissableElement","proxyTabFocus"],on:{"CONTROLLED.CLOSE":{target:"closed",actions:["setFinalFocus"]},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose","setFinalFocus"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"POSITIONING.SET":{actions:"reposition"}}}}},{guards:{isOpenControlled:e=>!!e["open.controlled"]},activities:{trackPositioning(e){e.currentPlacement=e.positioning.placement;const n=r.getAnchorEl(e)??r.getTriggerEl(e);return B(n,()=>r.getPositionerEl(e),{...e.positioning,defer:!0,onComplete(c){e.currentPlacement=c.placement}})},trackDismissableElement(e,n,{send:s}){const c=()=>r.getContentEl(e);let d=!0;return re(c,{pointerBlocking:e.modal,exclude:r.getTriggerEl(e),defer:!0,onEscapeKeyDown(a){var i;(i=e.onEscapeKeyDown)==null||i.call(e,a),!e.closeOnEscape&&a.preventDefault()},onInteractOutside(a){var i;(i=e.onInteractOutside)==null||i.call(e,a),!a.defaultPrevented&&(d=!(a.detail.focusable||a.detail.contextmenu),e.closeOnInteractOutside||a.preventDefault())},onPointerDownOutside:e.onPointerDownOutside,onFocusOutside:e.onFocusOutside,persistentElements:e.persistentElements,onDismiss(){s({type:"CLOSE",src:"interact-outside",restoreFocus:d})}})},proxyTabFocus(e){return e.modal||!e.portalled?void 0:se(()=>r.getContentEl(e),{triggerElement:r.getTriggerEl(e),defer:!0,onFocus(s){s.focus({preventScroll:!0})}})},hideContentBelow(e){return e.modal?G(()=>[r.getContentEl(e),r.getTriggerEl(e)],{defer:!0}):void 0},preventScroll(e){if(e.modal)return z(r.getDoc(e))},trapFocus(e){if(!e.modal)return;let n;return ie(()=>{const s=r.getContentEl(e);if(s){n=K(s,{escapeDeactivates:!1,allowOutsideClick:!0,preventScroll:!0,returnFocusOnDeactivate:!0,document:r.getDoc(e),fallbackFocus:s,initialFocus:A({root:r.getContentEl(e),getInitialEl:e.initialFocusEl,enabled:e.autoFocus})});try{n.activate()}catch{}}}),()=>n==null?void 0:n.deactivate()}},actions:{reposition(e,n){const s=r.getAnchorEl(e)??r.getTriggerEl(e);B(s,()=>r.getPositionerEl(e),{...e.positioning,...n.options,defer:!0,listeners:!1,onComplete(d){e.currentPlacement=d.placement}})},checkRenderedElements(e){F(()=>{Object.assign(e.renderedElements,{title:!!r.getTitleEl(e),description:!!r.getDescriptionEl(e)})})},setInitialFocus(e){e.modal||F(()=>{const n=A({root:r.getContentEl(e),getInitialEl:e.initialFocusEl,enabled:e.autoFocus});n==null||n.focus({preventScroll:!0})})},setFinalFocus(e,n){var c;const s=n.restoreFocus??((c=n.previousEvent)==null?void 0:c.restoreFocus);s!=null&&!s||F(()=>{const d=r.getTriggerEl(e);d==null||d.focus({preventScroll:!0})})},invokeOnOpen(e){var n;(n=e.onOpenChange)==null||n.call(e,{open:!0})},invokeOnClose(e){var n;(n=e.onOpenChange)==null||n.call(e,{open:!1})},toggleVisibility(e,n,{send:s}){s({type:e.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:n})}}})}oe()(["autoFocus","closeOnEscape","closeOnInteractOutside","dir","getRootNode","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","open.controlled","open","persistentElements","portalled","positioning"]);const Ve=(t,o)=>{const e=ae(),n=le(),s=ce(de),c=T(()=>({id:e,dir:s.value.dir,open:t.open??t.defaultOpen,"open.controlled":t.open!==void 0,getRootNode:n==null?void 0:n.value.getRootNode,onOpenChange:i=>{o==null||o("openChange",i),o==null||o("update:open",i.open)},onEscapeKeyDown:i=>o==null?void 0:o("escapeKeyDown",i),onFocusOutside:i=>o==null?void 0:o("focusOutside",i),onInteractOutside:i=>o==null?void 0:o("interactOutside",i),onPointerDownOutside:i=>o==null?void 0:o("pointerDownOutside",i),...pe(t)})),[d,a]=ue(Ke(c.value),{context:c});return T(()=>ze(d.value,a,ge))},[N,O]=ve("PopoverContext"),Ue=g({__name:"popover-anchor",props:{asChild:{type:Boolean}},setup(t){const o=O();return E(),(e,n)=>(u(),_(l(b).div,P(l(o).getAnchorProps(),{"as-child":e.asChild}),{default:m(()=>[h(e.$slots,"default")]),_:3},16,["as-child"]))}}),je=g({__name:"popover-arrow-tip",props:{asChild:{type:Boolean}},setup(t){const o=O();return E(),(e,n)=>(u(),_(l(b).div,P(l(o).getArrowTipProps(),{"as-child":e.asChild}),{default:m(()=>[h(e.$slots,"default")]),_:3},16,["as-child"]))}}),He=g({__name:"popover-arrow",props:{asChild:{type:Boolean}},setup(t){const o=O();return E(),(e,n)=>(u(),_(l(b).div,P(l(o).getArrowProps(),{"as-child":e.asChild}),{default:m(()=>[h(e.$slots,"default")]),_:3},16,["as-child"]))}}),qe=g({__name:"popover-close-trigger",props:{asChild:{type:Boolean}},setup(t){const o=O();return E(),(e,n)=>(u(),_(l(b).button,P(l(o).getCloseTriggerProps(),{"as-child":e.asChild}),{default:m(()=>[h(e.$slots,"default")]),_:3},16,["as-child"]))}}),Je=g({__name:"popover-content",props:{asChild:{type:Boolean}},setup(t){const o=O(),e=fe(),n=T(()=>me(o.value.getContentProps(),e.value.presenceProps));return E(),(s,c)=>l(e).unmounted?S("",!0):(u(),_(l(b).div,P({key:0},n.value,{"as-child":s.asChild}),{default:m(()=>[h(s.$slots,"default")]),_:3},16,["as-child"]))}}),Qe=g({__name:"popover-context",setup(t){const o=O();return(e,n)=>h(e.$slots,"default",_e(he(l(o))))}}),We=g({__name:"popover-description",props:{asChild:{type:Boolean}},setup(t){const o=O();return E(),(e,n)=>(u(),_(l(b).div,P(l(o).getDescriptionProps(),{"as-child":e.asChild}),{default:m(()=>[h(e.$slots,"default")]),_:3},16,["as-child"]))}}),Xe=g({__name:"popover-indicator",props:{asChild:{type:Boolean}},setup(t){const o=O();return E(),(e,n)=>(u(),_(l(b).div,P(l(o).getIndicatorProps(),{"as-child":e.asChild}),{default:m(()=>[h(e.$slots,"default")]),_:3},16,["as-child"]))}}),Ye=g({__name:"popover-positioner",props:{asChild:{type:Boolean}},setup(t){const o=O(),e=Ee(),n=Oe(T(()=>({...e.value,present:o.value.open})));return Ce(n),E(),(s,c)=>l(n).unmounted?S("",!0):(u(),_(l(b).div,P({key:0},l(o).getPositionerProps(),{"as-child":s.asChild}),{default:m(()=>[h(s.$slots,"default")]),_:3},16,["as-child"]))}}),Ze=g({__name:"popover-root-provider",props:{value:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean}},setup(t){const o=t,e=T(()=>o.value);return N(e),L(T(()=>({lazyMount:o.lazyMount,unmountOnExit:o.unmountOnExit}))),E(),(n,s)=>h(n.$slots,"default")}}),et=g({__name:"popover-root",props:ye({autoFocus:{type:Boolean},closeOnEscape:{type:Boolean},closeOnInteractOutside:{type:Boolean},defaultOpen:{type:Boolean},id:{},ids:{},initialFocusEl:{type:Function},modal:{type:Boolean},open:{type:Boolean},persistentElements:{},portalled:{type:Boolean},positioning:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean}},{autoFocus:void 0,closeOnEscape:void 0,closeOnInteractOutside:void 0,defaultOpen:void 0,modal:void 0,open:void 0,portalled:void 0}),emits:["escapeKeyDown","focusOutside","interactOutside","openChange","pointerDownOutside","update:open"],setup(t,{emit:o}){const e=t,s=Ve(e,o);return N(s),L(T(()=>({lazyMount:e.lazyMount,unmountOnExit:e.unmountOnExit}))),E(),(c,d)=>h(c.$slots,"default")}}),tt=g({__name:"popover-title",props:{asChild:{type:Boolean}},setup(t){const o=O();return E(),(e,n)=>(u(),_(l(b).div,P(l(o).getTitleProps(),{"as-child":e.asChild}),{default:m(()=>[h(e.$slots,"default")]),_:3},16,["as-child"]))}}),ot=g({__name:"popover-trigger",props:{asChild:{type:Boolean}},setup(t){const o=O();return E(),(e,n)=>(u(),_(l(b).button,P(l(o).getTriggerProps(),{"as-child":e.asChild}),{default:m(()=>[h(e.$slots,"default")]),_:3},16,["as-child"]))}}),k=Object.freeze(Object.defineProperty({__proto__:null,Anchor:Ue,Arrow:He,ArrowTip:je,CloseTrigger:qe,Content:Je,Context:Qe,Description:We,Indicator:Xe,Positioner:Ye,Root:et,RootProvider:Ze,Title:tt,Trigger:ot},Symbol.toStringTag,{value:"Module"})),nt={class:"w-full h-full flex flex-col"},rt={class:"flex-1 overflow-y-auto"},lt=g({__name:"index",setup(t){const o=Pe(),e=be(!1);function n(p){e.value=!e.value}function s(p){o.setContentSectionsOrder(p)}function c(p){o.toggleSection(p)}function d(p){o.removeSection(p)}function a(p){o.activateSection(p)}function i(p){o.deactivateSection(p)}return(p,v)=>{const $=Me,w=V;return u(),I("div",nt,[v[3]||(v[3]=f("header",{class:"flex none px-4 py-3 border-b font-medium"},[f("h1",null,"Page title")],-1)),f("div",rt,[y($,{static:"",title:"Layout Header Sections",sections:l(o).beforeContentSections,onToggleSection:c,onActivateSection:a,onDeactivateSection:i},null,8,["sections"]),v[1]||(v[1]=f("hr",null,null,-1)),y($,{title:"Template Sections",order:l(o).contentSectionsOrder,sections:l(o).contentSections,onReorder:s,onAddSection:n,onToggleSection:c,onRemoveSection:d,onActivateSection:a,onDeactivateSection:i},null,8,["order","sections"]),v[2]||(v[2]=f("hr",null,null,-1)),y($,{static:"",title:"Layout Footer Sections",sections:[],onToggleSection:c,onActivateSection:a,onDeactivateSection:i})]),y(l(k).Root,{open:l(e),"onUpdate:open":v[0]||(v[0]=x=>Ie(e)?e.value=x:null),positioning:{placement:"left-start",gutter:16,offset:{mainAxis:120,crossAxis:120}}},{default:m(()=>[y(l(k).Positioner,null,{default:m(()=>[y(l(k).Content,{class:"bg-white w-48 border rounded shadow p-1"},{default:m(()=>[f("header",null,[y(w)])]),_:1})]),_:1})]),_:1},8,["open"])])}}});export{lt as default};

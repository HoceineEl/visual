import{_ as L,g as E,r as O,a as j,b as q,e as z,c as H,d as J}from"./utils-Doqg0bWt.js";import{d as K,a0 as M,I as f,R as t,o,c as i,a as s,b as a,t as p,e as g,O as u,F as k,i as b,u as P,a3 as Q,r as h,f as v,a5 as U}from"./index-Dpbttelf.js";import{r as W}from"./TextInput.vue_vue_type_script_setup_true_lang-BdikULfB.js";const X={key:0,class:"flex flex-col h-full overflow-hidden relative w-full"},Y={class:"flex-none p-2 border-b"},Z={class:"flex items-center"},G={class:"ml-2 truncate"},ee={key:0,class:"mt-2 text-sm"},te={class:"flex-1 overflow-y-auto"},oe={key:1},ne={class:"flex-none border-t"},le=K({__name:"[section].[block]",setup(se){const x=P(),n=Q(),m=M(),_=f(()=>m.getSectionBlockData(n.params.section,n.params.block)),c=f(()=>_.value?m.getSectionBlockByType(n.params.section,_.value.type):null),y=f(()=>{var e;return E(((e=c.value)==null?void 0:e.settings)||[])});function A(){x.back()}function I(e){return m.getThemeDataValue(["sectionsData",n.params.section,"blocks",n.params.block,"settings",e])}function B(e,r){return m.updateThemeDataValue(["sectionsData",n.params.section,"blocks",n.params.block,"settings",e],r)}return(e,r)=>{const S=O,w=U,V=j,D=q,$=z,C=H,R=J,T=L,N=W;return t(c)?(o(),i("div",X,[s("header",Y,[s("div",Z,[s("button",{class:"p-1 px-2 rounded hover:bg-gray-200 focus:outline-none",onClick:A},[a(S,{class:"inline w-4"})]),s("span",G,p(t(_).settings.title||t(_).settings.heading||t(c).name),1)]),t(c).description?(o(),i("p",ee,p(t(c).description),1)):g("",!0)]),s("section",te,[a(T,{multiple:"",defaultValue:["blocks","Settings"]},{default:u(()=>[(o(!0),i(k,null,h(t(y),l=>(o(),v(R,{value:l.name,key:l.name},{default:u(()=>[a(D,null,{default:u(()=>[b(p(l.name)+" ",1),a(V,null,{default:u(()=>[a(w)]),_:1})]),_:2},1024),a(C,null,{default:u(()=>[(o(!0),i(k,null,h(l.settings,d=>(o(),v($,{key:d.id,value:I(d.id),setting:d,onInput:F=>B(d.id,F)},null,8,["value","setting","onInput"]))),128))]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1}),t(c).settings.length>0?(o(),i(k,{key:0},[],64)):(o(),i("p",oe,p("This section has no configuration")))]),s("footer",ne,[s("button",{class:"flex items-center w-full text-left py-2 px-4 text-red-500 hover:bg-gray-100",onClick:r[0]||(r[0]=(...l)=>e.onRemoveBlock&&e.onRemoveBlock(...l))},[a(N,{class:"inline mr-2 w-4"}),r[1]||(r[1]=b(" Remove block "))])])])):g("",!0)}}});export{le as default};

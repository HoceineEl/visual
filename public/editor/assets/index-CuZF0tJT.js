import{_ as C,P as S,a as R}from"./popover-ZtHeYlb7.js";import{_ as A,a as T,b as z,S as B,c as N}from"./sortable.core.esm-C_XrVVKg.js";import{d as h,u as P,o as r,c as _,a as n,b as l,t as $,w,e as x,f as y,g as D,h as M,F as V,r as F,i as L,j as O,k as E,l as v,m as b,n as G}from"./index-C0VFbjsv.js";const j=["data-disabled"],H={class:"handle flex-none py-2 px-1 rounded-md hover:bg-zinc-200 cursor-move"},I={class:"w-0 flex-1 truncate"},U=h({__name:"Section",props:{section:null,static:{type:Boolean,default:!1}},emits:["activate","deactivate","toggle","remove"],setup(i,{emit:c}){const a=P(),s=c,m=i;function p(){a.push(m.section.id)}return(d,t)=>{const u=A,e=C,o=T,f=z;return r(),_("div",{class:"",onMouseenter:t[2]||(t[2]=g=>s("activate")),onMouseleave:t[3]||(t[3]=g=>s("deactivate"))},[n("div",{class:"flex rounded border border-zinc-100 hover:bg-zinc-100 cursor-pointer active:ring-inset active:ring-2 active:ring-gray-700 data-[disabled=true]:text-zinc-500","data-disabled":i.section.disabled},[n("button",H,[l(u,{class:"inline w-3"})]),n("div",{onClick:p,class:"group mx-2 py-2 pr-1 text-sm flex-1 flex items-center max-w-full"},[n("div",I,$(m.section.name),1),i.static?x("",!0):(r(),_("button",{key:0,onClick:t[0]||(t[0]=w(g=>s("remove"),["stop"])),class:"flex-none cursor-pointer invisible group-hover:visible py-[1px] px-[2px] rounded-md hover:bg-zinc-200"},[l(e,{class:"inline w-4"})])),n("button",{onClick:t[1]||(t[1]=w(g=>s("toggle"),["stop"])),class:"flex-none cursor-pointer invisible group-hover:visible py-[1px] px-[2px] rounded-md hover:bg-zinc-200 ml-1"},[i.section.disabled?(r(),y(f,{key:1,class:"inline w-4"})):(r(),y(o,{key:0,class:"inline w-4"}))])])],8,j)],32)}}}),q={class:"pb-3"},J={class:"text-sm font-semibold p-3"},K={key:0,class:"text-sm px-3"},Q={key:1,class:"space-y-2 mt-4 px-3"},W=h({__name:"SectionsGroup",props:{title:null,sections:null,order:{default:()=>[]},static:{type:Boolean,default:!1}},emits:["reorder","addSection","toggleSection","removeSection","activateSection","deactivateSection"],setup(i,{emit:c}){const a=i,s=c,m=D("sortable");return M(()=>{new B(m.value,{animation:150,ghostClass:"sortable-ghost",onEnd({newIndex:p,oldIndex:d}){const t=[...a.order],u=t.splice(d,1)[0];t.splice(p,0,u),s("reorder",t)}})}),(p,d)=>{const t=U,u=N;return r(),_("div",q,[n("h2",J,$(i.title),1),n("div",{ref_key:"sortable",ref:m,class:"space-y-1 px-3"},[i.sections.length>0?(r(!0),_(V,{key:0},F(i.sections,e=>(r(),y(t,{key:e.id,static:i.static,section:e,onToggle:o=>s("toggleSection",e.id),onRemove:o=>s("removeSection",e.id),onActivate:o=>s("activateSection",e.id),onDeactivate:o=>s("deactivateSection",e.id)},null,8,["static","section","onToggle","onRemove","onActivate","onDeactivate"]))),128)):x("",!0)],512),i.static?(r(),_("p",K,"No sections")):x("",!0),a.static?x("",!0):(r(),_("div",Q,[n("button",{class:"block w-full !text-left",onClick:d[0]||(d[0]=e=>s("addSection",e))},[l(u,{class:"w-4 h-4 inline mr-1"}),d[1]||(d[1]=L(" Add Section "))])]))])}}}),X={class:"w-full h-full flex flex-col"},Y={class:"flex-1 overflow-y-auto"},oe=h({__name:"index",setup(i){const c=O(),a=E(!1);function s(e){a.value=!a.value}function m(e){c.setContentSectionsOrder(e)}function p(e){c.toggleSection(e)}function d(e){c.removeSection(e)}function t(e){c.activateSection(e)}function u(e){c.deactivateSection(e)}return(e,o)=>{const f=W,g=R;return r(),_("div",X,[o[3]||(o[3]=n("header",{class:"flex none px-4 py-3 border-b font-medium"},[n("h1",null,"Page title")],-1)),n("div",Y,[l(f,{static:"",title:"Layout Header Sections",sections:v(c).beforeContentSections,onToggleSection:p,onActivateSection:t,onDeactivateSection:u},null,8,["sections"]),o[1]||(o[1]=n("hr",null,null,-1)),l(f,{title:"Template Sections",order:v(c).contentSectionsOrder,sections:v(c).contentSections,onReorder:m,onAddSection:s,onToggleSection:p,onRemoveSection:d,onActivateSection:t,onDeactivateSection:u},null,8,["order","sections"]),o[2]||(o[2]=n("hr",null,null,-1)),l(f,{static:"",title:"Layout Footer Sections",sections:[],onToggleSection:p,onActivateSection:t,onDeactivateSection:u})]),l(v(S).Root,{open:v(a),"onUpdate:open":o[0]||(o[0]=k=>G(a)?a.value=k:null),positioning:{placement:"left-start",gutter:16,offset:{mainAxis:120,crossAxis:120}}},{default:b(()=>[l(v(S).Positioner,null,{default:b(()=>[l(v(S).Content,{class:"bg-white w-48 border rounded shadow p-1"},{default:b(()=>[n("header",null,[l(g)])]),_:1})]),_:1})]),_:1},8,["open"])])}}});export{oe as default};

/**
* @vue/shared v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function av(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Ot={},yl=[],rr=()=>{},hk=()=>!1,Qh=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),lv=e=>e.startsWith("onUpdate:"),Fn=Object.assign,cv=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},fk=Object.prototype.hasOwnProperty,Nt=(e,t)=>fk.call(e,t),Ze=Array.isArray,bl=e=>ef(e)==="[object Map]",pS=e=>ef(e)==="[object Set]",st=e=>typeof e=="function",rn=e=>typeof e=="string",Do=e=>typeof e=="symbol",Xt=e=>e!==null&&typeof e=="object",gS=e=>(Xt(e)||st(e))&&st(e.then)&&st(e.catch),mS=Object.prototype.toString,ef=e=>mS.call(e),pk=e=>ef(e).slice(8,-1),vS=e=>ef(e)==="[object Object]",uv=e=>rn(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Vc=av(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),tf=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},gk=/-(\w)/g,Ji=tf(e=>e.replace(gk,(t,n)=>n?n.toUpperCase():"")),mk=/\B([A-Z])/g,Lo=tf(e=>e.replace(mk,"-$1").toLowerCase()),nf=tf(e=>e.charAt(0).toUpperCase()+e.slice(1)),dp=tf(e=>e?`on${nf(e)}`:""),Oi=(e,t)=>!Object.is(e,t),Dd=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},yS=(e,t,n,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:n})},Lg=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let yb;const bS=()=>yb||(yb=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Nu(e){if(Ze(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],s=rn(i)?Ek(i):Nu(i);if(s)for(const r in s)t[r]=s[r]}return t}else if(rn(e)||Xt(e))return e}const vk=/;(?![^(]*\))/g,yk=/:([^]+)/,bk=/\/\*[^]*?\*\//g;function Ek(e){const t={};return e.replace(bk,"").split(vk).forEach(n=>{if(n){const i=n.split(yk);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function sn(e){let t="";if(rn(e))t=e;else if(Ze(e))for(let n=0;n<e.length;n++){const i=sn(e[n]);i&&(t+=i+" ")}else if(Xt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function hn(e){if(!e)return null;let{class:t,style:n}=e;return t&&!rn(t)&&(e.class=sn(t)),n&&(e.style=Nu(n)),e}const _k="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ck=av(_k);function ES(e){return!!e||e===""}const _S=e=>!!(e&&e.__v_isRef===!0),ue=e=>rn(e)?e:e==null?"":Ze(e)||Xt(e)&&(e.toString===mS||!st(e.toString))?_S(e)?ue(e.value):JSON.stringify(e,CS,2):String(e),CS=(e,t)=>_S(t)?CS(e,t.value):bl(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,s],r)=>(n[hp(i,r)+" =>"]=s,n),{})}:pS(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>hp(n))}:Do(t)?hp(t):Xt(t)&&!Ze(t)&&!vS(t)?String(t):t,hp=(e,t="")=>{var n;return Do(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let hi;class SS{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=hi,!t&&hi&&(this.index=(hi.scopes||(hi.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=hi;try{return hi=this,t()}finally{hi=n}}}on(){hi=this}off(){hi=this.parent}stop(t){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function dv(e){return new SS(e)}function hv(){return hi}function xS(e,t=!1){hi&&hi.cleanups.push(e)}let Gt;const fp=new WeakSet;class TS{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,hi&&hi.active&&hi.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,fp.has(this)&&(fp.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||IS(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,bb(this),OS(this);const t=Gt,n=Vs;Gt=this,Vs=!0;try{return this.fn()}finally{kS(this),Gt=t,Vs=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)gv(t);this.deps=this.depsTail=void 0,bb(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?fp.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Fg(this)&&this.run()}get dirty(){return Fg(this)}}let wS=0,Bc,Hc;function IS(e,t=!1){if(e.flags|=8,t){e.next=Hc,Hc=e;return}e.next=Bc,Bc=e}function fv(){wS++}function pv(){if(--wS>0)return;if(Hc){let t=Hc;for(Hc=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Bc;){let t=Bc;for(Bc=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){e||(e=i)}t=n}}if(e)throw e}function OS(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function kS(e){let t,n=e.depsTail,i=n;for(;i;){const s=i.prevDep;i.version===-1?(i===n&&(n=s),gv(i),Sk(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=s}e.deps=t,e.depsTail=n}function Fg(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(AS(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function AS(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===lu))return;e.globalVersion=lu;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Fg(e)){e.flags&=-3;return}const n=Gt,i=Vs;Gt=e,Vs=!0;try{OS(e);const s=e.fn(e._value);(t.version===0||Oi(s,e._value))&&(e._value=s,t.version++)}catch(s){throw t.version++,s}finally{Gt=n,Vs=i,kS(e),e.flags&=-3}}function gv(e,t=!1){const{dep:n,prevSub:i,nextSub:s}=e;if(i&&(i.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=i,e.nextSub=void 0),n.subs===e&&(n.subs=i),!n.subs&&n.computed){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)gv(r,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Sk(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Vs=!0;const PS=[];function Fo(){PS.push(Vs),Vs=!1}function Vo(){const e=PS.pop();Vs=e===void 0?!0:e}function bb(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Gt;Gt=void 0;try{t()}finally{Gt=n}}}let lu=0;class xk{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class sf{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Gt||!Vs||Gt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Gt)n=this.activeLink=new xk(Gt,this),Gt.deps?(n.prevDep=Gt.depsTail,Gt.depsTail.nextDep=n,Gt.depsTail=n):Gt.deps=Gt.depsTail=n,$S(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=Gt.depsTail,n.nextDep=void 0,Gt.depsTail.nextDep=n,Gt.depsTail=n,Gt.deps===n&&(Gt.deps=i)}return n}trigger(t){this.version++,lu++,this.notify(t)}notify(t){fv();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{pv()}}}function $S(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)$S(i)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const nh=new WeakMap,ya=Symbol(""),Vg=Symbol(""),cu=Symbol("");function ni(e,t,n){if(Vs&&Gt){let i=nh.get(e);i||nh.set(e,i=new Map);let s=i.get(n);s||(i.set(n,s=new sf),s.map=i,s.key=n),s.track()}}function Or(e,t,n,i,s,r){const a=nh.get(e);if(!a){lu++;return}const u=o=>{o&&o.trigger()};if(fv(),t==="clear")a.forEach(u);else{const o=Ze(e),l=o&&uv(n);if(o&&n==="length"){const c=Number(i);a.forEach((d,h)=>{(h==="length"||h===cu||!Do(h)&&h>=c)&&u(d)})}else switch(n!==void 0&&u(a.get(n)),l&&u(a.get(cu)),t){case"add":o?l&&u(a.get("length")):(u(a.get(ya)),bl(e)&&u(a.get(Vg)));break;case"delete":o||(u(a.get(ya)),bl(e)&&u(a.get(Vg)));break;case"set":bl(e)&&u(a.get(ya));break}}pv()}function Tk(e,t){const n=nh.get(e);return n&&n.get(t)}function za(e){const t=dt(e);return t===e?t:(ni(t,"iterate",cu),gs(e)?t:t.map(ei))}function rf(e){return ni(e=dt(e),"iterate",cu),e}const wk={__proto__:null,[Symbol.iterator](){return pp(this,Symbol.iterator,ei)},concat(...e){return za(this).concat(...e.map(t=>Ze(t)?za(t):t))},entries(){return pp(this,"entries",e=>(e[1]=ei(e[1]),e))},every(e,t){return mr(this,"every",e,t,void 0,arguments)},filter(e,t){return mr(this,"filter",e,t,n=>n.map(ei),arguments)},find(e,t){return mr(this,"find",e,t,ei,arguments)},findIndex(e,t){return mr(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return mr(this,"findLast",e,t,ei,arguments)},findLastIndex(e,t){return mr(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return mr(this,"forEach",e,t,void 0,arguments)},includes(...e){return gp(this,"includes",e)},indexOf(...e){return gp(this,"indexOf",e)},join(e){return za(this).join(e)},lastIndexOf(...e){return gp(this,"lastIndexOf",e)},map(e,t){return mr(this,"map",e,t,void 0,arguments)},pop(){return nc(this,"pop")},push(...e){return nc(this,"push",e)},reduce(e,...t){return Eb(this,"reduce",e,t)},reduceRight(e,...t){return Eb(this,"reduceRight",e,t)},shift(){return nc(this,"shift")},some(e,t){return mr(this,"some",e,t,void 0,arguments)},splice(...e){return nc(this,"splice",e)},toReversed(){return za(this).toReversed()},toSorted(e){return za(this).toSorted(e)},toSpliced(...e){return za(this).toSpliced(...e)},unshift(...e){return nc(this,"unshift",e)},values(){return pp(this,"values",ei)}};function pp(e,t,n){const i=rf(e),s=i[t]();return i!==e&&!gs(e)&&(s._next=s.next,s.next=()=>{const r=s._next();return r.value&&(r.value=n(r.value)),r}),s}const Ik=Array.prototype;function mr(e,t,n,i,s,r){const a=rf(e),u=a!==e&&!gs(e),o=a[t];if(o!==Ik[t]){const d=o.apply(e,r);return u?ei(d):d}let l=n;a!==e&&(u?l=function(d,h){return n.call(this,ei(d),h,e)}:n.length>2&&(l=function(d,h){return n.call(this,d,h,e)}));const c=o.call(a,l,i);return u&&s?s(c):c}function Eb(e,t,n,i){const s=rf(e);let r=n;return s!==e&&(gs(e)?n.length>3&&(r=function(a,u,o){return n.call(this,a,u,o,e)}):r=function(a,u,o){return n.call(this,a,ei(u),o,e)}),s[t](r,...i)}function gp(e,t,n){const i=dt(e);ni(i,"iterate",cu);const s=i[t](...n);return(s===-1||s===!1)&&bv(n[0])?(n[0]=dt(n[0]),i[t](...n)):s}function nc(e,t,n=[]){Fo(),fv();const i=dt(e)[t].apply(e,n);return pv(),Vo(),i}const Ok=av("__proto__,__v_isRef,__isVue"),MS=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Do));function kk(e){Do(e)||(e=String(e));const t=dt(this);return ni(t,"has",e),t.hasOwnProperty(e)}class NS{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,i){const s=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return r;if(n==="__v_raw")return i===(s?r?jk:FS:r?LS:DS).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const a=Ze(t);if(!s){let o;if(a&&(o=wk[n]))return o;if(n==="hasOwnProperty")return kk}const u=Reflect.get(t,n,ht(t)?t:i);return(Do(n)?MS.has(n):Ok(n))||(s||ni(t,"get",n),r)?u:ht(u)?a&&uv(n)?u:u.value:Xt(u)?s?Ol(u):ir(u):u}}class RS extends NS{constructor(t=!1){super(!1,t)}set(t,n,i,s){let r=t[n];if(!this._isShallow){const o=Ta(r);if(!gs(i)&&!Ta(i)&&(r=dt(r),i=dt(i)),!Ze(t)&&ht(r)&&!ht(i))return o?!1:(r.value=i,!0)}const a=Ze(t)&&uv(n)?Number(n)<t.length:Nt(t,n),u=Reflect.set(t,n,i,ht(t)?t:s);return t===dt(s)&&(a?Oi(i,r)&&Or(t,"set",n,i):Or(t,"add",n,i)),u}deleteProperty(t,n){const i=Nt(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&i&&Or(t,"delete",n,void 0),s}has(t,n){const i=Reflect.has(t,n);return(!Do(n)||!MS.has(n))&&ni(t,"has",n),i}ownKeys(t){return ni(t,"iterate",Ze(t)?"length":ya),Reflect.ownKeys(t)}}class Ak extends NS{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Pk=new RS,$k=new Ak,Mk=new RS(!0);const mv=e=>e,of=e=>Reflect.getPrototypeOf(e);function td(e,t,n=!1,i=!1){e=e.__v_raw;const s=dt(e),r=dt(t);n||(Oi(t,r)&&ni(s,"get",t),ni(s,"get",r));const{has:a}=of(s),u=i?mv:n?Ev:ei;if(a.call(s,t))return u(e.get(t));if(a.call(s,r))return u(e.get(r));e!==s&&e.get(t)}function nd(e,t=!1){const n=this.__v_raw,i=dt(n),s=dt(e);return t||(Oi(e,s)&&ni(i,"has",e),ni(i,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function id(e,t=!1){return e=e.__v_raw,!t&&ni(dt(e),"iterate",ya),Reflect.get(e,"size",e)}function _b(e,t=!1){!t&&!gs(e)&&!Ta(e)&&(e=dt(e));const n=dt(this);return of(n).has.call(n,e)||(n.add(e),Or(n,"add",e,e)),this}function Cb(e,t,n=!1){!n&&!gs(t)&&!Ta(t)&&(t=dt(t));const i=dt(this),{has:s,get:r}=of(i);let a=s.call(i,e);a||(e=dt(e),a=s.call(i,e));const u=r.call(i,e);return i.set(e,t),a?Oi(t,u)&&Or(i,"set",e,t):Or(i,"add",e,t),this}function Sb(e){const t=dt(this),{has:n,get:i}=of(t);let s=n.call(t,e);s||(e=dt(e),s=n.call(t,e)),i&&i.call(t,e);const r=t.delete(e);return s&&Or(t,"delete",e,void 0),r}function xb(){const e=dt(this),t=e.size!==0,n=e.clear();return t&&Or(e,"clear",void 0,void 0),n}function sd(e,t){return function(i,s){const r=this,a=r.__v_raw,u=dt(a),o=t?mv:e?Ev:ei;return!e&&ni(u,"iterate",ya),a.forEach((l,c)=>i.call(s,o(l),o(c),r))}}function rd(e,t,n){return function(...i){const s=this.__v_raw,r=dt(s),a=bl(r),u=e==="entries"||e===Symbol.iterator&&a,o=e==="keys"&&a,l=s[e](...i),c=n?mv:t?Ev:ei;return!t&&ni(r,"iterate",o?Vg:ya),{next(){const{value:d,done:h}=l.next();return h?{value:d,done:h}:{value:u?[c(d[0]),c(d[1])]:c(d),done:h}},[Symbol.iterator](){return this}}}}function Vr(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Nk(){const e={get(r){return td(this,r)},get size(){return id(this)},has:nd,add:_b,set:Cb,delete:Sb,clear:xb,forEach:sd(!1,!1)},t={get(r){return td(this,r,!1,!0)},get size(){return id(this)},has:nd,add(r){return _b.call(this,r,!0)},set(r,a){return Cb.call(this,r,a,!0)},delete:Sb,clear:xb,forEach:sd(!1,!0)},n={get(r){return td(this,r,!0)},get size(){return id(this,!0)},has(r){return nd.call(this,r,!0)},add:Vr("add"),set:Vr("set"),delete:Vr("delete"),clear:Vr("clear"),forEach:sd(!0,!1)},i={get(r){return td(this,r,!0,!0)},get size(){return id(this,!0)},has(r){return nd.call(this,r,!0)},add:Vr("add"),set:Vr("set"),delete:Vr("delete"),clear:Vr("clear"),forEach:sd(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=rd(r,!1,!1),n[r]=rd(r,!0,!1),t[r]=rd(r,!1,!0),i[r]=rd(r,!0,!0)}),[e,n,t,i]}const[Rk,Dk,Lk,Fk]=Nk();function vv(e,t){const n=t?e?Fk:Lk:e?Dk:Rk;return(i,s,r)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?i:Reflect.get(Nt(n,s)&&s in i?n:i,s,r)}const Vk={get:vv(!1,!1)},Bk={get:vv(!1,!0)},Hk={get:vv(!0,!1)};const DS=new WeakMap,LS=new WeakMap,FS=new WeakMap,jk=new WeakMap;function Uk(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Gk(e){return e.__v_skip||!Object.isExtensible(e)?0:Uk(pk(e))}function ir(e){return Ta(e)?e:yv(e,!1,Pk,Vk,DS)}function VS(e){return yv(e,!1,Mk,Bk,LS)}function Ol(e){return yv(e,!0,$k,Hk,FS)}function yv(e,t,n,i,s){if(!Xt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=s.get(e);if(r)return r;const a=Gk(e);if(a===0)return e;const u=new Proxy(e,a===2?i:n);return s.set(e,u),u}function yo(e){return Ta(e)?yo(e.__v_raw):!!(e&&e.__v_isReactive)}function Ta(e){return!!(e&&e.__v_isReadonly)}function gs(e){return!!(e&&e.__v_isShallow)}function bv(e){return e?!!e.__v_raw:!1}function dt(e){const t=e&&e.__v_raw;return t?dt(t):e}function Et(e){return!Nt(e,"__v_skip")&&Object.isExtensible(e)&&yS(e,"__v_skip",!0),e}const ei=e=>Xt(e)?ir(e):e,Ev=e=>Xt(e)?Ol(e):e;function ht(e){return e?e.__v_isRef===!0:!1}function Xe(e){return BS(e,!1)}function bo(e){return BS(e,!0)}function BS(e,t){return ht(e)?e:new Wk(e,t)}class Wk{constructor(t,n){this.dep=new sf,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:dt(t),this._value=n?t:ei(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,i=this.__v_isShallow||gs(t)||Ta(t);t=i?t:dt(t),Oi(t,n)&&(this._rawValue=t,this._value=i?t:ei(t),this.dep.trigger())}}function v(e){return ht(e)?e.value:e}function zk(e){return st(e)?e():v(e)}const Kk={get:(e,t,n)=>t==="__v_raw"?e:v(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const s=e[t];return ht(s)&&!ht(n)?(s.value=n,!0):Reflect.set(e,t,n,i)}};function HS(e){return yo(e)?e:new Proxy(e,Kk)}class qk{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new sf,{get:i,set:s}=t(n.track.bind(n),n.trigger.bind(n));this._get=i,this._set=s}get value(){return this._value=this._get()}set value(t){this._set(t)}}function _v(e){return new qk(e)}function jS(e){const t=Ze(e)?new Array(e.length):{};for(const n in e)t[n]=US(e,n);return t}class Yk{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Tk(dt(this._object),this._key)}}class Jk{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Xk(e,t,n){return ht(e)?e:st(e)?new Jk(e):Xt(e)&&arguments.length>1?US(e,t,n):Xe(e)}function US(e,t,n){const i=e[t];return ht(i)?i:new Yk(e,t,n)}class Zk{constructor(t,n,i){this.fn=t,this.setter=n,this._value=void 0,this.dep=new sf(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=lu-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Gt!==this)return IS(this,!0),!0}get value(){const t=this.dep.track();return AS(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Qk(e,t,n=!1){let i,s;return st(e)?i=e:(i=e.get,s=e.set),new Zk(i,s,n)}const od={},ih=new WeakMap;let oa;function eA(e,t=!1,n=oa){if(n){let i=ih.get(n);i||ih.set(n,i=[]),i.push(e)}}function tA(e,t,n=Ot){const{immediate:i,deep:s,once:r,scheduler:a,augmentJob:u,call:o}=n,l=_=>s?_:gs(_)||s===!1||s===0?xr(_,1):xr(_);let c,d,h,f,p=!1,g=!1;if(ht(e)?(d=()=>e.value,p=gs(e)):yo(e)?(d=()=>l(e),p=!0):Ze(e)?(g=!0,p=e.some(_=>yo(_)||gs(_)),d=()=>e.map(_=>{if(ht(_))return _.value;if(yo(_))return l(_);if(st(_))return o?o(_,2):_()})):st(e)?t?d=o?()=>o(e,2):e:d=()=>{if(h){Fo();try{h()}finally{Vo()}}const _=oa;oa=c;try{return o?o(e,3,[f]):e(f)}finally{oa=_}}:d=rr,t&&s){const _=d,I=s===!0?1/0:s;d=()=>xr(_(),I)}const m=hv(),y=()=>{c.stop(),m&&cv(m.effects,c)};if(r&&t){const _=t;t=(...I)=>{_(...I),y()}}let b=g?new Array(e.length).fill(od):od;const E=_=>{if(!(!(c.flags&1)||!c.dirty&&!_))if(t){const I=c.run();if(s||p||(g?I.some((M,R)=>Oi(M,b[R])):Oi(I,b))){h&&h();const M=oa;oa=c;try{const R=[I,b===od?void 0:g&&b[0]===od?[]:b,f];o?o(t,3,R):t(...R),b=I}finally{oa=M}}}else c.run()};return u&&u(E),c=new TS(d),c.scheduler=a?()=>a(E,!1):E,f=_=>eA(_,!1,c),h=c.onStop=()=>{const _=ih.get(c);if(_){if(o)o(_,4);else for(const I of _)I();ih.delete(c)}},t?i?E(!0):b=c.run():a?a(E.bind(null,!0),!0):c.run(),y.pause=c.pause.bind(c),y.resume=c.resume.bind(c),y.stop=y,y}function xr(e,t=1/0,n){if(t<=0||!Xt(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,ht(e))xr(e.value,t,n);else if(Ze(e))for(let i=0;i<e.length;i++)xr(e[i],t,n);else if(pS(e)||bl(e))e.forEach(i=>{xr(i,t,n)});else if(vS(e)){for(const i in e)xr(e[i],t,n);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&xr(e[i],t,n)}return e}/**
* @vue/runtime-core v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ru(e,t,n,i){try{return i?e(...i):e()}catch(s){af(s,t,n)}}function or(e,t,n,i){if(st(e)){const s=Ru(e,t,n,i);return s&&gS(s)&&s.catch(r=>{af(r,t,n)}),s}if(Ze(e)){const s=[];for(let r=0;r<e.length;r++)s.push(or(e[r],t,n,i));return s}}function af(e,t,n,i=!0){const s=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||Ot;if(t){let u=t.parent;const o=t.proxy,l=`https://vuejs.org/error-reference/#runtime-${n}`;for(;u;){const c=u.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](e,o,l)===!1)return}u=u.parent}if(r){Fo(),Ru(r,null,10,[e,o,l]),Vo();return}}nA(e,n,s,i,a)}function nA(e,t,n,i=!0,s=!1){if(s)throw e;console.error(e)}const fi=[];let tr=-1;const El=[];let ao=null,al=0;const GS=Promise.resolve();let sh=null;function wa(e){const t=sh||GS;return e?t.then(this?e.bind(this):e):t}function iA(e){let t=tr+1,n=fi.length;for(;t<n;){const i=t+n>>>1,s=fi[i],r=uu(s);r<e||r===e&&s.flags&2?t=i+1:n=i}return t}function Cv(e){if(!(e.flags&1)){const t=uu(e),n=fi[fi.length-1];!n||!(e.flags&2)&&t>=uu(n)?fi.push(e):fi.splice(iA(t),0,e),e.flags|=1,WS()}}function WS(){sh||(sh=GS.then(KS))}function sA(e){Ze(e)?El.push(...e):ao&&e.id===-1?ao.splice(al+1,0,e):e.flags&1||(El.push(e),e.flags|=1),WS()}function Tb(e,t,n=tr+1){for(;n<fi.length;n++){const i=fi[n];if(i&&i.flags&2){if(e&&i.id!==e.uid)continue;fi.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function zS(e){if(El.length){const t=[...new Set(El)].sort((n,i)=>uu(n)-uu(i));if(El.length=0,ao){ao.push(...t);return}for(ao=t,al=0;al<ao.length;al++){const n=ao[al];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}ao=null,al=0}}const uu=e=>e.id==null?e.flags&2?-1:1/0:e.id;function KS(e){try{for(tr=0;tr<fi.length;tr++){const t=fi[tr];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Ru(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;tr<fi.length;tr++){const t=fi[tr];t&&(t.flags&=-2)}tr=-1,fi.length=0,zS(),sh=null,(fi.length||El.length)&&KS()}}let Tn=null,qS=null;function rh(e){const t=Tn;return Tn=e,qS=e&&e.type.__scopeId||null,t}function S(e,t=Tn,n){if(!t||e._n)return e;const i=(...s)=>{i._d&&Rb(-1);const r=rh(t);let a;try{a=e(...s)}finally{rh(r),i._d&&Rb(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function Ia(e,t){if(Tn===null)return e;const n=gf(Tn),i=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[r,a,u,o=Ot]=t[s];r&&(st(r)&&(r={mounted:r,updated:r}),r.deep&&xr(a),i.push({dir:r,instance:n,value:a,oldValue:void 0,arg:u,modifiers:o}))}return e}function Xo(e,t,n,i){const s=e.dirs,r=t&&t.dirs;for(let a=0;a<s.length;a++){const u=s[a];r&&(u.oldValue=r[a].value);let o=u.dir[i];o&&(Fo(),or(o,n,8,[e.el,u,e,t]),Vo())}}const YS=Symbol("_vte"),rA=e=>e.__isTeleport,jc=e=>e&&(e.disabled||e.disabled===""),oA=e=>e&&(e.defer||e.defer===""),wb=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Ib=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Bg=(e,t)=>{const n=e&&e.to;return rn(n)?t?t(n):null:n},aA={name:"Teleport",__isTeleport:!0,process(e,t,n,i,s,r,a,u,o,l){const{mc:c,pc:d,pbc:h,o:{insert:f,querySelector:p,createText:g,createComment:m}}=l,y=jc(t.props);let{shapeFlag:b,children:E,dynamicChildren:_}=t;if(e==null){const I=t.el=g(""),M=t.anchor=g("");f(I,n,i),f(M,n,i);const R=(D,j)=>{b&16&&(s&&s.isCE&&(s.ce._teleportTarget=D),c(E,D,j,s,r,a,u,o))},X=()=>{const D=t.target=Bg(t.props,p),j=JS(D,t,g,f);D&&(a!=="svg"&&wb(D)?a="svg":a!=="mathml"&&Ib(D)&&(a="mathml"),y||(R(D,j),Ld(t)))};y&&(R(n,M),Ld(t)),oA(t.props)?Ii(X,r):X()}else{t.el=e.el,t.targetStart=e.targetStart;const I=t.anchor=e.anchor,M=t.target=e.target,R=t.targetAnchor=e.targetAnchor,X=jc(e.props),D=X?n:M,j=X?I:R;if(a==="svg"||wb(M)?a="svg":(a==="mathml"||Ib(M))&&(a="mathml"),_?(h(e.dynamicChildren,_,D,s,r,a,u),Ov(e,t,!0)):o||d(e,t,D,j,s,r,a,u,!1),y)X?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):ad(t,n,I,l,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const se=t.target=Bg(t.props,p);se&&ad(t,se,null,l,0)}else X&&ad(t,M,R,l,1);Ld(t)}},remove(e,t,n,{um:i,o:{remove:s}},r){const{shapeFlag:a,children:u,anchor:o,targetStart:l,targetAnchor:c,target:d,props:h}=e;if(d&&(s(l),s(c)),r&&s(o),a&16){const f=r||!jc(h);for(let p=0;p<u.length;p++){const g=u[p];i(g,t,n,f,!!g.dynamicChildren)}}},move:ad,hydrate:lA};function ad(e,t,n,{o:{insert:i},m:s},r=2){r===0&&i(e.targetAnchor,t,n);const{el:a,anchor:u,shapeFlag:o,children:l,props:c}=e,d=r===2;if(d&&i(a,t,n),(!d||jc(c))&&o&16)for(let h=0;h<l.length;h++)s(l[h],t,n,2);d&&i(u,t,n)}function lA(e,t,n,i,s,r,{o:{nextSibling:a,parentNode:u,querySelector:o,insert:l,createText:c}},d){const h=t.target=Bg(t.props,o);if(h){const f=h._lpa||h.firstChild;if(t.shapeFlag&16)if(jc(t.props))t.anchor=d(a(e),t,u(e),n,i,s,r),t.targetStart=f,t.targetAnchor=f&&a(f);else{t.anchor=a(e);let p=f;for(;p;){if(p&&p.nodeType===8){if(p.data==="teleport start anchor")t.targetStart=p;else if(p.data==="teleport anchor"){t.targetAnchor=p,h._lpa=t.targetAnchor&&a(t.targetAnchor);break}}p=a(p)}t.targetAnchor||JS(h,t,c,l),d(f&&a(f),t,h,n,i,s,r)}Ld(t)}return t.anchor&&a(t.anchor)}const lf=aA;function Ld(e){const t=e.ctx;if(t&&t.ut){let n=e.targetStart;for(;n&&n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}function JS(e,t,n,i){const s=t.targetStart=n(""),r=t.targetAnchor=n("");return s[YS]=r,e&&(i(s,e),i(r,e)),r}function Sv(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Sv(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function $(e,t){return st(e)?Fn({name:e.name},t,{setup:e}):e}function qn(){const e=vs();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:""}function XS(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function xv(e){const t=vs(),n=bo(null);if(t){const s=t.refs===Ot?t.refs={}:t.refs;Object.defineProperty(s,e,{enumerable:!0,get:()=>n.value,set:r=>n.value=r})}return n}function Hg(e,t,n,i,s=!1){if(Ze(e)){e.forEach((p,g)=>Hg(p,t&&(Ze(t)?t[g]:t),n,i,s));return}if(_l(i)&&!s)return;const r=i.shapeFlag&4?gf(i.component):i.el,a=s?null:r,{i:u,r:o}=e,l=t&&t.r,c=u.refs===Ot?u.refs={}:u.refs,d=u.setupState,h=dt(d),f=d===Ot?()=>!1:p=>Nt(h,p);if(l!=null&&l!==o&&(rn(l)?(c[l]=null,f(l)&&(d[l]=null)):ht(l)&&(l.value=null)),st(o))Ru(o,u,12,[a,c]);else{const p=rn(o),g=ht(o);if(p||g){const m=()=>{if(e.f){const y=p?f(o)?d[o]:c[o]:o.value;s?Ze(y)&&cv(y,r):Ze(y)?y.includes(r)||y.push(r):p?(c[o]=[r],f(o)&&(d[o]=c[o])):(o.value=[r],e.k&&(c[e.k]=o.value))}else p?(c[o]=a,f(o)&&(d[o]=a)):g&&(o.value=a,e.k&&(c[e.k]=a))};a?(m.id=-1,Ii(m,n)):m()}}}const _l=e=>!!e.type.__asyncLoader,ZS=e=>e.type.__isKeepAlive;function cA(e,t){QS(e,"a",t)}function uA(e,t){QS(e,"da",t)}function QS(e,t,n=Rn){const i=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(cf(t,i,n),n){let s=n.parent;for(;s&&s.parent;)ZS(s.parent.vnode)&&dA(i,t,n,s),s=s.parent}}function dA(e,t,n,i){const s=cf(t,e,i,!0);uf(()=>{cv(i[t],s)},n)}function cf(e,t,n=Rn,i=!1){if(n){const s=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...a)=>{Fo();const u=Fu(n),o=or(t,n,e,a);return u(),Vo(),o});return i?s.unshift(r):s.push(r),r}}const Dr=e=>(t,n=Rn)=>{(!pf||e==="sp")&&cf(e,(...i)=>t(...i),n)},Tv=Dr("bm"),ii=Dr("m"),hA=Dr("bu"),fA=Dr("u"),Du=Dr("bum"),uf=Dr("um"),pA=Dr("sp"),gA=Dr("rtg"),mA=Dr("rtc");function vA(e,t=Rn){cf("ec",e,t)}const e1="components";function t1(e,t){return s1(e1,e,!0,t)||e}const n1=Symbol.for("v-ndc");function i1(e){return rn(e)?s1(e1,e,!1)||e:e||n1}function s1(e,t,n=!0,i=!1){const s=Tn||Rn;if(s){const r=s.type;{const u=nP(r,!1);if(u&&(u===t||u===Ji(t)||u===nf(Ji(t))))return r}const a=Ob(s[e]||r[e],t)||Ob(s.appContext[e],t);return!a&&i?r:a}}function Ob(e,t){return e&&(e[t]||e[Ji(t)]||e[nf(Ji(t))])}function zt(e,t,n,i){let s;const r=n,a=Ze(e);if(a||rn(e)){const u=a&&yo(e);let o=!1;u&&(o=!gs(e),e=rf(e)),s=new Array(e.length);for(let l=0,c=e.length;l<c;l++)s[l]=t(o?ei(e[l]):e[l],l,void 0,r)}else if(typeof e=="number"){s=new Array(e);for(let u=0;u<e;u++)s[u]=t(u+1,u,void 0,r)}else if(Xt(e))if(e[Symbol.iterator])s=Array.from(e,(u,o)=>t(u,o,void 0,r));else{const u=Object.keys(e);s=new Array(u.length);for(let o=0,l=u.length;o<l;o++){const c=u[o];s[o]=t(e[c],c,o,r)}}else s=[];return s}function B(e,t,n={},i,s){if(Tn.ce||Tn.parent&&_l(Tn.parent)&&Tn.parent.ce)return C(),N(Ye,null,[O("slot",n,i&&i())],64);let r=e[t];r&&r._c&&(r._d=!1),C();const a=r&&r1(r(n)),u=N(Ye,{key:(n.key||a&&a.key||`_${t}`)+(!a&&i?"_fb":"")},a||(i?i():[]),a&&e._===1?64:-2);return u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),r&&r._c&&(r._d=!0),u}function r1(e){return e.some(t=>fu(t)?!(t.type===Io||t.type===Ye&&!r1(t.children)):!0)?e:null}const jg=e=>e?x1(e)?gf(e):jg(e.parent):null,Uc=Fn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>jg(e.parent),$root:e=>jg(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>wv(e),$forceUpdate:e=>e.f||(e.f=()=>{Cv(e.update)}),$nextTick:e=>e.n||(e.n=wa.bind(e.proxy)),$watch:e=>HA.bind(e)}),mp=(e,t)=>e!==Ot&&!e.__isScriptSetup&&Nt(e,t),yA={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:i,data:s,props:r,accessCache:a,type:u,appContext:o}=e;let l;if(t[0]!=="$"){const f=a[t];if(f!==void 0)switch(f){case 1:return i[t];case 2:return s[t];case 4:return n[t];case 3:return r[t]}else{if(mp(i,t))return a[t]=1,i[t];if(s!==Ot&&Nt(s,t))return a[t]=2,s[t];if((l=e.propsOptions[0])&&Nt(l,t))return a[t]=3,r[t];if(n!==Ot&&Nt(n,t))return a[t]=4,n[t];Ug&&(a[t]=0)}}const c=Uc[t];let d,h;if(c)return t==="$attrs"&&ni(e.attrs,"get",""),c(e);if((d=u.__cssModules)&&(d=d[t]))return d;if(n!==Ot&&Nt(n,t))return a[t]=4,n[t];if(h=o.config.globalProperties,Nt(h,t))return h[t]},set({_:e},t,n){const{data:i,setupState:s,ctx:r}=e;return mp(s,t)?(s[t]=n,!0):i!==Ot&&Nt(i,t)?(i[t]=n,!0):Nt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:s,propsOptions:r}},a){let u;return!!n[a]||e!==Ot&&Nt(e,a)||mp(t,a)||(u=r[0])&&Nt(u,a)||Nt(i,a)||Nt(Uc,a)||Nt(s.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Nt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function df(){return bA().slots}function bA(){const e=vs();return e.setupContext||(e.setupContext=w1(e))}function du(e){return Ze(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function On(e,t){const n=du(e);for(const i in t){if(i.startsWith("__skip"))continue;let s=n[i];s?Ze(s)||st(s)?s=n[i]={type:s,default:t[i]}:s.default=t[i]:s===null&&(s=n[i]={default:t[i]}),s&&t[`__skip_${i}`]&&(s.skipFactory=!0)}return n}function Vn(e,t){return!e||!t?e||t:Ze(e)&&Ze(t)?e.concat(t):Fn({},du(e),du(t))}let Ug=!0;function EA(e){const t=wv(e),n=e.proxy,i=e.ctx;Ug=!1,t.beforeCreate&&kb(t.beforeCreate,e,"bc");const{data:s,computed:r,methods:a,watch:u,provide:o,inject:l,created:c,beforeMount:d,mounted:h,beforeUpdate:f,updated:p,activated:g,deactivated:m,beforeDestroy:y,beforeUnmount:b,destroyed:E,unmounted:_,render:I,renderTracked:M,renderTriggered:R,errorCaptured:X,serverPrefetch:D,expose:j,inheritAttrs:se,components:ae,directives:Y,filters:Q}=t;if(l&&_A(l,i,null),a)for(const re in a){const he=a[re];st(he)&&(i[re]=he.bind(n))}if(s){const re=s.call(n,n);Xt(re)&&(e.data=ir(re))}if(Ug=!0,r)for(const re in r){const he=r[re],je=st(he)?he.bind(n,n):st(he.get)?he.get.bind(n,n):rr,lt=!st(he)&&st(he.set)?he.set.bind(n):rr,ft=K({get:je,set:lt});Object.defineProperty(i,re,{enumerable:!0,configurable:!0,get:()=>ft.value,set:_t=>ft.value=_t})}if(u)for(const re in u)o1(u[re],i,n,re);if(o){const re=st(o)?o.call(n):o;Reflect.ownKeys(re).forEach(he=>{Gc(he,re[he])})}c&&kb(c,e,"c");function ce(re,he){Ze(he)?he.forEach(je=>re(je.bind(n))):he&&re(he.bind(n))}if(ce(Tv,d),ce(ii,h),ce(hA,f),ce(fA,p),ce(cA,g),ce(uA,m),ce(vA,X),ce(mA,M),ce(gA,R),ce(Du,b),ce(uf,_),ce(pA,D),Ze(j))if(j.length){const re=e.exposed||(e.exposed={});j.forEach(he=>{Object.defineProperty(re,he,{get:()=>n[he],set:je=>n[he]=je})})}else e.exposed||(e.exposed={});I&&e.render===rr&&(e.render=I),se!=null&&(e.inheritAttrs=se),ae&&(e.components=ae),Y&&(e.directives=Y),D&&XS(e)}function _A(e,t,n=rr){Ze(e)&&(e=Gg(e));for(const i in e){const s=e[i];let r;Xt(s)?"default"in s?r=ki(s.from||i,s.default,!0):r=ki(s.from||i):r=ki(s),ht(r)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:a=>r.value=a}):t[i]=r}}function kb(e,t,n){or(Ze(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function o1(e,t,n,i){let s=i.includes(".")?y1(n,i):()=>n[i];if(rn(e)){const r=t[e];st(r)&&Kt(s,r)}else if(st(e))Kt(s,e.bind(n));else if(Xt(e))if(Ze(e))e.forEach(r=>o1(r,t,n,i));else{const r=st(e.handler)?e.handler.bind(n):t[e.handler];st(r)&&Kt(s,r,e)}}function wv(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:s,optionsCache:r,config:{optionMergeStrategies:a}}=e.appContext,u=r.get(t);let o;return u?o=u:!s.length&&!n&&!i?o=t:(o={},s.length&&s.forEach(l=>oh(o,l,a,!0)),oh(o,t,a)),Xt(t)&&r.set(t,o),o}function oh(e,t,n,i=!1){const{mixins:s,extends:r}=t;r&&oh(e,r,n,!0),s&&s.forEach(a=>oh(e,a,n,!0));for(const a in t)if(!(i&&a==="expose")){const u=CA[a]||n&&n[a];e[a]=u?u(e[a],t[a]):t[a]}return e}const CA={data:Ab,props:Pb,emits:Pb,methods:Pc,computed:Pc,beforeCreate:ci,created:ci,beforeMount:ci,mounted:ci,beforeUpdate:ci,updated:ci,beforeDestroy:ci,beforeUnmount:ci,destroyed:ci,unmounted:ci,activated:ci,deactivated:ci,errorCaptured:ci,serverPrefetch:ci,components:Pc,directives:Pc,watch:xA,provide:Ab,inject:SA};function Ab(e,t){return t?e?function(){return Fn(st(e)?e.call(this,this):e,st(t)?t.call(this,this):t)}:t:e}function SA(e,t){return Pc(Gg(e),Gg(t))}function Gg(e){if(Ze(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ci(e,t){return e?[...new Set([].concat(e,t))]:t}function Pc(e,t){return e?Fn(Object.create(null),e,t):t}function Pb(e,t){return e?Ze(e)&&Ze(t)?[...new Set([...e,...t])]:Fn(Object.create(null),du(e),du(t??{})):t}function xA(e,t){if(!e)return t;if(!t)return e;const n=Fn(Object.create(null),e);for(const i in t)n[i]=ci(e[i],t[i]);return n}function a1(){return{app:null,config:{isNativeTag:hk,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let TA=0;function wA(e,t){return function(i,s=null){st(i)||(i=Fn({},i)),s!=null&&!Xt(s)&&(s=null);const r=a1(),a=new WeakSet,u=[];let o=!1;const l=r.app={_uid:TA++,_component:i,_props:s,_container:null,_context:r,_instance:null,version:sP,get config(){return r.config},set config(c){},use(c,...d){return a.has(c)||(c&&st(c.install)?(a.add(c),c.install(l,...d)):st(c)&&(a.add(c),c(l,...d))),l},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),l},component(c,d){return d?(r.components[c]=d,l):r.components[c]},directive(c,d){return d?(r.directives[c]=d,l):r.directives[c]},mount(c,d,h){if(!o){const f=l._ceVNode||O(i,s);return f.appContext=r,h===!0?h="svg":h===!1&&(h=void 0),d&&t?t(f,c):e(f,c,h),o=!0,l._container=c,c.__vue_app__=l,gf(f.component)}},onUnmount(c){u.push(c)},unmount(){o&&(or(u,l._instance,16),e(null,l._container),delete l._container.__vue_app__)},provide(c,d){return r.provides[c]=d,l},runWithContext(c){const d=ba;ba=l;try{return c()}finally{ba=d}}};return l}}let ba=null;function Gc(e,t){if(Rn){let n=Rn.provides;const i=Rn.parent&&Rn.parent.provides;i===n&&(n=Rn.provides=Object.create(i)),n[e]=t}}function ki(e,t,n=!1){const i=Rn||Tn;if(i||ba){const s=ba?ba._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&st(t)?t.call(i&&i.proxy):t}}function IA(){return!!(Rn||Tn||ba)}const l1={},c1=()=>Object.create(l1),u1=e=>Object.getPrototypeOf(e)===l1;function OA(e,t,n,i=!1){const s={},r=c1();e.propsDefaults=Object.create(null),d1(e,t,s,r);for(const a in e.propsOptions[0])a in s||(s[a]=void 0);n?e.props=i?s:VS(s):e.type.props?e.props=s:e.props=r,e.attrs=r}function kA(e,t,n,i){const{props:s,attrs:r,vnode:{patchFlag:a}}=e,u=dt(s),[o]=e.propsOptions;let l=!1;if((i||a>0)&&!(a&16)){if(a&8){const c=e.vnode.dynamicProps;for(let d=0;d<c.length;d++){let h=c[d];if(ff(e.emitsOptions,h))continue;const f=t[h];if(o)if(Nt(r,h))f!==r[h]&&(r[h]=f,l=!0);else{const p=Ji(h);s[p]=Wg(o,u,p,f,e,!1)}else f!==r[h]&&(r[h]=f,l=!0)}}}else{d1(e,t,s,r)&&(l=!0);let c;for(const d in u)(!t||!Nt(t,d)&&((c=Lo(d))===d||!Nt(t,c)))&&(o?n&&(n[d]!==void 0||n[c]!==void 0)&&(s[d]=Wg(o,u,d,void 0,e,!0)):delete s[d]);if(r!==u)for(const d in r)(!t||!Nt(t,d))&&(delete r[d],l=!0)}l&&Or(e.attrs,"set","")}function d1(e,t,n,i){const[s,r]=e.propsOptions;let a=!1,u;if(t)for(let o in t){if(Vc(o))continue;const l=t[o];let c;s&&Nt(s,c=Ji(o))?!r||!r.includes(c)?n[c]=l:(u||(u={}))[c]=l:ff(e.emitsOptions,o)||(!(o in i)||l!==i[o])&&(i[o]=l,a=!0)}if(r){const o=dt(n),l=u||Ot;for(let c=0;c<r.length;c++){const d=r[c];n[d]=Wg(s,o,d,l[d],e,!Nt(l,d))}}return a}function Wg(e,t,n,i,s,r){const a=e[n];if(a!=null){const u=Nt(a,"default");if(u&&i===void 0){const o=a.default;if(a.type!==Function&&!a.skipFactory&&st(o)){const{propsDefaults:l}=s;if(n in l)i=l[n];else{const c=Fu(s);i=l[n]=o.call(null,t),c()}}else i=o;s.ce&&s.ce._setProp(n,i)}a[0]&&(r&&!u?i=!1:a[1]&&(i===""||i===Lo(n))&&(i=!0))}return i}const AA=new WeakMap;function h1(e,t,n=!1){const i=n?AA:t.propsCache,s=i.get(e);if(s)return s;const r=e.props,a={},u=[];let o=!1;if(!st(e)){const c=d=>{o=!0;const[h,f]=h1(d,t,!0);Fn(a,h),f&&u.push(...f)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!r&&!o)return Xt(e)&&i.set(e,yl),yl;if(Ze(r))for(let c=0;c<r.length;c++){const d=Ji(r[c]);$b(d)&&(a[d]=Ot)}else if(r)for(const c in r){const d=Ji(c);if($b(d)){const h=r[c],f=a[d]=Ze(h)||st(h)?{type:h}:Fn({},h),p=f.type;let g=!1,m=!0;if(Ze(p))for(let y=0;y<p.length;++y){const b=p[y],E=st(b)&&b.name;if(E==="Boolean"){g=!0;break}else E==="String"&&(m=!1)}else g=st(p)&&p.name==="Boolean";f[0]=g,f[1]=m,(g||Nt(f,"default"))&&u.push(d)}}const l=[a,u];return Xt(e)&&i.set(e,l),l}function $b(e){return e[0]!=="$"&&!Vc(e)}const f1=e=>e[0]==="_"||e==="$stable",Iv=e=>Ze(e)?e.map(nr):[nr(e)],PA=(e,t,n)=>{if(t._n)return t;const i=S((...s)=>Iv(t(...s)),n);return i._c=!1,i},p1=(e,t,n)=>{const i=e._ctx;for(const s in e){if(f1(s))continue;const r=e[s];if(st(r))t[s]=PA(s,r,i);else if(r!=null){const a=Iv(r);t[s]=()=>a}}},g1=(e,t)=>{const n=Iv(t);e.slots.default=()=>n},m1=(e,t,n)=>{for(const i in t)(n||i!=="_")&&(e[i]=t[i])},$A=(e,t,n)=>{const i=e.slots=c1();if(e.vnode.shapeFlag&32){const s=t._;s?(m1(i,t,n),n&&yS(i,"_",s,!0)):p1(t,i)}else t&&g1(e,t)},MA=(e,t,n)=>{const{vnode:i,slots:s}=e;let r=!0,a=Ot;if(i.shapeFlag&32){const u=t._;u?n&&u===1?r=!1:m1(s,t,n):(r=!t.$stable,p1(t,s)),a=t}else t&&(g1(e,t),a={default:1});if(r)for(const u in s)!f1(u)&&a[u]==null&&delete s[u]},Ii=KA;function NA(e){return RA(e)}function RA(e,t){const n=bS();n.__VUE__=!0;const{insert:i,remove:s,patchProp:r,createElement:a,createText:u,createComment:o,setText:l,setElementText:c,parentNode:d,nextSibling:h,setScopeId:f=rr,insertStaticContent:p}=e,g=(T,A,W,oe=null,ie=null,x=null,w=void 0,V=null,k=!!A.dynamicChildren)=>{if(T===A)return;T&&!ic(T,A)&&(oe=ne(T),_t(T,ie,x,!0),T=null),A.patchFlag===-2&&(k=!1,A.dynamicChildren=null);const{type:L,ref:Z,shapeFlag:P}=A;switch(L){case Lu:m(T,A,W,oe);break;case Io:y(T,A,W,oe);break;case bp:T==null&&b(A,W,oe,w);break;case Ye:ae(T,A,W,oe,ie,x,w,V,k);break;default:P&1?I(T,A,W,oe,ie,x,w,V,k):P&6?Y(T,A,W,oe,ie,x,w,V,k):(P&64||P&128)&&L.process(T,A,W,oe,ie,x,w,V,k,Ee)}Z!=null&&ie&&Hg(Z,T&&T.ref,x,A||T,!A)},m=(T,A,W,oe)=>{if(T==null)i(A.el=u(A.children),W,oe);else{const ie=A.el=T.el;A.children!==T.children&&l(ie,A.children)}},y=(T,A,W,oe)=>{T==null?i(A.el=o(A.children||""),W,oe):A.el=T.el},b=(T,A,W,oe)=>{[T.el,T.anchor]=p(T.children,A,W,oe,T.el,T.anchor)},E=({el:T,anchor:A},W,oe)=>{let ie;for(;T&&T!==A;)ie=h(T),i(T,W,oe),T=ie;i(A,W,oe)},_=({el:T,anchor:A})=>{let W;for(;T&&T!==A;)W=h(T),s(T),T=W;s(A)},I=(T,A,W,oe,ie,x,w,V,k)=>{A.type==="svg"?w="svg":A.type==="math"&&(w="mathml"),T==null?M(A,W,oe,ie,x,w,V,k):D(T,A,ie,x,w,V,k)},M=(T,A,W,oe,ie,x,w,V)=>{let k,L;const{props:Z,shapeFlag:P,transition:U,dirs:fe}=T;if(k=T.el=a(T.type,x,Z&&Z.is,Z),P&8?c(k,T.children):P&16&&X(T.children,k,null,oe,ie,vp(T,x),w,V),fe&&Xo(T,null,oe,"created"),R(k,T,T.scopeId,w,oe),Z){for(const Ct in Z)Ct!=="value"&&!Vc(Ct)&&r(k,Ct,null,Z[Ct],x,oe);"value"in Z&&r(k,"value",null,Z.value,x),(L=Z.onVnodeBeforeMount)&&Js(L,oe,T)}fe&&Xo(T,null,oe,"beforeMount");const Ue=DA(ie,U);Ue&&U.beforeEnter(k),i(k,A,W),((L=Z&&Z.onVnodeMounted)||Ue||fe)&&Ii(()=>{L&&Js(L,oe,T),Ue&&U.enter(k),fe&&Xo(T,null,oe,"mounted")},ie)},R=(T,A,W,oe,ie)=>{if(W&&f(T,W),oe)for(let x=0;x<oe.length;x++)f(T,oe[x]);if(ie){let x=ie.subTree;if(A===x||_1(x.type)&&(x.ssContent===A||x.ssFallback===A)){const w=ie.vnode;R(T,w,w.scopeId,w.slotScopeIds,ie.parent)}}},X=(T,A,W,oe,ie,x,w,V,k=0)=>{for(let L=k;L<T.length;L++){const Z=T[L]=V?lo(T[L]):nr(T[L]);g(null,Z,A,W,oe,ie,x,w,V)}},D=(T,A,W,oe,ie,x,w)=>{const V=A.el=T.el;let{patchFlag:k,dynamicChildren:L,dirs:Z}=A;k|=T.patchFlag&16;const P=T.props||Ot,U=A.props||Ot;let fe;if(W&&Zo(W,!1),(fe=U.onVnodeBeforeUpdate)&&Js(fe,W,A,T),Z&&Xo(A,T,W,"beforeUpdate"),W&&Zo(W,!0),(P.innerHTML&&U.innerHTML==null||P.textContent&&U.textContent==null)&&c(V,""),L?j(T.dynamicChildren,L,V,W,oe,vp(A,ie),x):w||he(T,A,V,null,W,oe,vp(A,ie),x,!1),k>0){if(k&16)se(V,P,U,W,ie);else if(k&2&&P.class!==U.class&&r(V,"class",null,U.class,ie),k&4&&r(V,"style",P.style,U.style,ie),k&8){const Ue=A.dynamicProps;for(let Ct=0;Ct<Ue.length;Ct++){const St=Ue[Ct],an=P[St],An=U[St];(An!==an||St==="value")&&r(V,St,an,An,ie,W)}}k&1&&T.children!==A.children&&c(V,A.children)}else!w&&L==null&&se(V,P,U,W,ie);((fe=U.onVnodeUpdated)||Z)&&Ii(()=>{fe&&Js(fe,W,A,T),Z&&Xo(A,T,W,"updated")},oe)},j=(T,A,W,oe,ie,x,w)=>{for(let V=0;V<A.length;V++){const k=T[V],L=A[V],Z=k.el&&(k.type===Ye||!ic(k,L)||k.shapeFlag&70)?d(k.el):W;g(k,L,Z,null,oe,ie,x,w,!0)}},se=(T,A,W,oe,ie)=>{if(A!==W){if(A!==Ot)for(const x in A)!Vc(x)&&!(x in W)&&r(T,x,A[x],null,ie,oe);for(const x in W){if(Vc(x))continue;const w=W[x],V=A[x];w!==V&&x!=="value"&&r(T,x,V,w,ie,oe)}"value"in W&&r(T,"value",A.value,W.value,ie)}},ae=(T,A,W,oe,ie,x,w,V,k)=>{const L=A.el=T?T.el:u(""),Z=A.anchor=T?T.anchor:u("");let{patchFlag:P,dynamicChildren:U,slotScopeIds:fe}=A;fe&&(V=V?V.concat(fe):fe),T==null?(i(L,W,oe),i(Z,W,oe),X(A.children||[],W,Z,ie,x,w,V,k)):P>0&&P&64&&U&&T.dynamicChildren?(j(T.dynamicChildren,U,W,ie,x,w,V),(A.key!=null||ie&&A===ie.subTree)&&Ov(T,A,!0)):he(T,A,W,Z,ie,x,w,V,k)},Y=(T,A,W,oe,ie,x,w,V,k)=>{A.slotScopeIds=V,T==null?A.shapeFlag&512?ie.ctx.activate(A,W,oe,w,k):Q(A,W,oe,ie,x,w,k):de(T,A,k)},Q=(T,A,W,oe,ie,x,w)=>{const V=T.component=ZA(T,oe,ie);if(ZS(T)&&(V.ctx.renderer=Ee),QA(V,!1,w),V.asyncDep){if(ie&&ie.registerDep(V,ce,w),!T.el){const k=V.subTree=O(Io);y(null,k,A,W)}}else ce(V,T,A,W,ie,x,w)},de=(T,A,W)=>{const oe=A.component=T.component;if(WA(T,A,W))if(oe.asyncDep&&!oe.asyncResolved){re(oe,A,W);return}else oe.next=A,oe.update();else A.el=T.el,oe.vnode=A},ce=(T,A,W,oe,ie,x,w)=>{const V=()=>{if(T.isMounted){let{next:P,bu:U,u:fe,parent:Ue,vnode:Ct}=T;{const Fi=v1(T);if(Fi){P&&(P.el=Ct.el,re(T,P,w)),Fi.asyncDep.then(()=>{T.isUnmounted||V()});return}}let St=P,an;Zo(T,!1),P?(P.el=Ct.el,re(T,P,w)):P=Ct,U&&Dd(U),(an=P.props&&P.props.onVnodeBeforeUpdate)&&Js(an,Ue,P,Ct),Zo(T,!0);const An=yp(T),ns=T.subTree;T.subTree=An,g(ns,An,d(ns.el),ne(ns),T,ie,x),P.el=An.el,St===null&&zA(T,An.el),fe&&Ii(fe,ie),(an=P.props&&P.props.onVnodeUpdated)&&Ii(()=>Js(an,Ue,P,Ct),ie)}else{let P;const{el:U,props:fe}=A,{bm:Ue,m:Ct,parent:St,root:an,type:An}=T,ns=_l(A);if(Zo(T,!1),Ue&&Dd(Ue),!ns&&(P=fe&&fe.onVnodeBeforeMount)&&Js(P,St,A),Zo(T,!0),U&&Dt){const Fi=()=>{T.subTree=yp(T),Dt(U,T.subTree,T,ie,null)};ns&&An.__asyncHydrate?An.__asyncHydrate(U,T,Fi):Fi()}else{an.ce&&an.ce._injectChildStyle(An);const Fi=T.subTree=yp(T);g(null,Fi,W,oe,T,ie,x),A.el=Fi.el}if(Ct&&Ii(Ct,ie),!ns&&(P=fe&&fe.onVnodeMounted)){const Fi=A;Ii(()=>Js(P,St,Fi),ie)}(A.shapeFlag&256||St&&_l(St.vnode)&&St.vnode.shapeFlag&256)&&T.a&&Ii(T.a,ie),T.isMounted=!0,A=W=oe=null}};T.scope.on();const k=T.effect=new TS(V);T.scope.off();const L=T.update=k.run.bind(k),Z=T.job=k.runIfDirty.bind(k);Z.i=T,Z.id=T.uid,k.scheduler=()=>Cv(Z),Zo(T,!0),L()},re=(T,A,W)=>{A.component=T;const oe=T.vnode.props;T.vnode=A,T.next=null,kA(T,A.props,oe,W),MA(T,A.children,W),Fo(),Tb(T),Vo()},he=(T,A,W,oe,ie,x,w,V,k=!1)=>{const L=T&&T.children,Z=T?T.shapeFlag:0,P=A.children,{patchFlag:U,shapeFlag:fe}=A;if(U>0){if(U&128){lt(L,P,W,oe,ie,x,w,V,k);return}else if(U&256){je(L,P,W,oe,ie,x,w,V,k);return}}fe&8?(Z&16&&fn(L,ie,x),P!==L&&c(W,P)):Z&16?fe&16?lt(L,P,W,oe,ie,x,w,V,k):fn(L,ie,x,!0):(Z&8&&c(W,""),fe&16&&X(P,W,oe,ie,x,w,V,k))},je=(T,A,W,oe,ie,x,w,V,k)=>{T=T||yl,A=A||yl;const L=T.length,Z=A.length,P=Math.min(L,Z);let U;for(U=0;U<P;U++){const fe=A[U]=k?lo(A[U]):nr(A[U]);g(T[U],fe,W,null,ie,x,w,V,k)}L>Z?fn(T,ie,x,!0,!1,P):X(A,W,oe,ie,x,w,V,k,P)},lt=(T,A,W,oe,ie,x,w,V,k)=>{let L=0;const Z=A.length;let P=T.length-1,U=Z-1;for(;L<=P&&L<=U;){const fe=T[L],Ue=A[L]=k?lo(A[L]):nr(A[L]);if(ic(fe,Ue))g(fe,Ue,W,null,ie,x,w,V,k);else break;L++}for(;L<=P&&L<=U;){const fe=T[P],Ue=A[U]=k?lo(A[U]):nr(A[U]);if(ic(fe,Ue))g(fe,Ue,W,null,ie,x,w,V,k);else break;P--,U--}if(L>P){if(L<=U){const fe=U+1,Ue=fe<Z?A[fe].el:oe;for(;L<=U;)g(null,A[L]=k?lo(A[L]):nr(A[L]),W,Ue,ie,x,w,V,k),L++}}else if(L>U)for(;L<=P;)_t(T[L],ie,x,!0),L++;else{const fe=L,Ue=L,Ct=new Map;for(L=Ue;L<=U;L++){const Vi=A[L]=k?lo(A[L]):nr(A[L]);Vi.key!=null&&Ct.set(Vi.key,L)}let St,an=0;const An=U-Ue+1;let ns=!1,Fi=0;const tc=new Array(An);for(L=0;L<An;L++)tc[L]=0;for(L=fe;L<=P;L++){const Vi=T[L];if(an>=An){_t(Vi,ie,x,!0);continue}let Ys;if(Vi.key!=null)Ys=Ct.get(Vi.key);else for(St=Ue;St<=U;St++)if(tc[St-Ue]===0&&ic(Vi,A[St])){Ys=St;break}Ys===void 0?_t(Vi,ie,x,!0):(tc[Ys-Ue]=L+1,Ys>=Fi?Fi=Ys:ns=!0,g(Vi,A[Ys],W,null,ie,x,w,V,k),an++)}const mb=ns?LA(tc):yl;for(St=mb.length-1,L=An-1;L>=0;L--){const Vi=Ue+L,Ys=A[Vi],vb=Vi+1<Z?A[Vi+1].el:oe;tc[L]===0?g(null,Ys,W,vb,ie,x,w,V,k):ns&&(St<0||L!==mb[St]?ft(Ys,W,vb,2):St--)}}},ft=(T,A,W,oe,ie=null)=>{const{el:x,type:w,transition:V,children:k,shapeFlag:L}=T;if(L&6){ft(T.component.subTree,A,W,oe);return}if(L&128){T.suspense.move(A,W,oe);return}if(L&64){w.move(T,A,W,Ee);return}if(w===Ye){i(x,A,W);for(let P=0;P<k.length;P++)ft(k[P],A,W,oe);i(T.anchor,A,W);return}if(w===bp){E(T,A,W);return}if(oe!==2&&L&1&&V)if(oe===0)V.beforeEnter(x),i(x,A,W),Ii(()=>V.enter(x),ie);else{const{leave:P,delayLeave:U,afterLeave:fe}=V,Ue=()=>i(x,A,W),Ct=()=>{P(x,()=>{Ue(),fe&&fe()})};U?U(x,Ue,Ct):Ct()}else i(x,A,W)},_t=(T,A,W,oe=!1,ie=!1)=>{const{type:x,props:w,ref:V,children:k,dynamicChildren:L,shapeFlag:Z,patchFlag:P,dirs:U,cacheIndex:fe}=T;if(P===-2&&(ie=!1),V!=null&&Hg(V,null,W,T,!0),fe!=null&&(A.renderCache[fe]=void 0),Z&256){A.ctx.deactivate(T);return}const Ue=Z&1&&U,Ct=!_l(T);let St;if(Ct&&(St=w&&w.onVnodeBeforeUnmount)&&Js(St,A,T),Z&6)Zt(T.component,W,oe);else{if(Z&128){T.suspense.unmount(W,oe);return}Ue&&Xo(T,null,A,"beforeUnmount"),Z&64?T.type.remove(T,A,W,Ee,oe):L&&!L.hasOnce&&(x!==Ye||P>0&&P&64)?fn(L,A,W,!1,!0):(x===Ye&&P&384||!ie&&Z&16)&&fn(k,A,W),oe&&Bt(T)}(Ct&&(St=w&&w.onVnodeUnmounted)||Ue)&&Ii(()=>{St&&Js(St,A,T),Ue&&Xo(T,null,A,"unmounted")},W)},Bt=T=>{const{type:A,el:W,anchor:oe,transition:ie}=T;if(A===Ye){gt(W,oe);return}if(A===bp){_(T);return}const x=()=>{s(W),ie&&!ie.persisted&&ie.afterLeave&&ie.afterLeave()};if(T.shapeFlag&1&&ie&&!ie.persisted){const{leave:w,delayLeave:V}=ie,k=()=>w(W,x);V?V(T.el,x,k):k()}else x()},gt=(T,A)=>{let W;for(;T!==A;)W=h(T),s(T),T=W;s(A)},Zt=(T,A,W)=>{const{bum:oe,scope:ie,job:x,subTree:w,um:V,m:k,a:L}=T;Mb(k),Mb(L),oe&&Dd(oe),ie.stop(),x&&(x.flags|=8,_t(w,T,A,W)),V&&Ii(V,A),Ii(()=>{T.isUnmounted=!0},A),A&&A.pendingBranch&&!A.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===A.pendingId&&(A.deps--,A.deps===0&&A.resolve())},fn=(T,A,W,oe=!1,ie=!1,x=0)=>{for(let w=x;w<T.length;w++)_t(T[w],A,W,oe,ie)},ne=T=>{if(T.shapeFlag&6)return ne(T.component.subTree);if(T.shapeFlag&128)return T.suspense.next();const A=h(T.anchor||T.el),W=A&&A[YS];return W?h(W):A};let me=!1;const ge=(T,A,W)=>{T==null?A._vnode&&_t(A._vnode,null,null,!0):g(A._vnode||null,T,A,null,null,null,W),A._vnode=T,me||(me=!0,Tb(),zS(),me=!1)},Ee={p:g,um:_t,m:ft,r:Bt,mt:Q,mc:X,pc:he,pbc:j,n:ne,o:e};let It,Dt;return{render:ge,hydrate:It,createApp:wA(ge,It)}}function vp({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Zo({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function DA(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ov(e,t,n=!1){const i=e.children,s=t.children;if(Ze(i)&&Ze(s))for(let r=0;r<i.length;r++){const a=i[r];let u=s[r];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=s[r]=lo(s[r]),u.el=a.el),!n&&u.patchFlag!==-2&&Ov(a,u)),u.type===Lu&&(u.el=a.el)}}function LA(e){const t=e.slice(),n=[0];let i,s,r,a,u;const o=e.length;for(i=0;i<o;i++){const l=e[i];if(l!==0){if(s=n[n.length-1],e[s]<l){t[i]=s,n.push(i);continue}for(r=0,a=n.length-1;r<a;)u=r+a>>1,e[n[u]]<l?r=u+1:a=u;l<e[n[r]]&&(r>0&&(t[i]=n[r-1]),n[r]=i)}}for(r=n.length,a=n[r-1];r-- >0;)n[r]=a,a=t[a];return n}function v1(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:v1(t)}function Mb(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const FA=Symbol.for("v-scx"),VA=()=>ki(FA);function kv(e,t){return hf(e,null,t)}function BA(e,t){return hf(e,null,{flush:"sync"})}function Kt(e,t,n){return hf(e,t,n)}function hf(e,t,n=Ot){const{immediate:i,deep:s,flush:r,once:a}=n,u=Fn({},n);let o;if(pf)if(r==="sync"){const h=VA();o=h.__watcherHandles||(h.__watcherHandles=[])}else if(!t||i)u.once=!0;else{const h=()=>{};return h.stop=rr,h.resume=rr,h.pause=rr,h}const l=Rn;u.call=(h,f,p)=>or(h,l,f,p);let c=!1;r==="post"?u.scheduler=h=>{Ii(h,l&&l.suspense)}:r!=="sync"&&(c=!0,u.scheduler=(h,f)=>{f?h():Cv(h)}),u.augmentJob=h=>{t&&(h.flags|=4),c&&(h.flags|=2,l&&(h.id=l.uid,h.i=l))};const d=tA(e,t,u);return o&&o.push(d),d}function HA(e,t,n){const i=this.proxy,s=rn(e)?e.includes(".")?y1(i,e):()=>i[e]:e.bind(i,i);let r;st(t)?r=t:(r=t.handler,n=t);const a=Fu(this),u=hf(s,r.bind(i),n);return a(),u}function y1(e,t){const n=t.split(".");return()=>{let i=e;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}function vn(e,t,n=Ot){const i=vs(),s=Ji(t),r=Lo(t),a=b1(e,t),u=_v((o,l)=>{let c,d=Ot,h;return BA(()=>{const f=e[t];Oi(c,f)&&(c=f,l())}),{get(){return o(),n.get?n.get(c):c},set(f){const p=n.set?n.set(f):f;if(!Oi(p,c)&&!(d!==Ot&&Oi(f,d)))return;const g=i.vnode.props;g&&(t in g||s in g||r in g)&&(`onUpdate:${t}`in g||`onUpdate:${s}`in g||`onUpdate:${r}`in g)||(c=f,l()),i.emit(`update:${t}`,p),Oi(f,p)&&Oi(f,d)&&!Oi(p,h)&&l(),d=f,h=p}}});return u[Symbol.iterator]=()=>{let o=0;return{next(){return o<2?{value:o++?a||Ot:u,done:!1}:{done:!0}}}},u}const b1=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Ji(t)}Modifiers`]||e[`${Lo(t)}Modifiers`];function jA(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||Ot;let s=n;const r=t.startsWith("update:"),a=r&&b1(i,t.slice(7));a&&(a.trim&&(s=n.map(c=>rn(c)?c.trim():c)),a.number&&(s=n.map(Lg)));let u,o=i[u=dp(t)]||i[u=dp(Ji(t))];!o&&r&&(o=i[u=dp(Lo(t))]),o&&or(o,e,6,s);const l=i[u+"Once"];if(l){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,or(l,e,6,s)}}function E1(e,t,n=!1){const i=t.emitsCache,s=i.get(e);if(s!==void 0)return s;const r=e.emits;let a={},u=!1;if(!st(e)){const o=l=>{const c=E1(l,t,!0);c&&(u=!0,Fn(a,c))};!n&&t.mixins.length&&t.mixins.forEach(o),e.extends&&o(e.extends),e.mixins&&e.mixins.forEach(o)}return!r&&!u?(Xt(e)&&i.set(e,null),null):(Ze(r)?r.forEach(o=>a[o]=null):Fn(a,r),Xt(e)&&i.set(e,a),a)}function ff(e,t){return!e||!Qh(t)?!1:(t=t.slice(2).replace(/Once$/,""),Nt(e,t[0].toLowerCase()+t.slice(1))||Nt(e,Lo(t))||Nt(e,t))}function yp(e){const{type:t,vnode:n,proxy:i,withProxy:s,propsOptions:[r],slots:a,attrs:u,emit:o,render:l,renderCache:c,props:d,data:h,setupState:f,ctx:p,inheritAttrs:g}=e,m=rh(e);let y,b;try{if(n.shapeFlag&4){const _=s||i,I=_;y=nr(l.call(I,_,c,d,f,h,p)),b=u}else{const _=t;y=nr(_.length>1?_(d,{attrs:u,slots:a,emit:o}):_(d,null)),b=t.props?u:UA(u)}}catch(_){Wc.length=0,af(_,e,1),y=O(Io)}let E=y;if(b&&g!==!1){const _=Object.keys(b),{shapeFlag:I}=E;_.length&&I&7&&(r&&_.some(lv)&&(b=GA(b,r)),E=Oa(E,b,!1,!0))}return n.dirs&&(E=Oa(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&Sv(E,n.transition),y=E,rh(m),y}const UA=e=>{let t;for(const n in e)(n==="class"||n==="style"||Qh(n))&&((t||(t={}))[n]=e[n]);return t},GA=(e,t)=>{const n={};for(const i in e)(!lv(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function WA(e,t,n){const{props:i,children:s,component:r}=e,{props:a,children:u,patchFlag:o}=t,l=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&o>=0){if(o&1024)return!0;if(o&16)return i?Nb(i,a,l):!!a;if(o&8){const c=t.dynamicProps;for(let d=0;d<c.length;d++){const h=c[d];if(a[h]!==i[h]&&!ff(l,h))return!0}}}else return(s||u)&&(!u||!u.$stable)?!0:i===a?!1:i?a?Nb(i,a,l):!0:!!a;return!1}function Nb(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(t[r]!==e[r]&&!ff(n,r))return!0}return!1}function zA({vnode:e,parent:t},n){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=n,t=t.parent;else break}}const _1=e=>e.__isSuspense;function KA(e,t){t&&t.pendingBranch?Ze(e)?t.effects.push(...e):t.effects.push(e):sA(e)}const Ye=Symbol.for("v-fgt"),Lu=Symbol.for("v-txt"),Io=Symbol.for("v-cmt"),bp=Symbol.for("v-stc"),Wc=[];let zi=null;function C(e=!1){Wc.push(zi=e?null:[])}function qA(){Wc.pop(),zi=Wc[Wc.length-1]||null}let hu=1;function Rb(e){hu+=e,e<0&&zi&&(zi.hasOnce=!0)}function C1(e){return e.dynamicChildren=hu>0?zi||yl:null,qA(),hu>0&&zi&&zi.push(e),e}function te(e,t,n,i,s,r){return C1(F(e,t,n,i,s,r,!0))}function N(e,t,n,i,s){return C1(O(e,t,n,i,s,!0))}function fu(e){return e?e.__v_isVNode===!0:!1}function ic(e,t){return e.type===t.type&&e.key===t.key}const S1=({key:e})=>e??null,Fd=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?rn(e)||ht(e)||st(e)?{i:Tn,r:e,k:t,f:!!n}:e:null);function F(e,t=null,n=null,i=0,s=null,r=e===Ye?0:1,a=!1,u=!1){const o={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&S1(t),ref:t&&Fd(t),scopeId:qS,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Tn};return u?(Av(o,n),r&128&&e.normalize(o)):n&&(o.shapeFlag|=rn(n)?8:16),hu>0&&!a&&zi&&(o.patchFlag>0||r&6)&&o.patchFlag!==32&&zi.push(o),o}const O=YA;function YA(e,t=null,n=null,i=0,s=null,r=!1){if((!e||e===n1)&&(e=Io),fu(e)){const u=Oa(e,t,!0);return n&&Av(u,n),hu>0&&!r&&zi&&(u.shapeFlag&6?zi[zi.indexOf(e)]=u:zi.push(u)),u.patchFlag=-2,u}if(iP(e)&&(e=e.__vccOpts),t){t=on(t);let{class:u,style:o}=t;u&&!rn(u)&&(t.class=sn(u)),Xt(o)&&(bv(o)&&!Ze(o)&&(o=Fn({},o)),t.style=Nu(o))}const a=rn(e)?1:_1(e)?128:rA(e)?64:Xt(e)?4:st(e)?2:0;return F(e,t,n,i,s,a,r,!0)}function on(e){return e?bv(e)||u1(e)?Fn({},e):e:null}function Oa(e,t,n=!1,i=!1){const{props:s,ref:r,patchFlag:a,children:u,transition:o}=e,l=t?z(s||{},t):s,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&S1(l),ref:t&&t.ref?n&&r?Ze(r)?r.concat(Fd(t)):[r,Fd(t)]:Fd(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ye?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:o,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Oa(e.ssContent),ssFallback:e.ssFallback&&Oa(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return o&&i&&Sv(c,o.clone(c)),c}function qe(e=" ",t=0){return O(Lu,null,e,t)}function nt(e="",t=!1){return t?(C(),N(Io,null,e)):O(Io,null,e)}function nr(e){return e==null||typeof e=="boolean"?O(Io):Ze(e)?O(Ye,null,e.slice()):fu(e)?lo(e):O(Lu,null,String(e))}function lo(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Oa(e)}function Av(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(Ze(t))n=16;else if(typeof t=="object")if(i&65){const s=t.default;s&&(s._c&&(s._d=!1),Av(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!u1(t)?t._ctx=Tn:s===3&&Tn&&(Tn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else st(t)?(t={default:t,_ctx:Tn},n=32):(t=String(t),i&64?(n=16,t=[qe(t)]):n=8);e.children=t,e.shapeFlag|=n}function z(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const s in i)if(s==="class")t.class!==i.class&&(t.class=sn([t.class,i.class]));else if(s==="style")t.style=Nu([t.style,i.style]);else if(Qh(s)){const r=t[s],a=i[s];a&&r!==a&&!(Ze(r)&&r.includes(a))&&(t[s]=r?[].concat(r,a):a)}else s!==""&&(t[s]=i[s])}return t}function Js(e,t,n,i=null){or(e,t,7,[n,i])}const JA=a1();let XA=0;function ZA(e,t,n){const i=e.type,s=(t?t.appContext:e.appContext)||JA,r={uid:XA++,vnode:e,type:i,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new SS(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:h1(i,s),emitsOptions:E1(i,s),emit:null,emitted:null,propsDefaults:Ot,inheritAttrs:i.inheritAttrs,ctx:Ot,data:Ot,props:Ot,attrs:Ot,slots:Ot,refs:Ot,setupState:Ot,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=jA.bind(null,r),e.ce&&e.ce(r),r}let Rn=null;const vs=()=>Rn||Tn;let ah,zg;{const e=bS(),t=(n,i)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(i),r=>{s.length>1?s.forEach(a=>a(r)):s[0](r)}};ah=t("__VUE_INSTANCE_SETTERS__",n=>Rn=n),zg=t("__VUE_SSR_SETTERS__",n=>pf=n)}const Fu=e=>{const t=Rn;return ah(e),e.scope.on(),()=>{e.scope.off(),ah(t)}},Db=()=>{Rn&&Rn.scope.off(),ah(null)};function x1(e){return e.vnode.shapeFlag&4}let pf=!1;function QA(e,t=!1,n=!1){t&&zg(t);const{props:i,children:s}=e.vnode,r=x1(e);OA(e,i,r,t),$A(e,s,n);const a=r?eP(e,t):void 0;return t&&zg(!1),a}function eP(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,yA);const{setup:i}=n;if(i){const s=e.setupContext=i.length>1?w1(e):null,r=Fu(e);Fo();const a=Ru(i,e,0,[e.props,s]);if(Vo(),r(),gS(a)){if(_l(e)||XS(e),a.then(Db,Db),t)return a.then(u=>{Lb(e,u,t)}).catch(u=>{af(u,e,0)});e.asyncDep=a}else Lb(e,a,t)}else T1(e,t)}function Lb(e,t,n){st(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Xt(t)&&(e.setupState=HS(t)),T1(e,n)}let Fb;function T1(e,t,n){const i=e.type;if(!e.render){if(!t&&Fb&&!i.render){const s=i.template||wv(e).template;if(s){const{isCustomElement:r,compilerOptions:a}=e.appContext.config,{delimiters:u,compilerOptions:o}=i,l=Fn(Fn({isCustomElement:r,delimiters:u},a),o);i.render=Fb(s,l)}}e.render=i.render||rr}{const s=Fu(e);Fo();try{EA(e)}finally{Vo(),s()}}}const tP={get(e,t){return ni(e,"get",""),e[t]}};function w1(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,tP),slots:e.slots,emit:e.emit,expose:t}}function gf(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(HS(Et(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Uc)return Uc[n](e)},has(t,n){return n in t||n in Uc}})):e.proxy}function nP(e,t=!0){return st(e)?e.displayName||e.name:e.name||t&&e.__name}function iP(e){return st(e)&&"__vccOpts"in e}const K=(e,t)=>Qk(e,t,pf);function ka(e,t,n){const i=arguments.length;return i===2?Xt(t)&&!Ze(t)?fu(t)?O(e,null,[t]):O(e,t):O(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&fu(n)&&(n=[n]),O(e,t,n))}const sP="3.5.11";/**
* @vue/runtime-dom v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Kg;const Vb=typeof window<"u"&&window.trustedTypes;if(Vb)try{Kg=Vb.createPolicy("vue",{createHTML:e=>e})}catch{}const I1=Kg?e=>Kg.createHTML(e):e=>e,rP="http://www.w3.org/2000/svg",oP="http://www.w3.org/1998/Math/MathML",_r=typeof document<"u"?document:null,Bb=_r&&_r.createElement("template"),aP={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const s=t==="svg"?_r.createElementNS(rP,e):t==="mathml"?_r.createElementNS(oP,e):n?_r.createElement(e,{is:n}):_r.createElement(e);return e==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:e=>_r.createTextNode(e),createComment:e=>_r.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>_r.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,s,r){const a=n?n.previousSibling:t.lastChild;if(s&&(s===r||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===r||!(s=s.nextSibling)););else{Bb.innerHTML=I1(i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e);const u=Bb.content;if(i==="svg"||i==="mathml"){const o=u.firstChild;for(;o.firstChild;)u.appendChild(o.firstChild);u.removeChild(o)}t.insertBefore(u,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},lP=Symbol("_vtc");function cP(e,t,n){const i=e[lP];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const lh=Symbol("_vod"),O1=Symbol("_vsh"),qg={beforeMount(e,{value:t},{transition:n}){e[lh]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):sc(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),sc(e,!0),i.enter(e)):i.leave(e,()=>{sc(e,!1)}):sc(e,t))},beforeUnmount(e,{value:t}){sc(e,t)}};function sc(e,t){e.style.display=t?e[lh]:"none",e[O1]=!t}const uP=Symbol(""),dP=/(^|;)\s*display\s*:/;function hP(e,t,n){const i=e.style,s=rn(n);let r=!1;if(n&&!s){if(t)if(rn(t))for(const a of t.split(";")){const u=a.slice(0,a.indexOf(":")).trim();n[u]==null&&Vd(i,u,"")}else for(const a in t)n[a]==null&&Vd(i,a,"");for(const a in n)a==="display"&&(r=!0),Vd(i,a,n[a])}else if(s){if(t!==n){const a=i[uP];a&&(n+=";"+a),i.cssText=n,r=dP.test(n)}}else t&&e.removeAttribute("style");lh in e&&(e[lh]=r?i.display:"",e[O1]&&(i.display="none"))}const Hb=/\s*!important$/;function Vd(e,t,n){if(Ze(n))n.forEach(i=>Vd(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=fP(e,t);Hb.test(n)?e.setProperty(Lo(i),n.replace(Hb,""),"important"):e[i]=n}}const jb=["Webkit","Moz","ms"],Ep={};function fP(e,t){const n=Ep[t];if(n)return n;let i=Ji(t);if(i!=="filter"&&i in e)return Ep[t]=i;i=nf(i);for(let s=0;s<jb.length;s++){const r=jb[s]+i;if(r in e)return Ep[t]=r}return t}const Ub="http://www.w3.org/1999/xlink";function Gb(e,t,n,i,s,r=Ck(t)){i&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Ub,t.slice(6,t.length)):e.setAttributeNS(Ub,t,n):n==null||r&&!ES(n)?e.removeAttribute(t):e.setAttribute(t,r?"":Do(n)?String(n):n)}function Wb(e,t,n,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?I1(n):n);return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?e.getAttribute("value")||"":e.value,u=n==null?e.type==="checkbox"?"on":"":String(n);(a!==u||!("_value"in e))&&(e.value=u),n==null&&e.removeAttribute(t),e._value=n;return}let r=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=ES(n):n==null&&a==="string"?(n="",r=!0):a==="number"&&(n=0,r=!0)}try{e[t]=n}catch{}r&&e.removeAttribute(t)}function ll(e,t,n,i){e.addEventListener(t,n,i)}function pP(e,t,n,i){e.removeEventListener(t,n,i)}const zb=Symbol("_vei");function gP(e,t,n,i,s=null){const r=e[zb]||(e[zb]={}),a=r[t];if(i&&a)a.value=i;else{const[u,o]=mP(t);if(i){const l=r[t]=bP(i,s);ll(e,u,l,o)}else a&&(pP(e,u,a,o),r[t]=void 0)}}const Kb=/(?:Once|Passive|Capture)$/;function mP(e){let t;if(Kb.test(e)){t={};let i;for(;i=e.match(Kb);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Lo(e.slice(2)),t]}let _p=0;const vP=Promise.resolve(),yP=()=>_p||(vP.then(()=>_p=0),_p=Date.now());function bP(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;or(EP(i,n.value),t,5,[i])};return n.value=e,n.attached=yP(),n}function EP(e,t){if(Ze(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>s=>!s._stopped&&i&&i(s))}else return t}const qb=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,_P=(e,t,n,i,s,r)=>{const a=s==="svg";t==="class"?cP(e,i,a):t==="style"?hP(e,n,i):Qh(t)?lv(t)||gP(e,t,n,i,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):CP(e,t,i,a))?(Wb(e,t,i),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Gb(e,t,i,a,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!rn(i))?Wb(e,Ji(t),i):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),Gb(e,t,i,a))};function CP(e,t,n,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&qb(t)&&st(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return qb(t)&&rn(n)?!1:t in e}const Yb=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ze(t)?n=>Dd(t,n):t};function SP(e){e.target.composing=!0}function Jb(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Cp=Symbol("_assign"),mf={created(e,{modifiers:{lazy:t,trim:n,number:i}},s){e[Cp]=Yb(s);const r=i||s.props&&s.props.type==="number";ll(e,t?"change":"input",a=>{if(a.target.composing)return;let u=e.value;n&&(u=u.trim()),r&&(u=Lg(u)),e[Cp](u)}),n&&ll(e,"change",()=>{e.value=e.value.trim()}),t||(ll(e,"compositionstart",SP),ll(e,"compositionend",Jb),ll(e,"change",Jb))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:i,trim:s,number:r}},a){if(e[Cp]=Yb(a),e.composing)return;const u=(r||e.type==="number")&&!/^0\d/.test(e.value)?Lg(e.value):e.value,o=t??"";u!==o&&(document.activeElement===e&&e.type!=="range"&&(i&&t===n||s&&e.value.trim()===o)||(e.value=o))}},xP=["ctrl","shift","alt","meta"],TP={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>xP.some(n=>e[`${n}Key`]&&!t.includes(n))},Ki=(e,t)=>{const n=e._withMods||(e._withMods={}),i=t.join(".");return n[i]||(n[i]=(s,...r)=>{for(let a=0;a<t.length;a++){const u=TP[t[a]];if(u&&u(s,t))return}return e(s,...r)})},wP=Fn({patchProp:_P},aP);let Xb;function IP(){return Xb||(Xb=NA(wP))}const OP=(...e)=>{const t=IP().createApp(...e),{mount:n}=t;return t.mount=i=>{const s=AP(i);if(!s)return;const r=t._component;!st(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const a=n(s,!1,kP(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},t};function kP(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function AP(e){return rn(e)?document.querySelector(e):e}var PP=!1;/*!
 * pinia v2.2.4
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let k1;const vf=e=>k1=e,A1=Symbol();function Yg(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var zc;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(zc||(zc={}));function $P(){const e=dv(!0),t=e.run(()=>Xe({}));let n=[],i=[];const s=Et({install(r){vf(s),s._a=r,r.provide(A1,s),r.config.globalProperties.$pinia=s,i.forEach(a=>n.push(a)),i=[]},use(r){return!this._a&&!PP?i.push(r):n.push(r),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return s}const P1=()=>{};function Zb(e,t,n,i=P1){e.push(t);const s=()=>{const r=e.indexOf(t);r>-1&&(e.splice(r,1),i())};return!n&&hv()&&xS(s),s}function Ka(e,...t){e.slice().forEach(n=>{n(...t)})}const MP=e=>e(),Qb=Symbol(),Sp=Symbol();function Jg(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,i)=>e.set(i,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const i=t[n],s=e[n];Yg(s)&&Yg(i)&&e.hasOwnProperty(n)&&!ht(i)&&!yo(i)?e[n]=Jg(s,i):e[n]=i}return e}const NP=Symbol();function RP(e){return!Yg(e)||!e.hasOwnProperty(NP)}const{assign:Gr}=Object;function DP(e){return!!(ht(e)&&e.effect)}function LP(e,t,n,i){const{state:s,actions:r,getters:a}=t,u=n.state.value[e];let o;function l(){u||(n.state.value[e]=s?s():{});const c=jS(n.state.value[e]);return Gr(c,r,Object.keys(a||{}).reduce((d,h)=>(d[h]=Et(K(()=>{vf(n);const f=n._s.get(e);return a[h].call(f,f)})),d),{}))}return o=$1(e,l,t,n,i,!0),o}function $1(e,t,n={},i,s,r){let a;const u=Gr({actions:{}},n),o={deep:!0};let l,c,d=[],h=[],f;const p=i.state.value[e];!r&&!p&&(i.state.value[e]={}),Xe({});let g;function m(X){let D;l=c=!1,typeof X=="function"?(X(i.state.value[e]),D={type:zc.patchFunction,storeId:e,events:f}):(Jg(i.state.value[e],X),D={type:zc.patchObject,payload:X,storeId:e,events:f});const j=g=Symbol();wa().then(()=>{g===j&&(l=!0)}),c=!0,Ka(d,D,i.state.value[e])}const y=r?function(){const{state:D}=n,j=D?D():{};this.$patch(se=>{Gr(se,j)})}:P1;function b(){a.stop(),d=[],h=[],i._s.delete(e)}const E=(X,D="")=>{if(Qb in X)return X[Sp]=D,X;const j=function(){vf(i);const se=Array.from(arguments),ae=[],Y=[];function Q(re){ae.push(re)}function de(re){Y.push(re)}Ka(h,{args:se,name:j[Sp],store:I,after:Q,onError:de});let ce;try{ce=X.apply(this&&this.$id===e?this:I,se)}catch(re){throw Ka(Y,re),re}return ce instanceof Promise?ce.then(re=>(Ka(ae,re),re)).catch(re=>(Ka(Y,re),Promise.reject(re))):(Ka(ae,ce),ce)};return j[Qb]=!0,j[Sp]=D,j},_={_p:i,$id:e,$onAction:Zb.bind(null,h),$patch:m,$reset:y,$subscribe(X,D={}){const j=Zb(d,X,D.detached,()=>se()),se=a.run(()=>Kt(()=>i.state.value[e],ae=>{(D.flush==="sync"?c:l)&&X({storeId:e,type:zc.direct,events:f},ae)},Gr({},o,D)));return j},$dispose:b},I=ir(_);i._s.set(e,I);const R=(i._a&&i._a.runWithContext||MP)(()=>i._e.run(()=>(a=dv()).run(()=>t({action:E}))));for(const X in R){const D=R[X];if(ht(D)&&!DP(D)||yo(D))r||(p&&RP(D)&&(ht(D)?D.value=p[X]:Jg(D,p[X])),i.state.value[e][X]=D);else if(typeof D=="function"){const j=E(D,X);R[X]=j,u.actions[X]=D}}return Gr(I,R),Gr(dt(I),R),Object.defineProperty(I,"$state",{get:()=>i.state.value[e],set:X=>{m(D=>{Gr(D,X)})}}),i._p.forEach(X=>{Gr(I,a.run(()=>X({store:I,app:i._a,pinia:i,options:u})))}),p&&r&&n.hydrate&&n.hydrate(I.$state,p),l=!0,c=!0,I}function FP(e,t,n){let i,s;const r=typeof t=="function";i=e,s=r?n:t;function a(u,o){const l=IA();return u=u||(l?ki(A1,null):null),u&&vf(u),u=k1,u._s.has(i)||(r?$1(i,t,s,u):LP(i,s,u)),u._s.get(i)}return a.$id=i,a}/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const cl=typeof document<"u";function M1(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function VP(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&M1(e.default)}const Ft=Object.assign;function xp(e,t){const n={};for(const i in t){const s=t[i];n[i]=Hs(s)?s.map(e):e(s)}return n}const Kc=()=>{},Hs=Array.isArray,N1=/#/g,BP=/&/g,HP=/\//g,jP=/=/g,UP=/\?/g,R1=/\+/g,GP=/%5B/g,WP=/%5D/g,D1=/%5E/g,zP=/%60/g,L1=/%7B/g,KP=/%7C/g,F1=/%7D/g,qP=/%20/g;function Pv(e){return encodeURI(""+e).replace(KP,"|").replace(GP,"[").replace(WP,"]")}function YP(e){return Pv(e).replace(L1,"{").replace(F1,"}").replace(D1,"^")}function Xg(e){return Pv(e).replace(R1,"%2B").replace(qP,"+").replace(N1,"%23").replace(BP,"%26").replace(zP,"`").replace(L1,"{").replace(F1,"}").replace(D1,"^")}function JP(e){return Xg(e).replace(jP,"%3D")}function XP(e){return Pv(e).replace(N1,"%23").replace(UP,"%3F")}function ZP(e){return e==null?"":XP(e).replace(HP,"%2F")}function pu(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const QP=/\/$/,e$=e=>e.replace(QP,"");function Tp(e,t,n="/"){let i,s={},r="",a="";const u=t.indexOf("#");let o=t.indexOf("?");return u<o&&u>=0&&(o=-1),o>-1&&(i=t.slice(0,o),r=t.slice(o+1,u>-1?u:t.length),s=e(r)),u>-1&&(i=i||t.slice(0,u),a=t.slice(u,t.length)),i=s$(i??t,n),{fullPath:i+(r&&"?")+r+a,path:i,query:s,hash:pu(a)}}function t$(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function eE(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function n$(e,t,n){const i=t.matched.length-1,s=n.matched.length-1;return i>-1&&i===s&&kl(t.matched[i],n.matched[s])&&V1(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function kl(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function V1(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!i$(e[n],t[n]))return!1;return!0}function i$(e,t){return Hs(e)?tE(e,t):Hs(t)?tE(t,e):e===t}function tE(e,t){return Hs(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function s$(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/"),s=i[i.length-1];(s===".."||s===".")&&i.push("");let r=n.length-1,a,u;for(a=0;a<i.length;a++)if(u=i[a],u!==".")if(u==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+i.slice(a).join("/")}const Br={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var gu;(function(e){e.pop="pop",e.push="push"})(gu||(gu={}));var qc;(function(e){e.back="back",e.forward="forward",e.unknown=""})(qc||(qc={}));function r$(e){if(!e)if(cl){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),e$(e)}const o$=/^[^#]+#/;function a$(e,t){return e.replace(o$,"#")+t}function l$(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const yf=()=>({left:window.scrollX,top:window.scrollY});function c$(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=l$(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function nE(e,t){return(history.state?history.state.position-t:-1)+e}const Zg=new Map;function u$(e,t){Zg.set(e,t)}function d$(e){const t=Zg.get(e);return Zg.delete(e),t}let h$=()=>location.protocol+"//"+location.host;function B1(e,t){const{pathname:n,search:i,hash:s}=t,r=e.indexOf("#");if(r>-1){let u=s.includes(e.slice(r))?e.slice(r).length:1,o=s.slice(u);return o[0]!=="/"&&(o="/"+o),eE(o,"")}return eE(n,e)+i+s}function f$(e,t,n,i){let s=[],r=[],a=null;const u=({state:h})=>{const f=B1(e,location),p=n.value,g=t.value;let m=0;if(h){if(n.value=f,t.value=h,a&&a===p){a=null;return}m=g?h.position-g.position:0}else i(f);s.forEach(y=>{y(n.value,p,{delta:m,type:gu.pop,direction:m?m>0?qc.forward:qc.back:qc.unknown})})};function o(){a=n.value}function l(h){s.push(h);const f=()=>{const p=s.indexOf(h);p>-1&&s.splice(p,1)};return r.push(f),f}function c(){const{history:h}=window;h.state&&h.replaceState(Ft({},h.state,{scroll:yf()}),"")}function d(){for(const h of r)h();r=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:o,listen:l,destroy:d}}function iE(e,t,n,i=!1,s=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:s?yf():null}}function p$(e){const{history:t,location:n}=window,i={value:B1(e,n)},s={value:t.state};s.value||r(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(o,l,c){const d=e.indexOf("#"),h=d>-1?(n.host&&document.querySelector("base")?e:e.slice(d))+o:h$()+e+o;try{t[c?"replaceState":"pushState"](l,"",h),s.value=l}catch(f){console.error(f),n[c?"replace":"assign"](h)}}function a(o,l){const c=Ft({},t.state,iE(s.value.back,o,s.value.forward,!0),l,{position:s.value.position});r(o,c,!0),i.value=o}function u(o,l){const c=Ft({},s.value,t.state,{forward:o,scroll:yf()});r(c.current,c,!0);const d=Ft({},iE(i.value,o,null),{position:c.position+1},l);r(o,d,!1),i.value=o}return{location:i,state:s,push:u,replace:a}}function g$(e){e=r$(e);const t=p$(e),n=f$(e,t.state,t.location,t.replace);function i(r,a=!0){a||n.pauseListeners(),history.go(r)}const s=Ft({location:"",base:e,go:i,createHref:a$.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function m$(e){return typeof e=="string"||e&&typeof e=="object"}function H1(e){return typeof e=="string"||typeof e=="symbol"}const j1=Symbol("");var sE;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(sE||(sE={}));function Al(e,t){return Ft(new Error,{type:e,[j1]:!0},t)}function vr(e,t){return e instanceof Error&&j1 in e&&(t==null||!!(e.type&t))}const rE="[^/]+?",v$={sensitive:!1,strict:!1,start:!0,end:!0},y$=/[.+*?^${}()[\]/\\]/g;function b$(e,t){const n=Ft({},v$,t),i=[];let s=n.start?"^":"";const r=[];for(const l of e){const c=l.length?[]:[90];n.strict&&!l.length&&(s+="/");for(let d=0;d<l.length;d++){const h=l[d];let f=40+(n.sensitive?.25:0);if(h.type===0)d||(s+="/"),s+=h.value.replace(y$,"\\$&"),f+=40;else if(h.type===1){const{value:p,repeatable:g,optional:m,regexp:y}=h;r.push({name:p,repeatable:g,optional:m});const b=y||rE;if(b!==rE){f+=10;try{new RegExp(`(${b})`)}catch(_){throw new Error(`Invalid custom RegExp for param "${p}" (${b}): `+_.message)}}let E=g?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;d||(E=m&&l.length<2?`(?:/${E})`:"/"+E),m&&(E+="?"),s+=E,f+=20,m&&(f+=-8),g&&(f+=-20),b===".*"&&(f+=-50)}c.push(f)}i.push(c)}if(n.strict&&n.end){const l=i.length-1;i[l][i[l].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const a=new RegExp(s,n.sensitive?"":"i");function u(l){const c=l.match(a),d={};if(!c)return null;for(let h=1;h<c.length;h++){const f=c[h]||"",p=r[h-1];d[p.name]=f&&p.repeatable?f.split("/"):f}return d}function o(l){let c="",d=!1;for(const h of e){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const f of h)if(f.type===0)c+=f.value;else if(f.type===1){const{value:p,repeatable:g,optional:m}=f,y=p in l?l[p]:"";if(Hs(y)&&!g)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const b=Hs(y)?y.join("/"):y;if(!b)if(m)h.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);c+=b}}return c||"/"}return{re:a,score:i,keys:r,parse:u,stringify:o}}function E$(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function U1(e,t){let n=0;const i=e.score,s=t.score;for(;n<i.length&&n<s.length;){const r=E$(i[n],s[n]);if(r)return r;n++}if(Math.abs(s.length-i.length)===1){if(oE(i))return 1;if(oE(s))return-1}return s.length-i.length}function oE(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const _$={type:0,value:""},C$=/[a-zA-Z0-9_]/;function S$(e){if(!e)return[[]];if(e==="/")return[[_$]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(f){throw new Error(`ERR (${n})/"${l}": ${f}`)}let n=0,i=n;const s=[];let r;function a(){r&&s.push(r),r=[]}let u=0,o,l="",c="";function d(){l&&(n===0?r.push({type:0,value:l}):n===1||n===2||n===3?(r.length>1&&(o==="*"||o==="+")&&t(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:l,regexp:c,repeatable:o==="*"||o==="+",optional:o==="*"||o==="?"})):t("Invalid state to consume buffer"),l="")}function h(){l+=o}for(;u<e.length;){if(o=e[u++],o==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:o==="/"?(l&&d(),a()):o===":"?(d(),n=1):h();break;case 4:h(),n=i;break;case 1:o==="("?n=2:C$.test(o)?h():(d(),n=0,o!=="*"&&o!=="?"&&o!=="+"&&u--);break;case 2:o===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+o:n=3:c+=o;break;case 3:d(),n=0,o!=="*"&&o!=="?"&&o!=="+"&&u--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${l}"`),d(),a(),s}function x$(e,t,n){const i=b$(S$(e.path),n),s=Ft(i,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function T$(e,t){const n=[],i=new Map;t=uE({strict:!1,end:!0,sensitive:!1},t);function s(d){return i.get(d)}function r(d,h,f){const p=!f,g=lE(d);g.aliasOf=f&&f.record;const m=uE(t,d),y=[g];if("alias"in d){const _=typeof d.alias=="string"?[d.alias]:d.alias;for(const I of _)y.push(lE(Ft({},g,{components:f?f.record.components:g.components,path:I,aliasOf:f?f.record:g})))}let b,E;for(const _ of y){const{path:I}=_;if(h&&I[0]!=="/"){const M=h.record.path,R=M[M.length-1]==="/"?"":"/";_.path=h.record.path+(I&&R+I)}if(b=x$(_,h,m),f?f.alias.push(b):(E=E||b,E!==b&&E.alias.push(b),p&&d.name&&!cE(b)&&a(d.name)),G1(b)&&o(b),g.children){const M=g.children;for(let R=0;R<M.length;R++)r(M[R],b,f&&f.children[R])}f=f||b}return E?()=>{a(E)}:Kc}function a(d){if(H1(d)){const h=i.get(d);h&&(i.delete(d),n.splice(n.indexOf(h),1),h.children.forEach(a),h.alias.forEach(a))}else{const h=n.indexOf(d);h>-1&&(n.splice(h,1),d.record.name&&i.delete(d.record.name),d.children.forEach(a),d.alias.forEach(a))}}function u(){return n}function o(d){const h=O$(d,n);n.splice(h,0,d),d.record.name&&!cE(d)&&i.set(d.record.name,d)}function l(d,h){let f,p={},g,m;if("name"in d&&d.name){if(f=i.get(d.name),!f)throw Al(1,{location:d});m=f.record.name,p=Ft(aE(h.params,f.keys.filter(E=>!E.optional).concat(f.parent?f.parent.keys.filter(E=>E.optional):[]).map(E=>E.name)),d.params&&aE(d.params,f.keys.map(E=>E.name))),g=f.stringify(p)}else if(d.path!=null)g=d.path,f=n.find(E=>E.re.test(g)),f&&(p=f.parse(g),m=f.record.name);else{if(f=h.name?i.get(h.name):n.find(E=>E.re.test(h.path)),!f)throw Al(1,{location:d,currentLocation:h});m=f.record.name,p=Ft({},h.params,d.params),g=f.stringify(p)}const y=[];let b=f;for(;b;)y.unshift(b.record),b=b.parent;return{name:m,path:g,params:p,matched:y,meta:I$(y)}}e.forEach(d=>r(d));function c(){n.length=0,i.clear()}return{addRoute:r,resolve:l,removeRoute:a,clearRoutes:c,getRoutes:u,getRecordMatcher:s}}function aE(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function lE(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:w$(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function w$(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="object"?n[i]:n;return t}function cE(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function I$(e){return e.reduce((t,n)=>Ft(t,n.meta),{})}function uE(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function O$(e,t){let n=0,i=t.length;for(;n!==i;){const r=n+i>>1;U1(e,t[r])<0?i=r:n=r+1}const s=k$(e);return s&&(i=t.lastIndexOf(s,i-1)),i}function k$(e){let t=e;for(;t=t.parent;)if(G1(t)&&U1(e,t)===0)return t}function G1({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function A$(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<i.length;++s){const r=i[s].replace(R1," "),a=r.indexOf("="),u=pu(a<0?r:r.slice(0,a)),o=a<0?null:pu(r.slice(a+1));if(u in t){let l=t[u];Hs(l)||(l=t[u]=[l]),l.push(o)}else t[u]=o}return t}function dE(e){let t="";for(let n in e){const i=e[n];if(n=JP(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(Hs(i)?i.map(r=>r&&Xg(r)):[i&&Xg(i)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+n,r!=null&&(t+="="+r))})}return t}function P$(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=Hs(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return t}const $$=Symbol(""),hE=Symbol(""),bf=Symbol(""),$v=Symbol(""),Qg=Symbol("");function rc(){let e=[];function t(i){return e.push(i),()=>{const s=e.indexOf(i);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function co(e,t,n,i,s,r=a=>a()){const a=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((u,o)=>{const l=h=>{h===!1?o(Al(4,{from:n,to:t})):h instanceof Error?o(h):m$(h)?o(Al(2,{from:t,to:h})):(a&&i.enterCallbacks[s]===a&&typeof h=="function"&&a.push(h),u())},c=r(()=>e.call(i&&i.instances[s],t,n,l));let d=Promise.resolve(c);e.length<3&&(d=d.then(l)),d.catch(h=>o(h))})}function wp(e,t,n,i,s=r=>r()){const r=[];for(const a of e)for(const u in a.components){let o=a.components[u];if(!(t!=="beforeRouteEnter"&&!a.instances[u]))if(M1(o)){const c=(o.__vccOpts||o)[t];c&&r.push(co(c,n,i,a,u,s))}else{let l=o();r.push(()=>l.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${u}" at "${a.path}"`);const d=VP(c)?c.default:c;a.mods[u]=c,a.components[u]=d;const f=(d.__vccOpts||d)[t];return f&&co(f,n,i,a,u,s)()}))}}return r}function fE(e){const t=ki(bf),n=ki($v),i=K(()=>{const o=v(e.to);return t.resolve(o)}),s=K(()=>{const{matched:o}=i.value,{length:l}=o,c=o[l-1],d=n.matched;if(!c||!d.length)return-1;const h=d.findIndex(kl.bind(null,c));if(h>-1)return h;const f=pE(o[l-2]);return l>1&&pE(c)===f&&d[d.length-1].path!==f?d.findIndex(kl.bind(null,o[l-2])):h}),r=K(()=>s.value>-1&&D$(n.params,i.value.params)),a=K(()=>s.value>-1&&s.value===n.matched.length-1&&V1(n.params,i.value.params));function u(o={}){return R$(o)?t[v(e.replace)?"replace":"push"](v(e.to)).catch(Kc):Promise.resolve()}return{route:i,href:K(()=>i.value.href),isActive:r,isExactActive:a,navigate:u}}const M$=$({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:fE,setup(e,{slots:t}){const n=ir(fE(e)),{options:i}=ki(bf),s=K(()=>({[gE(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[gE(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=t.default&&t.default(n);return e.custom?r:ka("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},r)}}}),N$=M$;function R$(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function D$(e,t){for(const n in t){const i=t[n],s=e[n];if(typeof i=="string"){if(i!==s)return!1}else if(!Hs(s)||s.length!==i.length||i.some((r,a)=>r!==s[a]))return!1}return!0}function pE(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const gE=(e,t,n)=>e??t??n,L$=$({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=ki(Qg),s=K(()=>e.route||i.value),r=ki(hE,0),a=K(()=>{let l=v(r);const{matched:c}=s.value;let d;for(;(d=c[l])&&!d.components;)l++;return l}),u=K(()=>s.value.matched[a.value]);Gc(hE,K(()=>a.value+1)),Gc($$,u),Gc(Qg,s);const o=Xe();return Kt(()=>[o.value,u.value,e.name],([l,c,d],[h,f,p])=>{c&&(c.instances[d]=l,f&&f!==c&&l&&l===h&&(c.leaveGuards.size||(c.leaveGuards=f.leaveGuards),c.updateGuards.size||(c.updateGuards=f.updateGuards))),l&&c&&(!f||!kl(c,f)||!h)&&(c.enterCallbacks[d]||[]).forEach(g=>g(l))},{flush:"post"}),()=>{const l=s.value,c=e.name,d=u.value,h=d&&d.components[c];if(!h)return mE(n.default,{Component:h,route:l});const f=d.props[c],p=f?f===!0?l.params:typeof f=="function"?f(l):f:null,m=ka(h,Ft({},p,t,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(d.instances[c]=null)},ref:o}));return mE(n.default,{Component:m,route:l})||m}}});function mE(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const F$=L$;function V$(e){const t=T$(e.routes,e),n=e.parseQuery||A$,i=e.stringifyQuery||dE,s=e.history,r=rc(),a=rc(),u=rc(),o=bo(Br);let l=Br;cl&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=xp.bind(null,ne=>""+ne),d=xp.bind(null,ZP),h=xp.bind(null,pu);function f(ne,me){let ge,Ee;return H1(ne)?(ge=t.getRecordMatcher(ne),Ee=me):Ee=ne,t.addRoute(Ee,ge)}function p(ne){const me=t.getRecordMatcher(ne);me&&t.removeRoute(me)}function g(){return t.getRoutes().map(ne=>ne.record)}function m(ne){return!!t.getRecordMatcher(ne)}function y(ne,me){if(me=Ft({},me||o.value),typeof ne=="string"){const A=Tp(n,ne,me.path),W=t.resolve({path:A.path},me),oe=s.createHref(A.fullPath);return Ft(A,W,{params:h(W.params),hash:pu(A.hash),redirectedFrom:void 0,href:oe})}let ge;if(ne.path!=null)ge=Ft({},ne,{path:Tp(n,ne.path,me.path).path});else{const A=Ft({},ne.params);for(const W in A)A[W]==null&&delete A[W];ge=Ft({},ne,{params:d(A)}),me.params=d(me.params)}const Ee=t.resolve(ge,me),It=ne.hash||"";Ee.params=c(h(Ee.params));const Dt=t$(i,Ft({},ne,{hash:YP(It),path:Ee.path})),T=s.createHref(Dt);return Ft({fullPath:Dt,hash:It,query:i===dE?P$(ne.query):ne.query||{}},Ee,{redirectedFrom:void 0,href:T})}function b(ne){return typeof ne=="string"?Tp(n,ne,o.value.path):Ft({},ne)}function E(ne,me){if(l!==ne)return Al(8,{from:me,to:ne})}function _(ne){return R(ne)}function I(ne){return _(Ft(b(ne),{replace:!0}))}function M(ne){const me=ne.matched[ne.matched.length-1];if(me&&me.redirect){const{redirect:ge}=me;let Ee=typeof ge=="function"?ge(ne):ge;return typeof Ee=="string"&&(Ee=Ee.includes("?")||Ee.includes("#")?Ee=b(Ee):{path:Ee},Ee.params={}),Ft({query:ne.query,hash:ne.hash,params:Ee.path!=null?{}:ne.params},Ee)}}function R(ne,me){const ge=l=y(ne),Ee=o.value,It=ne.state,Dt=ne.force,T=ne.replace===!0,A=M(ge);if(A)return R(Ft(b(A),{state:typeof A=="object"?Ft({},It,A.state):It,force:Dt,replace:T}),me||ge);const W=ge;W.redirectedFrom=me;let oe;return!Dt&&n$(i,Ee,ge)&&(oe=Al(16,{to:W,from:Ee}),ft(Ee,Ee,!0,!1)),(oe?Promise.resolve(oe):j(W,Ee)).catch(ie=>vr(ie)?vr(ie,2)?ie:lt(ie):he(ie,W,Ee)).then(ie=>{if(ie){if(vr(ie,2))return R(Ft({replace:T},b(ie.to),{state:typeof ie.to=="object"?Ft({},It,ie.to.state):It,force:Dt}),me||W)}else ie=ae(W,Ee,!0,T,It);return se(W,Ee,ie),ie})}function X(ne,me){const ge=E(ne,me);return ge?Promise.reject(ge):Promise.resolve()}function D(ne){const me=gt.values().next().value;return me&&typeof me.runWithContext=="function"?me.runWithContext(ne):ne()}function j(ne,me){let ge;const[Ee,It,Dt]=B$(ne,me);ge=wp(Ee.reverse(),"beforeRouteLeave",ne,me);for(const A of Ee)A.leaveGuards.forEach(W=>{ge.push(co(W,ne,me))});const T=X.bind(null,ne,me);return ge.push(T),fn(ge).then(()=>{ge=[];for(const A of r.list())ge.push(co(A,ne,me));return ge.push(T),fn(ge)}).then(()=>{ge=wp(It,"beforeRouteUpdate",ne,me);for(const A of It)A.updateGuards.forEach(W=>{ge.push(co(W,ne,me))});return ge.push(T),fn(ge)}).then(()=>{ge=[];for(const A of Dt)if(A.beforeEnter)if(Hs(A.beforeEnter))for(const W of A.beforeEnter)ge.push(co(W,ne,me));else ge.push(co(A.beforeEnter,ne,me));return ge.push(T),fn(ge)}).then(()=>(ne.matched.forEach(A=>A.enterCallbacks={}),ge=wp(Dt,"beforeRouteEnter",ne,me,D),ge.push(T),fn(ge))).then(()=>{ge=[];for(const A of a.list())ge.push(co(A,ne,me));return ge.push(T),fn(ge)}).catch(A=>vr(A,8)?A:Promise.reject(A))}function se(ne,me,ge){u.list().forEach(Ee=>D(()=>Ee(ne,me,ge)))}function ae(ne,me,ge,Ee,It){const Dt=E(ne,me);if(Dt)return Dt;const T=me===Br,A=cl?history.state:{};ge&&(Ee||T?s.replace(ne.fullPath,Ft({scroll:T&&A&&A.scroll},It)):s.push(ne.fullPath,It)),o.value=ne,ft(ne,me,ge,T),lt()}let Y;function Q(){Y||(Y=s.listen((ne,me,ge)=>{if(!Zt.listening)return;const Ee=y(ne),It=M(Ee);if(It){R(Ft(It,{replace:!0}),Ee).catch(Kc);return}l=Ee;const Dt=o.value;cl&&u$(nE(Dt.fullPath,ge.delta),yf()),j(Ee,Dt).catch(T=>vr(T,12)?T:vr(T,2)?(R(T.to,Ee).then(A=>{vr(A,20)&&!ge.delta&&ge.type===gu.pop&&s.go(-1,!1)}).catch(Kc),Promise.reject()):(ge.delta&&s.go(-ge.delta,!1),he(T,Ee,Dt))).then(T=>{T=T||ae(Ee,Dt,!1),T&&(ge.delta&&!vr(T,8)?s.go(-ge.delta,!1):ge.type===gu.pop&&vr(T,20)&&s.go(-1,!1)),se(Ee,Dt,T)}).catch(Kc)}))}let de=rc(),ce=rc(),re;function he(ne,me,ge){lt(ne);const Ee=ce.list();return Ee.length?Ee.forEach(It=>It(ne,me,ge)):console.error(ne),Promise.reject(ne)}function je(){return re&&o.value!==Br?Promise.resolve():new Promise((ne,me)=>{de.add([ne,me])})}function lt(ne){return re||(re=!ne,Q(),de.list().forEach(([me,ge])=>ne?ge(ne):me()),de.reset()),ne}function ft(ne,me,ge,Ee){const{scrollBehavior:It}=e;if(!cl||!It)return Promise.resolve();const Dt=!ge&&d$(nE(ne.fullPath,0))||(Ee||!ge)&&history.state&&history.state.scroll||null;return wa().then(()=>It(ne,me,Dt)).then(T=>T&&c$(T)).catch(T=>he(T,ne,me))}const _t=ne=>s.go(ne);let Bt;const gt=new Set,Zt={currentRoute:o,listening:!0,addRoute:f,removeRoute:p,clearRoutes:t.clearRoutes,hasRoute:m,getRoutes:g,resolve:y,options:e,push:_,replace:I,go:_t,back:()=>_t(-1),forward:()=>_t(1),beforeEach:r.add,beforeResolve:a.add,afterEach:u.add,onError:ce.add,isReady:je,install(ne){const me=this;ne.component("RouterLink",N$),ne.component("RouterView",F$),ne.config.globalProperties.$router=me,Object.defineProperty(ne.config.globalProperties,"$route",{enumerable:!0,get:()=>v(o)}),cl&&!Bt&&o.value===Br&&(Bt=!0,_(s.location).catch(It=>{}));const ge={};for(const It in Br)Object.defineProperty(ge,It,{get:()=>o.value[It],enumerable:!0});ne.provide(bf,me),ne.provide($v,VS(ge)),ne.provide(Qg,o);const Ee=ne.unmount;gt.add(ne),ne.unmount=function(){gt.delete(ne),gt.size<1&&(l=Br,Y&&Y(),Y=null,o.value=Br,Bt=!1,re=!1),Ee()}}};function fn(ne){return ne.reduce((me,ge)=>me.then(()=>D(ge)),Promise.resolve())}return Zt}function B$(e,t){const n=[],i=[],s=[],r=Math.max(t.matched.length,e.matched.length);for(let a=0;a<r;a++){const u=t.matched[a];u&&(e.matched.find(l=>kl(l,u))?i.push(u):n.push(u));const o=e.matched[a];o&&(t.matched.find(l=>kl(l,o))||s.push(o))}return[n,i,s]}function La(){return ki(bf)}function Ef(e){return ki($v)}const H$={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function j$(e,t){return C(),te("svg",H$,t[0]||(t[0]=[F("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"m21 21l-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607"},null,-1)]))}const _f=Et({name:"heroicons-magnifying-glass",render:j$}),U$={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function G$(e,t){return C(),te("svg",U$,t[0]||(t[0]=[F("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M6 18L18 6M6 6l12 12"},null,-1)]))}const jl=Et({name:"heroicons-x-mark",render:G$}),W$={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function z$(e,t){return C(),te("svg",W$,t[0]||(t[0]=[F("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0a9 9 0 0 1 18 0"},null,-1)]))}const W1=Et({name:"heroicons-plus-circle",render:z$}),K$={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function q$(e,t){return C(),te("svg",K$,t[0]||(t[0]=[F("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M3.98 8.223A10.5 10.5 0 0 0 1.934 12c1.292 4.339 5.31 7.5 10.066 7.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.499a10.52 10.52 0 0 1-4.293 5.773M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"},null,-1)]))}const z1=Et({name:"heroicons-eye-slash",render:q$}),Y$={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function J$(e,t){return C(),te("svg",Y$,t[0]||(t[0]=[F("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"},[F("path",{d:"M2.036 12.322a1 1 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178c.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178"}),F("path",{d:"M15 12a3 3 0 1 1-6 0a3 3 0 0 1 6 0"})],-1)]))}const K1=Et({name:"heroicons-eye",render:J$}),X$={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Z$(e,t){return C(),te("svg",X$,t[0]||(t[0]=[F("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"m14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21q.512.078 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48 48 0 0 0-3.478-.397m-12 .562q.51-.088 1.022-.165m0 0a48 48 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a52 52 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a49 49 0 0 0-7.5 0"},null,-1)]))}const Cf=Et({name:"heroicons-trash",render:Z$}),Q$={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function eM(e,t){return C(),te("svg",Q$,t[0]||(t[0]=[F("path",{fill:"currentColor",d:"M8.5 7a1.5 1.5 0 1 0 0-3a1.5 1.5 0 0 0 0 3m0 6.5a1.5 1.5 0 1 0 0-3a1.5 1.5 0 0 0 0 3m1.5 5a1.5 1.5 0 1 1-3 0a1.5 1.5 0 0 1 3 0M15.5 7a1.5 1.5 0 1 0 0-3a1.5 1.5 0 0 0 0 3m1.5 5a1.5 1.5 0 1 1-3 0a1.5 1.5 0 0 1 3 0m-1.5 8a1.5 1.5 0 1 0 0-3a1.5 1.5 0 0 0 0 3"},null,-1)]))}const q1=Et({name:"ri-draggable",render:eM}),tM=["data-disabled"],nM={key:0,class:"handle flex-none py-2 px-1 rounded-md hover:bg-zinc-200 cursor-move"},iM={class:"w-0 flex-1 truncate"},sM=$({__name:"Section",props:{section:null,static:{type:Boolean,default:!1}},emits:["activate","deactivate","toggle","remove"],setup(e,{emit:t}){const n=La(),i=t,s=e;function r(){n.push(s.section.id)}return(a,u)=>{const o=q1,l=Cf,c=K1,d=z1;return C(),te("div",{class:"",onMouseenter:u[2]||(u[2]=h=>i("activate")),onMouseleave:u[3]||(u[3]=h=>i("deactivate"))},[F("div",{class:"flex rounded border border-zinc-100 hover:bg-zinc-100 cursor-pointer active:ring-inset active:ring-2 active:ring-gray-700 data-[disabled=true]:text-zinc-500","data-disabled":e.section.disabled},[e.static?nt("",!0):(C(),te("button",nM,[O(o,{class:"inline w-4"})])),F("div",{onClick:r,class:sn(["group py-2 pr-1 text-sm flex-1 flex items-center max-w-full",{"px-4":e.static,"px-2":!e.static}])},[F("div",iM,ue(s.section.name),1),e.static?nt("",!0):(C(),te("button",{key:0,onClick:u[0]||(u[0]=Ki(h=>i("remove"),["stop"])),class:"flex-none cursor-pointer invisible group-hover:visible py-[1px] px-[2px] rounded-md hover:bg-zinc-200"},[O(l,{class:"inline w-4"})])),F("button",{onClick:u[1]||(u[1]=Ki(h=>i("toggle"),["stop"])),class:"flex-none cursor-pointer invisible group-hover:visible py-[1px] px-[2px] rounded-md hover:bg-zinc-200 ml-1"},[e.section.disabled?(C(),N(d,{key:1,class:"inline w-4"})):(C(),N(c,{key:0,class:"inline w-4"}))])],2)],8,tM)],32)}}});/**!
 * Sortable 1.15.3
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function vE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function ar(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vE(Object(n),!0).forEach(function(i){rM(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vE(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Bd(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bd=function(t){return typeof t}:Bd=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bd(e)}function rM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oo(){return Oo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Oo.apply(this,arguments)}function oM(e,t){if(e==null)return{};var n={},i=Object.keys(e),s,r;for(r=0;r<i.length;r++)s=i[r],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function aM(e,t){if(e==null)return{};var n=oM(e,t),i,s;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}var lM="1.15.3";function kr(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var Bo=kr(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Sf=kr(/Edge/i),yE=kr(/firefox/i),Hd=kr(/safari/i)&&!kr(/chrome/i)&&!kr(/android/i),Y1=kr(/iP(ad|od|hone)/i),J1=kr(/chrome/i)&&kr(/android/i),X1={capture:!1,passive:!1};function jt(e,t,n){e.addEventListener(t,n,!Bo&&X1)}function Lt(e,t,n){e.removeEventListener(t,n,!Bo&&X1)}function ch(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function Z1(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Ns(e,t,n,i){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&ch(e,t):ch(e,t))||i&&e===n)return e;if(e===n)break}while(e=Z1(e))}return null}var bE=/\s+/g;function Hi(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var i=(" "+e.className+" ").replace(bE," ").replace(" "+t+" "," ");e.className=(i+(n?" "+t:"")).replace(bE," ")}}function tt(e,t,n){var i=e&&e.style;if(i){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in i)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),i[t]=n+(typeof n=="string"?"":"px")}}function Cl(e,t){var n="";if(typeof e=="string")n=e;else do{var i=tt(e,"transform");i&&i!=="none"&&(n=i+" "+n)}while(!t&&(e=e.parentNode));var s=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return s&&new s(n)}function Q1(e,t,n){if(e){var i=e.getElementsByTagName(t),s=0,r=i.length;if(n)for(;s<r;s++)n(i[s],s);return i}return[]}function Eo(){var e=document.scrollingElement;return e||document.documentElement}function xn(e,t,n,i,s){if(!(!e.getBoundingClientRect&&e!==window)){var r,a,u,o,l,c,d;if(e!==window&&e.parentNode&&e!==Eo()?(r=e.getBoundingClientRect(),a=r.top,u=r.left,o=r.bottom,l=r.right,c=r.height,d=r.width):(a=0,u=0,o=window.innerHeight,l=window.innerWidth,c=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(s=s||e.parentNode,!Bo))do if(s&&s.getBoundingClientRect&&(tt(s,"transform")!=="none"||n&&tt(s,"position")!=="static")){var h=s.getBoundingClientRect();a-=h.top+parseInt(tt(s,"border-top-width")),u-=h.left+parseInt(tt(s,"border-left-width")),o=a+r.height,l=u+r.width;break}while(s=s.parentNode);if(i&&e!==window){var f=Cl(s||e),p=f&&f.a,g=f&&f.d;f&&(a/=g,u/=p,d/=p,c/=g,o=a+c,l=u+d)}return{top:a,left:u,bottom:o,right:l,width:d,height:c}}}function EE(e,t,n){for(var i=CE(e,!0),s=xn(e)[t];i;){var r=xn(i)[n],a=void 0;if(a=s>=r,!a)return i;if(i===Eo())break;i=CE(i,!1)}return!1}function Pl(e,t,n,i){for(var s=0,r=0,a=e.children;r<a.length;){if(a[r].style.display!=="none"&&a[r]!==rt.ghost&&(i||a[r]!==rt.dragged)&&Ns(a[r],n.draggable,e,!1)){if(s===t)return a[r];s++}r++}return null}function Mv(e,t){for(var n=e.lastElementChild;n&&(n===rt.ghost||tt(n,"display")==="none"||t&&!ch(n,t));)n=n.previousElementSibling;return n||null}function ls(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==rt.clone&&(!t||ch(e,t))&&n++;return n}function _E(e){var t=0,n=0,i=Eo();if(e)do{var s=Cl(e),r=s.a,a=s.d;t+=e.scrollLeft*r,n+=e.scrollTop*a}while(e!==i&&(e=e.parentNode));return[t,n]}function cM(e,t){for(var n in e)if(e.hasOwnProperty(n)){for(var i in t)if(t.hasOwnProperty(i)&&t[i]===e[n][i])return Number(n)}return-1}function CE(e,t){if(!e||!e.getBoundingClientRect)return Eo();var n=e,i=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var s=tt(n);if(n.clientWidth<n.scrollWidth&&(s.overflowX=="auto"||s.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(s.overflowY=="auto"||s.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Eo();if(i||t)return n;i=!0}}while(n=n.parentNode);return Eo()}function uM(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Ip(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var Op;function dM(e,t){return function(){if(!Op){var n=arguments,i=this;n.length===1?e.call(i,n[0]):e.apply(i,n),Op=setTimeout(function(){Op=void 0},t)}}}function hM(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function ex(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function tx(e,t,n){var i={};return Array.from(e.children).forEach(function(s){var r,a,u,o;if(!(!Ns(s,t.draggable,e,!1)||s.animated||s===n)){var l=xn(s);i.left=Math.min((r=i.left)!==null&&r!==void 0?r:1/0,l.left),i.top=Math.min((a=i.top)!==null&&a!==void 0?a:1/0,l.top),i.right=Math.max((u=i.right)!==null&&u!==void 0?u:-1/0,l.right),i.bottom=Math.max((o=i.bottom)!==null&&o!==void 0?o:-1/0,l.bottom)}}),i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}var Gi="Sortable"+new Date().getTime();function fM(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var i=[].slice.call(this.el.children);i.forEach(function(s){if(!(tt(s,"display")==="none"||s===rt.ghost)){e.push({target:s,rect:xn(s)});var r=ar({},e[e.length-1].rect);if(s.thisAnimationDuration){var a=Cl(s,!0);a&&(r.top-=a.f,r.left-=a.e)}s.fromRect=r}})}},addAnimationState:function(i){e.push(i)},removeAnimationState:function(i){e.splice(cM(e,{target:i}),1)},animateAll:function(i){var s=this;if(!this.options.animation){clearTimeout(t),typeof i=="function"&&i();return}var r=!1,a=0;e.forEach(function(u){var o=0,l=u.target,c=l.fromRect,d=xn(l),h=l.prevFromRect,f=l.prevToRect,p=u.rect,g=Cl(l,!0);g&&(d.top-=g.f,d.left-=g.e),l.toRect=d,l.thisAnimationDuration&&Ip(h,d)&&!Ip(c,d)&&(p.top-d.top)/(p.left-d.left)===(c.top-d.top)/(c.left-d.left)&&(o=gM(p,h,f,s.options)),Ip(d,c)||(l.prevFromRect=c,l.prevToRect=d,o||(o=s.options.animation),s.animate(l,p,d,o)),o&&(r=!0,a=Math.max(a,o),clearTimeout(l.animationResetTimer),l.animationResetTimer=setTimeout(function(){l.animationTime=0,l.prevFromRect=null,l.fromRect=null,l.prevToRect=null,l.thisAnimationDuration=null},o),l.thisAnimationDuration=o)}),clearTimeout(t),r?t=setTimeout(function(){typeof i=="function"&&i()},a):typeof i=="function"&&i(),e=[]},animate:function(i,s,r,a){if(a){tt(i,"transition",""),tt(i,"transform","");var u=Cl(this.el),o=u&&u.a,l=u&&u.d,c=(s.left-r.left)/(o||1),d=(s.top-r.top)/(l||1);i.animatingX=!!c,i.animatingY=!!d,tt(i,"transform","translate3d("+c+"px,"+d+"px,0)"),this.forRepaintDummy=pM(i),tt(i,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),tt(i,"transform","translate3d(0,0,0)"),typeof i.animated=="number"&&clearTimeout(i.animated),i.animated=setTimeout(function(){tt(i,"transition",""),tt(i,"transform",""),i.animated=!1,i.animatingX=!1,i.animatingY=!1},a)}}}}function pM(e){return e.offsetWidth}function gM(e,t,n,i){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*i.animation}var qa=[],kp={initializeByDefault:!0},Vu={mount:function(t){for(var n in kp)kp.hasOwnProperty(n)&&!(n in t)&&(t[n]=kp[n]);qa.forEach(function(i){if(i.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),qa.push(t)},pluginEvent:function(t,n,i){var s=this;this.eventCanceled=!1,i.cancel=function(){s.eventCanceled=!0};var r=t+"Global";qa.forEach(function(a){n[a.pluginName]&&(n[a.pluginName][r]&&n[a.pluginName][r](ar({sortable:n},i)),n.options[a.pluginName]&&n[a.pluginName][t]&&n[a.pluginName][t](ar({sortable:n},i)))})},initializePlugins:function(t,n,i,s){qa.forEach(function(u){var o=u.pluginName;if(!(!t.options[o]&&!u.initializeByDefault)){var l=new u(t,n,t.options);l.sortable=t,l.options=t.options,t[o]=l,Oo(i,l.defaults)}});for(var r in t.options)if(t.options.hasOwnProperty(r)){var a=this.modifyOption(t,r,t.options[r]);typeof a<"u"&&(t.options[r]=a)}},getEventProperties:function(t,n){var i={};return qa.forEach(function(s){typeof s.eventProperties=="function"&&Oo(i,s.eventProperties.call(n[s.pluginName],t))}),i},modifyOption:function(t,n,i){var s;return qa.forEach(function(r){t[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[n]=="function"&&(s=r.optionListeners[n].call(t[r.pluginName],i))}),s}};function mM(e){var t=e.sortable,n=e.rootEl,i=e.name,s=e.targetEl,r=e.cloneEl,a=e.toEl,u=e.fromEl,o=e.oldIndex,l=e.newIndex,c=e.oldDraggableIndex,d=e.newDraggableIndex,h=e.originalEvent,f=e.putSortable,p=e.extraEventProperties;if(t=t||n&&n[Gi],!!t){var g,m=t.options,y="on"+i.charAt(0).toUpperCase()+i.substr(1);window.CustomEvent&&!Bo&&!Sf?g=new CustomEvent(i,{bubbles:!0,cancelable:!0}):(g=document.createEvent("Event"),g.initEvent(i,!0,!0)),g.to=a||n,g.from=u||n,g.item=s||n,g.clone=r,g.oldIndex=o,g.newIndex=l,g.oldDraggableIndex=c,g.newDraggableIndex=d,g.originalEvent=h,g.pullMode=f?f.lastPutMode:void 0;var b=ar(ar({},p),Vu.getEventProperties(i,t));for(var E in b)g[E]=b[E];n&&n.dispatchEvent(g),m[y]&&m[y].call(t,g)}}var vM=["evt"],xi=function(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=i.evt,r=aM(i,vM);Vu.pluginEvent.bind(rt)(t,n,ar({dragEl:pe,parentEl:cn,ghostEl:at,rootEl:en,nextEl:aa,lastDownEl:jd,cloneEl:nn,cloneHidden:fo,dragStarted:$c,putSortable:Un,activeSortable:rt.active,originalEvent:s,oldIndex:pl,oldDraggableIndex:Yc,newIndex:ji,newDraggableIndex:uo,hideGhostForTarget:rx,unhideGhostForTarget:ox,cloneNowHidden:function(){fo=!0},cloneNowShown:function(){fo=!1},dispatchSortableEvent:function(u){ui({sortable:n,name:u,originalEvent:s})}},r))};function ui(e){mM(ar({putSortable:Un,cloneEl:nn,targetEl:pe,rootEl:en,oldIndex:pl,oldDraggableIndex:Yc,newIndex:ji,newDraggableIndex:uo},e))}var pe,cn,at,en,aa,jd,nn,fo,pl,ji,Yc,uo,ld,Un,ul=!1,uh=!1,dh=[],Qo,ys,Ap,Pp,SE,xE,$c,Ya,Jc,Xc=!1,cd=!1,Ud,Xn,$p=[],em=!1,hh=[],xf=typeof document<"u",ud=Y1,TE=Sf||Bo?"cssFloat":"float",yM=xf&&!J1&&!Y1&&"draggable"in document.createElement("div"),nx=function(){if(xf){if(Bo)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),ix=function(t,n){var i=tt(t),s=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),r=Pl(t,0,n),a=Pl(t,1,n),u=r&&tt(r),o=a&&tt(a),l=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+xn(r).width,c=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+xn(a).width;if(i.display==="flex")return i.flexDirection==="column"||i.flexDirection==="column-reverse"?"vertical":"horizontal";if(i.display==="grid")return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&u.float&&u.float!=="none"){var d=u.float==="left"?"left":"right";return a&&(o.clear==="both"||o.clear===d)?"vertical":"horizontal"}return r&&(u.display==="block"||u.display==="flex"||u.display==="table"||u.display==="grid"||l>=s&&i[TE]==="none"||a&&i[TE]==="none"&&l+c>s)?"vertical":"horizontal"},bM=function(t,n,i){var s=i?t.left:t.top,r=i?t.right:t.bottom,a=i?t.width:t.height,u=i?n.left:n.top,o=i?n.right:n.bottom,l=i?n.width:n.height;return s===u||r===o||s+a/2===u+l/2},EM=function(t,n){var i;return dh.some(function(s){var r=s[Gi].options.emptyInsertThreshold;if(!(!r||Mv(s))){var a=xn(s),u=t>=a.left-r&&t<=a.right+r,o=n>=a.top-r&&n<=a.bottom+r;if(u&&o)return i=s}}),i},sx=function(t){function n(r,a){return function(u,o,l,c){var d=u.options.group.name&&o.options.group.name&&u.options.group.name===o.options.group.name;if(r==null&&(a||d))return!0;if(r==null||r===!1)return!1;if(a&&r==="clone")return r;if(typeof r=="function")return n(r(u,o,l,c),a)(u,o,l,c);var h=(a?u:o).options.group.name;return r===!0||typeof r=="string"&&r===h||r.join&&r.indexOf(h)>-1}}var i={},s=t.group;(!s||Bd(s)!="object")&&(s={name:s}),i.name=s.name,i.checkPull=n(s.pull,!0),i.checkPut=n(s.put),i.revertClone=s.revertClone,t.group=i},rx=function(){!nx&&at&&tt(at,"display","none")},ox=function(){!nx&&at&&tt(at,"display","")};xf&&!J1&&document.addEventListener("click",function(e){if(uh)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),uh=!1,!1},!0);var ea=function(t){if(pe){t=t.touches?t.touches[0]:t;var n=EM(t.clientX,t.clientY);if(n){var i={};for(var s in t)t.hasOwnProperty(s)&&(i[s]=t[s]);i.target=i.rootEl=n,i.preventDefault=void 0,i.stopPropagation=void 0,n[Gi]._onDragOver(i)}}},_M=function(t){pe&&pe.parentNode[Gi]._isOutsideThisEl(t.target)};function rt(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=Oo({},t),e[Gi]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return ix(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,u){a.setData("Text",u.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:rt.supportPointer!==!1&&"PointerEvent"in window&&!Hd,emptyInsertThreshold:5};Vu.initializePlugins(this,e,n);for(var i in n)!(i in t)&&(t[i]=n[i]);sx(t);for(var s in this)s.charAt(0)==="_"&&typeof this[s]=="function"&&(this[s]=this[s].bind(this));this.nativeDraggable=t.forceFallback?!1:yM,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?jt(e,"pointerdown",this._onTapStart):(jt(e,"mousedown",this._onTapStart),jt(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(jt(e,"dragover",this),jt(e,"dragenter",this)),dh.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Oo(this,fM())}rt.prototype={constructor:rt,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Ya=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,pe):this.options.direction},_onTapStart:function(t){if(t.cancelable){var n=this,i=this.el,s=this.options,r=s.preventOnFilter,a=t.type,u=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,o=(u||t).target,l=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||o,c=s.filter;if(kM(i),!pe&&!(/mousedown|pointerdown/.test(a)&&t.button!==0||s.disabled)&&!l.isContentEditable&&!(!this.nativeDraggable&&Hd&&o&&o.tagName.toUpperCase()==="SELECT")&&(o=Ns(o,s.draggable,i,!1),!(o&&o.animated)&&jd!==o)){if(pl=ls(o),Yc=ls(o,s.draggable),typeof c=="function"){if(c.call(this,t,o,this)){ui({sortable:n,rootEl:l,name:"filter",targetEl:o,toEl:i,fromEl:i}),xi("filter",n,{evt:t}),r&&t.cancelable&&t.preventDefault();return}}else if(c&&(c=c.split(",").some(function(d){if(d=Ns(l,d.trim(),i,!1),d)return ui({sortable:n,rootEl:d,name:"filter",targetEl:o,fromEl:i,toEl:i}),xi("filter",n,{evt:t}),!0}),c)){r&&t.cancelable&&t.preventDefault();return}s.handle&&!Ns(l,s.handle,i,!1)||this._prepareDragStart(t,u,o)}}},_prepareDragStart:function(t,n,i){var s=this,r=s.el,a=s.options,u=r.ownerDocument,o;if(i&&!pe&&i.parentNode===r){var l=xn(i);if(en=r,pe=i,cn=pe.parentNode,aa=pe.nextSibling,jd=i,ld=a.group,rt.dragged=pe,Qo={target:pe,clientX:(n||t).clientX,clientY:(n||t).clientY},SE=Qo.clientX-l.left,xE=Qo.clientY-l.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,pe.style["will-change"]="all",o=function(){if(xi("delayEnded",s,{evt:t}),rt.eventCanceled){s._onDrop();return}s._disableDelayedDragEvents(),!yE&&s.nativeDraggable&&(pe.draggable=!0),s._triggerDragStart(t,n),ui({sortable:s,name:"choose",originalEvent:t}),Hi(pe,a.chosenClass,!0)},a.ignore.split(",").forEach(function(c){Q1(pe,c.trim(),Mp)}),jt(u,"dragover",ea),jt(u,"mousemove",ea),jt(u,"touchmove",ea),jt(u,"mouseup",s._onDrop),jt(u,"touchend",s._onDrop),jt(u,"touchcancel",s._onDrop),yE&&this.nativeDraggable&&(this.options.touchStartThreshold=4,pe.draggable=!0),xi("delayStart",this,{evt:t}),a.delay&&(!a.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Sf||Bo))){if(rt.eventCanceled){this._onDrop();return}jt(u,"mouseup",s._disableDelayedDrag),jt(u,"touchend",s._disableDelayedDrag),jt(u,"touchcancel",s._disableDelayedDrag),jt(u,"mousemove",s._delayedDragTouchMoveHandler),jt(u,"touchmove",s._delayedDragTouchMoveHandler),a.supportPointer&&jt(u,"pointermove",s._delayedDragTouchMoveHandler),s._dragStartTimer=setTimeout(o,a.delay)}else o()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){pe&&Mp(pe),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;Lt(t,"mouseup",this._disableDelayedDrag),Lt(t,"touchend",this._disableDelayedDrag),Lt(t,"touchcancel",this._disableDelayedDrag),Lt(t,"mousemove",this._delayedDragTouchMoveHandler),Lt(t,"touchmove",this._delayedDragTouchMoveHandler),Lt(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?jt(document,"pointermove",this._onTouchMove):n?jt(document,"touchmove",this._onTouchMove):jt(document,"mousemove",this._onTouchMove):(jt(pe,"dragend",this),jt(en,"dragstart",this._onDragStart));try{document.selection?Gd(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(ul=!1,en&&pe){xi("dragStarted",this,{evt:n}),this.nativeDraggable&&jt(document,"dragover",_M);var i=this.options;!t&&Hi(pe,i.dragClass,!1),Hi(pe,i.ghostClass,!0),rt.active=this,t&&this._appendGhost(),ui({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(ys){this._lastX=ys.clientX,this._lastY=ys.clientY,rx();for(var t=document.elementFromPoint(ys.clientX,ys.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(ys.clientX,ys.clientY),t!==n);)n=t;if(pe.parentNode[Gi]._isOutsideThisEl(t),n)do{if(n[Gi]){var i=void 0;if(i=n[Gi]._onDragOver({clientX:ys.clientX,clientY:ys.clientY,target:t,rootEl:n}),i&&!this.options.dragoverBubble)break}t=n}while(n=Z1(n));ox()}},_onTouchMove:function(t){if(Qo){var n=this.options,i=n.fallbackTolerance,s=n.fallbackOffset,r=t.touches?t.touches[0]:t,a=at&&Cl(at,!0),u=at&&a&&a.a,o=at&&a&&a.d,l=ud&&Xn&&_E(Xn),c=(r.clientX-Qo.clientX+s.x)/(u||1)+(l?l[0]-$p[0]:0)/(u||1),d=(r.clientY-Qo.clientY+s.y)/(o||1)+(l?l[1]-$p[1]:0)/(o||1);if(!rt.active&&!ul){if(i&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<i)return;this._onDragStart(t,!0)}if(at){a?(a.e+=c-(Ap||0),a.f+=d-(Pp||0)):a={a:1,b:0,c:0,d:1,e:c,f:d};var h="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");tt(at,"webkitTransform",h),tt(at,"mozTransform",h),tt(at,"msTransform",h),tt(at,"transform",h),Ap=c,Pp=d,ys=r}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!at){var t=this.options.fallbackOnBody?document.body:en,n=xn(pe,!0,ud,!0,t),i=this.options;if(ud){for(Xn=t;tt(Xn,"position")==="static"&&tt(Xn,"transform")==="none"&&Xn!==document;)Xn=Xn.parentNode;Xn!==document.body&&Xn!==document.documentElement?(Xn===document&&(Xn=Eo()),n.top+=Xn.scrollTop,n.left+=Xn.scrollLeft):Xn=Eo(),$p=_E(Xn)}at=pe.cloneNode(!0),Hi(at,i.ghostClass,!1),Hi(at,i.fallbackClass,!0),Hi(at,i.dragClass,!0),tt(at,"transition",""),tt(at,"transform",""),tt(at,"box-sizing","border-box"),tt(at,"margin",0),tt(at,"top",n.top),tt(at,"left",n.left),tt(at,"width",n.width),tt(at,"height",n.height),tt(at,"opacity","0.8"),tt(at,"position",ud?"absolute":"fixed"),tt(at,"zIndex","100000"),tt(at,"pointerEvents","none"),rt.ghost=at,t.appendChild(at),tt(at,"transform-origin",SE/parseInt(at.style.width)*100+"% "+xE/parseInt(at.style.height)*100+"%")}},_onDragStart:function(t,n){var i=this,s=t.dataTransfer,r=i.options;if(xi("dragStart",this,{evt:t}),rt.eventCanceled){this._onDrop();return}xi("setupClone",this),rt.eventCanceled||(nn=ex(pe),nn.removeAttribute("id"),nn.draggable=!1,nn.style["will-change"]="",this._hideClone(),Hi(nn,this.options.chosenClass,!1),rt.clone=nn),i.cloneId=Gd(function(){xi("clone",i),!rt.eventCanceled&&(i.options.removeCloneOnHide||en.insertBefore(nn,pe),i._hideClone(),ui({sortable:i,name:"clone"}))}),!n&&Hi(pe,r.dragClass,!0),n?(uh=!0,i._loopId=setInterval(i._emulateDragOver,50)):(Lt(document,"mouseup",i._onDrop),Lt(document,"touchend",i._onDrop),Lt(document,"touchcancel",i._onDrop),s&&(s.effectAllowed="move",r.setData&&r.setData.call(i,s,pe)),jt(document,"drop",i),tt(pe,"transform","translateZ(0)")),ul=!0,i._dragStartId=Gd(i._dragStarted.bind(i,n,t)),jt(document,"selectstart",i),$c=!0,Hd&&tt(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,i=t.target,s,r,a,u=this.options,o=u.group,l=rt.active,c=ld===o,d=u.sort,h=Un||l,f,p=this,g=!1;if(em)return;function m(he,je){xi(he,p,ar({evt:t,isOwner:c,axis:f?"vertical":"horizontal",revert:a,dragRect:s,targetRect:r,canSort:d,fromSortable:h,target:i,completed:b,onMove:function(ft,_t){return dd(en,n,pe,s,ft,xn(ft),t,_t)},changed:E},je))}function y(){m("dragOverAnimationCapture"),p.captureAnimationState(),p!==h&&h.captureAnimationState()}function b(he){return m("dragOverCompleted",{insertion:he}),he&&(c?l._hideClone():l._showClone(p),p!==h&&(Hi(pe,Un?Un.options.ghostClass:l.options.ghostClass,!1),Hi(pe,u.ghostClass,!0)),Un!==p&&p!==rt.active?Un=p:p===rt.active&&Un&&(Un=null),h===p&&(p._ignoreWhileAnimating=i),p.animateAll(function(){m("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(i===pe&&!pe.animated||i===n&&!i.animated)&&(Ya=null),!u.dragoverBubble&&!t.rootEl&&i!==document&&(pe.parentNode[Gi]._isOutsideThisEl(t.target),!he&&ea(t)),!u.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),g=!0}function E(){ji=ls(pe),uo=ls(pe,u.draggable),ui({sortable:p,name:"change",toEl:n,newIndex:ji,newDraggableIndex:uo,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),i=Ns(i,u.draggable,n,!0),m("dragOver"),rt.eventCanceled)return g;if(pe.contains(t.target)||i.animated&&i.animatingX&&i.animatingY||p._ignoreWhileAnimating===i)return b(!1);if(uh=!1,l&&!u.disabled&&(c?d||(a=cn!==en):Un===this||(this.lastPutMode=ld.checkPull(this,l,pe,t))&&o.checkPut(this,l,pe,t))){if(f=this._getDirection(t,i)==="vertical",s=xn(pe),m("dragOverValid"),rt.eventCanceled)return g;if(a)return cn=en,y(),this._hideClone(),m("revert"),rt.eventCanceled||(aa?en.insertBefore(pe,aa):en.appendChild(pe)),b(!0);var _=Mv(n,u.draggable);if(!_||TM(t,f,this)&&!_.animated){if(_===pe)return b(!1);if(_&&n===t.target&&(i=_),i&&(r=xn(i)),dd(en,n,pe,s,i,r,t,!!i)!==!1)return y(),_&&_.nextSibling?n.insertBefore(pe,_.nextSibling):n.appendChild(pe),cn=n,E(),b(!0)}else if(_&&xM(t,f,this)){var I=Pl(n,0,u,!0);if(I===pe)return b(!1);if(i=I,r=xn(i),dd(en,n,pe,s,i,r,t,!1)!==!1)return y(),n.insertBefore(pe,I),cn=n,E(),b(!0)}else if(i.parentNode===n){r=xn(i);var M=0,R,X=pe.parentNode!==n,D=!bM(pe.animated&&pe.toRect||s,i.animated&&i.toRect||r,f),j=f?"top":"left",se=EE(i,"top","top")||EE(pe,"top","top"),ae=se?se.scrollTop:void 0;Ya!==i&&(R=r[j],Xc=!1,cd=!D&&u.invertSwap||X),M=wM(t,i,r,f,D?1:u.swapThreshold,u.invertedSwapThreshold==null?u.swapThreshold:u.invertedSwapThreshold,cd,Ya===i);var Y;if(M!==0){var Q=ls(pe);do Q-=M,Y=cn.children[Q];while(Y&&(tt(Y,"display")==="none"||Y===at))}if(M===0||Y===i)return b(!1);Ya=i,Jc=M;var de=i.nextElementSibling,ce=!1;ce=M===1;var re=dd(en,n,pe,s,i,r,t,ce);if(re!==!1)return(re===1||re===-1)&&(ce=re===1),em=!0,setTimeout(SM,30),y(),ce&&!de?n.appendChild(pe):i.parentNode.insertBefore(pe,ce?de:i),se&&hM(se,0,ae-se.scrollTop),cn=pe.parentNode,R!==void 0&&!cd&&(Ud=Math.abs(R-xn(i)[j])),E(),b(!0)}if(n.contains(pe))return b(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Lt(document,"mousemove",this._onTouchMove),Lt(document,"touchmove",this._onTouchMove),Lt(document,"pointermove",this._onTouchMove),Lt(document,"dragover",ea),Lt(document,"mousemove",ea),Lt(document,"touchmove",ea)},_offUpEvents:function(){var t=this.el.ownerDocument;Lt(t,"mouseup",this._onDrop),Lt(t,"touchend",this._onDrop),Lt(t,"pointerup",this._onDrop),Lt(t,"touchcancel",this._onDrop),Lt(document,"selectstart",this)},_onDrop:function(t){var n=this.el,i=this.options;if(ji=ls(pe),uo=ls(pe,i.draggable),xi("drop",this,{evt:t}),cn=pe&&pe.parentNode,ji=ls(pe),uo=ls(pe,i.draggable),rt.eventCanceled){this._nulling();return}ul=!1,cd=!1,Xc=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),tm(this.cloneId),tm(this._dragStartId),this.nativeDraggable&&(Lt(document,"drop",this),Lt(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Hd&&tt(document.body,"user-select",""),tt(pe,"transform",""),t&&($c&&(t.cancelable&&t.preventDefault(),!i.dropBubble&&t.stopPropagation()),at&&at.parentNode&&at.parentNode.removeChild(at),(en===cn||Un&&Un.lastPutMode!=="clone")&&nn&&nn.parentNode&&nn.parentNode.removeChild(nn),pe&&(this.nativeDraggable&&Lt(pe,"dragend",this),Mp(pe),pe.style["will-change"]="",$c&&!ul&&Hi(pe,Un?Un.options.ghostClass:this.options.ghostClass,!1),Hi(pe,this.options.chosenClass,!1),ui({sortable:this,name:"unchoose",toEl:cn,newIndex:null,newDraggableIndex:null,originalEvent:t}),en!==cn?(ji>=0&&(ui({rootEl:cn,name:"add",toEl:cn,fromEl:en,originalEvent:t}),ui({sortable:this,name:"remove",toEl:cn,originalEvent:t}),ui({rootEl:cn,name:"sort",toEl:cn,fromEl:en,originalEvent:t}),ui({sortable:this,name:"sort",toEl:cn,originalEvent:t})),Un&&Un.save()):ji!==pl&&ji>=0&&(ui({sortable:this,name:"update",toEl:cn,originalEvent:t}),ui({sortable:this,name:"sort",toEl:cn,originalEvent:t})),rt.active&&((ji==null||ji===-1)&&(ji=pl,uo=Yc),ui({sortable:this,name:"end",toEl:cn,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){xi("nulling",this),en=pe=cn=at=aa=nn=jd=fo=Qo=ys=$c=ji=uo=pl=Yc=Ya=Jc=Un=ld=rt.dragged=rt.ghost=rt.clone=rt.active=null,hh.forEach(function(t){t.checked=!0}),hh.length=Ap=Pp=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":pe&&(this._onDragOver(t),CM(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,i=this.el.children,s=0,r=i.length,a=this.options;s<r;s++)n=i[s],Ns(n,a.draggable,this.el,!1)&&t.push(n.getAttribute(a.dataIdAttr)||OM(n));return t},sort:function(t,n){var i={},s=this.el;this.toArray().forEach(function(r,a){var u=s.children[a];Ns(u,this.options.draggable,s,!1)&&(i[r]=u)},this),n&&this.captureAnimationState(),t.forEach(function(r){i[r]&&(s.removeChild(i[r]),s.appendChild(i[r]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return Ns(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var i=this.options;if(n===void 0)return i[t];var s=Vu.modifyOption(this,t,n);typeof s<"u"?i[t]=s:i[t]=n,t==="group"&&sx(i)},destroy:function(){xi("destroy",this);var t=this.el;t[Gi]=null,Lt(t,"mousedown",this._onTapStart),Lt(t,"touchstart",this._onTapStart),Lt(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(Lt(t,"dragover",this),Lt(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),dh.splice(dh.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!fo){if(xi("hideClone",this),rt.eventCanceled)return;tt(nn,"display","none"),this.options.removeCloneOnHide&&nn.parentNode&&nn.parentNode.removeChild(nn),fo=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(fo){if(xi("showClone",this),rt.eventCanceled)return;pe.parentNode==en&&!this.options.group.revertClone?en.insertBefore(nn,pe):aa?en.insertBefore(nn,aa):en.appendChild(nn),this.options.group.revertClone&&this.animate(pe,nn),tt(nn,"display",""),fo=!1}}};function CM(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function dd(e,t,n,i,s,r,a,u){var o,l=e[Gi],c=l.options.onMove,d;return window.CustomEvent&&!Bo&&!Sf?o=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(o=document.createEvent("Event"),o.initEvent("move",!0,!0)),o.to=t,o.from=e,o.dragged=n,o.draggedRect=i,o.related=s||t,o.relatedRect=r||xn(t),o.willInsertAfter=u,o.originalEvent=a,e.dispatchEvent(o),c&&(d=c.call(l,o,a)),d}function Mp(e){e.draggable=!1}function SM(){em=!1}function xM(e,t,n){var i=xn(Pl(n.el,0,n.options,!0)),s=tx(n.el,n.options,at),r=10;return t?e.clientX<s.left-r||e.clientY<i.top&&e.clientX<i.right:e.clientY<s.top-r||e.clientY<i.bottom&&e.clientX<i.left}function TM(e,t,n){var i=xn(Mv(n.el,n.options.draggable)),s=tx(n.el,n.options,at),r=10;return t?e.clientX>s.right+r||e.clientY>i.bottom&&e.clientX>i.left:e.clientY>s.bottom+r||e.clientX>i.right&&e.clientY>i.top}function wM(e,t,n,i,s,r,a,u){var o=i?e.clientY:e.clientX,l=i?n.height:n.width,c=i?n.top:n.left,d=i?n.bottom:n.right,h=!1;if(!a){if(u&&Ud<l*s){if(!Xc&&(Jc===1?o>c+l*r/2:o<d-l*r/2)&&(Xc=!0),Xc)h=!0;else if(Jc===1?o<c+Ud:o>d-Ud)return-Jc}else if(o>c+l*(1-s)/2&&o<d-l*(1-s)/2)return IM(t)}return h=h||a,h&&(o<c+l*r/2||o>d-l*r/2)?o>c+l/2?1:-1:0}function IM(e){return ls(pe)<ls(e)?1:-1}function OM(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,i=0;n--;)i+=t.charCodeAt(n);return i.toString(36)}function kM(e){hh.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var i=t[n];i.checked&&hh.push(i)}}function Gd(e){return setTimeout(e,0)}function tm(e){return clearTimeout(e)}xf&&jt(document,"touchmove",function(e){(rt.active||ul)&&e.cancelable&&e.preventDefault()});rt.utils={on:jt,off:Lt,css:tt,find:Q1,is:function(t,n){return!!Ns(t,n,t,!1)},extend:uM,throttle:dM,closest:Ns,toggleClass:Hi,clone:ex,index:ls,nextTick:Gd,cancelNextTick:tm,detectDirection:ix,getChild:Pl,expando:Gi};rt.get=function(e){return e[Gi]};rt.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(rt.utils=ar(ar({},rt.utils),i.utils)),Vu.mount(i)})};rt.create=function(e,t){return new rt(e,t)};rt.version=lM;var ax=function(t){var n=t.originalEvent,i=t.putSortable,s=t.dragEl,r=t.activeSortable,a=t.dispatchSortableEvent,u=t.hideGhostForTarget,o=t.unhideGhostForTarget;if(n){var l=i||r;u();var c=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,d=document.elementFromPoint(c.clientX,c.clientY);o(),l&&!l.el.contains(d)&&(a("spill"),this.onSpill({dragEl:s,putSortable:i}))}};function lx(){}lx.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,i=t.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var s=Pl(this.sortable.el,this.startIndex,this.options);s?this.sortable.el.insertBefore(n,s):this.sortable.el.appendChild(n),this.sortable.animateAll(),i&&i.animateAll()},drop:ax};Oo(lx,{pluginName:"revertOnSpill"});function cx(){}cx.prototype={onSpill:function(t){var n=t.dragEl,i=t.putSortable,s=i||this.sortable;s.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),s.animateAll()},drop:ax};Oo(cx,{pluginName:"removeOnSpill"});const AM={class:"pb-3"},PM={class:"text-sm font-semibold p-3"},$M={key:0,class:"text-sm px-3"},MM={key:1,class:"space-y-2 mt-4 px-3"},NM=$({__name:"SectionsGroup",props:{title:null,sections:null,order:{default:()=>[]},static:{type:Boolean,default:!1}},emits:["reorder","addSection","toggleSection","removeSection","activateSection","deactivateSection"],setup(e,{emit:t}){const n=e,i=t,s=xv("sortable");return ii(()=>{n.static||new rt(s.value,{animation:150,ghostClass:"sortable-ghost",onEnd({newIndex:r,oldIndex:a}){const u=[...n.order],o=u.splice(a,1)[0];u.splice(r,0,o),i("reorder",u)}})}),(r,a)=>{const u=sM,o=W1;return C(),te("div",AM,[F("h2",PM,ue(e.title),1),F("div",{ref_key:"sortable",ref:s,class:"space-y-1 px-3"},[e.sections.length>0?(C(!0),te(Ye,{key:0},zt(e.sections,l=>(C(),N(u,{key:l.id,static:e.static,section:l,onToggle:c=>i("toggleSection",l.id),onRemove:c=>i("removeSection",l.id),onActivate:c=>i("activateSection",l.id),onDeactivate:c=>i("deactivateSection",l.id)},null,8,["static","section","onToggle","onRemove","onActivate","onDeactivate"]))),128)):nt("",!0)],512),e.static&&e.sections.length===0?(C(),te("p",$M,ue(r.$t("No sections")),1)):nt("",!0),n.static?nt("",!0):(C(),te("div",MM,[F("button",{class:"w-full text-sm text-blue-600 rounded-lg cursor-pointer outline-0 inline-flex items-center gap-2 px-2 py-1 hover:bg-gray-200 focus:ring focus:ring-gray-700",onClick:a[0]||(a[0]=l=>i("addSection",l))},[O(o,{class:"w-4 h-4 inline mr-1"}),qe(" "+ue(r.$t("Add Section")),1)])]))])}}});var Dn=(e,t=[])=>({parts:(...n)=>{if(RM(t))return Dn(e,n);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...n)=>Dn(e,[...t,...n]),rename:n=>Dn(n,t),keys:()=>t,build:()=>[...new Set(t)].reduce((n,i)=>Object.assign(n,{[i]:{selector:[`&[data-scope="${Ja(e)}"][data-part="${Ja(i)}"]`,`& [data-scope="${Ja(e)}"][data-part="${Ja(i)}"]`].join(", "),attrs:{"data-scope":Ja(e),"data-part":Ja(i)}}}),{})}),Ja=e=>e.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),RM=e=>e.length===0,H=e=>e?"":void 0,_o=e=>e?"true":void 0,DM=2147483647,LM=1,FM=9,VM=11,Tf=e=>typeof e=="object"&&e!==null,Xi=e=>Tf(e)&&e.nodeType===LM&&typeof e.nodeName=="string",ux=e=>Tf(e)&&e.nodeType===FM,BM=e=>Tf(e)&&e===e.window,dx=e=>Xi(e)?e.localName||"":"#document";function HM(e){return["html","body","#document"].includes(dx(e))}var jM=e=>Tf(e)&&e.nodeType!==void 0,nm=e=>jM(e)&&e.nodeType===VM&&"host"in e;function $r(e,t){return!e||!t||!Xi(e)||!Xi(t)?!1:e===t||e.contains(t)}function dr(e){return ux(e)?e:BM(e)?e.document:(e==null?void 0:e.ownerDocument)??document}function UM(e){return dr(e).documentElement}function Zi(e){var t;return nm(e)?Zi(e.host):ux(e)?e.defaultView??window:Xi(e)?((t=e.ownerDocument)==null?void 0:t.defaultView)??window:window}function GM(e){let t=e.activeElement;for(;t!=null&&t.shadowRoot;){const n=t.shadowRoot.activeElement;if(n===t)break;t=n}return t}var Nv=()=>typeof document<"u";function WM(){const e=navigator.userAgentData;return(e==null?void 0:e.platform)??navigator.platform}var Rv=e=>Nv()&&e.test(WM()),zM=e=>Nv()&&e.test(navigator.userAgent),KM=e=>Nv()&&e.test(navigator.vendor),hx=()=>Rv(/^Mac/),wf=()=>fx()&&KM(/apple/i),qM=()=>zM(/firefox\//i),fx=()=>Rv(/mac|iphone|ipad|ipod/i),Dv=()=>Rv(/iP(hone|ad|od)|iOS/);function YM(e){var t,n,i;return((t=e.composedPath)==null?void 0:t.call(e))??((i=(n=e.nativeEvent)==null?void 0:n.composedPath)==null?void 0:i.call(n))}function Qi(e){const t=YM(e);return(t==null?void 0:t[0])??e.target}var mu=e=>$r(e.currentTarget,Qi(e));function im(e){const t=e.currentTarget;if(!t)return!1;const n=fx();if(n&&!e.metaKey||!n&&!e.ctrlKey)return!1;const i=t.localName;return i==="a"||i==="button"&&t.type==="submit"||i==="input"&&t.type==="submit"}function sm(e){const t=e.currentTarget;if(!t)return!1;const n=t.localName;return e.altKey?n==="a"||n==="button"&&t.type==="submit"||n==="input"&&t.type==="submit":!1}function px(e){var t;return((t=e.nativeEvent)==null?void 0:t.isComposing)??e.isComposing}var Lv=e=>e.id;function JM(e,t,n=Lv){return e.find(i=>n(i)===t)}function Fv(e,t,n=Lv){const i=JM(e,t,n);return i?e.indexOf(i):-1}function Vv(e,t,n=!0){let i=Fv(e,t);return i=n?(i+1)%e.length:Math.min(i+1,e.length-1),e[i]}function Bv(e,t,n=!0){let i=Fv(e,t);return i===-1?n?e[e.length-1]:null:(i=n?(i-1+e.length)%e.length:Math.max(0,i-1),e[i])}var XM=e=>e.split("").map(t=>{const n=t.charCodeAt(0);return n>0&&n<128?t:n>=128&&n<=255?`/x${n.toString(16)}`.replace("/","\\"):""}).join("").trim(),ZM=e=>XM(e.dataset.valuetext??e.textContent??""),QM=(e,t)=>e.trim().toLowerCase().startsWith(t.toLowerCase()),eN=(e,t)=>e.map((n,i)=>e[(Math.max(t,0)+i)%e.length]);function tN(e,t,n,i=Lv){const s=n?Fv(e,n,i):-1;let r=n?eN(e,s):e;return t.length===1&&(r=r.filter(u=>i(u)!==n)),r.find(u=>QM(ZM(u),t))}function nN(e,t){const{state:n,activeId:i,key:s,timeout:r=350,itemToId:a}=t,u=n.keysSoFar+s,l=u.length>1&&Array.from(u).every(p=>p===u[0])?u[0]:u;let c=e.slice();const d=tN(c,l,i,a);function h(){clearTimeout(n.timer),n.timer=-1}function f(p){n.keysSoFar=p,h(),p!==""&&(n.timer=+setTimeout(()=>{f(""),h()},r))}return f(u),d}var vu=Object.assign(nN,{defaultOptions:{keysSoFar:"",timer:-1},isValidEvent:iN});function iN(e){return e.key.length===1&&!e.ctrlKey&&!e.metaKey}var Np=new WeakMap;function sN(e){return Np.has(e)||Np.set(e,Zi(e).getComputedStyle(e)),Np.get(e)}function rN(e){if(dx(e)==="html")return e;const t=e.assignedSlot||e.parentNode||nm(e)&&e.host||UM(e);return nm(t)?t.host:t}var Hv=e=>typeof e=="object"&&e!==null&&e.nodeType===1,gx=e=>Hv(e)&&e.tagName==="IFRAME";function oN(e){return Hv(e)?e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0:!1}function aN(e){return parseInt(e.getAttribute("tabindex")||"0",10)<0}var jv="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false']), details > summary:first-of-type",mx=(e,t=!1)=>{if(!e)return[];const n=Array.from(e.querySelectorAll(jv));(t==!0||t=="if-empty"&&n.length===0)&&Hv(e)&&yu(e)&&n.unshift(e);const s=n.filter(yu);return s.forEach((r,a)=>{if(gx(r)&&r.contentDocument){const u=r.contentDocument.body;s.splice(a,1,...mx(u))}}),s};function yu(e){return!e||e.closest("[inert]")?!1:e.matches(jv)&&oN(e)}function If(e,t){if(!e)return[];const n=Array.from(e.querySelectorAll(jv)),i=n.filter(wE);return t&&wE(e)&&i.unshift(e),i.forEach((s,r)=>{if(gx(s)&&s.contentDocument){const a=s.contentDocument.body,u=If(a);i.splice(r,1,...u)}}),!i.length&&t?n:i}function wE(e){return e!=null&&e.tabIndex>0?!0:yu(e)&&!aN(e)}function vx(e,t){const n=If(e,t),i=n[0]||null,s=n[n.length-1]||null;return[i,s]}function lN(e,t){const n=If(e),i=(e==null?void 0:e.ownerDocument)||document,s=t??i.activeElement;if(!s)return null;const r=n.indexOf(s);return n[r+1]||null}function bu(e){const{root:t,getInitialEl:n,filter:i,enabled:s=!0}=e;if(!s)return;let r=null;if(r||(r=typeof n=="function"?n():n),r||(r=t==null?void 0:t.querySelector("[data-autofocus],[autofocus]")),!r){const a=If(t);r=i?a.filter(i)[0]:a[0]}return r||t||void 0}function yx(e){const t=e.currentTarget;if(!t)return!1;const[n,i]=vx(t),s=t.ownerDocument||document;return!(s.activeElement===n&&e.shiftKey||s.activeElement===i&&!e.shiftKey||!n&&!i)}function Uv(e){if(e==null||!Xi(e))return!1;try{const t=Zi(e);return e instanceof t.HTMLInputElement&&e.selectionStart!=null||/(textarea|select)/.test(e.localName)||e.isContentEditable}catch{return!1}}var cN=/auto|scroll|overlay|hidden|clip/;function bx(e){const t=Zi(e),{overflow:n,overflowX:i,overflowY:s,display:r}=t.getComputedStyle(e);return cN.test(n+s+i)&&!["inline","contents"].includes(r)}function Of(e){const t=new Set;function n(i){const s=globalThis.requestAnimationFrame(i);t.add(()=>globalThis.cancelAnimationFrame(s))}return n(()=>n(e)),function(){t.forEach(s=>s())}}function Je(e){const t=globalThis.requestAnimationFrame(e);return()=>{globalThis.cancelAnimationFrame(t)}}function uN(e,t){if(!e)return;const{attributes:n,callback:i}=t,s=e.ownerDocument.defaultView||window,r=new s.MutationObserver(a=>{for(const u of a)u.type==="attributes"&&u.attributeName&&n.includes(u.attributeName)&&i(u)});return r.observe(e,{attributes:!0,attributeFilter:n}),()=>r.disconnect()}function kf(e,t){const{defer:n}=t,i=n?Je:r=>r(),s=[];return s.push(i(()=>{const r=typeof e=="function"?e():e;s.push(uN(r,t))})),()=>{s.forEach(r=>r==null?void 0:r())}}function dN(e,t){const{callback:n}=t;if(!e)return;const i=e.ownerDocument.defaultView||window,s=new i.MutationObserver(n);return s.observe(e,{childList:!0,subtree:!0}),()=>s.disconnect()}function hN(e,t){const{defer:n}=t,i=n?Je:r=>r(),s=[];return s.push(i(()=>{const r=typeof e=="function"?e():e;s.push(dN(r,t))})),()=>{s.forEach(r=>r==null?void 0:r())}}function Ex(e){const t=rN(e);return HM(t)?dr(t).body:Xi(t)&&bx(t)?t:Ex(t)}function fN(e,t={}){const{triggerElement:n,onFocus:i}=t,s=(e==null?void 0:e.ownerDocument)||document,r=s.body;function a(u){if(u.key!=="Tab")return;let o=null;const[l,c]=vx(e,!0),d=!l&&!c;u.shiftKey&&(s.activeElement===l||d)?o=n:!u.shiftKey&&s.activeElement===n?o=l:!u.shiftKey&&(s.activeElement===c||d)&&(o=lN(r,n)),o&&(u.preventDefault(),typeof i=="function"?i(o):o.focus())}return s==null||s.addEventListener("keydown",a,!0),()=>{s==null||s.removeEventListener("keydown",a,!0)}}function pN(e,t){const{defer:n,triggerElement:i,...s}=t,r=n?Je:u=>u(),a=[];return a.push(r(()=>{const u=typeof e=="function"?e():e,o=typeof i=="function"?i():i;a.push(fN(u,{triggerElement:o,...s}))})),()=>{a.forEach(u=>u==null?void 0:u())}}function Tr(e,t){return Array.from((e==null?void 0:e.querySelectorAll(t))??[])}function _x(e,t){return(e==null?void 0:e.querySelector(t))??null}function $i(e){const t={getRootNode:n=>{var i;return((i=n.getRootNode)==null?void 0:i.call(n))??document},getDoc:n=>dr(t.getRootNode(n)),getWin:n=>t.getDoc(n).defaultView??window,getActiveElement:n=>GM(t.getRootNode(n)),isActiveElement:(n,i)=>i===t.getActiveElement(n),getById:(n,i)=>t.getRootNode(n).getElementById(i),setValue:(n,i)=>{if(n==null||i==null)return;const s=i.toString();n.value!==s&&(n.value=i.toString())}};return{...t,...e}}function gN(e){return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth}function Gv(e,t){const{rootEl:n,...i}=t||{};!e||!n||!bx(n)||!gN(n)||e.scrollIntoView(i)}var Rp=new WeakMap;function mN(e,t,n){Rp.has(e)||Rp.set(e,new Map);const i=Rp.get(e),s=i.get(t);if(!s)return i.set(t,n()),()=>{var u;(u=i.get(t))==null||u(),i.delete(t)};const r=n(),a=()=>{r(),s(),i.delete(t)};return i.set(t,a),()=>{i.get(t)===a&&(r(),i.set(t,s))}}function vN(e,t){return e?mN(e,"style",()=>{const i=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=i}}):()=>{}}var Bu={border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"},yN=1e3/60;function bN(e,t){const n=e();if(Xi(n)&&n.isConnected)return t(n),()=>{};{const i=setInterval(()=>{const s=e();Xi(s)&&s.isConnected&&(t(s),clearInterval(i))},yN);return()=>clearInterval(i)}}function EN(e,t){const n=[];return e==null||e.forEach(i=>{const s=bN(i,t);n.push(s)}),()=>{n.forEach(i=>i())}}var _N=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Xa=new WeakMap,hd=new WeakMap,fd={},Dp=0,Cx=function(e){return e&&(e.host||Cx(e.parentNode))},CN=function(e,t){return t.map(function(n){if(e.contains(n))return n;var i=Cx(n);return i&&e.contains(i)?i:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},SN=function(e,t,n,i){var s=CN(t,Array.isArray(e)?e:[e]);fd[n]||(fd[n]=new WeakMap);var r=fd[n],a=[],u=new Set,o=new Set(s),l=function(d){!d||u.has(d)||(u.add(d),l(d.parentNode))};s.forEach(l);var c=function(d){!d||o.has(d)||Array.prototype.forEach.call(d.children,function(h){if(u.has(h))c(h);else try{var f=h.getAttribute(i),p=f!==null&&f!=="false",g=(Xa.get(h)||0)+1,m=(r.get(h)||0)+1;Xa.set(h,g),r.set(h,m),a.push(h),g===1&&p&&hd.set(h,!0),m===1&&h.setAttribute(n,"true"),p||h.setAttribute(i,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return c(t),u.clear(),Dp++,function(){a.forEach(function(d){var h=Xa.get(d)-1,f=r.get(d)-1;Xa.set(d,h),r.set(d,f),h||(hd.has(d)||d.removeAttribute(i),hd.delete(d)),f||d.removeAttribute(n)}),Dp--,Dp||(Xa=new WeakMap,Xa=new WeakMap,hd=new WeakMap,fd={})}},xN=function(e,t,n){n===void 0&&(n="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),s=_N(e);return s?(i.push.apply(i,Array.from(s.querySelectorAll("[aria-live]"))),SN(i,s,n,"aria-hidden")):function(){return null}},TN=e=>{const t=requestAnimationFrame(()=>e());return()=>cancelAnimationFrame(t)};function Wv(e,t={}){const{defer:n=!0}=t,i=n?TN:r=>r(),s=[];return s.push(i(()=>{const a=(typeof e=="function"?e():e).filter(Boolean);s.push(xN(a))})),()=>{s.forEach(r=>r==null?void 0:r())}}const wN=Symbol(),IE=Object.getPrototypeOf,rm=new WeakMap,IN=e=>e&&(rm.has(e)?rm.get(e):IE(e)===Object.prototype||IE(e)===Array.prototype),ON=e=>IN(e)&&e[wN]||null,OE=(e,t=!0)=>{rm.set(e,t)};function kN(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function Sx(e,t){const n=kN();return n?(n[e]||(n[e]=t()),n[e]):t()}var Lp=e=>typeof e=="object"&&e!==null,ua=Sx("__zag__proxyStateMap",()=>new WeakMap),Mc=Sx("__zag__refSet",()=>new WeakSet),AN=e=>typeof e=="object"&&e!==null&&"$$typeof"in e,PN=e=>typeof e=="object"&&e!==null&&"__v_isVNode"in e,$N=e=>typeof e=="object"&&e!==null&&"nodeType"in e&&typeof e.nodeName=="string",MN=e=>AN(e)||PN(e)||$N(e),NN=(e=Object.is,t=(l,c)=>new Proxy(l,c),n=l=>Lp(l)&&!Mc.has(l)&&(Array.isArray(l)||!(Symbol.iterator in l))&&!MN(l)&&!(l instanceof WeakMap)&&!(l instanceof WeakSet)&&!(l instanceof Error)&&!(l instanceof Number)&&!(l instanceof Date)&&!(l instanceof String)&&!(l instanceof RegExp)&&!(l instanceof ArrayBuffer),i=l=>{switch(l.status){case"fulfilled":return l.value;case"rejected":throw l.reason;default:throw l}},s=new WeakMap,r=(l,c,d=i)=>{const h=s.get(l);if((h==null?void 0:h[0])===c)return h[1];const f=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l));return OE(f,!0),s.set(l,[c,f]),Reflect.ownKeys(l).forEach(p=>{const g=Reflect.get(l,p);Mc.has(g)?(OE(g,!1),f[p]=g):g instanceof Promise?Object.defineProperty(f,p,{get(){return d(g)}}):ua.has(g)?f[p]=_e(g,d):f[p]=g}),Object.freeze(f)},a=new WeakMap,u=[1,1],o=l=>{if(!Lp(l))throw new Error("object required");const c=a.get(l);if(c)return c;let d=u[0];const h=new Set,f=(D,j=++u[0])=>{d!==j&&(d=j,h.forEach(se=>se(D,j)))};let p=u[1];const g=(D=++u[1])=>(p!==D&&!h.size&&(p=D,y.forEach(([j])=>{const se=j[1](D);se>d&&(d=se)})),d),m=D=>(j,se)=>{const ae=[...j];ae[1]=[D,...ae[1]],f(ae,se)},y=new Map,b=(D,j)=>{if(h.size){const se=j[3](m(D));y.set(D,[j,se])}else y.set(D,[j])},E=D=>{var se;const j=y.get(D);j&&(y.delete(D),(se=j[1])==null||se.call(j))},_=D=>(h.add(D),h.size===1&&y.forEach(([se,ae],Y)=>{const Q=se[3](m(Y));y.set(Y,[se,Q])}),()=>{h.delete(D),h.size===0&&y.forEach(([se,ae],Y)=>{ae&&(ae(),y.set(Y,[se]))})}),I=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),R=t(I,{deleteProperty(D,j){const se=Reflect.get(D,j);E(j);const ae=Reflect.deleteProperty(D,j);return ae&&f(["delete",[j],se]),ae},set(D,j,se,ae){var ce;const Y=Reflect.has(D,j),Q=Reflect.get(D,j,ae);if(Y&&(e(Q,se)||a.has(se)&&e(Q,a.get(se))))return!0;E(j),Lp(se)&&(se=ON(se)||se);let de=se;if(!((ce=Object.getOwnPropertyDescriptor(D,j))!=null&&ce.set))if(se instanceof Promise)se.then(re=>{Object.assign(se,{status:"fulfilled",value:re}),f(["resolve",[j],re])}).catch(re=>{Object.assign(se,{status:"rejected",reason:re}),f(["reject",[j],re])});else{!ua.has(se)&&n(se)&&(de=Yn(se));const re=!Mc.has(de)&&ua.get(de);re&&b(j,re)}return Reflect.set(D,j,de,ae),f(["set",[j],se,Q]),!0}});a.set(l,R);const X=[I,g,r,_];return ua.set(R,X),Reflect.ownKeys(l).forEach(D=>{const j=Object.getOwnPropertyDescriptor(l,D);j.get||j.set?Object.defineProperty(I,D,j):R[D]=l[D]}),R})=>[o,ua,Mc,e,t,n,i,s,r,a,u],[RN]=NN();function Yn(e={}){return RN(e)}function Pt(e,t,n){const i=ua.get(e);let s;const r=[],a=i[3];let u=!1;const l=a(c=>{if(r.push(c),n){t(r.splice(0));return}s||(s=Promise.resolve().then(()=>{s=void 0,u&&t(r.splice(0))}))});return u=!0,()=>{u=!1,l()}}function _e(e,t){const n=ua.get(e),[i,s,r]=n;return r(i,s(),t)}function Ke(e){return Mc.add(e),e}function yi(e,t){Object.keys(t).forEach(s=>{if(Object.getOwnPropertyDescriptor(e,s))throw new Error("object property already defined");const r=t[s],{get:a,set:u}=typeof r=="function"?{get:r}:r,o={};o.get=()=>a(_e(i)),u&&(o.set=l=>u(i,l)),Object.defineProperty(e,s,o)});const i=Yn(e);return i}var zv=e=>e[0],Kv=e=>e[e.length-1],DN=(e,t)=>e.indexOf(t)!==-1,qv=(e,...t)=>e.concat(t),Yv=(e,t)=>e.filter(n=>n!==t),xx=(e,t)=>DN(e,t)?Yv(e,t):qv(e,t);function bi(e){for(;e.length>0;)e.pop();return e}var kE=e=>(e==null?void 0:e.constructor.name)==="Array",LN=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!dn(e[n],t[n]))return!1;return!0},dn=(e,t)=>{if(Object.is(e,t))return!0;if(e==null&&t!=null||e!=null&&t==null)return!1;if(typeof(e==null?void 0:e.isEqual)=="function"&&typeof(t==null?void 0:t.isEqual)=="function")return e.isEqual(t);if(typeof e=="function"&&typeof t=="function")return e.toString()===t.toString();if(kE(e)&&kE(t))return LN(Array.from(e),Array.from(t));if(typeof e!="object"||typeof t!="object")return!1;const n=Object.keys(t??Object.create(null)),i=n.length;for(let s=0;s<i;s++)if(!Reflect.has(e,n[s]))return!1;for(let s=0;s<i;s++){const r=n[s];if(!dn(e[r],t[r]))return!1}return!0},$t=(e,...t)=>(typeof e=="function"?e(...t):e)??void 0,ee=e=>e,si=()=>{},Eu=(...e)=>(...t)=>{e.forEach(function(n){n==null||n(...t)})},Rt=(()=>{let e=0;return()=>(e++,e.toString(36))})();function fh(e,t,...n){var s;if(e in t){const r=t[e];return typeof r=="function"?r(...n):r}const i=new Error(`No matching key: ${JSON.stringify(e)} in ${JSON.stringify(Object.keys(t))}`);throw(s=Error.captureStackTrace)==null||s.call(Error,i,fh),i}var Tx=(e,t)=>{var n;try{return e()}catch(i){return i instanceof Error&&((n=Error.captureStackTrace)==null||n.call(Error,i,Tx)),t==null?void 0:t()}},et=e=>Array.isArray(e),FN=e=>e===!0||e===!1,wx=e=>e!=null&&typeof e=="object",Ce=e=>wx(e)&&!et(e),Ei=e=>typeof e=="number"&&!Number.isNaN(e),q=e=>typeof e=="string",We=e=>typeof e=="function",VN=e=>e==null,wn=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),BN=e=>Object.prototype.toString.call(e),Ix=Function.prototype.toString,HN=Ix.call(Object),_i=e=>{if(!wx(e)||BN(e)!="[object Object]")return!1;const t=Object.getPrototypeOf(e);if(t===null)return!0;const n=wn(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Ix.call(n)==HN};function jN(e,t){const n={},i={},s=new Set(t);for(const r in e)s.has(r)?i[r]=e[r]:n[r]=e[r];return[i,n]}var UN=e=>function(n){return jN(n,e)};function Te(e){if(!GN(e)||e===void 0)return e;const t=Reflect.ownKeys(e).filter(i=>typeof i=="string"),n={};for(const i of t){const s=e[i];s!==void 0&&(n[i]=Te(s))}return n}var GN=e=>e&&typeof e=="object"&&e.constructor===Object;function Ox(e,t){return UN(t)(e)[1]}function it(...e){const t=e.length===1?e[0]:e[1],n=e.length===2?e[0]:!0}function He(...e){const t=e.length===1?e[0]:e[1],n=e.length===2?e[0]:!0}function AE(e,t,n){typeof n.value=="object"&&(n.value=bn(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function bn(e){if(typeof e!="object")return e;var t=0,n,i,s,r=Object.prototype.toString.call(e);if(r==="[object Object]"?s=Object.create(e.__proto__||null):r==="[object Array]"?s=Array(e.length):r==="[object Set]"?(s=new Set,e.forEach(function(a){s.add(bn(a))})):r==="[object Map]"?(s=new Map,e.forEach(function(a,u){s.set(bn(u),bn(a))})):r==="[object Date]"?s=new Date(+e):r==="[object RegExp]"?s=new RegExp(e.source,e.flags):r==="[object DataView]"?s=new e.constructor(bn(e.buffer)):r==="[object ArrayBuffer]"?s=e.slice(0):r.slice(-6)==="Array]"&&(s=new e.constructor(e)),s){for(i=Object.getOwnPropertySymbols(e);t<i.length;t++)AE(s,i[t],Object.getOwnPropertyDescriptor(e,i[t]));for(t=0,i=Object.getOwnPropertyNames(e);t<i.length;t++)Object.hasOwnProperty.call(s,n=i[t])&&s[n]===e[n]||AE(s,n,Object.getOwnPropertyDescriptor(e,n))}return s||e}var WN=Object.defineProperty,zN=(e,t,n)=>t in e?WN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,we=(e,t,n)=>zN(e,typeof t!="symbol"?t+"":t,n);function kx(e,...t){for(const n of t){const i=Te(n);for(const s in i)_i(n[s])?(e[s]||(e[s]={}),kx(e[s],n[s])):e[s]=n[s]}return e}function PE(e){return bn(e)}function bs(e){return q(e)?{type:e}:e}function Wr(e){return e?et(e)?e.slice():[e]:[]}function Ax(e){return Ce(e)&&e.predicate!=null}var KN=()=>!0;function Px(e,t){return e=e??KN,(n,i,s)=>{if(q(e)){const r=t[e];return We(r)?r(n,i,s):r}return Ax(e)?e.predicate(t)(n,i,s):e==null?void 0:e(n,i,s)}}function Fp(e,t){return(n,i,s)=>Ax(e)?e.predicate(t)(n,i,s):e}function qN(e){var r,a;const t=e.computed??ee({}),n=e.context??ee({}),i=e.initial?(a=(r=e.states)==null?void 0:r[e.initial])==null?void 0:a.tags:[],s=Yn({value:e.initial??"",previousValue:"",event:ee({}),previousEvent:ee({}),context:yi(n,t),done:!1,tags:i??[],hasTag(u){return this.tags.includes(u)},matches(...u){return u.includes(this.value)},can(u){return ee(this).nextEvents.includes(u)},get nextEvents(){var l,c;const u=((c=(l=e.states)==null?void 0:l[this.value])==null?void 0:c.on)??{},o=(e==null?void 0:e.on)??{};return Object.keys({...u,...o})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return ee(s)}function oc(e,t){return(n,i)=>{if(Ei(e))return e;if(We(e))return e(n,i);if(q(e)){const s=Number.parseFloat(e);if(!Number.isNaN(s))return s;if(t){const r=t==null?void 0:t[e];return He(r==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${e}\`. It doesn't exist in \`options.delays\``),We(r)?r(n,i):r}}}}function YN(e){return q(e)?{target:e}:e}function JN(e,t){return(n,i,s)=>Wr(e).map(YN).find(r=>Px(r.guard,t)(n,i,s)??r.target??r.actions)}var XN=class{constructor(t,n){var i,s,r,a,u;we(this,"status","Not Started"),we(this,"state"),we(this,"initialState"),we(this,"initialContext"),we(this,"id"),we(this,"type","machine"),we(this,"activityEvents",new Map),we(this,"delayedEvents",new Map),we(this,"stateListeners",new Set),we(this,"doneListeners",new Set),we(this,"contextWatchers",new Set),we(this,"removeStateListener",si),we(this,"parent"),we(this,"children",new Map),we(this,"guardMap"),we(this,"actionMap"),we(this,"delayMap"),we(this,"activityMap"),we(this,"sync"),we(this,"options"),we(this,"config"),we(this,"_created",()=>{var l;const o=bs("machine.created");this.executeActions((l=this.config)==null?void 0:l.created,o)}),we(this,"start",o=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=Pt(this.state,()=>{this.stateListeners.forEach(p=>{p(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(bs("machine.start"),Wr(this.config.activities),"machine.start"),this.executeActions(this.config.entry,bs("machine.start"));const l=bs("machine.init"),c=Ce(o)?o.value:o,d=Ce(o)?o.context:void 0;d&&this.setContext(d);const h={target:c??this.config.initial},f=this.getNextStateInfo(h,l);return this.initialState=f,this.performStateChangeEffects(this.state.value,f,l),this}),we(this,"setupContextWatchers",()=>{const{watch:o}=this.config;if(!o)return;let l=_e(this.state.context);const c=Pt(this.state.context,()=>{var h;const d=_e(this.state.context);for(const[f,p]of Object.entries(o))(((h=this.options.compareFns)==null?void 0:h[f])??Object.is)(l[f],d[f])||this.executeActions(p,this.state.event);l=d});this.contextWatchers.add(c)}),we(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,bs("machine.stop")),this.executeActions(this.config.exit,bs("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),we(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),we(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(o=>o()),this.contextWatchers.clear()}),we(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(o=>{o.forEach(l=>l())}),this.delayedEvents.clear()}),we(this,"stopActivities",o=>{var l,c;o?((l=this.activityEvents.get(o))==null||l.forEach(d=>d()),(c=this.activityEvents.get(o))==null||c.clear(),this.activityEvents.delete(o)):(this.activityEvents.forEach(d=>{d.forEach(h=>h()),d.clear()}),this.activityEvents.clear())}),we(this,"sendChild",(o,l)=>{const c=bs(o),d=$t(l,this.contextSnapshot),h=this.children.get(d);h||He(`[@zag-js/core] Cannot send '${c.type}' event to unknown child`),h.send(c)}),we(this,"stopChild",o=>{this.children.has(o)||He(`[@zag-js/core > stop-child] Cannot stop unknown child ${o}`),this.children.get(o).stop(),this.children.delete(o)}),we(this,"removeChild",o=>{this.children.delete(o)}),we(this,"stopChildren",()=>{this.children.forEach(o=>o.stop()),this.children.clear()}),we(this,"setParent",o=>{this.parent=o}),we(this,"spawn",(o,l)=>{const c=$t(o);return l&&(c.id=l),c.type="machine.actor",c.setParent(this),this.children.set(c.id,ee(c)),c.onDone(()=>{this.removeChild(c.id)}).start(),ee(Ke(c))}),we(this,"stopActivity",o=>{var c;if(!this.state.value)return;const l=this.activityEvents.get(this.state.value);(c=l==null?void 0:l.get(o))==null||c(),l==null||l.delete(o)}),we(this,"addActivityCleanup",(o,l,c)=>{var d;o&&(this.activityEvents.has(o)?(d=this.activityEvents.get(o))==null||d.set(l,c):this.activityEvents.set(o,new Map([[l,c]])))}),we(this,"setState",o=>{this.state.previousValue=this.state.value,this.state.value=o;const l=this.getStateNode(o);o==null?bi(this.state.tags):this.state.tags=Wr(l==null?void 0:l.tags)}),we(this,"setContext",o=>{o&&kx(this.state.context,Te(o))}),we(this,"setOptions",o=>{const l=Te(o);this.actionMap={...this.actionMap,...l.actions},this.delayMap={...this.delayMap,...l.delays},this.activityMap={...this.activityMap,...l.activities},this.guardMap={...this.guardMap,...l.guards}}),we(this,"getStateNode",o=>{var l;if(o)return(l=this.config.states)==null?void 0:l[o]}),we(this,"getNextStateInfo",(o,l)=>{const c=this.determineTransition(o,l),d=!(c!=null&&c.target),h=(c==null?void 0:c.target)??this.state.value,f=this.state.value!==h,p=this.getStateNode(h),m={reenter:!d&&!f&&!(c!=null&&c.internal),transition:c,stateNode:p,target:h,changed:f};return this.log("NextState:",`[${l.type}]`,this.state.value,"---->",m.target),m}),we(this,"getAfterActions",(o,l)=>{let c;const d=this.state.value;return{entry:()=>{c=globalThis.setTimeout(()=>{const h=this.getNextStateInfo(o,this.state.event);this.performStateChangeEffects(d,h,this.state.event)},l)},exit:()=>{globalThis.clearTimeout(c)}}}),we(this,"getDelayedEventActions",o=>{const l=this.getStateNode(o),c=this.state.event;if(!l||!l.after)return;const d=[],h=[];if(et(l.after)){const f=this.determineTransition(l.after,c);if(!f)return;if(!wn(f,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(f)}`);const g=oc(f.delay,this.delayMap)(this.contextSnapshot,c),m=this.getAfterActions(f,g);return d.push(m.entry),h.push(m.exit),{entries:d,exits:h}}if(Ce(l.after))for(const f in l.after){const p=l.after[f],m=oc(f,this.delayMap)(this.contextSnapshot,c),y=this.getAfterActions(p,m);d.push(y.entry),h.push(y.exit)}return{entries:d,exits:h}}),we(this,"executeActions",(o,l)=>{var d;const c=Fp(o,this.guardMap)(this.contextSnapshot,l,this.guardMeta);for(const h of Wr(c)){const f=q(h)?(d=this.actionMap)==null?void 0:d[h]:h;it(q(h)&&!f,`[@zag-js/core > execute-actions] No implementation found for action: \`${h}\``),f==null||f(this.state.context,l,this.meta)}}),we(this,"executeActivities",(o,l,c)=>{var d;for(const h of l){const f=q(h)?(d=this.activityMap)==null?void 0:d[h]:h;if(!f){it(`[@zag-js/core > execute-activity] No implementation found for activity: \`${h}\``);continue}const p=f(this.state.context,o,this.meta);if(p){const g=q(h)?h:h.name||Rt();this.addActivityCleanup(c??this.state.value,g,p)}}}),we(this,"createEveryActivities",(o,l)=>{if(o)if(et(o)){const c=Wr(o).find(p=>{const g=p.delay,y=oc(g,this.delayMap)(this.contextSnapshot,this.state.event);return Px(p.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??y!=null});if(!c)return;const h=oc(c.delay,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const p=globalThis.setInterval(()=>{this.executeActions(c.actions,this.state.event)},h);return()=>{globalThis.clearInterval(p)}})}else for(const c in o){const d=o==null?void 0:o[c],f=oc(c,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const g=globalThis.setInterval(()=>{this.executeActions(d,this.state.event)},f);return()=>{globalThis.clearInterval(g)}})}}),we(this,"setEvent",o=>{this.state.previousEvent=this.state.event,this.state.event=Ke(bs(o))}),we(this,"performExitEffects",(o,l)=>{const c=this.state.value;if(c==="")return;const d=o?this.getStateNode(o):void 0;this.stopActivities(c);const h=Fp(d==null?void 0:d.exit,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=Wr(h),p=this.delayedEvents.get(c);p&&f.push(...p),this.executeActions(f,l),this.delayedEvents.delete(c)}),we(this,"performEntryEffects",(o,l)=>{const c=this.getStateNode(o),d=Wr(c==null?void 0:c.activities);this.createEveryActivities(c==null?void 0:c.every,g=>{d.unshift(g)}),d.length>0&&this.executeActivities(l,d);const h=Fp(c==null?void 0:c.entry,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=Wr(h),p=this.getDelayedEventActions(o);c!=null&&c.after&&p&&(this.delayedEvents.set(o,p==null?void 0:p.exits),f.push(...p.entries)),this.executeActions(f,l),(c==null?void 0:c.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(g=>{g(this.stateSnapshot)}),this.stop())}),we(this,"performTransitionEffects",(o,l)=>{const c=this.determineTransition(o,l);this.executeActions(c==null?void 0:c.actions,l)}),we(this,"performStateChangeEffects",(o,l,c)=>{this.setEvent(c);const d=l.changed||l.reenter;d&&this.performExitEffects(o,c),this.performTransitionEffects(l.transition,c),this.setState(l.target),d&&this.performEntryEffects(l.target,c)}),we(this,"determineTransition",(o,l)=>{const c=JN(o,this.guardMap);return c==null?void 0:c(this.contextSnapshot,l,this.guardMeta)}),we(this,"sendParent",o=>{var c;this.parent||He("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const l=bs(o);(c=this.parent)==null||c.send(l)}),we(this,"log",(...o)=>{}),we(this,"send",o=>{const l=bs(o);this.transition(this.state.value,l)}),we(this,"transition",(o,l)=>{var p,g;const c=q(o)?this.getStateNode(o):o==null?void 0:o.stateNode,d=bs(l);if(!c&&!this.config.on){const m=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${o}, \`event\`: ${d.type}`;it(m);return}const h=((p=c==null?void 0:c.on)==null?void 0:p[d.type])??((g=this.config.on)==null?void 0:g[d.type]),f=this.getNextStateInfo(h,d);return this.performStateChangeEffects(this.state.value,f,d),f.stateNode}),we(this,"subscribe",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),()=>{this.stateListeners.delete(o)})),we(this,"onDone",o=>(this.doneListeners.add(o),this)),we(this,"onTransition",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),this)),this.config=PE(t),this.options=PE(n??{}),this.id=this.config.id??`machine-${Rt()}`,this.guardMap=((i=this.options)==null?void 0:i.guards)??{},this.actionMap=((s=this.options)==null?void 0:s.actions)??{},this.delayMap=((r=this.options)==null?void 0:r.delays)??{},this.activityMap=((a=this.options)==null?void 0:a.activities)??{},this.sync=((u=this.options)==null?void 0:u.sync)??!1,this.state=qN(this.config),this.initialContext=_e(this.state.context)}get stateSnapshot(){return ee(_e(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const t=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return t.stateSnapshot},get initialContext(){return t.initialContext},get initialState(){var n;return((n=t.initialState)==null?void 0:n.target)??""}}}get meta(){var t;return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:((t=this.initialState)==null?void 0:t.target)??"",getState:()=>this.stateSnapshot,getAction:n=>this.actionMap[n],getGuard:n=>this.guardMap[n]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){const t=this.getState();return{value:t.value,tags:t.tags}}},ZN=(e,t)=>new XN(e,t),gl="default",om="",Wd=new WeakMap;function QN(e={}){const{target:t,doc:n}=e,i=n??document,s=i.documentElement;return Dv()?(gl==="default"&&(om=s.style.webkitUserSelect,s.style.webkitUserSelect="none"),gl="disabled"):t&&(Wd.set(t,t.style.userSelect),t.style.userSelect="none"),()=>eR({target:t,doc:i})}function eR(e={}){const{target:t,doc:n}=e,s=(n??document).documentElement;if(Dv()){if(gl!=="disabled")return;gl="restoring",setTimeout(()=>{Of(()=>{gl==="restoring"&&(s.style.webkitUserSelect==="none"&&(s.style.webkitUserSelect=om||""),om="",gl="default")})},300)}else if(t&&Wd.has(t)){const r=Wd.get(t);t.style.userSelect==="none"&&(t.style.userSelect=r??""),t.getAttribute("style")===""&&t.removeAttribute("style"),Wd.delete(t)}}function $x(e={}){const{defer:t,target:n,...i}=e,s=t?Je:a=>a(),r=[];return r.push(s(()=>{const a=typeof n=="function"?n():n;r.push(QN({...i,target:a}))})),()=>{r.forEach(a=>a==null?void 0:a())}}var gn=(e,t,n,i)=>{const s=typeof e=="function"?e():e;return s==null||s.addEventListener(t,n,i),()=>{s==null||s.removeEventListener(t,n,i)}};function tR(e){return e.key.length===1&&!e.ctrlKey&&!e.metaKey}var $l=e=>e.button===0,Jv=e=>e.button===2||hx()&&e.ctrlKey&&e.button===0,Ml=e=>e.ctrlKey||e.altKey||e.metaKey;function nR(e,t,n){const s=(a=>{const u=requestAnimationFrame(a);return()=>cancelAnimationFrame(u)})(()=>{e.removeEventListener(t,r,!0),n()}),r=()=>{s(),n()};return e.addEventListener(t,r,{once:!0,capture:!0}),s}function iR(e){return(e==null?void 0:e.matches("a[href]"))??!1}function Mx(e){if(!iR(e))return;const t=()=>e.click();qM()?nR(e,"keyup",t):queueMicrotask(t)}function $E(e,t,n){if(!e)return;const i=e.ownerDocument.defaultView||window,s=new i.CustomEvent(t,n);return e.dispatchEvent(s)}var sR={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},ME={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};function js(e,t={}){const{dir:n="ltr",orientation:i="horizontal"}=t;let{key:s}=e;return s=sR[s]??s,n==="rtl"&&i==="horizontal"&&s in ME&&(s=ME[s]),s}function rR(e,t="client"){const n=e.touches[0]||e.changedTouches[0];return{x:n[`${t}X`],y:n[`${t}Y`]}}function oR(e,t="client"){return{x:e[`${t}X`],y:e[`${t}Y`]}}var aR=e=>"touches"in e&&e.touches.length>0;function Ar(e,t="client"){return aR(e)?rR(e,t):oR(e,t)}var lR=new Set(["PageUp","PageDown"]),cR=new Set(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"]);function ph(e){return e.ctrlKey||e.metaKey?.1:lR.has(e.key)||e.shiftKey&&cR.has(e.key)?10:1}function NE(e){return Math.max(0,Math.min(1,e))}function am(e,t){const{left:n,top:i,width:s,height:r}=t.getBoundingClientRect(),a={x:e.x-n,y:e.y-i},u={x:NE(a.x/s),y:NE(a.y/r)};function o(l={}){const{dir:c="ltr",orientation:d="horizontal",inverted:h}=l,f=typeof h=="object"?h.x:h,p=typeof h=="object"?h.y:h;return d==="horizontal"?c==="rtl"||f?1-u.x:u.x:p?1-u.y:u.y}return{offset:a,percent:u,getPercentValue:o}}function uR(e,t){const n=e.body,i="pointerLockElement"in e||"mozPointerLockElement"in e,s=()=>!!e.pointerLockElement;function r(){}function a(o){s(),console.error("PointerLock error occured:",o),e.exitPointerLock()}if(!i)return;try{n.requestPointerLock()}catch{}const u=[gn(e,"pointerlockchange",r,!1),gn(e,"pointerlockerror",a,!1)];return()=>{u.forEach(o=>o()),e.exitPointerLock()}}function Nx(e,t){const{onPointerMove:n,onPointerUp:i}=t,s=[],a=[gn(e,"pointermove",u=>{const o=Ar(u);s.push({...o,timestamp:performance.now()});const l=Math.sqrt(o.x**2+o.y**2),c=u.pointerType==="touch"?10:5;if(!(l<c)){if(u.pointerType==="mouse"&&u.button===0){i();return}n({point:o,event:u,velocity:pR(s,.1)})}},!1),gn(e,"pointerup",i,!1),gn(e,"pointercancel",i,!1),gn(e,"contextmenu",i,!1),$x({doc:e})];return()=>{a.forEach(u=>u()),s.length=0}}function dR(e){return e[e.length-1]}function hR(e){return e*1e3}function fR(e){return e/1e3}function pR(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const s=dR(e);for(;n>=0&&(i=e[n],!(s.timestamp-i.timestamp>hR(t)));)n--;if(!i)return{x:0,y:0};const r=fR(s.timestamp-i.timestamp);if(r===0)return{x:0,y:0};const a={x:(s.x-i.x)/r,y:(s.y-i.y)/r};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),{x:Math.abs(a.x),y:Math.abs(a.y)}}var Vp=(...e)=>t=>e.reduce((n,i)=>i(n),t),pd=()=>{};function gR(e){const{pointerNode:t,keyboardNode:n=t,onPress:i,onPressStart:s,onPressEnd:r,isValidKey:a=E=>E.key==="Enter"}=e;if(!t)return pd;const u=Zi(t),o=dr(t);let l=pd,c=pd,d=pd;const h=E=>({point:Ar(E),event:E});function f(E){s==null||s(h(E))}function p(E){r==null||r(h(E))}const m=gn(t,"pointerdown",E=>{c();const I=gn(u,"pointerup",R=>{const X=Qi(R);$r(t,X)?i==null||i(h(R)):r==null||r(h(R))},{passive:!i}),M=gn(u,"pointercancel",p,{passive:!r});c=Vp(I,M),o.activeElement===n&&E.pointerType==="mouse"&&E.preventDefault(),f(E)},{passive:!s}),y=gn(n,"focus",b);l=Vp(m,y);function b(){const E=R=>{if(!a(R))return;const X=j=>{if(!a(j))return;const se=new u.PointerEvent("pointerup"),ae=h(se);i==null||i(ae),r==null||r(ae)};c(),c=gn(n,"keyup",X);const D=new u.PointerEvent("pointerdown");f(D)},_=()=>{const R=new u.PointerEvent("pointercancel");p(R)},I=gn(n,"keydown",E),M=gn(n,"blur",_);d=Vp(I,M)}return function(){l(),c(),d()}}function mR(e){const t={each(n){var i;for(let s=0;s<((i=e.frames)==null?void 0:i.length);s+=1){const r=e.frames[s];r&&n(r)}},addEventListener(n,i,s){return t.each(r=>{try{r.document.addEventListener(n,i,s)}catch{}}),()=>{try{t.removeEventListener(n,i,s)}catch{}}},removeEventListener(n,i,s){t.each(r=>{try{r.document.removeEventListener(n,i,s)}catch{}})}};return t}function vR(e){const t=e.frameElement!=null?e.parent:null;return{addEventListener:(n,i,s)=>{try{t==null||t.addEventListener(n,i,s)}catch{}return()=>{try{t==null||t.removeEventListener(n,i,s)}catch{}}},removeEventListener:(n,i,s)=>{try{t==null||t.removeEventListener(n,i,s)}catch{}}}}var RE="pointerdown.outside",DE="focus.outside";function yR(e){for(const t of e)if(Xi(t)&&yu(t))return!0;return!1}var Rx=e=>"clientY"in e;function bR(e,t){if(!Rx(t)||!e)return!1;const n=e.getBoundingClientRect();return n.width===0||n.height===0?!1:n.top<=t.clientY&&t.clientY<=n.top+n.height&&n.left<=t.clientX&&t.clientX<=n.left+n.width}function LE(e,t){if(!t||!Rx(e))return!1;const i=t.scrollHeight>t.clientHeight&&e.clientX>t.clientWidth,r=t.scrollWidth>t.clientWidth&&e.clientY>t.clientHeight;return i||r}function ER(e,t){const{exclude:n,onFocusOutside:i,onPointerDownOutside:s,onInteractOutside:r,defer:a}=t;if(!e)return;const u=dr(e),o=Zi(e),l=mR(o),c=vR(o);function d(y){const b=Qi(y);if(!Xi(b)||$r(e,b)||bR(e,y)||LE(y,b))return!1;const E=Ex(e);return LE(y,E)?!1:!(n!=null&&n(b))}const h=new Set;function f(y){function b(){var I;const E=a?Je:M=>M(),_=((I=y.composedPath)==null?void 0:I.call(y))??[y.target];E(()=>{if(!(!e||!d(y))){if(s||r){const M=Eu(s,r);e.addEventListener(RE,M,{once:!0})}$E(e,RE,{bubbles:!1,cancelable:!0,detail:{originalEvent:y,contextmenu:Jv(y),focusable:yR(_)}})}})}y.pointerType==="touch"?(h.forEach(E=>E()),h.add(gn(u,"click",b,{once:!0})),h.add(c.addEventListener("click",b,{once:!0})),h.add(l.addEventListener("click",b,{once:!0}))):b()}const p=new Set,g=setTimeout(()=>{p.add(gn(u,"pointerdown",f,!0)),p.add(c.addEventListener("pointerdown",f,!0)),p.add(l.addEventListener("pointerdown",f,!0))},0);function m(y){(a?Je:E=>E())(()=>{if(!(!e||!d(y))){if(i||r){const E=Eu(i,r);e.addEventListener(DE,E,{once:!0})}$E(e,DE,{bubbles:!1,cancelable:!0,detail:{originalEvent:y,contextmenu:!1,focusable:yu(Qi(y))}})}})}return p.add(gn(u,"focusin",m,!0)),p.add(c.addEventListener("focusin",m,!0)),p.add(l.addEventListener("focusin",m,!0)),()=>{clearTimeout(g),h.forEach(y=>y()),p.forEach(y=>y())}}function _R(e,t){const{defer:n}=t,i=n?Je:r=>r(),s=[];return s.push(i(()=>{const r=typeof e=="function"?e():e;s.push(ER(r,t))})),()=>{s.forEach(r=>r==null?void 0:r())}}function CR(e,t){const n=i=>{i.key==="Escape"&&(i.isComposing||t==null||t(i))};return gn(dr(e),"keydown",n,{capture:!0})}var Rs={layers:[],branches:[],count(){return this.layers.length},pointerBlockingLayers(){return this.layers.filter(e=>e.pointerBlocking)},topMostPointerBlockingLayer(){return[...this.pointerBlockingLayers()].slice(-1)[0]},hasPointerBlockingLayer(){return this.pointerBlockingLayers().length>0},isBelowPointerBlockingLayer(e){var i;const t=this.indexOf(e),n=this.topMostPointerBlockingLayer()?this.indexOf((i=this.topMostPointerBlockingLayer())==null?void 0:i.node):-1;return t<n},isTopMost(e){const t=this.layers[this.count()-1];return(t==null?void 0:t.node)===e},getNestedLayers(e){return Array.from(this.layers).slice(this.indexOf(e)+1)},isInNestedLayer(e,t){return this.getNestedLayers(e).some(n=>$r(n.node,t))},isInBranch(e){return Array.from(this.branches).some(t=>$r(t,e))},add(e){const t=this.layers.push(e);e.node.style.setProperty("--layer-index",`${t}`)},addBranch(e){this.branches.push(e)},remove(e){const t=this.indexOf(e);t<0||(t<this.count()-1&&this.getNestedLayers(e).forEach(i=>i.dismiss()),this.layers.splice(t,1),e.style.removeProperty("--layer-index"))},removeBranch(e){const t=this.branches.indexOf(e);t>=0&&this.branches.splice(t,1)},indexOf(e){return this.layers.findIndex(t=>t.node===e)},dismiss(e){var t;(t=this.layers[this.indexOf(e)])==null||t.dismiss()},clear(){this.remove(this.layers[0].node)}},FE;function VE(){Rs.layers.forEach(({node:e})=>{e.style.pointerEvents=Rs.isBelowPointerBlockingLayer(e)?"none":"auto"})}function SR(e){e.style.pointerEvents=""}function xR(e,t){const n=dr(e),i=[];if(Rs.hasPointerBlockingLayer()&&!n.body.hasAttribute("data-inert")&&(FE=document.body.style.pointerEvents,queueMicrotask(()=>{n.body.style.pointerEvents="none",n.body.setAttribute("data-inert","")})),t){const s=EN(t,r=>{i.push(vN(r,{pointerEvents:"auto"}))});i.push(s)}return()=>{Rs.hasPointerBlockingLayer()||(queueMicrotask(()=>{n.body.style.pointerEvents=FE,n.body.removeAttribute("data-inert"),n.body.style.length===0&&n.body.removeAttribute("style")}),i.forEach(s=>s()))}}function TR(e,t){if(!e){it("[@zag-js/dismissable] node is `null` or `undefined`");return}const{onDismiss:n,pointerBlocking:i,exclude:s,debug:r}=t,a={dismiss:n,node:e,pointerBlocking:i};Rs.add(a),VE();function u(h){var p,g;const f=Qi(h.detail.originalEvent);Rs.isBelowPointerBlockingLayer(e)||Rs.isInBranch(f)||((p=t.onPointerDownOutside)==null||p.call(t,h),(g=t.onInteractOutside)==null||g.call(t,h),!h.defaultPrevented&&(r&&console.log("onPointerDownOutside:",h.detail.originalEvent),n==null||n()))}function o(h){var p,g;const f=Qi(h.detail.originalEvent);Rs.isInBranch(f)||((p=t.onFocusOutside)==null||p.call(t,h),(g=t.onInteractOutside)==null||g.call(t,h),!h.defaultPrevented&&(r&&console.log("onFocusOutside:",h.detail.originalEvent),n==null||n()))}function l(h){var f;Rs.isTopMost(e)&&((f=t.onEscapeKeyDown)==null||f.call(t,h),!h.defaultPrevented&&n&&(h.preventDefault(),n()))}function c(h){var m;if(!e)return!1;const f=typeof s=="function"?s():s,p=Array.isArray(f)?f:[f],g=(m=t.persistentElements)==null?void 0:m.map(y=>y()).filter(Xi);return g&&p.push(...g),p.some(y=>$r(y,h))||Rs.isInNestedLayer(e,h)}const d=[i?xR(e,t.persistentElements):void 0,CR(e,l),_R(e,{exclude:c,onFocusOutside:o,onPointerDownOutside:u,defer:t.defer})];return()=>{Rs.remove(e),VE(),SR(e),d.forEach(h=>h==null?void 0:h())}}function Ul(e,t){const{defer:n}=t,i=n?Je:r=>r(),s=[];return s.push(i(()=>{const r=We(e)?e():e;s.push(TR(r,t))})),()=>{s.forEach(r=>r==null?void 0:r())}}var Bp="data-scroll-lock";function BE(e,t){if(!e)return;const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function wR(e,t,n){if(!e)return;const i=e.style.getPropertyValue(t);return e.style.setProperty(t,n),()=>{i?e.style.setProperty(t,i):e.style.removeProperty(t)}}function IR(e){const t=e.getBoundingClientRect().left;return Math.round(t)+e.scrollLeft?"paddingLeft":"paddingRight"}function Dx(e){const t=e??document,n=t.defaultView??window,{documentElement:i,body:s}=t;if(s.hasAttribute(Bp))return;s.setAttribute(Bp,"");const a=n.innerWidth-i.clientWidth,u=()=>wR(i,"--scrollbar-width",`${a}px`),o=IR(i),l=()=>BE(s,{overflow:"hidden",[o]:`${a}px`}),c=()=>{const{scrollX:h,scrollY:f,visualViewport:p}=n,g=(p==null?void 0:p.offsetLeft)??0,m=(p==null?void 0:p.offsetTop)??0,y=BE(s,{position:"fixed",overflow:"hidden",top:`${-(f-Math.floor(m))}px`,left:`${-(h-Math.floor(g))}px`,right:"0",[o]:`${a}px`});return()=>{y==null||y(),n.scrollTo({left:h,top:f,behavior:"instant"})}},d=[u(),Dv()?c():l()];return()=>{d.forEach(h=>h==null?void 0:h()),s.removeAttribute(Bp)}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Lx=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],gh=Lx.join(","),Fx=typeof Element>"u",Aa=Fx?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,mh=!Fx&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},vh=function e(t,n){var i;n===void 0&&(n=!0);var s=t==null||(i=t.getAttribute)===null||i===void 0?void 0:i.call(t,"inert"),r=s===""||s==="true",a=r||n&&t&&e(t.parentNode);return a},OR=function(t){var n,i=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return i===""||i==="true"},Vx=function(t,n,i){if(vh(t))return[];var s=Array.prototype.slice.apply(t.querySelectorAll(gh));return n&&Aa.call(t,gh)&&s.unshift(t),s=s.filter(i),s},Bx=function e(t,n,i){for(var s=[],r=Array.from(t);r.length;){var a=r.shift();if(!vh(a,!1))if(a.tagName==="SLOT"){var u=a.assignedElements(),o=u.length?u:a.children,l=e(o,!0,i);i.flatten?s.push.apply(s,l):s.push({scopeParent:a,candidates:l})}else{var c=Aa.call(a,gh);c&&i.filter(a)&&(n||!t.includes(a))&&s.push(a);var d=a.shadowRoot||typeof i.getShadowRoot=="function"&&i.getShadowRoot(a),h=!vh(d,!1)&&(!i.shadowRootFilter||i.shadowRootFilter(a));if(d&&h){var f=e(d===!0?a.children:d.children,!0,i);i.flatten?s.push.apply(s,f):s.push({scopeParent:a,candidates:f})}else r.unshift.apply(r,a.children)}}return s},Hx=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},da=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||OR(t))&&!Hx(t)?0:t.tabIndex},kR=function(t,n){var i=da(t);return i<0&&n&&!Hx(t)?0:i},AR=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},jx=function(t){return t.tagName==="INPUT"},PR=function(t){return jx(t)&&t.type==="hidden"},$R=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(i){return i.tagName==="SUMMARY"});return n},MR=function(t,n){for(var i=0;i<t.length;i++)if(t[i].checked&&t[i].form===n)return t[i]},NR=function(t){if(!t.name)return!0;var n=t.form||mh(t),i=function(u){return n.querySelectorAll('input[type="radio"][name="'+u+'"]')},s;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")s=i(window.CSS.escape(t.name));else try{s=i(t.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var r=MR(s,t.form);return!r||r===t},RR=function(t){return jx(t)&&t.type==="radio"},DR=function(t){return RR(t)&&!NR(t)},LR=function(t){var n,i=t&&mh(t),s=(n=i)===null||n===void 0?void 0:n.host,r=!1;if(i&&i!==t){var a,u,o;for(r=!!((a=s)!==null&&a!==void 0&&(u=a.ownerDocument)!==null&&u!==void 0&&u.contains(s)||t!=null&&(o=t.ownerDocument)!==null&&o!==void 0&&o.contains(t));!r&&s;){var l,c,d;i=mh(s),s=(l=i)===null||l===void 0?void 0:l.host,r=!!((c=s)!==null&&c!==void 0&&(d=c.ownerDocument)!==null&&d!==void 0&&d.contains(s))}}return r},HE=function(t){var n=t.getBoundingClientRect(),i=n.width,s=n.height;return i===0&&s===0},FR=function(t,n){var i=n.displayCheck,s=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var r=Aa.call(t,"details>summary:first-of-type"),a=r?t.parentElement:t;if(Aa.call(a,"details:not([open]) *"))return!0;if(!i||i==="full"||i==="legacy-full"){if(typeof s=="function"){for(var u=t;t;){var o=t.parentElement,l=mh(t);if(o&&!o.shadowRoot&&s(o)===!0)return HE(t);t.assignedSlot?t=t.assignedSlot:!o&&l!==t.ownerDocument?t=l.host:t=o}t=u}if(LR(t))return!t.getClientRects().length;if(i!=="legacy-full")return!0}else if(i==="non-zero-area")return HE(t);return!1},VR=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var i=0;i<n.children.length;i++){var s=n.children.item(i);if(s.tagName==="LEGEND")return Aa.call(n,"fieldset[disabled] *")?!0:!s.contains(t)}return!0}n=n.parentElement}return!1},yh=function(t,n){return!(n.disabled||vh(n)||PR(n)||FR(n,t)||$R(n)||VR(n))},lm=function(t,n){return!(DR(n)||da(n)<0||!yh(t,n))},BR=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},HR=function e(t){var n=[],i=[];return t.forEach(function(s,r){var a=!!s.scopeParent,u=a?s.scopeParent:s,o=kR(u,a),l=a?e(s.candidates):u;o===0?a?n.push.apply(n,l):n.push(u):i.push({documentOrder:r,tabIndex:o,item:s,isScope:a,content:l})}),i.sort(AR).reduce(function(s,r){return r.isScope?s.push.apply(s,r.content):s.push(r.content),s},[]).concat(n)},jR=function(t,n){n=n||{};var i;return n.getShadowRoot?i=Bx([t],n.includeContainer,{filter:lm.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:BR}):i=Vx(t,n.includeContainer,lm.bind(null,n)),HR(i)},UR=function(t,n){n=n||{};var i;return n.getShadowRoot?i=Bx([t],n.includeContainer,{filter:yh.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):i=Vx(t,n.includeContainer,yh.bind(null,n)),i},Za=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return Aa.call(t,gh)===!1?!1:lm(n,t)},GR=Lx.concat("iframe").join(","),Hp=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return Aa.call(t,GR)===!1?!1:yh(n,t)};/*!
* focus-trap 7.6.0
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function WR(e,t,n){return(t=KR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function UE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jE(Object(n),!0).forEach(function(i){WR(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jE(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function zR(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KR(e){var t=zR(e,"string");return typeof t=="symbol"?t:t+""}var GE={activateTrap:function(t,n){if(t.length>0){var i=t[t.length-1];i!==n&&i.pause()}var s=t.indexOf(n);s===-1||t.splice(s,1),t.push(n)},deactivateTrap:function(t,n){var i=t.indexOf(n);i!==-1&&t.splice(i,1),t.length>0&&t[t.length-1].unpause()}},qR=function(t){return t.tagName&&t.tagName.toLowerCase()==="input"&&typeof t.select=="function"},YR=function(t){return(t==null?void 0:t.key)==="Escape"||(t==null?void 0:t.key)==="Esc"||(t==null?void 0:t.keyCode)===27},Zc=function(t){return(t==null?void 0:t.key)==="Tab"||(t==null?void 0:t.keyCode)===9},JR=function(t){return Zc(t)&&!t.shiftKey},XR=function(t){return Zc(t)&&t.shiftKey},WE=function(t){return setTimeout(t,0)},zE=function(t,n){var i=-1;return t.every(function(s,r){return n(s)?(i=r,!1):!0}),i},ac=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return typeof t=="function"?t.apply(void 0,i):t},gd=function(t){return t.target.shadowRoot&&typeof t.composedPath=="function"?t.composedPath()[0]:t.target},ZR=[],Ux=function(t,n){var i=(n==null?void 0:n.document)||document,s=(n==null?void 0:n.trapStack)||ZR,r=UE({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:JR,isKeyBackward:XR},n),a={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},u,o=function(Y,Q,de){return Y&&Y[Q]!==void 0?Y[Q]:r[de||Q]},l=function(Y,Q){var de=typeof(Q==null?void 0:Q.composedPath)=="function"?Q.composedPath():void 0;return a.containerGroups.findIndex(function(ce){var re=ce.container,he=ce.tabbableNodes;return re.contains(Y)||(de==null?void 0:de.includes(re))||he.find(function(je){return je===Y})})},c=function(Y){var Q=r[Y];if(typeof Q=="function"){for(var de=arguments.length,ce=new Array(de>1?de-1:0),re=1;re<de;re++)ce[re-1]=arguments[re];Q=Q.apply(void 0,ce)}if(Q===!0&&(Q=void 0),!Q){if(Q===void 0||Q===!1)return Q;throw new Error("`".concat(Y,"` was specified but was not a node, or did not return a node"))}var he=Q;if(typeof Q=="string"&&(he=i.querySelector(Q),!he))throw new Error("`".concat(Y,"` as selector refers to no known node"));return he},d=function(){var Y=c("initialFocus");if(Y===!1)return!1;if(Y===void 0||!Hp(Y,r.tabbableOptions))if(l(i.activeElement)>=0)Y=i.activeElement;else{var Q=a.tabbableGroups[0],de=Q&&Q.firstTabbableNode;Y=de||c("fallbackFocus")}if(!Y)throw new Error("Your focus-trap needs to have at least one focusable element");return Y},h=function(){if(a.containerGroups=a.containers.map(function(Y){var Q=jR(Y,r.tabbableOptions),de=UR(Y,r.tabbableOptions),ce=Q.length>0?Q[0]:void 0,re=Q.length>0?Q[Q.length-1]:void 0,he=de.find(function(ft){return Za(ft)}),je=de.slice().reverse().find(function(ft){return Za(ft)}),lt=!!Q.find(function(ft){return da(ft)>0});return{container:Y,tabbableNodes:Q,focusableNodes:de,posTabIndexesFound:lt,firstTabbableNode:ce,lastTabbableNode:re,firstDomTabbableNode:he,lastDomTabbableNode:je,nextTabbableNode:function(_t){var Bt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,gt=Q.indexOf(_t);return gt<0?Bt?de.slice(de.indexOf(_t)+1).find(function(Zt){return Za(Zt)}):de.slice(0,de.indexOf(_t)).reverse().find(function(Zt){return Za(Zt)}):Q[gt+(Bt?1:-1)]}}}),a.tabbableGroups=a.containerGroups.filter(function(Y){return Y.tabbableNodes.length>0}),a.tabbableGroups.length<=0&&!c("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(a.containerGroups.find(function(Y){return Y.posTabIndexesFound})&&a.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},f=function(Y){var Q=Y.activeElement;if(Q)return Q.shadowRoot&&Q.shadowRoot.activeElement!==null?f(Q.shadowRoot):Q},p=function(Y){if(Y!==!1&&Y!==f(document)){if(!Y||!Y.focus){p(d());return}Y.focus({preventScroll:!!r.preventScroll}),a.mostRecentlyFocusedNode=Y,qR(Y)&&Y.select()}},g=function(Y){var Q=c("setReturnFocus",Y);return Q||(Q===!1?!1:Y)},m=function(Y){var Q=Y.target,de=Y.event,ce=Y.isBackward,re=ce===void 0?!1:ce;Q=Q||gd(de),h();var he=null;if(a.tabbableGroups.length>0){var je=l(Q,de),lt=je>=0?a.containerGroups[je]:void 0;if(je<0)re?he=a.tabbableGroups[a.tabbableGroups.length-1].lastTabbableNode:he=a.tabbableGroups[0].firstTabbableNode;else if(re){var ft=zE(a.tabbableGroups,function(ne){var me=ne.firstTabbableNode;return Q===me});if(ft<0&&(lt.container===Q||Hp(Q,r.tabbableOptions)&&!Za(Q,r.tabbableOptions)&&!lt.nextTabbableNode(Q,!1))&&(ft=je),ft>=0){var _t=ft===0?a.tabbableGroups.length-1:ft-1,Bt=a.tabbableGroups[_t];he=da(Q)>=0?Bt.lastTabbableNode:Bt.lastDomTabbableNode}else Zc(de)||(he=lt.nextTabbableNode(Q,!1))}else{var gt=zE(a.tabbableGroups,function(ne){var me=ne.lastTabbableNode;return Q===me});if(gt<0&&(lt.container===Q||Hp(Q,r.tabbableOptions)&&!Za(Q,r.tabbableOptions)&&!lt.nextTabbableNode(Q))&&(gt=je),gt>=0){var Zt=gt===a.tabbableGroups.length-1?0:gt+1,fn=a.tabbableGroups[Zt];he=da(Q)>=0?fn.firstTabbableNode:fn.firstDomTabbableNode}else Zc(de)||(he=lt.nextTabbableNode(Q))}}else he=c("fallbackFocus");return he},y=function(Y){var Q=gd(Y);if(!(l(Q,Y)>=0)){if(ac(r.clickOutsideDeactivates,Y)){u.deactivate({returnFocus:r.returnFocusOnDeactivate});return}ac(r.allowOutsideClick,Y)||Y.preventDefault()}},b=function(Y){var Q=gd(Y),de=l(Q,Y)>=0;if(de||Q instanceof Document)de&&(a.mostRecentlyFocusedNode=Q);else{Y.stopImmediatePropagation();var ce,re=!0;if(a.mostRecentlyFocusedNode)if(da(a.mostRecentlyFocusedNode)>0){var he=l(a.mostRecentlyFocusedNode),je=a.containerGroups[he].tabbableNodes;if(je.length>0){var lt=je.findIndex(function(ft){return ft===a.mostRecentlyFocusedNode});lt>=0&&(r.isKeyForward(a.recentNavEvent)?lt+1<je.length&&(ce=je[lt+1],re=!1):lt-1>=0&&(ce=je[lt-1],re=!1))}}else a.containerGroups.some(function(ft){return ft.tabbableNodes.some(function(_t){return da(_t)>0})})||(re=!1);else re=!1;re&&(ce=m({target:a.mostRecentlyFocusedNode,isBackward:r.isKeyBackward(a.recentNavEvent)})),p(ce||a.mostRecentlyFocusedNode||d())}a.recentNavEvent=void 0},E=function(Y){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;a.recentNavEvent=Y;var de=m({event:Y,isBackward:Q});de&&(Zc(Y)&&Y.preventDefault(),p(de))},_=function(Y){(r.isKeyForward(Y)||r.isKeyBackward(Y))&&E(Y,r.isKeyBackward(Y))},I=function(Y){YR(Y)&&ac(r.escapeDeactivates,Y)!==!1&&(Y.preventDefault(),u.deactivate())},M=function(Y){var Q=gd(Y);l(Q,Y)>=0||ac(r.clickOutsideDeactivates,Y)||ac(r.allowOutsideClick,Y)||(Y.preventDefault(),Y.stopImmediatePropagation())},R=function(){if(a.active)return GE.activateTrap(s,u),a.delayInitialFocusTimer=r.delayInitialFocus?WE(function(){p(d())}):p(d()),i.addEventListener("focusin",b,!0),i.addEventListener("mousedown",y,{capture:!0,passive:!1}),i.addEventListener("touchstart",y,{capture:!0,passive:!1}),i.addEventListener("click",M,{capture:!0,passive:!1}),i.addEventListener("keydown",_,{capture:!0,passive:!1}),i.addEventListener("keydown",I),u},X=function(){if(a.active)return i.removeEventListener("focusin",b,!0),i.removeEventListener("mousedown",y,!0),i.removeEventListener("touchstart",y,!0),i.removeEventListener("click",M,!0),i.removeEventListener("keydown",_,!0),i.removeEventListener("keydown",I),u},D=function(Y){var Q=Y.some(function(de){var ce=Array.from(de.removedNodes);return ce.some(function(re){return re===a.mostRecentlyFocusedNode})});Q&&p(d())},j=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(D):void 0,se=function(){j&&(j.disconnect(),a.active&&!a.paused&&a.containers.map(function(Y){j.observe(Y,{subtree:!0,childList:!0})}))};return u={get active(){return a.active},get paused(){return a.paused},activate:function(Y){if(a.active)return this;var Q=o(Y,"onActivate"),de=o(Y,"onPostActivate"),ce=o(Y,"checkCanFocusTrap");ce||h(),a.active=!0,a.paused=!1,a.nodeFocusedBeforeActivation=i.activeElement,Q==null||Q();var re=function(){ce&&h(),R(),se(),de==null||de()};return ce?(ce(a.containers.concat()).then(re,re),this):(re(),this)},deactivate:function(Y){if(!a.active)return this;var Q=UE({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},Y);clearTimeout(a.delayInitialFocusTimer),a.delayInitialFocusTimer=void 0,X(),a.active=!1,a.paused=!1,se(),GE.deactivateTrap(s,u);var de=o(Q,"onDeactivate"),ce=o(Q,"onPostDeactivate"),re=o(Q,"checkCanReturnFocus"),he=o(Q,"returnFocus","returnFocusOnDeactivate");de==null||de();var je=function(){WE(function(){he&&p(g(a.nodeFocusedBeforeActivation)),ce==null||ce()})};return he&&re?(re(g(a.nodeFocusedBeforeActivation)).then(je,je),this):(je(),this)},pause:function(Y){if(a.paused||!a.active)return this;var Q=o(Y,"onPause"),de=o(Y,"onPostPause");return a.paused=!0,Q==null||Q(),X(),se(),de==null||de(),this},unpause:function(Y){if(!a.paused||!a.active)return this;var Q=o(Y,"onUnpause"),de=o(Y,"onPostUnpause");return a.paused=!1,Q==null||Q(),h(),R(),se(),de==null||de(),this},updateContainerElements:function(Y){var Q=[].concat(Y).filter(Boolean);return a.containers=Q.map(function(de){return typeof de=="string"?i.querySelector(de):de}),a.active&&h(),se(),this}},u.updateContainerElements(t),u};function QR(e){return new Proxy({},{get(){return e}})}var tn=()=>e=>Array.from(new Set(e)),eD=Dn("dialog").parts("trigger","backdrop","positioner","content","title","description","closeTrigger"),ta=eD.build(),bt=$i({getPositionerId:e=>{var t;return((t=e.ids)==null?void 0:t.positioner)??`dialog:${e.id}:positioner`},getBackdropId:e=>{var t;return((t=e.ids)==null?void 0:t.backdrop)??`dialog:${e.id}:backdrop`},getContentId:e=>{var t;return((t=e.ids)==null?void 0:t.content)??`dialog:${e.id}:content`},getTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.trigger)??`dialog:${e.id}:trigger`},getTitleId:e=>{var t;return((t=e.ids)==null?void 0:t.title)??`dialog:${e.id}:title`},getDescriptionId:e=>{var t;return((t=e.ids)==null?void 0:t.description)??`dialog:${e.id}:description`},getCloseTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.closeTrigger)??`dialog:${e.id}:close`},getContentEl:e=>bt.getById(e,bt.getContentId(e)),getPositionerEl:e=>bt.getById(e,bt.getPositionerId(e)),getBackdropEl:e=>bt.getById(e,bt.getBackdropId(e)),getTriggerEl:e=>bt.getById(e,bt.getTriggerId(e)),getTitleEl:e=>bt.getById(e,bt.getTitleId(e)),getDescriptionEl:e=>bt.getById(e,bt.getDescriptionId(e)),getCloseTriggerEl:e=>bt.getById(e,bt.getCloseTriggerId(e))});function tD(e,t,n){const i=e.context["aria-label"],s=e.matches("open"),r=e.context.renderedElements;return{open:s,setOpen(a){a!==s&&t(a?"OPEN":"CLOSE")},getTriggerProps(){return n.button({...ta.trigger.attrs,dir:e.context.dir,id:bt.getTriggerId(e.context),"aria-haspopup":"dialog",type:"button","aria-expanded":s,"data-state":s?"open":"closed","aria-controls":bt.getContentId(e.context),onClick(a){a.defaultPrevented||t("TOGGLE")}})},getBackdropProps(){return n.element({...ta.backdrop.attrs,dir:e.context.dir,hidden:!s,id:bt.getBackdropId(e.context),"data-state":s?"open":"closed"})},getPositionerProps(){return n.element({...ta.positioner.attrs,dir:e.context.dir,id:bt.getPositionerId(e.context),style:{pointerEvents:s?void 0:"none"}})},getContentProps(){return n.element({...ta.content.attrs,dir:e.context.dir,role:e.context.role,hidden:!s,id:bt.getContentId(e.context),tabIndex:-1,"data-state":s?"open":"closed","aria-modal":!0,"aria-label":i||void 0,"aria-labelledby":i||!r.title?void 0:bt.getTitleId(e.context),"aria-describedby":r.description?bt.getDescriptionId(e.context):void 0})},getTitleProps(){return n.element({...ta.title.attrs,dir:e.context.dir,id:bt.getTitleId(e.context)})},getDescriptionProps(){return n.element({...ta.description.attrs,dir:e.context.dir,id:bt.getDescriptionId(e.context)})},getCloseTriggerProps(){return n.button({...ta.closeTrigger.attrs,dir:e.context.dir,id:bt.getCloseTriggerId(e.context),type:"button",onClick(a){a.defaultPrevented||(a.stopPropagation(),t("CLOSE"))}})}}}function nD(e){const t=Te(e);return ZN({id:"dialog",initial:t.open?"open":"closed",context:{role:"dialog",renderedElements:{title:!0,description:!0},modal:!0,trapFocus:!0,preventScroll:!0,closeOnInteractOutside:!0,closeOnEscape:!0,restoreFocus:!0,...t},created:["setAlertDialogProps"],watch:{open:["toggleVisibility"]},states:{open:{entry:["checkRenderedElements","syncZIndex"],activities:["trackDismissableElement","trapFocus","preventScroll","hideContentBelow"],on:{"CONTROLLED.CLOSE":{target:"closed"},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}]}},closed:{on:{"CONTROLLED.OPEN":{target:"open"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}}}},{guards:{isOpenControlled:n=>!!n["open.controlled"]},activities:{trackDismissableElement(n,i,{send:s}){return Ul(()=>bt.getContentEl(n),{defer:!0,pointerBlocking:n.modal,exclude:[bt.getTriggerEl(n)],onInteractOutside(a){var u;(u=n.onInteractOutside)==null||u.call(n,a),n.closeOnInteractOutside||a.preventDefault()},persistentElements:n.persistentElements,onFocusOutside:n.onFocusOutside,onPointerDownOutside:n.onPointerDownOutside,onEscapeKeyDown(a){var u;(u=n.onEscapeKeyDown)==null||u.call(n,a),n.closeOnEscape||a.preventDefault()},onDismiss(){s({type:"CLOSE",src:"interact-outside"})}})},preventScroll(n){if(n.preventScroll)return Dx(bt.getDoc(n))},trapFocus(n){if(!n.trapFocus||!n.modal)return;let i;const s=Of(()=>{var a;const r=bt.getContentEl(n);if(r){i=Ux(r,{document:bt.getDoc(n),escapeDeactivates:!1,preventScroll:!0,fallbackFocus:r,returnFocusOnDeactivate:n.restoreFocus,allowOutsideClick:!0,initialFocus:((a=n.initialFocusEl)==null?void 0:a.call(n))??void 0,setReturnFocus(u){var o;return((o=n.finalFocusEl)==null?void 0:o.call(n))??u}});try{i.activate()}catch{}}});return()=>{i==null||i.deactivate(),s()}},hideContentBelow(n){return n.modal?Wv(()=>[bt.getContentEl(n)],{defer:!0}):void 0}},actions:{setAlertDialogProps(n){n.role==="alertdialog"&&(n.initialFocusEl||(n.initialFocusEl=()=>bt.getCloseTriggerEl(n)),n.closeOnInteractOutside=!1)},checkRenderedElements(n){Je(()=>{n.renderedElements.title=!!bt.getTitleEl(n),n.renderedElements.description=!!bt.getDescriptionEl(n)})},syncZIndex(n){Je(()=>{const i=bt.getContentEl(n);if(!i)return;const r=bt.getWin(n).getComputedStyle(i);[bt.getPositionerEl(n),bt.getBackdropEl(n)].forEach(u=>{u==null||u.style.setProperty("--z-index",r.zIndex)})})},invokeOnClose(n){var i;(i=n.onOpenChange)==null||i.call(n,{open:!1})},invokeOnOpen(n){var i;(i=n.onOpenChange)==null||i.call(n,{open:!0})},toggleVisibility(n,i,{send:s}){s({type:n.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:i})}}})}tn()(["aria-label","closeOnEscape","closeOnInteractOutside","dir","finalFocusEl","getRootNode","getRootNode","id","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","open.controlled","open","persistentElements","preventScroll","restoreFocus","role","trapFocus"]);var iD=(...e)=>e.map(t=>{var n;return(n=t==null?void 0:t.trim)==null?void 0:n.call(t)}).filter(Boolean).join(" "),sD=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,KE=e=>{const t={};let n;for(;n=sD.exec(e);)t[n[1]]=n[2];return t},rD=(e,t)=>{if(q(e)){if(q(t))return`${e};${t}`;e=KE(e)}else q(t)&&(t=KE(t));return Object.assign({},e??{},t??{})};function Ho(...e){let t={};for(let n of e){for(let i in t){if(i.startsWith("on")&&typeof t[i]=="function"&&typeof n[i]=="function"){t[i]=Eu(n[i],t[i]);continue}if(i==="className"||i==="class"){t[i]=iD(t[i],n[i]);continue}if(i==="style"){t[i]=rD(t[i],n[i]);continue}t[i]=n[i]!==void 0?n[i]:t[i]}for(let i in n)t[i]===void 0&&(t[i]=n[i])}return t}function oD(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}var qE={htmlFor:"for",className:"class",onDoubleClick:"onDblclick",onChange:"onInput",onFocus:"onFocusin",onBlur:"onFocusout",defaultValue:"value",defaultChecked:"checked"};function aD(e){return e in qE?qE[e]:e.startsWith("on")?`on${oD(e.substr(2))}`:e.toLowerCase()}var Mi=QR(e=>{const t={};for(const n in e){const i=e[n];n==="children"?typeof i=="string"&&(t.innerHTML=i):t[aD(n)]=e[n]}return t});function lD(e,t){const{actions:n,context:i}=t??{},s=bo(e.state),r=Pt(e.state,()=>{s.value=_e(e.state)});return uf(()=>{r==null||r()}),kv(()=>{e.setOptions({actions:n})}),i&&Kt(i,a=>{e.setContext(v(a))},{deep:!0}),s}function cD(e,t){const{state:n,context:i}=t??{},s=typeof e=="function"?e():e;return i&&s.setContext(v(i)),s._created(),ii(()=>{s.start(n),Du(()=>{s.stop()})}),s}function Ci(e,t){const n=cD(e,t);return[lD(n,t),n.send,n]}const vt=e=>{const t=Symbol(e);return[s=>Gc(t,s),s=>ki(t,s),t]},[vle,es]=vt("EnvironmentContext"),Ni=K(()=>({dir:"ltr",locale:"en-US"})),[yle,Ri]=vt("LocaleContext"),ts=e=>{const t={};for(const[n,i]of Object.entries(e))i!==void 0&&(t[n]=i);return t},uD=(e,t)=>{const n=qn(),i=es(),s=Ri(Ni),r=K(()=>({id:n,dir:s.value.dir,open:e.defaultOpen,"open.controlled":e.open!==void 0,getRootNode:i==null?void 0:i.value.getRootNode,onOpenChange:o=>{t==null||t("openChange",o),t==null||t("update:open",o.open)},onEscapeKeyDown:o=>t==null?void 0:t("escapeKeyDown",o),onFocusOutside:o=>t==null?void 0:t("focusOutside",o),onInteractOutside:o=>t==null?void 0:t("interactOutside",o),onPointerDownOutside:o=>t==null?void 0:t("pointerDownOutside",o),...ts(e)})),[a,u]=Ci(nD(r.value),{context:r});return K(()=>tD(a.value,u,Mi))},[Gx,jo]=vt("DialogContext"),[Di,Uo]=vt("RenderStrategyProps");function dD(e){const t=zk(e);return(t==null?void 0:t.$el)??t}const hD=e=>Object.prototype.hasOwnProperty.call(e,"nodeName")&&typeof e.nodeName=="string";function G(){const e=vs(),t=Xe(),n=K(()=>{var a,u;return["#text","#comment"].includes((a=t.value)==null?void 0:a.$el.nodeName)?(u=t.value)==null?void 0:u.$el.nextElementSibling:dD(t)}),i=Object.assign({},e.exposed),s={};for(const a in e.props)Object.defineProperty(s,a,{enumerable:!0,configurable:!0,get:()=>e.props[a]});if(Object.keys(i).length>0)for(const a in i)Object.defineProperty(s,a,{enumerable:!0,configurable:!0,get:()=>i[a]});Object.defineProperty(s,"$el",{enumerable:!0,configurable:!0,get:()=>e.vnode.el}),e.exposed=s;function r(a){t.value=a,!(hD(a)||!a)&&(Object.defineProperty(s,"$el",{enumerable:!0,configurable:!0,get:()=>a.$el}),e.exposed=s)}return{forwardRef:r,currentRef:t,currentElement:n}}const fD=$({name:"Dynamic",inheritAttrs:!1,setup(e,{attrs:t,slots:n}){return()=>{var a;if(!n.default)return null;const i=Wx(n.default()),[s,...r]=i;if(Object.keys(t).length>0){(a=s.props)==null||delete a.ref;const u=Ho(t,s.props??{}),o=Oa(s,u);for(const l in u)l.startsWith("on")&&(o.props||(o.props={}),o.props[l]=u[l]);return i.length===1?o:[o,...r]}return i}}});function Wx(e){return e?e.flatMap(t=>t.type===Ye?Wx(t.children):[t]):[]}const jp=e=>$({name:"Polymorphic",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1}},setup(t,{attrs:n,slots:i}){return t.asChild?()=>ka(fD,n,{default:i.default}):()=>{var s;return ka(e,{...n},(s=i.default)==null?void 0:s.call(i))}}});function pD(){const e=new Map;return new Proxy(jp,{apply(n,i,s){return jp(s[0])},get(n,i){const s=i;return e.has(s)||e.set(s,jp(s)),e.get(s)}})}const J=pD();var gD=Object.defineProperty,mD=(e,t,n)=>t in e?gD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ie=(e,t,n)=>mD(e,typeof t!="symbol"?t+"":t,n);function zx(e,...t){for(const n of t){const i=Te(n);for(const s in i)_i(n[s])?(e[s]||(e[s]={}),zx(e[s],n[s])):e[s]=n[s]}return e}function YE(e){return bn(e)}function Es(e){return q(e)?{type:e}:e}function zr(e){return e?et(e)?e.slice():[e]:[]}function Kx(e){return Ce(e)&&e.predicate!=null}var vD=()=>!0;function qx(e,t){return e=e??vD,(n,i,s)=>{if(q(e)){const r=t[e];return We(r)?r(n,i,s):r}return Kx(e)?e.predicate(t)(n,i,s):e==null?void 0:e(n,i,s)}}function Up(e,t){return(n,i,s)=>Kx(e)?e.predicate(t)(n,i,s):e}function yD(e){var r,a;const t=e.computed??ee({}),n=e.context??ee({}),i=e.initial?(a=(r=e.states)==null?void 0:r[e.initial])==null?void 0:a.tags:[],s=Yn({value:e.initial??"",previousValue:"",event:ee({}),previousEvent:ee({}),context:yi(n,t),done:!1,tags:i??[],hasTag(u){return this.tags.includes(u)},matches(...u){return u.includes(this.value)},can(u){return ee(this).nextEvents.includes(u)},get nextEvents(){var l,c;const u=((c=(l=e.states)==null?void 0:l[this.value])==null?void 0:c.on)??{},o=(e==null?void 0:e.on)??{};return Object.keys({...u,...o})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return ee(s)}function lc(e,t){return(n,i)=>{if(Ei(e))return e;if(We(e))return e(n,i);if(q(e)){const s=Number.parseFloat(e);if(!Number.isNaN(s))return s;if(t){const r=t==null?void 0:t[e];return He(r==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${e}\`. It doesn't exist in \`options.delays\``),We(r)?r(n,i):r}}}}function bD(e){return q(e)?{target:e}:e}function ED(e,t){return(n,i,s)=>zr(e).map(bD).find(r=>qx(r.guard,t)(n,i,s)??r.target??r.actions)}var _D=class{constructor(t,n){var i,s,r,a,u;Ie(this,"status","Not Started"),Ie(this,"state"),Ie(this,"initialState"),Ie(this,"initialContext"),Ie(this,"id"),Ie(this,"type","machine"),Ie(this,"activityEvents",new Map),Ie(this,"delayedEvents",new Map),Ie(this,"stateListeners",new Set),Ie(this,"doneListeners",new Set),Ie(this,"contextWatchers",new Set),Ie(this,"removeStateListener",si),Ie(this,"parent"),Ie(this,"children",new Map),Ie(this,"guardMap"),Ie(this,"actionMap"),Ie(this,"delayMap"),Ie(this,"activityMap"),Ie(this,"sync"),Ie(this,"options"),Ie(this,"config"),Ie(this,"_created",()=>{var l;const o=Es("machine.created");this.executeActions((l=this.config)==null?void 0:l.created,o)}),Ie(this,"start",o=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=Pt(this.state,()=>{this.stateListeners.forEach(p=>{p(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(Es("machine.start"),zr(this.config.activities),"machine.start"),this.executeActions(this.config.entry,Es("machine.start"));const l=Es("machine.init"),c=Ce(o)?o.value:o,d=Ce(o)?o.context:void 0;d&&this.setContext(d);const h={target:c??this.config.initial},f=this.getNextStateInfo(h,l);return this.initialState=f,this.performStateChangeEffects(this.state.value,f,l),this}),Ie(this,"setupContextWatchers",()=>{const{watch:o}=this.config;if(!o)return;let l=_e(this.state.context);const c=Pt(this.state.context,()=>{var h;const d=_e(this.state.context);for(const[f,p]of Object.entries(o))(((h=this.options.compareFns)==null?void 0:h[f])??Object.is)(l[f],d[f])||this.executeActions(p,this.state.event);l=d});this.contextWatchers.add(c)}),Ie(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,Es("machine.stop")),this.executeActions(this.config.exit,Es("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),Ie(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),Ie(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(o=>o()),this.contextWatchers.clear()}),Ie(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(o=>{o.forEach(l=>l())}),this.delayedEvents.clear()}),Ie(this,"stopActivities",o=>{var l,c;o?((l=this.activityEvents.get(o))==null||l.forEach(d=>d()),(c=this.activityEvents.get(o))==null||c.clear(),this.activityEvents.delete(o)):(this.activityEvents.forEach(d=>{d.forEach(h=>h()),d.clear()}),this.activityEvents.clear())}),Ie(this,"sendChild",(o,l)=>{const c=Es(o),d=$t(l,this.contextSnapshot),h=this.children.get(d);h||He(`[@zag-js/core] Cannot send '${c.type}' event to unknown child`),h.send(c)}),Ie(this,"stopChild",o=>{this.children.has(o)||He(`[@zag-js/core > stop-child] Cannot stop unknown child ${o}`),this.children.get(o).stop(),this.children.delete(o)}),Ie(this,"removeChild",o=>{this.children.delete(o)}),Ie(this,"stopChildren",()=>{this.children.forEach(o=>o.stop()),this.children.clear()}),Ie(this,"setParent",o=>{this.parent=o}),Ie(this,"spawn",(o,l)=>{const c=$t(o);return l&&(c.id=l),c.type="machine.actor",c.setParent(this),this.children.set(c.id,ee(c)),c.onDone(()=>{this.removeChild(c.id)}).start(),ee(Ke(c))}),Ie(this,"stopActivity",o=>{var c;if(!this.state.value)return;const l=this.activityEvents.get(this.state.value);(c=l==null?void 0:l.get(o))==null||c(),l==null||l.delete(o)}),Ie(this,"addActivityCleanup",(o,l,c)=>{var d;o&&(this.activityEvents.has(o)?(d=this.activityEvents.get(o))==null||d.set(l,c):this.activityEvents.set(o,new Map([[l,c]])))}),Ie(this,"setState",o=>{this.state.previousValue=this.state.value,this.state.value=o;const l=this.getStateNode(o);o==null?bi(this.state.tags):this.state.tags=zr(l==null?void 0:l.tags)}),Ie(this,"setContext",o=>{o&&zx(this.state.context,Te(o))}),Ie(this,"setOptions",o=>{const l=Te(o);this.actionMap={...this.actionMap,...l.actions},this.delayMap={...this.delayMap,...l.delays},this.activityMap={...this.activityMap,...l.activities},this.guardMap={...this.guardMap,...l.guards}}),Ie(this,"getStateNode",o=>{var l;if(o)return(l=this.config.states)==null?void 0:l[o]}),Ie(this,"getNextStateInfo",(o,l)=>{const c=this.determineTransition(o,l),d=!(c!=null&&c.target),h=(c==null?void 0:c.target)??this.state.value,f=this.state.value!==h,p=this.getStateNode(h),m={reenter:!d&&!f&&!(c!=null&&c.internal),transition:c,stateNode:p,target:h,changed:f};return this.log("NextState:",`[${l.type}]`,this.state.value,"---->",m.target),m}),Ie(this,"getAfterActions",(o,l)=>{let c;const d=this.state.value;return{entry:()=>{c=globalThis.setTimeout(()=>{const h=this.getNextStateInfo(o,this.state.event);this.performStateChangeEffects(d,h,this.state.event)},l)},exit:()=>{globalThis.clearTimeout(c)}}}),Ie(this,"getDelayedEventActions",o=>{const l=this.getStateNode(o),c=this.state.event;if(!l||!l.after)return;const d=[],h=[];if(et(l.after)){const f=this.determineTransition(l.after,c);if(!f)return;if(!wn(f,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(f)}`);const g=lc(f.delay,this.delayMap)(this.contextSnapshot,c),m=this.getAfterActions(f,g);return d.push(m.entry),h.push(m.exit),{entries:d,exits:h}}if(Ce(l.after))for(const f in l.after){const p=l.after[f],m=lc(f,this.delayMap)(this.contextSnapshot,c),y=this.getAfterActions(p,m);d.push(y.entry),h.push(y.exit)}return{entries:d,exits:h}}),Ie(this,"executeActions",(o,l)=>{var d;const c=Up(o,this.guardMap)(this.contextSnapshot,l,this.guardMeta);for(const h of zr(c)){const f=q(h)?(d=this.actionMap)==null?void 0:d[h]:h;it(q(h)&&!f,`[@zag-js/core > execute-actions] No implementation found for action: \`${h}\``),f==null||f(this.state.context,l,this.meta)}}),Ie(this,"executeActivities",(o,l,c)=>{var d;for(const h of l){const f=q(h)?(d=this.activityMap)==null?void 0:d[h]:h;if(!f){it(`[@zag-js/core > execute-activity] No implementation found for activity: \`${h}\``);continue}const p=f(this.state.context,o,this.meta);if(p){const g=q(h)?h:h.name||Rt();this.addActivityCleanup(c??this.state.value,g,p)}}}),Ie(this,"createEveryActivities",(o,l)=>{if(o)if(et(o)){const c=zr(o).find(p=>{const g=p.delay,y=lc(g,this.delayMap)(this.contextSnapshot,this.state.event);return qx(p.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??y!=null});if(!c)return;const h=lc(c.delay,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const p=globalThis.setInterval(()=>{this.executeActions(c.actions,this.state.event)},h);return()=>{globalThis.clearInterval(p)}})}else for(const c in o){const d=o==null?void 0:o[c],f=lc(c,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const g=globalThis.setInterval(()=>{this.executeActions(d,this.state.event)},f);return()=>{globalThis.clearInterval(g)}})}}),Ie(this,"setEvent",o=>{this.state.previousEvent=this.state.event,this.state.event=Ke(Es(o))}),Ie(this,"performExitEffects",(o,l)=>{const c=this.state.value;if(c==="")return;const d=o?this.getStateNode(o):void 0;this.stopActivities(c);const h=Up(d==null?void 0:d.exit,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=zr(h),p=this.delayedEvents.get(c);p&&f.push(...p),this.executeActions(f,l),this.delayedEvents.delete(c)}),Ie(this,"performEntryEffects",(o,l)=>{const c=this.getStateNode(o),d=zr(c==null?void 0:c.activities);this.createEveryActivities(c==null?void 0:c.every,g=>{d.unshift(g)}),d.length>0&&this.executeActivities(l,d);const h=Up(c==null?void 0:c.entry,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=zr(h),p=this.getDelayedEventActions(o);c!=null&&c.after&&p&&(this.delayedEvents.set(o,p==null?void 0:p.exits),f.push(...p.entries)),this.executeActions(f,l),(c==null?void 0:c.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(g=>{g(this.stateSnapshot)}),this.stop())}),Ie(this,"performTransitionEffects",(o,l)=>{const c=this.determineTransition(o,l);this.executeActions(c==null?void 0:c.actions,l)}),Ie(this,"performStateChangeEffects",(o,l,c)=>{this.setEvent(c);const d=l.changed||l.reenter;d&&this.performExitEffects(o,c),this.performTransitionEffects(l.transition,c),this.setState(l.target),d&&this.performEntryEffects(l.target,c)}),Ie(this,"determineTransition",(o,l)=>{const c=ED(o,this.guardMap);return c==null?void 0:c(this.contextSnapshot,l,this.guardMeta)}),Ie(this,"sendParent",o=>{var c;this.parent||He("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const l=Es(o);(c=this.parent)==null||c.send(l)}),Ie(this,"log",(...o)=>{}),Ie(this,"send",o=>{const l=Es(o);this.transition(this.state.value,l)}),Ie(this,"transition",(o,l)=>{var p,g;const c=q(o)?this.getStateNode(o):o==null?void 0:o.stateNode,d=Es(l);if(!c&&!this.config.on){const m=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${o}, \`event\`: ${d.type}`;it(m);return}const h=((p=c==null?void 0:c.on)==null?void 0:p[d.type])??((g=this.config.on)==null?void 0:g[d.type]),f=this.getNextStateInfo(h,d);return this.performStateChangeEffects(this.state.value,f,d),f.stateNode}),Ie(this,"subscribe",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),()=>{this.stateListeners.delete(o)})),Ie(this,"onDone",o=>(this.doneListeners.add(o),this)),Ie(this,"onTransition",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),this)),this.config=YE(t),this.options=YE(n??{}),this.id=this.config.id??`machine-${Rt()}`,this.guardMap=((i=this.options)==null?void 0:i.guards)??{},this.actionMap=((s=this.options)==null?void 0:s.actions)??{},this.delayMap=((r=this.options)==null?void 0:r.delays)??{},this.activityMap=((a=this.options)==null?void 0:a.activities)??{},this.sync=((u=this.options)==null?void 0:u.sync)??!1,this.state=yD(this.config),this.initialContext=_e(this.state.context)}get stateSnapshot(){return ee(_e(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const t=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return t.stateSnapshot},get initialContext(){return t.initialContext},get initialState(){var n;return((n=t.initialState)==null?void 0:n.target)??""}}}get meta(){var t;return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:((t=this.initialState)==null?void 0:t.target)??"",getState:()=>this.stateSnapshot,getAction:n=>this.actionMap[n],getGuard:n=>this.guardMap[n]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){const t=this.getState();return{value:t.value,tags:t.tags}}},CD=(e,t)=>new _D(e,t);function SD(e,t,n){const i=e.matches("mounted","unmountSuspended");return{skip:!e.context.initial&&i,present:i,setNode(s){s&&t({type:"NODE.SET",node:s})},unmount(){t({type:"UNMOUNT"})}}}function md(e){return(e==null?void 0:e.animationName)||"none"}function xD(e){return CD({initial:e.present?"mounted":"unmounted",context:{node:null,styles:null,unmountAnimationName:null,prevAnimationName:null,present:!1,initial:!1,...e},exit:["clearInitial"],watch:{present:["setInitial","syncPresence"]},on:{"NODE.SET":{actions:["setNode","setStyles"]}},states:{mounted:{on:{UNMOUNT:{target:"unmounted",actions:["invokeOnExitComplete"]},"UNMOUNT.SUSPEND":"unmountSuspended"}},unmountSuspended:{activities:["trackAnimationEvents"],on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]},"ANIMATION.END":{target:"unmounted",actions:["invokeOnExitComplete"]},UNMOUNT:{target:"unmounted",actions:["invokeOnExitComplete"]}}},unmounted:{entry:["clearPrevAnimationName"],on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]}}}}},{actions:{setInitial(t){t.initial=!0},clearInitial(t){t.initial=!1},invokeOnExitComplete(t){var n;(n=t.onExitComplete)==null||n.call(t)},setNode(t,n){t.node=Ke(n.node)},setStyles(t,n){const i=n.node.ownerDocument.defaultView||window;t.styles=Ke(i.getComputedStyle(n.node))},syncPresence(t,n,{send:i}){if(t.present){i({type:"MOUNT",src:"presence.changed"});return}const s=md(t.styles);(t.immediate?queueMicrotask:requestAnimationFrame)(()=>{var a,u;t.unmountAnimationName=s,s==="none"||s===t.prevAnimationName||((a=t.styles)==null?void 0:a.display)==="none"||((u=t.styles)==null?void 0:u.animationDuration)==="0s"?i({type:"UNMOUNT",src:"presence.changed"}):i({type:"UNMOUNT.SUSPEND"})})},setPrevAnimationName(t){(t.immediate?queueMicrotask:requestAnimationFrame)(()=>{t.prevAnimationName=md(t.styles)})},clearPrevAnimationName(t){t.prevAnimationName=null}},activities:{trackAnimationEvents(t,n,{send:i}){const s=t.node;if(!s)return;const r=u=>{var l,c;(((c=(l=u.composedPath)==null?void 0:l.call(u))==null?void 0:c[0])??u.target)===s&&(t.prevAnimationName=md(t.styles))},a=u=>{var c,d;const o=md(t.styles);(((d=(c=u.composedPath)==null?void 0:c.call(u))==null?void 0:d[0])??u.target)===s&&o===t.unmountAnimationName&&i({type:"UNMOUNT",src:"animationend"})};return s.addEventListener("animationstart",r),s.addEventListener("animationcancel",a),s.addEventListener("animationend",a),()=>{s.removeEventListener("animationstart",r),s.removeEventListener("animationcancel",a),s.removeEventListener("animationend",a)}}}})}tn()(["onExitComplete","present","immediate"]);const Fa=(e,t)=>{const n=Xe(e),i=Xe(!1),s=Xe(null),[r,a]=Ci(xD({...n.value,onExitComplete:()=>t==null?void 0:t("exitComplete")}),{context:n}),u=K(()=>SD(r.value,a));return Kt(()=>u.value.present,()=>{u.value.present&&(i.value=!0)}),Kt(s,()=>{if(s.value){const o=s.value.$el?s.value.$el:s.value;o&&u.value.setNode(o)}}),K(()=>{var o,l,c;return{present:u.value.present,unmounted:!u.value.present&&!i.value&&n.value.lazyMount||((o=n.value)==null?void 0:o.unmountOnExit)&&!((l=u.value)!=null&&l.present)&&i.value,presenceProps:{ref:s,hidden:!u.value.present,"data-state":(c=n.value)!=null&&c.present?"open":"closed"}}})},[Va,Gl]=vt("PresenceContext"),TD=$({__name:"presence",props:On({immediate:{type:Boolean},lazyMount:{type:Boolean},present:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},{immediate:void 0,lazyMount:void 0,present:void 0,unmountOnExit:void 0}),emits:["exitComplete"],setup(e,{emit:t}){const s=Fa(e,t);return Va(s),G(),(r,a)=>v(s).unmounted?nt("",!0):(C(),N(v(J).div,z({key:0},v(s).presenceProps,{"as-child":r.asChild,"data-scope":"presence","data-part":"root"}),{default:S(()=>[B(r.$slots,"default")]),_:3},16,["as-child"]))}}),wD=$({__name:"dialog-backdrop",props:{asChild:{type:Boolean}},setup(e){const t=jo(),n=Uo();return G(),(i,s)=>(C(),N(v(TD),z(v(t).getBackdropProps(),{present:v(t).open,"lazy-mount":v(n).lazyMount,"unmount-on-exit":v(n).unmountOnExit}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["present","lazy-mount","unmount-on-exit"]))}}),ID=$({__name:"dialog-close-trigger",props:{asChild:{type:Boolean}},setup(e){const t=jo();return G(),(n,i)=>(C(),N(v(J).button,z(v(t).getCloseTriggerProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),OD=$({__name:"dialog-content",props:{asChild:{type:Boolean}},setup(e){const t=jo(),n=Gl(),i=K(()=>Ho(t.value.getContentProps(),n.value.presenceProps));return G(),(s,r)=>v(n).unmounted?nt("",!0):(C(),N(v(J).div,z({key:0},i.value,{"as-child":s.asChild}),{default:S(()=>[B(s.$slots,"default")]),_:3},16,["as-child"]))}}),kD=$({__name:"dialog-context",setup(e){const t=jo();return(n,i)=>B(n.$slots,"default",hn(on(v(t))))}}),AD=$({__name:"dialog-description",props:{asChild:{type:Boolean}},setup(e){const t=jo();return G(),(n,i)=>(C(),N(v(J).div,z(v(t).getDescriptionProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),PD=$({__name:"dialog-positioner",props:{asChild:{type:Boolean}},setup(e){const t=jo(),n=Uo(),i=Fa(K(()=>({...n.value,present:t.value.open})));return Va(i),G(),(s,r)=>v(i).unmounted?nt("",!0):(C(),N(v(J).div,z({key:0},v(t).getPositionerProps(),{"as-child":s.asChild}),{default:S(()=>[B(s.$slots,"default")]),_:3},16,["as-child"]))}}),$D=$({__name:"dialog-root-provider",props:{value:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean}},setup(e){const t=e,n=K(()=>t.value);return Gx(n),Di(K(()=>({lazyMount:t.lazyMount,unmountOnExit:t.unmountOnExit}))),G(),(i,s)=>B(i.$slots,"default")}}),MD=$({__name:"dialog-root",props:On({"aria-label":{},closeOnEscape:{type:Boolean},closeOnInteractOutside:{type:Boolean},defaultOpen:{type:Boolean},finalFocusEl:{type:Function},id:{},ids:{},initialFocusEl:{type:Function},modal:{type:Boolean},open:{type:Boolean},persistentElements:{},preventScroll:{type:Boolean},restoreFocus:{type:Boolean},role:{},trapFocus:{type:Boolean},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean}},{closeOnEscape:void 0,closeOnInteractOutside:void 0,defaultOpen:void 0,modal:void 0,open:void 0,preventScroll:void 0,restoreFocus:void 0,trapFocus:void 0}),emits:["escapeKeyDown","focusOutside","interactOutside","openChange","pointerDownOutside","update:open"],setup(e,{emit:t}){const n=e,s=uD(n,t);return Gx(s),Di(K(()=>({lazyMount:n.lazyMount,unmountOnExit:n.unmountOnExit}))),G(),(r,a)=>B(r.$slots,"default")}}),ND=$({__name:"dialog-title",props:{asChild:{type:Boolean}},setup(e){const t=jo();return G(),(n,i)=>(C(),N(v(J).h2,z(v(t).getTitleProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),RD=$({__name:"dialog-trigger",props:{asChild:{type:Boolean}},setup(e){const t=jo();return G(),(n,i)=>(C(),N(v(J).button,z(v(t).getTriggerProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),yn=Object.freeze(Object.defineProperty({__proto__:null,Backdrop:wD,CloseTrigger:ID,Content:OD,Context:kD,Description:AD,Positioner:PD,Root:MD,RootProvider:$D,Title:ND,Trigger:RD},Symbol.toStringTag,{value:"Module"}));function Xv(e){return hv()?(xS(e),!0):!1}function Gp(){const e=new Set,t=s=>{e.delete(s)};return{on:s=>{e.add(s);const r=()=>t(s);return Xv(r),{off:r}},off:t,trigger:(...s)=>Promise.all(Array.from(e).map(r=>r(...s)))}}function fs(e){return typeof e=="function"?e():v(e)}const Zv=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const cm=()=>{};function DD(e,t){function n(...i){return new Promise((s,r)=>{Promise.resolve(e(()=>t.apply(this,i),{fn:t,thisArg:this,args:i})).then(s).catch(r)})}return n}function LD(e,t={}){let n,i,s=cm;const r=u=>{clearTimeout(u),s(),s=cm};return u=>{const o=fs(e),l=fs(t.maxWait);return n&&r(n),o<=0||l!==void 0&&l<=0?(i&&(r(i),i=null),Promise.resolve(u())):new Promise((c,d)=>{s=t.rejectOnCancel?d:c,l&&!i&&(i=setTimeout(()=>{n&&r(n),i=null,c(u())},l)),n=setTimeout(()=>{i&&r(i),i=null,c(u())},o)})}}function JE(e,t=!1,n="Timeout"){return new Promise((i,s)=>{setTimeout(t?()=>s(n):i,e)})}function FD(e,...t){return t.some(n=>n in e)}function Wp(...e){if(e.length!==1)return Xk(...e);const t=e[0];return typeof t=="function"?Ol(_v(()=>({get:t,set:cm}))):Xe(t)}function Yx(e,t=200,n={}){return DD(LD(t,n),e)}function um(e,t=!1){function n(d,{flush:h="sync",deep:f=!1,timeout:p,throwOnTimeout:g}={}){let m=null;const b=[new Promise(E=>{m=Kt(e,_=>{d(_)!==t&&(m?m():wa(()=>m==null?void 0:m()),E(_))},{flush:h,deep:f,immediate:!0})})];return p!=null&&b.push(JE(p,g).then(()=>fs(e)).finally(()=>m==null?void 0:m())),Promise.race(b)}function i(d,h){if(!ht(d))return n(_=>_===d,h);const{flush:f="sync",deep:p=!1,timeout:g,throwOnTimeout:m}=h??{};let y=null;const E=[new Promise(_=>{y=Kt([e,d],([I,M])=>{t!==(I===M)&&(y?y():wa(()=>y==null?void 0:y()),_(I))},{flush:f,deep:p,immediate:!0})})];return g!=null&&E.push(JE(g,m).then(()=>fs(e)).finally(()=>(y==null||y(),fs(e)))),Promise.race(E)}function s(d){return n(h=>!!h,d)}function r(d){return i(null,d)}function a(d){return i(void 0,d)}function u(d){return n(Number.isNaN,d)}function o(d,h){return n(f=>{const p=Array.from(f);return p.includes(d)||p.includes(fs(d))},h)}function l(d){return c(1,d)}function c(d=1,h){let f=-1;return n(()=>(f+=1,f>=d),h)}return Array.isArray(fs(e))?{toMatch:n,toContains:o,changed:l,changedTimes:c,get not(){return um(e,!t)}}:{toMatch:n,toBe:i,toBeTruthy:s,toBeNull:r,toBeNaN:u,toBeUndefined:a,changed:l,changedTimes:c,get not(){return um(e,!t)}}}function VD(e){return um(e)}function BD(e,t,n={}){const{immediate:i=!0}=n,s=Xe(!1);let r=null;function a(){r&&(clearTimeout(r),r=null)}function u(){s.value=!1,a()}function o(...l){a(),s.value=!0,r=setTimeout(()=>{s.value=!1,r=null,e(...l)},fs(t))}return i&&(s.value=!0,Zv&&o()),Xv(u),{isPending:Ol(s),start:o,stop:u}}var Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Jx={exports:{}};/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */(function(e,t){(function(n,i){e.exports=i()})(Nc,function(){var n={};n.version="0.2.0";var i=n.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};n.configure=function(p){var g,m;for(g in p)m=p[g],m!==void 0&&p.hasOwnProperty(g)&&(i[g]=m);return this},n.status=null,n.set=function(p){var g=n.isStarted();p=s(p,i.minimum,1),n.status=p===1?null:p;var m=n.render(!g),y=m.querySelector(i.barSelector),b=i.speed,E=i.easing;return m.offsetWidth,u(function(_){i.positionUsing===""&&(i.positionUsing=n.getPositioningCSS()),o(y,a(p,b,E)),p===1?(o(m,{transition:"none",opacity:1}),m.offsetWidth,setTimeout(function(){o(m,{transition:"all "+b+"ms linear",opacity:0}),setTimeout(function(){n.remove(),_()},b)},b)):setTimeout(_,b)}),this},n.isStarted=function(){return typeof n.status=="number"},n.start=function(){n.status||n.set(0);var p=function(){setTimeout(function(){n.status&&(n.trickle(),p())},i.trickleSpeed)};return i.trickle&&p(),this},n.done=function(p){return!p&&!n.status?this:n.inc(.3+.5*Math.random()).set(1)},n.inc=function(p){var g=n.status;return g?(typeof p!="number"&&(p=(1-g)*s(Math.random()*g,.1,.95)),g=s(g+p,0,.994),n.set(g)):n.start()},n.trickle=function(){return n.inc(Math.random()*i.trickleRate)},function(){var p=0,g=0;n.promise=function(m){return!m||m.state()==="resolved"?this:(g===0&&n.start(),p++,g++,m.always(function(){g--,g===0?(p=0,n.done()):n.set((p-g)/p)}),this)}}(),n.render=function(p){if(n.isRendered())return document.getElementById("nprogress");c(document.documentElement,"nprogress-busy");var g=document.createElement("div");g.id="nprogress",g.innerHTML=i.template;var m=g.querySelector(i.barSelector),y=p?"-100":r(n.status||0),b=document.querySelector(i.parent),E;return o(m,{transition:"all 0 linear",transform:"translate3d("+y+"%,0,0)"}),i.showSpinner||(E=g.querySelector(i.spinnerSelector),E&&f(E)),b!=document.body&&c(b,"nprogress-custom-parent"),b.appendChild(g),g},n.remove=function(){d(document.documentElement,"nprogress-busy"),d(document.querySelector(i.parent),"nprogress-custom-parent");var p=document.getElementById("nprogress");p&&f(p)},n.isRendered=function(){return!!document.getElementById("nprogress")},n.getPositioningCSS=function(){var p=document.body.style,g="WebkitTransform"in p?"Webkit":"MozTransform"in p?"Moz":"msTransform"in p?"ms":"OTransform"in p?"O":"";return g+"Perspective"in p?"translate3d":g+"Transform"in p?"translate":"margin"};function s(p,g,m){return p<g?g:p>m?m:p}function r(p){return(-1+p)*100}function a(p,g,m){var y;return i.positionUsing==="translate3d"?y={transform:"translate3d("+r(p)+"%,0,0)"}:i.positionUsing==="translate"?y={transform:"translate("+r(p)+"%,0)"}:y={"margin-left":r(p)+"%"},y.transition="all "+g+"ms "+m,y}var u=function(){var p=[];function g(){var m=p.shift();m&&m(g)}return function(m){p.push(m),p.length==1&&g()}}(),o=function(){var p=["Webkit","O","Moz","ms"],g={};function m(_){return _.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(I,M){return M.toUpperCase()})}function y(_){var I=document.body.style;if(_ in I)return _;for(var M=p.length,R=_.charAt(0).toUpperCase()+_.slice(1),X;M--;)if(X=p[M]+R,X in I)return X;return _}function b(_){return _=m(_),g[_]||(g[_]=y(_))}function E(_,I,M){I=b(I),_.style[I]=M}return function(_,I){var M=arguments,R,X;if(M.length==2)for(R in I)X=I[R],X!==void 0&&I.hasOwnProperty(R)&&E(_,R,X);else E(_,M[1],M[2])}}();function l(p,g){var m=typeof p=="string"?p:h(p);return m.indexOf(" "+g+" ")>=0}function c(p,g){var m=h(p),y=m+g;l(m,g)||(p.className=y.substring(1))}function d(p,g){var m=h(p),y;l(p,g)&&(y=m.replace(" "+g+" "," "),p.className=y.substring(1,y.length-1))}function h(p){return(" "+(p.className||"")+" ").replace(/\s+/gi," ")}function f(p){p&&p.parentNode&&p.parentNode.removeChild(p)}return n})})(Jx);var HD=Jx.exports;const Xs=Hu(HD);function Xx(e=null,t){const n=Xe(e),i=K({set:r=>r?Xs.start():Xs.done(),get:()=>typeof n.value=="number"&&n.value<1}),s=Xs.set;return Xs.set=r=>(n.value=r,s.call(Xs,r)),kv(()=>{typeof n.value=="number"&&Zv&&s.call(Xs,n.value)}),Xv(Xs.remove),{isLoading:i,progress:n,start:Xs.start,done:Xs.done,remove:()=>{n.value=null,Xs.remove()}}}var jD=typeof Nc=="object"&&Nc&&Nc.Object===Object&&Nc,Zx=jD,UD=Zx,GD=typeof self=="object"&&self&&self.Object===Object&&self,WD=UD||GD||Function("return this")(),Lr=WD,zD=Lr,KD=zD.Symbol,ju=KD,XE=ju,Qx=Object.prototype,qD=Qx.hasOwnProperty,YD=Qx.toString,cc=XE?XE.toStringTag:void 0;function JD(e){var t=qD.call(e,cc),n=e[cc];try{e[cc]=void 0;var i=!0}catch{}var s=YD.call(e);return i&&(t?e[cc]=n:delete e[cc]),s}var XD=JD,ZD=Object.prototype,QD=ZD.toString;function eL(e){return QD.call(e)}var tL=eL,ZE=ju,nL=XD,iL=tL,sL="[object Null]",rL="[object Undefined]",QE=ZE?ZE.toStringTag:void 0;function oL(e){return e==null?e===void 0?rL:sL:QE&&QE in Object(e)?nL(e):iL(e)}var Uu=oL;function aL(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Gu=aL,lL=Uu,cL=Gu,uL="[object AsyncFunction]",dL="[object Function]",hL="[object GeneratorFunction]",fL="[object Proxy]";function pL(e){if(!cL(e))return!1;var t=lL(e);return t==dL||t==hL||t==uL||t==fL}var eT=pL,gL=Lr,mL=gL["__core-js_shared__"],vL=mL,zp=vL,e0=function(){var e=/[^.]+$/.exec(zp&&zp.keys&&zp.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function yL(e){return!!e0&&e0 in e}var bL=yL,EL=Function.prototype,_L=EL.toString;function CL(e){if(e!=null){try{return _L.call(e)}catch{}try{return e+""}catch{}}return""}var tT=CL,SL=eT,xL=bL,TL=Gu,wL=tT,IL=/[\\^$.*+?()[\]{}|]/g,OL=/^\[object .+?Constructor\]$/,kL=Function.prototype,AL=Object.prototype,PL=kL.toString,$L=AL.hasOwnProperty,ML=RegExp("^"+PL.call($L).replace(IL,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function NL(e){if(!TL(e)||xL(e))return!1;var t=SL(e)?ML:OL;return t.test(wL(e))}var RL=NL;function DL(e,t){return e==null?void 0:e[t]}var LL=DL,FL=RL,VL=LL;function BL(e,t){var n=VL(e,t);return FL(n)?n:void 0}var Ba=BL,HL=Ba,jL=function(){try{var e=HL(Object,"defineProperty");return e({},"",{}),e}catch{}}(),nT=jL,t0=nT;function UL(e,t,n){t=="__proto__"&&t0?t0(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var GL=UL;function WL(e,t){return e===t||e!==e&&t!==t}var Af=WL,zL=GL,KL=Af,qL=Object.prototype,YL=qL.hasOwnProperty;function JL(e,t,n){var i=e[t];(!(YL.call(e,t)&&KL(i,n))||n===void 0&&!(t in e))&&zL(e,t,n)}var XL=JL,ZL=Array.isArray,hr=ZL;function QL(e){return e!=null&&typeof e=="object"}var Wu=QL,eF=Uu,tF=Wu,nF="[object Symbol]";function iF(e){return typeof e=="symbol"||tF(e)&&eF(e)==nF}var Pf=iF,sF=hr,rF=Pf,oF=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,aF=/^\w*$/;function lF(e,t){if(sF(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||rF(e)?!0:aF.test(e)||!oF.test(e)||t!=null&&e in Object(t)}var Qv=lF,cF=Ba,uF=cF(Object,"create"),$f=uF,n0=$f;function dF(){this.__data__=n0?n0(null):{},this.size=0}var hF=dF;function fF(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var pF=fF,gF=$f,mF="__lodash_hash_undefined__",vF=Object.prototype,yF=vF.hasOwnProperty;function bF(e){var t=this.__data__;if(gF){var n=t[e];return n===mF?void 0:n}return yF.call(t,e)?t[e]:void 0}var EF=bF,_F=$f,CF=Object.prototype,SF=CF.hasOwnProperty;function xF(e){var t=this.__data__;return _F?t[e]!==void 0:SF.call(t,e)}var TF=xF,wF=$f,IF="__lodash_hash_undefined__";function OF(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=wF&&t===void 0?IF:t,this}var kF=OF,AF=hF,PF=pF,$F=EF,MF=TF,NF=kF;function Wl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Wl.prototype.clear=AF;Wl.prototype.delete=PF;Wl.prototype.get=$F;Wl.prototype.has=MF;Wl.prototype.set=NF;var RF=Wl;function DF(){this.__data__=[],this.size=0}var LF=DF,FF=Af;function VF(e,t){for(var n=e.length;n--;)if(FF(e[n][0],t))return n;return-1}var Mf=VF,BF=Mf,HF=Array.prototype,jF=HF.splice;function UF(e){var t=this.__data__,n=BF(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():jF.call(t,n,1),--this.size,!0}var GF=UF,WF=Mf;function zF(e){var t=this.__data__,n=WF(t,e);return n<0?void 0:t[n][1]}var KF=zF,qF=Mf;function YF(e){return qF(this.__data__,e)>-1}var JF=YF,XF=Mf;function ZF(e,t){var n=this.__data__,i=XF(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}var QF=ZF,eV=LF,tV=GF,nV=KF,iV=JF,sV=QF;function zl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}zl.prototype.clear=eV;zl.prototype.delete=tV;zl.prototype.get=nV;zl.prototype.has=iV;zl.prototype.set=sV;var Nf=zl,rV=Ba,oV=Lr,aV=rV(oV,"Map"),ey=aV,i0=RF,lV=Nf,cV=ey;function uV(){this.size=0,this.__data__={hash:new i0,map:new(cV||lV),string:new i0}}var dV=uV;function hV(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var fV=hV,pV=fV;function gV(e,t){var n=e.__data__;return pV(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Rf=gV,mV=Rf;function vV(e){var t=mV(this,e).delete(e);return this.size-=t?1:0,t}var yV=vV,bV=Rf;function EV(e){return bV(this,e).get(e)}var _V=EV,CV=Rf;function SV(e){return CV(this,e).has(e)}var xV=SV,TV=Rf;function wV(e,t){var n=TV(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}var IV=wV,OV=dV,kV=yV,AV=_V,PV=xV,$V=IV;function Kl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Kl.prototype.clear=OV;Kl.prototype.delete=kV;Kl.prototype.get=AV;Kl.prototype.has=PV;Kl.prototype.set=$V;var ty=Kl,iT=ty,MV="Expected a function";function ny(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(MV);var n=function(){var i=arguments,s=t?t.apply(this,i):i[0],r=n.cache;if(r.has(s))return r.get(s);var a=e.apply(this,i);return n.cache=r.set(s,a)||r,a};return n.cache=new(ny.Cache||iT),n}ny.Cache=iT;var NV=ny,RV=NV,DV=500;function LV(e){var t=RV(e,function(i){return n.size===DV&&n.clear(),i}),n=t.cache;return t}var FV=LV,VV=FV,BV=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,HV=/\\(\\)?/g,jV=VV(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(BV,function(n,i,s,r){t.push(s?r.replace(HV,"$1"):i||n)}),t}),UV=jV;function GV(e,t){for(var n=-1,i=e==null?0:e.length,s=Array(i);++n<i;)s[n]=t(e[n],n,e);return s}var sT=GV,s0=ju,WV=sT,zV=hr,KV=Pf,qV=1/0,r0=s0?s0.prototype:void 0,o0=r0?r0.toString:void 0;function rT(e){if(typeof e=="string")return e;if(zV(e))return WV(e,rT)+"";if(KV(e))return o0?o0.call(e):"";var t=e+"";return t=="0"&&1/e==-qV?"-0":t}var YV=rT,JV=YV;function XV(e){return e==null?"":JV(e)}var ZV=XV,QV=hr,eB=Qv,tB=UV,nB=ZV;function iB(e,t){return QV(e)?e:eB(e,t)?[e]:tB(nB(e))}var iy=iB,sB=9007199254740991,rB=/^(?:0|[1-9]\d*)$/;function oB(e,t){var n=typeof e;return t=t??sB,!!t&&(n=="number"||n!="symbol"&&rB.test(e))&&e>-1&&e%1==0&&e<t}var Df=oB,aB=Pf,lB=1/0;function cB(e){if(typeof e=="string"||aB(e))return e;var t=e+"";return t=="0"&&1/e==-lB?"-0":t}var zu=cB,uB=XL,dB=iy,hB=Df,a0=Gu,fB=zu;function pB(e,t,n,i){if(!a0(e))return e;t=dB(t,e);for(var s=-1,r=t.length,a=r-1,u=e;u!=null&&++s<r;){var o=fB(t[s]),l=n;if(o==="__proto__"||o==="constructor"||o==="prototype")return e;if(s!=a){var c=u[o];l=i?i(c,o,u):void 0,l===void 0&&(l=a0(c)?c:hB(t[s+1])?[]:{})}uB(u,o,l),u=u[o]}return e}var gB=pB,mB=gB;function vB(e,t,n){return e==null?e:mB(e,t,n)}var yB=vB;const bB=Hu(yB);var EB=iy,_B=zu;function CB(e,t){t=EB(t,e);for(var n=0,i=t.length;e!=null&&n<i;)e=e[_B(t[n++])];return n&&n==i?e:void 0}var sy=CB,SB=sy;function xB(e,t,n){var i=e==null?void 0:SB(e,t);return i===void 0?n:i}var oT=xB;const TB=Hu(oT);var ry={};Object.defineProperty(ry,"__esModule",{value:!0});function wB(e){var t=arguments.length<=1||arguments[1]===void 0?0:arguments[1],n=arguments.length<=2||arguments[2]===void 0?{}:arguments[2],i=n.leading,s=i===void 0?!1:i,r=n.cancelObj,a=r===void 0?"canceled":r,u=void 0,o=void 0,l=void 0;return function(){for(var h=this,f=arguments.length,p=Array(f),g=0;g<f;g++)p[g]=arguments[g];return o?(l=!0,new Promise(function(m,y){o=m,u=setTimeout(d.bind(h,p,m,y),t)})):new Promise(function(m,y){o=m,s?c.apply(h,[p,m,y]):u=setTimeout(d.bind(h,p,m,y),t)})};function c(h,f,p){e.apply(this,h).then(f).catch(p),l=!1}function d(h,f,p){l&&f!==o?p(a):(e.apply(this,h).then(f).catch(p),l=!1,clearTimeout(u),u=o=null)}}ry.default=wB;var IB=ry;const OB=Hu(IB);var jn=[];for(var Kp=0;Kp<256;++Kp)jn.push((Kp+256).toString(16).slice(1));function kB(e,t=0){return(jn[e[t+0]]+jn[e[t+1]]+jn[e[t+2]]+jn[e[t+3]]+"-"+jn[e[t+4]]+jn[e[t+5]]+"-"+jn[e[t+6]]+jn[e[t+7]]+"-"+jn[e[t+8]]+jn[e[t+9]]+"-"+jn[e[t+10]]+jn[e[t+11]]+jn[e[t+12]]+jn[e[t+13]]+jn[e[t+14]]+jn[e[t+15]]).toLowerCase()}var vd,AB=new Uint8Array(16);function PB(){if(!vd&&(vd=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!vd))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return vd(AB)}var $B=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const l0={randomUUID:$B};function dm(e,t,n){if(l0.randomUUID&&!t&&!e)return l0.randomUUID();e=e||{};var i=e.random||(e.rng||PB)();return i[6]=i[6]&15|64,i[8]=i[8]&63|128,kB(i)}var aT={};Object.defineProperty(aT,"__esModule",{value:!0});var MB=function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=t.length,s=n^i,r=0,a=void 0;i>=4;)a=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,a=(a&65535)*1540483477+(((a>>>16)*1540483477&65535)<<16),a^=a>>>24,a=(a&65535)*1540483477+(((a>>>16)*1540483477&65535)<<16),s=(s&65535)*1540483477+(((s>>>16)*1540483477&65535)<<16)^a,i-=4,++r;switch(i){case 3:s^=(t.charCodeAt(r+2)&255)<<16;case 2:s^=(t.charCodeAt(r+1)&255)<<8;case 1:s^=t.charCodeAt(r)&255,s=(s&65535)*1540483477+(((s>>>16)*1540483477&65535)<<16)}return s^=s>>>13,s=(s&65535)*1540483477+(((s>>>16)*1540483477&65535)<<16),s^=s>>>15,s>>>0},NB=MB,RB=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function DB(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,n=new Set,i=JSON.stringify(e,function(s,r){return(typeof r>"u"?"undefined":RB(r))==="object"&&r!==null?n.has(r)?void 0:n.add(r)&&r:r},t);return n=null,i}var c0=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function LB(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}else return Array.from(e)}var lT={toRecord:function(t){return{chunks:[c0({},t,{children:void 0})],children:t.children}},fromRecord:function(t){var n=t.chunks,i=t.children;return c0({},n[0],{children:i})}},FB=function e(t,n){for(var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1,a=i.findIndex(function(y){var b=y.match;return b(t)}),u=i[a]||lT,o=u.toRecord(t),l=o.chunks,c=o.children,d=c,h=[],f=0;f<l.length;f++){var p=DB(l[f],0),g=NB(p);h.push(g),n[g]=p}if(r!==-1&&Array.isArray(s&&s.children)){var m=[].concat(LB(s.children));return m[r]=e(d[r],n,i),{hashes:h,ruleIndex:a,children:m}}else return{hashes:h,ruleIndex:a,children:c&&c.map(function(y){return e(y,n,i)})}},VB=function e(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],s=t.hashes,r=t.ruleIndex,a=t.children,u=s.map(function(l){return JSON.parse(n[l])}),o=i[r]||lT;return o.fromRecord({chunks:u,children:a&&a.map(function(l){return e(l,n,i)})})},BB=function(){function e(t,n){for(var i=0;i<n.length;i++){var s=n[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function HB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u0=function(){},jB=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{initialState:void 0,rules:[],delay:50,maxLength:100,onChange:u0,useChunks:!0};HB(this,e),this.rules=t.rules||[],this.delay=t.delay||50,this.maxLength=t.maxLength||100,this.useChunks=t.useChunks===void 0?!0:t.useChunks,this.onChange=u0,this.$index=-1,this.$records=[],this.$chunks={},this.$pending={state:null,pickIndex:null,onResolves:[],timer:null},this.$debounceTime=null,t.initialState!==void 0&&this.pushSync(t.initialState),t.onChange&&(this.onChange=t.onChange)}return BB(e,[{key:"get",value:function(){var n=this.$records[this.$index],i=void 0;return n?this.useChunks?i=VB(n,this.$chunks,this.rules):i=n:i=null,this.onChange(i),i}},{key:"pushSync",value:function(n){var i=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,r=this.$records[this.$index]||null,a=this.useChunks?FB(n,this.$chunks,this.rules,r,s):n;this.$index++,this.$records[this.$index]=a;for(var u=this.$index+1;u<this.$records.length;u++)this.$records[u]=null;return this.$index>=this.maxLength&&(this.$records[this.$index-this.maxLength]=null),this.$pending.timer&&(clearTimeout(this.$pending.timer),this.$pending.state=null,this.$pending.pickIndex=null,this.$pending.timer=null,this.$debounceTime=null,this.$pending.onResolves.forEach(function(o){return o(i)}),this.$pending.onResolves=[]),this.onChange(n),this}},{key:"push",value:function(n){var i=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,r=+new Date,a=function(){i.$pending.state=n,i.$pending.pickIndex=s,i.$debounceTime=r;var o=new Promise(function(l,c){i.$pending.onResolves.push(l),i.$pending.timer=setTimeout(function(){i.pushSync(i.$pending.state,i.$pending.pickIndex)},i.delay)});return o};return this.$pending.timer===null?a():r-this.$debounceTime<this.delay?(clearTimeout(this.$pending.timer),this.$pending.timer=null,a()):Promise.reject(new Error("Invalid push ops"))}},{key:"undo",value:function(){return this.hasUndo&&this.$index--,this}},{key:"redo",value:function(){return this.hasRedo&&this.$index++,this}},{key:"reset",value:function(){var n=this;return this.$index=-1,this.$records.forEach(function(i){}),Object.keys(this.$chunks).forEach(function(i){n.$chunks[i]=null}),this.$records=[],this.$chunks={},clearTimeout(this.$pending.timer),this.$pending={state:null,pickIndex:null,onResolves:[],timer:null},this.$debounceTime=null,this}},{key:"hasRedo",get:function(){if(this.$index===this.$records.length-1)return!1;for(var n=!1,i=this.$index+1;i<this.$records.length;i++)this.$records[i]!==null&&(n=!0);return n}},{key:"hasUndo",get:function(){var n=Math.max(this.$records.length-this.maxLength,0);return this.$index>n}},{key:"length",get:function(){return Math.min(this.$records.length,this.maxLength)}}]),e}(),UB=aT.History=jB;const GB=Zv?window:void 0,WB={json:"application/json",text:"text/plain"};function bh(e){return e&&FD(e,"immediate","refetch","initialData","timeout","beforeFetch","afterFetch","onFetchError","fetch","updateDataOnError")}const zB=/^(?:[a-z][a-z\d+\-.]*:)?\/\//i;function KB(e){return zB.test(e)}function Qc(e){return typeof Headers<"u"&&e instanceof Headers?Object.fromEntries(e.entries()):e}function Qa(e,...t){return e==="overwrite"?async n=>{const i=t[t.length-1];return i?{...n,...await i(n)}:n}:async n=>{for(const i of t)i&&(n={...n,...await i(n)});return n}}function qB(e={}){const t=e.combination||"chain",n=e.options||{},i=e.fetchOptions||{};function s(r,...a){const u=K(()=>{const c=fs(e.baseUrl),d=fs(r);return c&&!KB(d)?JB(c,d):d});let o=n,l=i;return a.length>0&&(bh(a[0])?o={...o,...a[0],beforeFetch:Qa(t,n.beforeFetch,a[0].beforeFetch),afterFetch:Qa(t,n.afterFetch,a[0].afterFetch),onFetchError:Qa(t,n.onFetchError,a[0].onFetchError)}:l={...l,...a[0],headers:{...Qc(l.headers)||{},...Qc(a[0].headers)||{}}}),a.length>1&&bh(a[1])&&(o={...o,...a[1],beforeFetch:Qa(t,n.beforeFetch,a[1].beforeFetch),afterFetch:Qa(t,n.afterFetch,a[1].afterFetch),onFetchError:Qa(t,n.onFetchError,a[1].onFetchError)}),YB(u,l,o)}return s}function YB(e,...t){var n;const i=typeof AbortController=="function";let s={},r={immediate:!0,refetch:!1,timeout:0,updateDataOnError:!1};const a={method:"GET",type:"text",payload:void 0};t.length>0&&(bh(t[0])?r={...r,...t[0]}:s=t[0]),t.length>1&&bh(t[1])&&(r={...r,...t[1]});const{fetch:u=(n=GB)==null?void 0:n.fetch,initialData:o,timeout:l}=r,c=Gp(),d=Gp(),h=Gp(),f=Xe(!1),p=Xe(!1),g=Xe(!1),m=Xe(null),y=bo(null),b=bo(null),E=bo(o||null),_=K(()=>i&&p.value);let I,M;const R=()=>{i&&(I==null||I.abort(),I=new AbortController,I.signal.onabort=()=>g.value=!0,s={...s,signal:I.signal})},X=ce=>{p.value=ce,f.value=!ce};l&&(M=BD(R,l,{immediate:!1}));let D=0;const j=async(ce=!1)=>{var re,he;R(),X(!0),b.value=null,m.value=null,g.value=!1,D+=1;const je=D,lt={method:a.method,headers:{}};if(a.payload){const gt=Qc(lt.headers),Zt=fs(a.payload);!a.payloadType&&Zt&&Object.getPrototypeOf(Zt)===Object.prototype&&!(Zt instanceof FormData)&&(a.payloadType="json"),a.payloadType&&(gt["Content-Type"]=(re=WB[a.payloadType])!=null?re:a.payloadType),lt.body=a.payloadType==="json"?JSON.stringify(Zt):Zt}let ft=!1;const _t={url:fs(e),options:{...lt,...s},cancel:()=>{ft=!0}};if(r.beforeFetch&&Object.assign(_t,await r.beforeFetch(_t)),ft||!u)return X(!1),Promise.resolve(null);let Bt=null;return M&&M.start(),u(_t.url,{...lt,..._t.options,headers:{...Qc(lt.headers),...Qc((he=_t.options)==null?void 0:he.headers)}}).then(async gt=>{if(y.value=gt,m.value=gt.status,Bt=await gt.clone()[a.type](),!gt.ok)throw E.value=o||null,new Error(gt.statusText);return r.afterFetch&&({data:Bt}=await r.afterFetch({data:Bt,response:gt})),E.value=Bt,c.trigger(gt),gt}).catch(async gt=>{let Zt=gt.message||gt.name;if(r.onFetchError&&({error:Zt,data:Bt}=await r.onFetchError({data:Bt,error:gt,response:y.value})),b.value=Zt,r.updateDataOnError&&(E.value=Bt),d.trigger(gt),ce)throw gt;return null}).finally(()=>{je===D&&X(!1),M&&M.stop(),h.trigger(null)})},se=Wp(r.refetch);Kt([se,Wp(e)],([ce])=>ce&&j(),{deep:!0});const ae={isFinished:Ol(f),isFetching:Ol(p),statusCode:m,response:y,error:b,data:E,canAbort:_,aborted:g,abort:R,execute:j,onFetchResponse:c.on,onFetchError:d.on,onFetchFinally:h.on,get:Y("GET"),put:Y("PUT"),post:Y("POST"),delete:Y("DELETE"),patch:Y("PATCH"),head:Y("HEAD"),options:Y("OPTIONS"),json:de("json"),text:de("text"),blob:de("blob"),arrayBuffer:de("arrayBuffer"),formData:de("formData")};function Y(ce){return(re,he)=>{if(!p.value)return a.method=ce,a.payload=re,a.payloadType=he,ht(a.payload)&&Kt([se,Wp(a.payload)],([je])=>je&&j(),{deep:!0}),{...ae,then(je,lt){return Q().then(je,lt)}}}}function Q(){return new Promise((ce,re)=>{VD(f).toBe(!0).then(()=>ce(ae)).catch(he=>re(he))})}function de(ce){return()=>{if(!p.value)return a.type=ce,{...ae,then(re,he){return Q().then(re,he)}}}}return r.immediate&&Promise.resolve().then(()=>j()),{...ae,then(ce,re){return Q().then(ce,re)}}}function JB(e,t){return!e.endsWith("/")&&!t.startsWith("/")?`${e}/${t}`:`${e}${t}`}const cT=window.ThemeEditor.routes,ql=qB({options:{beforeFetch({options:e}){const t=new Headers(e.headers||[]);return t.append("X-CSRF-Token",document.querySelector('meta[name="csrf-token"]').getAttribute("content")),e.headers=t,{options:e}}},fetchOptions:{mode:"cors"}});function XB(e){return ql(cT.uploadImage).post(e).json()}function ZB(){return ql(cT.listImages,{immediate:!1}).get().json()}function QB(){return ql("/api/categories").get().json()}function e5(){const e=Xe("/api/products"),t=ql(e,{refetch:!0,immediate:!1}).get().json();function n(i){const s=new URL("/api/products",window.location.origin);for(const[r,a]of Object.entries(i))s.searchParams.append(r,a);s.searchParams.append("limit","10"),e.value=s.href}return{...t,execute:n}}function t5(){const e=Xe(window.ThemeEditor.routes.getCmsPages),t=ql(e,{refetch:!0,immediate:!1}).get().json();function n(i){const s=new URL(window.ThemeEditor.routes.getCmsPages,window.location.origin);for(const[r,a]of Object.entries(i))s.searchParams.append(r,a);e.value=s.href}return{...t,execute:n}}function n5(e){return ql(window.ThemeEditor.routes.publishTheme).post(e)}function i5(){const e=Xe([]),t=new Map,n=Xe(!1),i=Xe(null);function s(l){const{messageId:c,...d}=l.data;if(c&&t.has(c)){const{resolve:h,timer:f}=t.get(c);clearTimeout(f),t.delete(c),h(d)}}window.addEventListener("message",s);function r(l){i.value=l}function a(){n.value=!0,e.value.forEach(u),e.value=[]}function u(l){var c,d;(d=(c=i.value)==null?void 0:c.contentWindow)==null||d.postMessage(l,window.origin)}function o(l,c,d=3e3){const h={type:l,data:c};return n.value?new Promise(f=>{const p=dm(),g=window.setTimeout(()=>{t.has(p)&&t.delete(p),f(null)},d);t.set(p,{resolve:f,timer:g}),u({...h,messageId:p})}):(e.value.push(h),Promise.resolve(null))}return{setIframe:r,markReady:a,call:o}}const Hn=i5(),Si=FP("main",()=>{let e={};const t=Xx(),n=new UB,i=Xe([]),s=Xe([]),r=ir([]),a=ir({url:"",theme:"",channel:"",locale:"",template:"",templateDataPath:"",hasStaticContent:!1,sectionsOrder:[],beforeContentSectionsOrder:[],afterContentSectionsOrder:[],sectionsData:{},settings:{}}),u=Xe(null),o=ir([]),l=ir({categories:{},products:{},cmsPages:{}}),c=Xe(!1),d=Xe(!1),h=K(()=>Object.values(l.categories).map(k=>({...k,...k.translations.find(L=>L.locale===a.locale)}))),f=K(()=>Object.values(l.products)),p=K(()=>Object.values(l.cmsPages).map(k=>{const L=k.translations.find(Z=>Z.locale===a.locale);return L?{...k,url_key:L.url_key,page_title:L.page_title}:k})),g=K(()=>a.sectionsOrder),m=K(()=>g.value.map(k=>a.sectionsData[k])),y=K(()=>a.beforeContentSectionsOrder.map(k=>a.sectionsData[k])),b=K(()=>a.afterContentSectionsOrder.map(k=>a.sectionsData[k])),E=OB(async({skipHistory:k=!1,skipPreviewRefresh:L=!1}={})=>{var P;const Z=new Headers({"content-type":"application/json","X-CSRF-Token":(P=document.querySelector('meta[name="csrf-token"]'))==null?void 0:P.getAttribute("content")});L||t.start(),k||(n.pushSync(structuredClone(dt(a))),c.value=n.hasUndo,d.value=n.hasRedo);try{const U=await fetch(window.ThemeEditor.routes.persistTheme,{headers:Z,method:"post",body:JSON.stringify(a)});if(!L){const fe=await U.text();await Hn.call("refresh",fe)}}catch(U){console.error("Failed to persistThemeData: "+U)}finally{L||t.done()}},500);function _(){t.start();const{onFetchResponse:k}=n5({theme:a.theme});k(()=>{t.done(),n.reset(),n.pushSync(structuredClone(dt(a))),c.value=n.hasUndo,d.value=n.hasRedo})}function I(k){Hn.setIframe(k)}function M(){Hn.markReady()}function R(){Object.assign(a,n.undo().get()),c.value=n.hasUndo,d.value=n.hasRedo,E({skipHistory:!0})}function X(){Object.assign(a,n.redo().get()),c.value=n.hasUndo,d.value=n.hasRedo,E({skipHistory:!0})}function D(){n.reset(),c.value=n.hasUndo,d.value=n.hasRedo}function j(k){return h.value.filter(L=>new RegExp(k,"gi").test(L.name))}function se(k){return l.products[k]}function ae(k){let L=l.cmsPages[k];if(L){const Z=L.translations.find(P=>P.locale===a.locale);Z&&(L.url_key=Z.url_key,L.page_title=Z.page_title)}return L}function Y(k){for(const[L,Z]of Object.entries(k.sectionsData))Z.blocks_order.length===0&&(Z.blocks={});Object.assign(a,k),n.pushSync(structuredClone(k))}function Q(k){i.value=k}function de(k){e=k}function ce(k){s.value=k}function re(k){var Z,P;const L=Array.isArray(k)?k:k.split(".");if(L[0]==="sectionsData"){const U=L[1],fe=dt((Z=a.sectionsData)==null?void 0:Z[U])||null;if(!fe)return{section:null,block:null,settingId:null};if(L[2]==="blocks"){const Ct=L[3],St=dt((P=fe.blocks)==null?void 0:P[Ct])||null,an=L.slice(5).join(".");return{section:fe,block:St,settingId:an}}const Ue=L.slice(3).join(".");return{section:fe,block:null,settingId:Ue}}return L[0]==="settings"?{section:null,block:null,settingId:L.slice(1).join(".")}:{section:null,block:null,settingId:null}}async function he(k,L){bB(a,k,L);const Z=re(k);let P=!1;if(Z.settingId){const U=await Hn.call("setting:update",{...Z,settingValue:L});U!=null&&U.skipRefresh&&(P=!0)}Z.section&&!P&&await Hn.call("section:updating",{section:Z.section},0),await E({skipPreviewRefresh:P}),Z.section&&!P&&await Hn.call("section:updated",{section:Z.section})}function je(k){return TB(a,k)}function lt(k){const L=a.sectionsOrder.indexOf(k);L!==0&&(a.sectionsOrder.splice(L,1),a.sectionsOrder.splice(L-1,0,k),Hn.call("sectionsOrder",dt(a.sectionsOrder)),E())}function ft(k){const L=a.sectionsOrder.indexOf(k);L!==a.sectionsOrder.length-1&&(a.sectionsOrder.splice(L,1),a.sectionsOrder.splice(L+1,0,k),Hn.call("sectionsOrder",dt(a.sectionsOrder)),E())}function _t(k){a.sectionsData[k].disabled=!a.sectionsData[k].disabled,E()}function Bt(k){return a.sectionsData[k]}function gt(k){return e[k]}function Zt(k){const L=a.sectionsData[k];delete a.sectionsData[k],a.sectionsOrder=a.sectionsOrder.filter(Z=>Z!==k),Hn.call("sectionsOrder",dt(a.sectionsOrder)),Hn.call("section:removed",{section:dt(L)}),E()}async function fn(k){const L={},Z=dm();k.settings.forEach(P=>{L[P.id]=P.default}),a.sectionsData[Z]={id:Z,name:k.name,settings:L,type:k.slug,blocks:{},blocks_order:[],disabled:!1},a.sectionsOrder.push(Z),await E(),Hn.call("section:added",{section:dt(a.sectionsData[Z])})}async function ne(k,L){const Z=a.sectionsData[k],P={},U=dm();L.settings.forEach(fe=>{P[fe.id]=fe.default}),Z.blocks[U]={id:U,type:L.type,name:L.name,disabled:!1,settings:P},Z.blocks_order.push(U),await Hn.call("section:updating",{section:Z},0),await E(),await Hn.call("section:updated",{section:Z},0)}function me(k,L){const Z=a.sectionsData[k].blocks[L];Z.disabled=!Z.disabled,E()}function ge(k,L){const Z=a.sectionsData[k];delete Z.blocks[L],Z.blocks_order=Z.blocks_order.filter(P=>P!==L),E()}function Ee(k){u.value=k,Hn.call("section:highlight",k)}function It(k){u.value=null,Hn.call("clearActiveSection",k)}function Dt(k){u.value=k,Hn.call("section:select",k)}function T(k){he("sectionsOrder",k),Hn.call("sectionsOrder",k)}function A(k,L){const Z=Bt(k);return Z?Z.blocks[L]:null}function W(k,L){const Z=Bt(k);return Z?gt(Z.type).blocks.find(U=>U.type===L):null}function oe(k){return a.sectionsOrder.includes(k)}function ie(){const{data:k,execute:L,onFetchResponse:Z}=ZB();o.length===0&&L(),Z(()=>{k.value.forEach(P=>{o.push({...P,uploading:!1})})})}function x(){const k=QB();return k.onFetchResponse(()=>{k.data.value.data.forEach(L=>{l.categories[L.id]=L})}),k}function w(){const k=e5();k.onFetchResponse(()=>{k.data.value.data.forEach(Z=>{l.products[Z.id]=Z})});function L(Z={}){k.execute({locale:a.locale,channel:a.channel,...Z})}return{...k,execute:L}}function V(){const k=t5();k.onFetchResponse(()=>{k.data.value.forEach(Z=>{l.cmsPages[Z.id]=Z})});function L(Z={}){k.execute({locale:a.locale,channel:a.channel,...Z})}return{...k,execute:L}}return{images:o,themeData:a,templates:i,usedColors:r,availableSections:e,settingsSchema:s,categories:h,products:f,cmsPages:p,contentSections:m,contentSectionsOrder:g,beforeContentSections:y,afterContentSections:b,canUndoHistory:c,canRedoHistory:d,undoHistory:R,redoHistory:X,resetHistory:D,publishTheme:_,setPreviewIframeReady:M,setThemeData:Y,setTemplates:Q,setAvailableSections:de,setPreviewIframe:I,setSettingsSchema:ce,getThemeDataValue:je,updateThemeDataValue:he,activateSection:Ee,deactivateSection:It,selectSection:Dt,setContentSectionsOrder:T,moveSectionUp:lt,moveSectionDown:ft,toggleSection:_t,removeSection:Zt,getSectionData:Bt,getSectionBySlug:gt,getSectionBlockData:A,getSectionBlockByType:W,canRemoveSection:oe,addNewSection:fn,addBlockToSection:ne,toggleSectionBlock:me,removeSectionBlock:ge,searchCategories:j,getProduct:se,getCmsPage:ae,fetchImages:ie,fetchCategories:x,fetchProducts:w,fetchCmsPages:V}});function s5(e,t){for(var n=-1,i=t.length,s=e.length;++n<i;)e[s+n]=t[n];return e}var uT=s5,r5=Uu,o5=Wu,a5="[object Arguments]";function l5(e){return o5(e)&&r5(e)==a5}var c5=l5,d0=c5,u5=Wu,dT=Object.prototype,d5=dT.hasOwnProperty,h5=dT.propertyIsEnumerable,f5=d0(function(){return arguments}())?d0:function(e){return u5(e)&&d5.call(e,"callee")&&!h5.call(e,"callee")},oy=f5,h0=ju,p5=oy,g5=hr,f0=h0?h0.isConcatSpreadable:void 0;function m5(e){return g5(e)||p5(e)||!!(f0&&e&&e[f0])}var v5=m5,y5=uT,b5=v5;function hT(e,t,n,i,s){var r=-1,a=e.length;for(n||(n=b5),s||(s=[]);++r<a;){var u=e[r];t>0&&n(u)?t>1?hT(u,t-1,n,i,s):y5(s,u):i||(s[s.length]=u)}return s}var E5=hT,_5=Nf;function C5(){this.__data__=new _5,this.size=0}var S5=C5;function x5(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var T5=x5;function w5(e){return this.__data__.get(e)}var I5=w5;function O5(e){return this.__data__.has(e)}var k5=O5,A5=Nf,P5=ey,$5=ty,M5=200;function N5(e,t){var n=this.__data__;if(n instanceof A5){var i=n.__data__;if(!P5||i.length<M5-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new $5(i)}return n.set(e,t),this.size=n.size,this}var R5=N5,D5=Nf,L5=S5,F5=T5,V5=I5,B5=k5,H5=R5;function Yl(e){var t=this.__data__=new D5(e);this.size=t.size}Yl.prototype.clear=L5;Yl.prototype.delete=F5;Yl.prototype.get=V5;Yl.prototype.has=B5;Yl.prototype.set=H5;var fT=Yl,j5="__lodash_hash_undefined__";function U5(e){return this.__data__.set(e,j5),this}var G5=U5;function W5(e){return this.__data__.has(e)}var z5=W5,K5=ty,q5=G5,Y5=z5;function Eh(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new K5;++t<n;)this.add(e[t])}Eh.prototype.add=Eh.prototype.push=q5;Eh.prototype.has=Y5;var J5=Eh;function X5(e,t){for(var n=-1,i=e==null?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}var Z5=X5;function Q5(e,t){return e.has(t)}var e3=Q5,t3=J5,n3=Z5,i3=e3,s3=1,r3=2;function o3(e,t,n,i,s,r){var a=n&s3,u=e.length,o=t.length;if(u!=o&&!(a&&o>u))return!1;var l=r.get(e),c=r.get(t);if(l&&c)return l==t&&c==e;var d=-1,h=!0,f=n&r3?new t3:void 0;for(r.set(e,t),r.set(t,e);++d<u;){var p=e[d],g=t[d];if(i)var m=a?i(g,p,d,t,e,r):i(p,g,d,e,t,r);if(m!==void 0){if(m)continue;h=!1;break}if(f){if(!n3(t,function(y,b){if(!i3(f,b)&&(p===y||s(p,y,n,i,r)))return f.push(b)})){h=!1;break}}else if(!(p===g||s(p,g,n,i,r))){h=!1;break}}return r.delete(e),r.delete(t),h}var pT=o3,a3=Lr,l3=a3.Uint8Array,c3=l3;function u3(e){var t=-1,n=Array(e.size);return e.forEach(function(i,s){n[++t]=[s,i]}),n}var d3=u3;function h3(e){var t=-1,n=Array(e.size);return e.forEach(function(i){n[++t]=i}),n}var f3=h3,p0=ju,g0=c3,p3=Af,g3=pT,m3=d3,v3=f3,y3=1,b3=2,E3="[object Boolean]",_3="[object Date]",C3="[object Error]",S3="[object Map]",x3="[object Number]",T3="[object RegExp]",w3="[object Set]",I3="[object String]",O3="[object Symbol]",k3="[object ArrayBuffer]",A3="[object DataView]",m0=p0?p0.prototype:void 0,qp=m0?m0.valueOf:void 0;function P3(e,t,n,i,s,r,a){switch(n){case A3:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case k3:return!(e.byteLength!=t.byteLength||!r(new g0(e),new g0(t)));case E3:case _3:case x3:return p3(+e,+t);case C3:return e.name==t.name&&e.message==t.message;case T3:case I3:return e==t+"";case S3:var u=m3;case w3:var o=i&y3;if(u||(u=v3),e.size!=t.size&&!o)return!1;var l=a.get(e);if(l)return l==t;i|=b3,a.set(e,t);var c=g3(u(e),u(t),i,s,r,a);return a.delete(e),c;case O3:if(qp)return qp.call(e)==qp.call(t)}return!1}var $3=P3,M3=uT,N3=hr;function R3(e,t,n){var i=t(e);return N3(e)?i:M3(i,n(e))}var D3=R3;function L3(e,t){for(var n=-1,i=e==null?0:e.length,s=0,r=[];++n<i;){var a=e[n];t(a,n,e)&&(r[s++]=a)}return r}var F3=L3;function V3(){return[]}var B3=V3,H3=F3,j3=B3,U3=Object.prototype,G3=U3.propertyIsEnumerable,v0=Object.getOwnPropertySymbols,W3=v0?function(e){return e==null?[]:(e=Object(e),H3(v0(e),function(t){return G3.call(e,t)}))}:j3,z3=W3;function K3(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}var q3=K3,_h={exports:{}};function Y3(){return!1}var J3=Y3;_h.exports;(function(e,t){var n=Lr,i=J3,s=t&&!t.nodeType&&t,r=s&&!0&&e&&!e.nodeType&&e,a=r&&r.exports===s,u=a?n.Buffer:void 0,o=u?u.isBuffer:void 0,l=o||i;e.exports=l})(_h,_h.exports);var gT=_h.exports,X3=9007199254740991;function Z3(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=X3}var ay=Z3,Q3=Uu,eH=ay,tH=Wu,nH="[object Arguments]",iH="[object Array]",sH="[object Boolean]",rH="[object Date]",oH="[object Error]",aH="[object Function]",lH="[object Map]",cH="[object Number]",uH="[object Object]",dH="[object RegExp]",hH="[object Set]",fH="[object String]",pH="[object WeakMap]",gH="[object ArrayBuffer]",mH="[object DataView]",vH="[object Float32Array]",yH="[object Float64Array]",bH="[object Int8Array]",EH="[object Int16Array]",_H="[object Int32Array]",CH="[object Uint8Array]",SH="[object Uint8ClampedArray]",xH="[object Uint16Array]",TH="[object Uint32Array]",Yt={};Yt[vH]=Yt[yH]=Yt[bH]=Yt[EH]=Yt[_H]=Yt[CH]=Yt[SH]=Yt[xH]=Yt[TH]=!0;Yt[nH]=Yt[iH]=Yt[gH]=Yt[sH]=Yt[mH]=Yt[rH]=Yt[oH]=Yt[aH]=Yt[lH]=Yt[cH]=Yt[uH]=Yt[dH]=Yt[hH]=Yt[fH]=Yt[pH]=!1;function wH(e){return tH(e)&&eH(e.length)&&!!Yt[Q3(e)]}var IH=wH;function OH(e){return function(t){return e(t)}}var mT=OH,Ch={exports:{}};Ch.exports;(function(e,t){var n=Zx,i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,r=s&&s.exports===i,a=r&&n.process,u=function(){try{var o=s&&s.require&&s.require("util").types;return o||a&&a.binding&&a.binding("util")}catch{}}();e.exports=u})(Ch,Ch.exports);var kH=Ch.exports,AH=IH,PH=mT,y0=kH,b0=y0&&y0.isTypedArray,$H=b0?PH(b0):AH,vT=$H,MH=q3,NH=oy,RH=hr,DH=gT,LH=Df,FH=vT,VH=Object.prototype,BH=VH.hasOwnProperty;function HH(e,t){var n=RH(e),i=!n&&NH(e),s=!n&&!i&&DH(e),r=!n&&!i&&!s&&FH(e),a=n||i||s||r,u=a?MH(e.length,String):[],o=u.length;for(var l in e)(t||BH.call(e,l))&&!(a&&(l=="length"||s&&(l=="offset"||l=="parent")||r&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||LH(l,o)))&&u.push(l);return u}var jH=HH,UH=Object.prototype;function GH(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||UH;return e===n}var WH=GH;function zH(e,t){return function(n){return e(t(n))}}var KH=zH,qH=KH,YH=qH(Object.keys,Object),JH=YH,XH=WH,ZH=JH,QH=Object.prototype,e2=QH.hasOwnProperty;function t2(e){if(!XH(e))return ZH(e);var t=[];for(var n in Object(e))e2.call(e,n)&&n!="constructor"&&t.push(n);return t}var n2=t2,i2=eT,s2=ay;function r2(e){return e!=null&&s2(e.length)&&!i2(e)}var Lf=r2,o2=jH,a2=n2,l2=Lf;function c2(e){return l2(e)?o2(e):a2(e)}var ly=c2,u2=D3,d2=z3,h2=ly;function f2(e){return u2(e,h2,d2)}var p2=f2,E0=p2,g2=1,m2=Object.prototype,v2=m2.hasOwnProperty;function y2(e,t,n,i,s,r){var a=n&g2,u=E0(e),o=u.length,l=E0(t),c=l.length;if(o!=c&&!a)return!1;for(var d=o;d--;){var h=u[d];if(!(a?h in t:v2.call(t,h)))return!1}var f=r.get(e),p=r.get(t);if(f&&p)return f==t&&p==e;var g=!0;r.set(e,t),r.set(t,e);for(var m=a;++d<o;){h=u[d];var y=e[h],b=t[h];if(i)var E=a?i(b,y,h,t,e,r):i(y,b,h,e,t,r);if(!(E===void 0?y===b||s(y,b,n,i,r):E)){g=!1;break}m||(m=h=="constructor")}if(g&&!m){var _=e.constructor,I=t.constructor;_!=I&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof I=="function"&&I instanceof I)&&(g=!1)}return r.delete(e),r.delete(t),g}var b2=y2,E2=Ba,_2=Lr,C2=E2(_2,"DataView"),S2=C2,x2=Ba,T2=Lr,w2=x2(T2,"Promise"),I2=w2,O2=Ba,k2=Lr,A2=O2(k2,"Set"),P2=A2,$2=Ba,M2=Lr,N2=$2(M2,"WeakMap"),R2=N2,hm=S2,fm=ey,pm=I2,gm=P2,mm=R2,yT=Uu,Jl=tT,_0="[object Map]",D2="[object Object]",C0="[object Promise]",S0="[object Set]",x0="[object WeakMap]",T0="[object DataView]",L2=Jl(hm),F2=Jl(fm),V2=Jl(pm),B2=Jl(gm),H2=Jl(mm),la=yT;(hm&&la(new hm(new ArrayBuffer(1)))!=T0||fm&&la(new fm)!=_0||pm&&la(pm.resolve())!=C0||gm&&la(new gm)!=S0||mm&&la(new mm)!=x0)&&(la=function(e){var t=yT(e),n=t==D2?e.constructor:void 0,i=n?Jl(n):"";if(i)switch(i){case L2:return T0;case F2:return _0;case V2:return C0;case B2:return S0;case H2:return x0}return t});var j2=la,Yp=fT,U2=pT,G2=$3,W2=b2,w0=j2,I0=hr,O0=gT,z2=vT,K2=1,k0="[object Arguments]",A0="[object Array]",yd="[object Object]",q2=Object.prototype,P0=q2.hasOwnProperty;function Y2(e,t,n,i,s,r){var a=I0(e),u=I0(t),o=a?A0:w0(e),l=u?A0:w0(t);o=o==k0?yd:o,l=l==k0?yd:l;var c=o==yd,d=l==yd,h=o==l;if(h&&O0(e)){if(!O0(t))return!1;a=!0,c=!1}if(h&&!c)return r||(r=new Yp),a||z2(e)?U2(e,t,n,i,s,r):G2(e,t,o,n,i,s,r);if(!(n&K2)){var f=c&&P0.call(e,"__wrapped__"),p=d&&P0.call(t,"__wrapped__");if(f||p){var g=f?e.value():e,m=p?t.value():t;return r||(r=new Yp),s(g,m,n,i,r)}}return h?(r||(r=new Yp),W2(e,t,n,i,s,r)):!1}var J2=Y2,X2=J2,$0=Wu;function bT(e,t,n,i,s){return e===t?!0:e==null||t==null||!$0(e)&&!$0(t)?e!==e&&t!==t:X2(e,t,n,i,bT,s)}var ET=bT,Z2=fT,Q2=ET,ej=1,tj=2;function nj(e,t,n,i){var s=n.length,r=s,a=!i;if(e==null)return!r;for(e=Object(e);s--;){var u=n[s];if(a&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++s<r;){u=n[s];var o=u[0],l=e[o],c=u[1];if(a&&u[2]){if(l===void 0&&!(o in e))return!1}else{var d=new Z2;if(i)var h=i(l,c,o,e,t,d);if(!(h===void 0?Q2(c,l,ej|tj,i,d):h))return!1}}return!0}var ij=nj,sj=Gu;function rj(e){return e===e&&!sj(e)}var _T=rj,oj=_T,aj=ly;function lj(e){for(var t=aj(e),n=t.length;n--;){var i=t[n],s=e[i];t[n]=[i,s,oj(s)]}return t}var cj=lj;function uj(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var CT=uj,dj=ij,hj=cj,fj=CT;function pj(e){var t=hj(e);return t.length==1&&t[0][2]?fj(t[0][0],t[0][1]):function(n){return n===e||dj(n,e,t)}}var gj=pj;function mj(e,t){return e!=null&&t in Object(e)}var vj=mj,yj=iy,bj=oy,Ej=hr,_j=Df,Cj=ay,Sj=zu;function xj(e,t,n){t=yj(t,e);for(var i=-1,s=t.length,r=!1;++i<s;){var a=Sj(t[i]);if(!(r=e!=null&&n(e,a)))break;e=e[a]}return r||++i!=s?r:(s=e==null?0:e.length,!!s&&Cj(s)&&_j(a,s)&&(Ej(e)||bj(e)))}var Tj=xj,wj=vj,Ij=Tj;function Oj(e,t){return e!=null&&Ij(e,t,wj)}var kj=Oj,Aj=ET,Pj=oT,$j=kj,Mj=Qv,Nj=_T,Rj=CT,Dj=zu,Lj=1,Fj=2;function Vj(e,t){return Mj(e)&&Nj(t)?Rj(Dj(e),t):function(n){var i=Pj(n,e);return i===void 0&&i===t?$j(n,e):Aj(t,i,Lj|Fj)}}var Bj=Vj;function Hj(e){return e}var Ff=Hj;function jj(e){return function(t){return t==null?void 0:t[e]}}var Uj=jj,Gj=sy;function Wj(e){return function(t){return Gj(t,e)}}var zj=Wj,Kj=Uj,qj=zj,Yj=Qv,Jj=zu;function Xj(e){return Yj(e)?Kj(Jj(e)):qj(e)}var Zj=Xj,Qj=gj,e4=Bj,t4=Ff,n4=hr,i4=Zj;function s4(e){return typeof e=="function"?e:e==null?t4:typeof e=="object"?n4(e)?e4(e[0],e[1]):Qj(e):i4(e)}var r4=s4;function o4(e){return function(t,n,i){for(var s=-1,r=Object(t),a=i(t),u=a.length;u--;){var o=a[e?u:++s];if(n(r[o],o,r)===!1)break}return t}}var a4=o4,l4=a4,c4=l4(),u4=c4,d4=u4,h4=ly;function f4(e,t){return e&&d4(e,t,h4)}var p4=f4,g4=Lf;function m4(e,t){return function(n,i){if(n==null)return n;if(!g4(n))return e(n,i);for(var s=n.length,r=t?s:-1,a=Object(n);(t?r--:++r<s)&&i(a[r],r,a)!==!1;);return n}}var v4=m4,y4=p4,b4=v4,E4=b4(y4),_4=E4,C4=_4,S4=Lf;function x4(e,t){var n=-1,i=S4(e)?Array(e.length):[];return C4(e,function(s,r,a){i[++n]=t(s,r,a)}),i}var T4=x4;function w4(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var I4=w4,M0=Pf;function O4(e,t){if(e!==t){var n=e!==void 0,i=e===null,s=e===e,r=M0(e),a=t!==void 0,u=t===null,o=t===t,l=M0(t);if(!u&&!l&&!r&&e>t||r&&a&&o&&!u&&!l||i&&a&&o||!n&&o||!s)return 1;if(!i&&!r&&!l&&e<t||l&&n&&s&&!i&&!r||u&&n&&s||!a&&s||!o)return-1}return 0}var k4=O4,A4=k4;function P4(e,t,n){for(var i=-1,s=e.criteria,r=t.criteria,a=s.length,u=n.length;++i<a;){var o=A4(s[i],r[i]);if(o){if(i>=u)return o;var l=n[i];return o*(l=="desc"?-1:1)}}return e.index-t.index}var $4=P4,Jp=sT,M4=sy,N4=r4,R4=T4,D4=I4,L4=mT,F4=$4,V4=Ff,B4=hr;function H4(e,t,n){t.length?t=Jp(t,function(r){return B4(r)?function(a){return M4(a,r.length===1?r[0]:r)}:r}):t=[V4];var i=-1;t=Jp(t,L4(N4));var s=R4(e,function(r,a,u){var o=Jp(t,function(l){return l(r)});return{criteria:o,index:++i,value:r}});return D4(s,function(r,a){return F4(r,a,n)})}var j4=H4;function U4(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var G4=U4,W4=G4,N0=Math.max;function z4(e,t,n){return t=N0(t===void 0?e.length-1:t,0),function(){for(var i=arguments,s=-1,r=N0(i.length-t,0),a=Array(r);++s<r;)a[s]=i[t+s];s=-1;for(var u=Array(t+1);++s<t;)u[s]=i[s];return u[t]=n(a),W4(e,this,u)}}var K4=z4;function q4(e){return function(){return e}}var Y4=q4,J4=Y4,R0=nT,X4=Ff,Z4=R0?function(e,t){return R0(e,"toString",{configurable:!0,enumerable:!1,value:J4(t),writable:!0})}:X4,Q4=Z4,eU=800,tU=16,nU=Date.now;function iU(e){var t=0,n=0;return function(){var i=nU(),s=tU-(i-n);if(n=i,s>0){if(++t>=eU)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var sU=iU,rU=Q4,oU=sU,aU=oU(rU),lU=aU,cU=Ff,uU=K4,dU=lU;function hU(e,t){return dU(uU(e,t,cU),e+"")}var fU=hU,pU=Af,gU=Lf,mU=Df,vU=Gu;function yU(e,t,n){if(!vU(n))return!1;var i=typeof t;return(i=="number"?gU(n)&&mU(t,n.length):i=="string"&&t in n)?pU(n[t],e):!1}var bU=yU,EU=E5,_U=j4,CU=fU,D0=bU,SU=CU(function(e,t){if(e==null)return[];var n=t.length;return n>1&&D0(e,t[0],t[1])?t=[]:n>2&&D0(t[0],t[1],t[2])&&(t=[t[0]]),_U(e,EU(t,1),[])}),xU=SU;const TU=Hu(xU),wU={class:"w-full h-full flex flex-col"},IU={class:"flex-1 overflow-y-auto"},OU={class:"flex-none h-12 border-b border-gray-200 bg-gray-100 flex gap-3 px-4 items-center justify-between"},kU={class:"flex-1 flex flex-col overflow-hidden"},AU={class:"flex items-center gap-3 px-3 border-b py-2 focus-within:ring focus-within:ring-gray-700"},PU=["placeholder"],$U={class:"flex-1 p-6 overflow-y-auto"},MU={class:"sticky capitalize mb-2 font-medium"},NU={class:"grid grid-cols-2 gap-6"},RU=["onClick"],DU={class:"text-center p-3"},LU={class:"uppercase text-xs font-semibold"},FU={class:"text-xs line-clamp-1"},VU=$({__name:"index",setup(e){const t=Si(),n=Xe(!1),i=Xe(""),s=TU(window.ThemeEditor.availableSections,["name"],["asc"]),r=K(()=>{if(!i.value)return s;const p=new RegExp(i.value,"gi");return s.filter(g=>p.test(g.slug)||p.test(g.name)||p.test(g.description)||p.test(g.previewDescription))}),a=K(()=>{const p={};return r.value.forEach(g=>{const m=g.slug.split("-")[0];p[m]||(p[m]=[]),p[m].push(g)}),p});function u(){n.value=!n.value}function o(p){t.setContentSectionsOrder(p)}function l(p){t.toggleSection(p)}function c(p){t.removeSection(p)}function d(p){t.activateSection(p)}function h(p){t.deactivateSection(p)}function f(p){u(),t.addNewSection(p)}return(p,g)=>{const m=NM,y=jl,b=_f;return C(),te(Ye,null,[F("div",wU,[g[4]||(g[4]=F("header",{class:"flex none px-4 py-3 border-b font-medium"},[F("h1",null,"Page title")],-1)),F("div",IU,[O(m,{static:"",title:p.$t("Layout Header Sections"),sections:v(t).beforeContentSections,onToggleSection:l,onActivateSection:d,onDeactivateSection:h},null,8,["title","sections"]),g[2]||(g[2]=F("hr",null,null,-1)),O(m,{title:p.$t("Template Sections"),order:v(t).contentSectionsOrder,sections:v(t).contentSections,onReorder:o,onAddSection:u,onToggleSection:l,onRemoveSection:c,onActivateSection:d,onDeactivateSection:h},null,8,["title","order","sections"]),g[3]||(g[3]=F("hr",null,null,-1)),O(m,{static:"",title:p.$t("Layout Footer Sections"),sections:v(t).afterContentSections,onToggleSection:l,onActivateSection:d,onDeactivateSection:h},null,8,["title","sections"])])]),O(v(yn).Root,{open:v(n),"onUpdate:open":g[1]||(g[1]=E=>ht(n)?n.value=E:null),lazyMount:""},{default:S(()=>[(C(),N(lf,{to:"body"},[O(v(yn).Backdrop,{class:"fixed h-screen w-screen left-0 top-0 backdrop-blur-sm bg-gray-700/30"}),O(v(yn).Positioner,{class:"flex fixed inset-0 items-center justify-center"},{default:S(()=>[O(v(yn).Content,{class:"bg-white shadow rounded-md flex flex-col w-full max-w-2xl h-3/4 overflow-hidden"},{default:S(()=>[F("header",OU,[O(v(yn).Title,null,{default:S(()=>[qe(ue(p.$t("Add new section")),1)]),_:1}),O(v(yn).CloseTrigger,{class:"cursor-pointer rounded-lg p-0.5 text-neutral-700 hover:bg-neutral-300"},{default:S(()=>[O(y,{class:"w-5 h-5"})]),_:1})]),F("section",kU,[F("div",AU,[O(b,{class:"w-4 h-4"}),Ia(F("input",{"onUpdate:modelValue":g[0]||(g[0]=E=>ht(i)?i.value=E:null),type:"text",name:"search",class:"appearance-none block w-full outline-none",placeholder:p.$t("Search a section")},null,8,PU),[[mf,v(i)]])]),F("div",$U,[(C(!0),te(Ye,null,zt(v(a),(E,_)=>(C(),te("div",{key:_,class:"mb-4"},[F("h4",MU,ue(p.$t("From"))+" "+ue(_),1),F("div",NU,[(C(!0),te(Ye,null,zt(E,I=>(C(),te("div",{key:I.slug,class:"rounded cursor-pointer shadow hover:shadow-lg",onClick:M=>f(I)},[g[5]||(g[5]=F("div",{class:"aspect-[4/2] bg-gray-100"},null,-1)),F("div",DU,[F("h3",LU,ue(I.name),1),F("p",FU,ue(I.previewDescription),1)])],8,RU))),128))])]))),128))])])]),_:1})]),_:1})]))]),_:1},8,["open"])],64)}}}),BU=Dn("field").parts("root","errorText","helperText","input","label","select","textarea"),na=BU.build(),[ST,Jn]=vt("FieldContext"),HU=e=>{const{required:t,disabled:n,invalid:i,readOnly:s,ids:r}=e,a=ir({hasErrorText:!1,hasHelperText:!1}),u=e.id??`field-${Math.random().toString(36).substr(2,9)}`,o=Xe(null),l=(r==null?void 0:r.control)??`field::${u}`,c=(r==null?void 0:r.errorText)??`field::${u}::error-text`,d=(r==null?void 0:r.helperText)??`field::${u}::helper-text`,h=(r==null?void 0:r.label)??`field::${u}::label`;ii(()=>{const M=o.value;if(!M)return;const R=Zi(M),X=R.document,D=()=>{a.hasErrorText=!!X.getElementById(c),a.hasHelperText=!!X.getElementById(d)};D();const j=new R.MutationObserver(D);j.observe(M,{childList:!0,subtree:!0}),Du(()=>{j.disconnect()})});const f=()=>({...na.root.attrs,id:l,role:"group","data-disabled":H(n),"data-invalid":H(i),"data-readonly":H(s)}),p=()=>({...na.label.attrs,id:h,"data-disabled":H(n),"data-invalid":H(i),"data-readonly":H(s),htmlFor:u}),g=[];a.hasErrorText&&i&&g.push(c),a.hasHelperText&&g.push(d);const m=()=>({"aria-describedby":g.join(" ")||void 0,"aria-invalid":_o(i),"data-invalid":H(i),"data-required":H(t),"data-readonly":H(s),id:u,required:t,disabled:n,readOnly:s}),y=()=>({...m(),...na.input.attrs}),b=()=>({...m(),...na.textarea.attrs}),E=()=>({...m(),...na.select.attrs}),_=()=>({id:d,...na.helperText.attrs}),I=()=>({id:c,...na.errorText.attrs,"aria-live":"polite"});return K(()=>({ariaDescribedby:g.join(" "),ids:{control:u,label:h,errorText:c,helperText:d},refs:{rootRef:o},disabled:n,invalid:i,readOnly:s,required:t,getLabelProps:p,getRootProps:f,getInputProps:y,getTextareaProps:b,getSelectProps:E,getHelperTextProps:_,getErrorTextProps:I}))},jU=$({__name:"field-root",props:On({disabled:{type:Boolean},id:{},ids:{},invalid:{type:Boolean},readOnly:{type:Boolean},required:{type:Boolean},asChild:{type:Boolean}},{disabled:void 0,invalid:void 0,readOnly:void 0,required:void 0}),setup(e){const n=HU(e);return ST(n),G(),(i,s)=>(C(),N(v(J).div,z(v(n).getRootProps(),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["as-child"]))}}),UU=$({__name:"field-root-provider",props:{value:{},asChild:{type:Boolean}},setup(e){const t=e,n=K(()=>t.value);return ST(n),G(),(i,s)=>(C(),N(v(J).div,z(n.value.getRootProps(),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["as-child"]))}}),GU=$({__name:"field-label",props:{asChild:{type:Boolean}},setup(e){const t=Jn();return G(),(n,i)=>(C(),N(v(J).label,z(v(t).getLabelProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),WU=$({__name:"field-input",props:{modelValue:{},asChild:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=Jn(),i=t;return G(),(s,r)=>(C(),N(v(J).input,z(v(n).getInputProps(),{"as-child":s.asChild,value:s.modelValue,onInput:r[0]||(r[0]=a=>i("update:modelValue",a.target.value))}),{default:S(()=>[B(s.$slots,"default")]),_:3},16,["as-child","value"]))}}),zU=$({__name:"field-textarea",props:{modelValue:{},asChild:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=Jn(),i=t;return G(),(s,r)=>(C(),N(v(J).textarea,z(v(n).getTextareaProps(),{value:s.modelValue,onInput:r[0]||(r[0]=a=>i("update:modelValue",a.target.value)),"as-child":s.asChild}),{default:S(()=>[B(s.$slots,"default")]),_:3},16,["value","as-child"]))}}),KU=$({__name:"field-select",props:{modelValue:{},asChild:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=Jn(),i=t;return G(),(s,r)=>(C(),N(v(J).select,z(v(n).getSelectProps(),{value:s.modelValue,onChange:r[0]||(r[0]=a=>i("update:modelValue",a.target.value)),"as-child":s.asChild}),{default:S(()=>[B(s.$slots,"default")]),_:3},16,["value","as-child"]))}}),qU=$({__name:"field-helper-text",props:{asChild:{type:Boolean}},setup(e){const t=Jn();return G(),(n,i)=>(C(),N(v(J).span,z(v(t).getHelperTextProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),YU=$({__name:"field-error-text",props:{asChild:{type:Boolean}},setup(e){const t=Jn();return G(),(n,i)=>v(t).invalid?(C(),N(v(J).span,z({key:0},v(t).getErrorTextProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"])):nt("",!0)}}),JU=$({__name:"field-context",setup(e){const t=Jn();return(n,i)=>B(n.$slots,"default",hn(on(v(t))))}}),Co=Object.freeze(Object.defineProperty({__proto__:null,Context:JU,ErrorText:YU,HelperText:qU,Input:WU,Label:GU,Root:jU,RootProvider:UU,Select:KU,Textarea:zU},Symbol.toStringTag,{value:"Module"})),XU=$({__name:"TextInput",props:Vn({label:null},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=vn(e,"modelValue"),n=e;return(i,s)=>(C(),N(v(Co).Root,{class:"flex flex-col gap-1.5"},{default:S(()=>[e.label?(C(),N(v(Co).Label,{key:0,class:"text-sm font-medium"},{default:S(()=>[qe(ue(n.label),1)]),_:1})):nt("",!0),O(v(Co).Input,{modelValue:t.value,"onUpdate:modelValue":s[0]||(s[0]=r=>t.value=r),class:sn(["px-3 h-10 text-surface-500 ","rounded border border-gray-300","focus:outline-none focus:ring focus:ring-gray-700"])},null,8,["modelValue"])]),_:1}))}}),ZU=$({__name:"Textarea",props:Vn({label:null},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=vn(e,"modelValue"),n=e;return(i,s)=>(C(),N(v(Co).Root,{class:"flex flex-col gap-1.5"},{default:S(()=>[O(v(Co).Label,{class:"text-sm font-medium"},{default:S(()=>[qe(ue(n.label),1)]),_:1}),O(v(Co).Textarea,{modelValue:t.value,"onUpdate:modelValue":s[0]||(s[0]=r=>t.value=r),class:sn(["px-2 py-2 h-20 text-surface-500 appearance-none relative","rounded border border-gray-300 outline-0","focus:ring focus:ring-gray-700"])},null,8,["modelValue"])]),_:1}))}}),QU={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function e6(e,t){return C(),te("svg",QU,t[0]||(t[0]=[F("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"m4.5 12.75l6 6l9-13.5"},null,-1)]))}const t6=Et({name:"heroicons-check",render:e6});function n6(e){return e.mozInputSource===0&&e.isTrusted?!0:e.detail===0&&!e.pointerType}function i6(e){return!(e.metaKey||!hx()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}var s6=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function r6(e,t,n){const i=n?Qi(n):null,s=Zi(i);return e=e||i instanceof s.HTMLInputElement&&!s6.has(i==null?void 0:i.type)||i instanceof s.HTMLTextAreaElement||i instanceof s.HTMLElement&&i.isContentEditable,!(e&&t==="keyboard"&&n instanceof s.KeyboardEvent&&!Reflect.has(o6,n.key))}var Ha=null,vm=new Set,eu=new Map,Pa=!1,ym=!1,o6={Tab:!0,Escape:!0};function Vf(e,t){for(let n of vm)n(e,t)}function Sh(e){Pa=!0,i6(e)&&(Ha="keyboard",Vf("keyboard",e))}function us(e){Ha="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(Pa=!0,Vf("pointer",e))}function xT(e){n6(e)&&(Pa=!0,Ha="virtual")}function TT(e){const t=Qi(e);t===Zi(t)||t===dr(t)||(!Pa&&!ym&&(Ha="virtual",Vf("virtual",e)),Pa=!1,ym=!1)}function wT(){Pa=!1,ym=!0}function a6(e){if(typeof window>"u"||eu.get(Zi(e)))return;const t=Zi(e),n=dr(e);let i=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){Ha="virtual",Vf("virtual",null),Pa=!0,i.apply(this,arguments)},n.addEventListener("keydown",Sh,!0),n.addEventListener("keyup",Sh,!0),n.addEventListener("click",xT,!0),t.addEventListener("focus",TT,!0),t.addEventListener("blur",wT,!1),typeof t.PointerEvent<"u"?(n.addEventListener("pointerdown",us,!0),n.addEventListener("pointermove",us,!0),n.addEventListener("pointerup",us,!0)):(n.addEventListener("mousedown",us,!0),n.addEventListener("mousemove",us,!0),n.addEventListener("mouseup",us,!0)),t.addEventListener("beforeunload",()=>{l6(e)},{once:!0}),eu.set(t,{focus:i})}var l6=(e,t)=>{const n=Zi(e),i=dr(e);eu.has(n)&&(n.HTMLElement.prototype.focus=eu.get(n).focus,i.removeEventListener("keydown",Sh,!0),i.removeEventListener("keyup",Sh,!0),i.removeEventListener("click",xT,!0),n.removeEventListener("focus",TT,!0),n.removeEventListener("blur",wT,!1),typeof n.PointerEvent<"u"?(i.removeEventListener("pointerdown",us,!0),i.removeEventListener("pointermove",us,!0),i.removeEventListener("pointerup",us,!0)):(i.removeEventListener("mousedown",us,!0),i.removeEventListener("mousemove",us,!0),i.removeEventListener("mouseup",us,!0)),eu.delete(n))};function xh(){return Ha==="keyboard"}function IT(e={}){const{isTextInput:t,autoFocus:n,onChange:i,root:s}=e;a6(s),i==null||i({isFocusVisible:n||xh(),modality:Ha});const r=(a,u)=>{r6(!!t,a,u)&&(i==null||i({isFocusVisible:xh(),modality:a}))};return vm.add(r),()=>{vm.delete(r)}}var c6=Object.defineProperty,u6=(e,t,n)=>t in e?c6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Oe=(e,t,n)=>u6(e,typeof t!="symbol"?t+"":t,n);function OT(e,...t){for(const n of t){const i=Te(n);for(const s in i)_i(n[s])?(e[s]||(e[s]={}),OT(e[s],n[s])):e[s]=n[s]}return e}function L0(e){return bn(e)}function _s(e){return q(e)?{type:e}:e}function Kr(e){return e?et(e)?e.slice():[e]:[]}function kT(e){return Ce(e)&&e.predicate!=null}var d6=()=>!0;function cy(e,t,n,i){return s=>{var r;return q(s)?!!((r=e[s])!=null&&r.call(e,t,n,i)):We(s)?s(t,n,i):s.predicate(e)(t,n,i)}}function h6(...e){return{predicate:t=>(n,i,s)=>e.map(cy(t,n,i,s)).some(Boolean)}}function f6(...e){return{predicate:t=>(n,i,s)=>e.map(cy(t,n,i,s)).every(Boolean)}}function p6(e){return{predicate:t=>(n,i,s)=>!cy(t,n,i,s)(e)}}function g6(...e){return(t,n,i)=>i.state.matches(...e)}var m6={or:h6,and:f6,not:p6,stateIn:g6};function AT(e,t){return e=e??d6,(n,i,s)=>{if(q(e)){const r=t[e];return We(r)?r(n,i,s):r}return kT(e)?e.predicate(t)(n,i,s):e==null?void 0:e(n,i,s)}}function Xp(e,t){return(n,i,s)=>kT(e)?e.predicate(t)(n,i,s):e}function v6(e){var r,a;const t=e.computed??ee({}),n=e.context??ee({}),i=e.initial?(a=(r=e.states)==null?void 0:r[e.initial])==null?void 0:a.tags:[],s=Yn({value:e.initial??"",previousValue:"",event:ee({}),previousEvent:ee({}),context:yi(n,t),done:!1,tags:i??[],hasTag(u){return this.tags.includes(u)},matches(...u){return u.includes(this.value)},can(u){return ee(this).nextEvents.includes(u)},get nextEvents(){var l,c;const u=((c=(l=e.states)==null?void 0:l[this.value])==null?void 0:c.on)??{},o=(e==null?void 0:e.on)??{};return Object.keys({...u,...o})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return ee(s)}function uc(e,t){return(n,i)=>{if(Ei(e))return e;if(We(e))return e(n,i);if(q(e)){const s=Number.parseFloat(e);if(!Number.isNaN(s))return s;if(t){const r=t==null?void 0:t[e];return He(r==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${e}\`. It doesn't exist in \`options.delays\``),We(r)?r(n,i):r}}}}function y6(e){return q(e)?{target:e}:e}function b6(e,t){return(n,i,s)=>Kr(e).map(y6).find(r=>AT(r.guard,t)(n,i,s)??r.target??r.actions)}var E6=class{constructor(t,n){var i,s,r,a,u;Oe(this,"status","Not Started"),Oe(this,"state"),Oe(this,"initialState"),Oe(this,"initialContext"),Oe(this,"id"),Oe(this,"type","machine"),Oe(this,"activityEvents",new Map),Oe(this,"delayedEvents",new Map),Oe(this,"stateListeners",new Set),Oe(this,"doneListeners",new Set),Oe(this,"contextWatchers",new Set),Oe(this,"removeStateListener",si),Oe(this,"parent"),Oe(this,"children",new Map),Oe(this,"guardMap"),Oe(this,"actionMap"),Oe(this,"delayMap"),Oe(this,"activityMap"),Oe(this,"sync"),Oe(this,"options"),Oe(this,"config"),Oe(this,"_created",()=>{var l;const o=_s("machine.created");this.executeActions((l=this.config)==null?void 0:l.created,o)}),Oe(this,"start",o=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=Pt(this.state,()=>{this.stateListeners.forEach(p=>{p(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(_s("machine.start"),Kr(this.config.activities),"machine.start"),this.executeActions(this.config.entry,_s("machine.start"));const l=_s("machine.init"),c=Ce(o)?o.value:o,d=Ce(o)?o.context:void 0;d&&this.setContext(d);const h={target:c??this.config.initial},f=this.getNextStateInfo(h,l);return this.initialState=f,this.performStateChangeEffects(this.state.value,f,l),this}),Oe(this,"setupContextWatchers",()=>{const{watch:o}=this.config;if(!o)return;let l=_e(this.state.context);const c=Pt(this.state.context,()=>{var h;const d=_e(this.state.context);for(const[f,p]of Object.entries(o))(((h=this.options.compareFns)==null?void 0:h[f])??Object.is)(l[f],d[f])||this.executeActions(p,this.state.event);l=d});this.contextWatchers.add(c)}),Oe(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,_s("machine.stop")),this.executeActions(this.config.exit,_s("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),Oe(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),Oe(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(o=>o()),this.contextWatchers.clear()}),Oe(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(o=>{o.forEach(l=>l())}),this.delayedEvents.clear()}),Oe(this,"stopActivities",o=>{var l,c;o?((l=this.activityEvents.get(o))==null||l.forEach(d=>d()),(c=this.activityEvents.get(o))==null||c.clear(),this.activityEvents.delete(o)):(this.activityEvents.forEach(d=>{d.forEach(h=>h()),d.clear()}),this.activityEvents.clear())}),Oe(this,"sendChild",(o,l)=>{const c=_s(o),d=$t(l,this.contextSnapshot),h=this.children.get(d);h||He(`[@zag-js/core] Cannot send '${c.type}' event to unknown child`),h.send(c)}),Oe(this,"stopChild",o=>{this.children.has(o)||He(`[@zag-js/core > stop-child] Cannot stop unknown child ${o}`),this.children.get(o).stop(),this.children.delete(o)}),Oe(this,"removeChild",o=>{this.children.delete(o)}),Oe(this,"stopChildren",()=>{this.children.forEach(o=>o.stop()),this.children.clear()}),Oe(this,"setParent",o=>{this.parent=o}),Oe(this,"spawn",(o,l)=>{const c=$t(o);return l&&(c.id=l),c.type="machine.actor",c.setParent(this),this.children.set(c.id,ee(c)),c.onDone(()=>{this.removeChild(c.id)}).start(),ee(Ke(c))}),Oe(this,"stopActivity",o=>{var c;if(!this.state.value)return;const l=this.activityEvents.get(this.state.value);(c=l==null?void 0:l.get(o))==null||c(),l==null||l.delete(o)}),Oe(this,"addActivityCleanup",(o,l,c)=>{var d;o&&(this.activityEvents.has(o)?(d=this.activityEvents.get(o))==null||d.set(l,c):this.activityEvents.set(o,new Map([[l,c]])))}),Oe(this,"setState",o=>{this.state.previousValue=this.state.value,this.state.value=o;const l=this.getStateNode(o);o==null?bi(this.state.tags):this.state.tags=Kr(l==null?void 0:l.tags)}),Oe(this,"setContext",o=>{o&&OT(this.state.context,Te(o))}),Oe(this,"setOptions",o=>{const l=Te(o);this.actionMap={...this.actionMap,...l.actions},this.delayMap={...this.delayMap,...l.delays},this.activityMap={...this.activityMap,...l.activities},this.guardMap={...this.guardMap,...l.guards}}),Oe(this,"getStateNode",o=>{var l;if(o)return(l=this.config.states)==null?void 0:l[o]}),Oe(this,"getNextStateInfo",(o,l)=>{const c=this.determineTransition(o,l),d=!(c!=null&&c.target),h=(c==null?void 0:c.target)??this.state.value,f=this.state.value!==h,p=this.getStateNode(h),m={reenter:!d&&!f&&!(c!=null&&c.internal),transition:c,stateNode:p,target:h,changed:f};return this.log("NextState:",`[${l.type}]`,this.state.value,"---->",m.target),m}),Oe(this,"getAfterActions",(o,l)=>{let c;const d=this.state.value;return{entry:()=>{c=globalThis.setTimeout(()=>{const h=this.getNextStateInfo(o,this.state.event);this.performStateChangeEffects(d,h,this.state.event)},l)},exit:()=>{globalThis.clearTimeout(c)}}}),Oe(this,"getDelayedEventActions",o=>{const l=this.getStateNode(o),c=this.state.event;if(!l||!l.after)return;const d=[],h=[];if(et(l.after)){const f=this.determineTransition(l.after,c);if(!f)return;if(!wn(f,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(f)}`);const g=uc(f.delay,this.delayMap)(this.contextSnapshot,c),m=this.getAfterActions(f,g);return d.push(m.entry),h.push(m.exit),{entries:d,exits:h}}if(Ce(l.after))for(const f in l.after){const p=l.after[f],m=uc(f,this.delayMap)(this.contextSnapshot,c),y=this.getAfterActions(p,m);d.push(y.entry),h.push(y.exit)}return{entries:d,exits:h}}),Oe(this,"executeActions",(o,l)=>{var d;const c=Xp(o,this.guardMap)(this.contextSnapshot,l,this.guardMeta);for(const h of Kr(c)){const f=q(h)?(d=this.actionMap)==null?void 0:d[h]:h;it(q(h)&&!f,`[@zag-js/core > execute-actions] No implementation found for action: \`${h}\``),f==null||f(this.state.context,l,this.meta)}}),Oe(this,"executeActivities",(o,l,c)=>{var d;for(const h of l){const f=q(h)?(d=this.activityMap)==null?void 0:d[h]:h;if(!f){it(`[@zag-js/core > execute-activity] No implementation found for activity: \`${h}\``);continue}const p=f(this.state.context,o,this.meta);if(p){const g=q(h)?h:h.name||Rt();this.addActivityCleanup(c??this.state.value,g,p)}}}),Oe(this,"createEveryActivities",(o,l)=>{if(o)if(et(o)){const c=Kr(o).find(p=>{const g=p.delay,y=uc(g,this.delayMap)(this.contextSnapshot,this.state.event);return AT(p.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??y!=null});if(!c)return;const h=uc(c.delay,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const p=globalThis.setInterval(()=>{this.executeActions(c.actions,this.state.event)},h);return()=>{globalThis.clearInterval(p)}})}else for(const c in o){const d=o==null?void 0:o[c],f=uc(c,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const g=globalThis.setInterval(()=>{this.executeActions(d,this.state.event)},f);return()=>{globalThis.clearInterval(g)}})}}),Oe(this,"setEvent",o=>{this.state.previousEvent=this.state.event,this.state.event=Ke(_s(o))}),Oe(this,"performExitEffects",(o,l)=>{const c=this.state.value;if(c==="")return;const d=o?this.getStateNode(o):void 0;this.stopActivities(c);const h=Xp(d==null?void 0:d.exit,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=Kr(h),p=this.delayedEvents.get(c);p&&f.push(...p),this.executeActions(f,l),this.delayedEvents.delete(c)}),Oe(this,"performEntryEffects",(o,l)=>{const c=this.getStateNode(o),d=Kr(c==null?void 0:c.activities);this.createEveryActivities(c==null?void 0:c.every,g=>{d.unshift(g)}),d.length>0&&this.executeActivities(l,d);const h=Xp(c==null?void 0:c.entry,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=Kr(h),p=this.getDelayedEventActions(o);c!=null&&c.after&&p&&(this.delayedEvents.set(o,p==null?void 0:p.exits),f.push(...p.entries)),this.executeActions(f,l),(c==null?void 0:c.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(g=>{g(this.stateSnapshot)}),this.stop())}),Oe(this,"performTransitionEffects",(o,l)=>{const c=this.determineTransition(o,l);this.executeActions(c==null?void 0:c.actions,l)}),Oe(this,"performStateChangeEffects",(o,l,c)=>{this.setEvent(c);const d=l.changed||l.reenter;d&&this.performExitEffects(o,c),this.performTransitionEffects(l.transition,c),this.setState(l.target),d&&this.performEntryEffects(l.target,c)}),Oe(this,"determineTransition",(o,l)=>{const c=b6(o,this.guardMap);return c==null?void 0:c(this.contextSnapshot,l,this.guardMeta)}),Oe(this,"sendParent",o=>{var c;this.parent||He("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const l=_s(o);(c=this.parent)==null||c.send(l)}),Oe(this,"log",(...o)=>{}),Oe(this,"send",o=>{const l=_s(o);this.transition(this.state.value,l)}),Oe(this,"transition",(o,l)=>{var p,g;const c=q(o)?this.getStateNode(o):o==null?void 0:o.stateNode,d=_s(l);if(!c&&!this.config.on){const m=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${o}, \`event\`: ${d.type}`;it(m);return}const h=((p=c==null?void 0:c.on)==null?void 0:p[d.type])??((g=this.config.on)==null?void 0:g[d.type]),f=this.getNextStateInfo(h,d);return this.performStateChangeEffects(this.state.value,f,d),f.stateNode}),Oe(this,"subscribe",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),()=>{this.stateListeners.delete(o)})),Oe(this,"onDone",o=>(this.doneListeners.add(o),this)),Oe(this,"onTransition",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),this)),this.config=L0(t),this.options=L0(n??{}),this.id=this.config.id??`machine-${Rt()}`,this.guardMap=((i=this.options)==null?void 0:i.guards)??{},this.actionMap=((s=this.options)==null?void 0:s.actions)??{},this.delayMap=((r=this.options)==null?void 0:r.delays)??{},this.activityMap=((a=this.options)==null?void 0:a.activities)??{},this.sync=((u=this.options)==null?void 0:u.sync)??!1,this.state=v6(this.config),this.initialContext=_e(this.state.context)}get stateSnapshot(){return ee(_e(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const t=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return t.stateSnapshot},get initialContext(){return t.initialContext},get initialState(){var n;return((n=t.initialState)==null?void 0:n.target)??""}}}get meta(){var t;return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:((t=this.initialState)==null?void 0:t.target)??"",getState:()=>this.stateSnapshot,getAction:n=>this.actionMap[n],getGuard:n=>this.guardMap[n]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){const t=this.getState();return{value:t.value,tags:t.tags}}},_6=(e,t)=>new E6(e,t),uy=e=>e.ownerDocument.defaultView||window;function PT(e,t){const{type:n="HTMLInputElement",property:i="value"}=t,s=uy(e)[n].prototype;return Object.getOwnPropertyDescriptor(s,i)??{}}function C6(e,t,n={}){var s;(s=PT(e,n).set)==null||s.call(e,t),e.setAttribute("value",t)}function $T(e,t){var i;(i=PT(e,{type:"HTMLInputElement",property:"checked"}).set)==null||i.call(e,t),t?e.setAttribute("checked",""):e.removeAttribute("checked")}function MT(e,t){const{value:n,bubbles:i=!0}=t;if(!e)return;const s=uy(e);e instanceof s.HTMLInputElement&&(C6(e,`${n}`),e.dispatchEvent(new s.Event("input",{bubbles:i})))}function NT(e,t){const{checked:n,bubbles:i=!0}=t;if(!e)return;const s=uy(e);e instanceof s.HTMLInputElement&&($T(e,n),e.dispatchEvent(new s.Event("click",{bubbles:i})))}function S6(e){return x6(e)?e.form:e.closest("form")}function x6(e){return e.matches("textarea, input, select, button")}function T6(e,t){if(!e)return;const n=S6(e);return n==null||n.addEventListener("reset",t,{passive:!0}),()=>{n==null||n.removeEventListener("reset",t)}}function w6(e,t){const n=e==null?void 0:e.closest("fieldset");if(!n)return;t(n.disabled);const i=n.ownerDocument.defaultView||window,s=new i.MutationObserver(()=>t(n.disabled));return s.observe(n,{attributes:!0,attributeFilter:["disabled"]}),()=>s.disconnect()}function Xl(e,t){if(!e)return;const{onFieldsetDisabledChange:n,onFormReset:i}=t,s=[T6(e,i),w6(e,n)];return()=>{s.forEach(r=>r==null?void 0:r())}}var RT=Dn("checkbox").parts("root","label","control","indicator"),bd=RT.build(),Wn=$i({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`checkbox:${e.id}`},getLabelId:e=>{var t;return((t=e.ids)==null?void 0:t.label)??`checkbox:${e.id}:label`},getControlId:e=>{var t;return((t=e.ids)==null?void 0:t.control)??`checkbox:${e.id}:control`},getHiddenInputId:e=>{var t;return((t=e.ids)==null?void 0:t.hiddenInput)??`checkbox:${e.id}:input`},getRootEl:e=>Wn.getById(e,Wn.getRootId(e)),getHiddenInputEl:e=>Wn.getById(e,Wn.getHiddenInputId(e))});function I6(e,t,n){const i=e.context.isDisabled,s=e.context.readOnly,r=!i&&e.context.focused,a=!i&&e.context.focusVisible,u=e.context.isChecked,o=e.context.isIndeterminate,l={"data-active":H(e.context.active),"data-focus":H(r),"data-focus-visible":H(a),"data-readonly":H(s),"data-hover":H(e.context.hovered),"data-disabled":H(i),"data-state":o?"indeterminate":e.context.checked?"checked":"unchecked","data-invalid":H(e.context.invalid)};return{checked:u,disabled:i,indeterminate:o,focused:r,checkedState:e.context.checked,setChecked(c){t({type:"CHECKED.SET",checked:c,isTrusted:!1})},toggleChecked(){t({type:"CHECKED.TOGGLE",checked:u,isTrusted:!1})},getRootProps(){return n.label({...bd.root.attrs,...l,dir:e.context.dir,id:Wn.getRootId(e.context),htmlFor:Wn.getHiddenInputId(e.context),onPointerMove(){i||t({type:"CONTEXT.SET",context:{hovered:!0}})},onPointerLeave(){i||t({type:"CONTEXT.SET",context:{hovered:!1}})},onClick(c){Qi(c)===Wn.getHiddenInputEl(e.context)&&c.stopPropagation()}})},getLabelProps(){return n.element({...bd.label.attrs,...l,dir:e.context.dir,id:Wn.getLabelId(e.context)})},getControlProps(){return n.element({...bd.control.attrs,...l,dir:e.context.dir,id:Wn.getControlId(e.context),"aria-hidden":!0})},getIndicatorProps(){return n.element({...bd.indicator.attrs,...l,dir:e.context.dir,hidden:!o&&!e.context.checked})},getHiddenInputProps(){return n.input({id:Wn.getHiddenInputId(e.context),type:"checkbox",required:e.context.required,defaultChecked:u,disabled:i,"aria-labelledby":Wn.getLabelId(e.context),"aria-invalid":e.context.invalid,name:e.context.name,form:e.context.form,value:e.context.value,style:Bu,onFocus(){const c=xh();t({type:"CONTEXT.SET",context:{focused:!0,focusVisible:c}})},onBlur(){t({type:"CONTEXT.SET",context:{focused:!1,focusVisible:!1}})},onClick(c){if(s){c.preventDefault();return}const d=c.currentTarget.checked;t({type:"CHECKED.SET",checked:d,isTrusted:!0})}})}}}var{not:F0}=m6;function O6(e){const t=Te(e);return _6({id:"checkbox",initial:"ready",context:{checked:!1,value:"on",disabled:!1,...t,fieldsetDisabled:!1,focusVisible:!1},watch:{disabled:"removeFocusIfNeeded",checked:"syncInputElement"},activities:["trackFormControlState","trackPressEvent","trackFocusVisible"],on:{"CHECKED.TOGGLE":[{guard:F0("isTrusted"),actions:["toggleChecked","dispatchChangeEvent"]},{actions:["toggleChecked"]}],"CHECKED.SET":[{guard:F0("isTrusted"),actions:["setChecked","dispatchChangeEvent"]},{actions:["setChecked"]}],"CONTEXT.SET":{actions:["setContext"]}},computed:{isIndeterminate:n=>bm(n.checked),isChecked:n=>V0(n.checked),isDisabled:n=>!!n.disabled||n.fieldsetDisabled},states:{ready:{}}},{guards:{isTrusted:(n,i)=>!!i.isTrusted},activities:{trackPressEvent(n){if(!n.isDisabled)return gR({pointerNode:Wn.getRootEl(n),keyboardNode:Wn.getHiddenInputEl(n),isValidKey:i=>i.key===" ",onPress:()=>n.active=!1,onPressStart:()=>n.active=!0,onPressEnd:()=>n.active=!1})},trackFocusVisible(n){if(!n.isDisabled)return IT({root:Wn.getRootNode(n)})},trackFormControlState(n,i,{send:s,initialContext:r}){return Xl(Wn.getHiddenInputEl(n),{onFieldsetDisabledChange(a){n.fieldsetDisabled=a},onFormReset(){s({type:"CHECKED.SET",checked:!!r.checked})}})}},actions:{setContext(n,i){Object.assign(n,i.context)},syncInputElement(n){const i=Wn.getHiddenInputEl(n);i&&($T(i,n.isChecked),i.indeterminate=n.isIndeterminate)},removeFocusIfNeeded(n){n.disabled&&n.focused&&(n.focused=!1,n.focusVisible=!1)},setChecked(n,i){B0.checked(n,i.checked)},toggleChecked(n){const i=bm(n.checked)?!0:!n.checked;B0.checked(n,i)},dispatchChangeEvent(n){const i=Wn.getHiddenInputEl(n);NT(i,{checked:V0(n.checked)})}}})}function bm(e){return e==="indeterminate"}function V0(e){return bm(e)?!1:!!e}var k6={change:e=>{var t;(t=e.onCheckedChange)==null||t.call(e,{checked:e.checked})}},B0={checked:(e,t)=>{dn(e.checked,t)||(e.checked=t,k6.change(e))}};tn()(["checked","dir","disabled","form","getRootNode","id","ids","invalid","name","onCheckedChange","readOnly","required","value"]);const[A6,P6]=vt("CheckboxGroupContext"),$6=(e,t)=>{const n=qn(),i=es(),s=Ri(Ni),r=Jn(),a=P6(),u=K(()=>Ho(e,(a==null?void 0:a.value.getItemProps({value:e.value}))??{})),o=K(()=>({id:n,ids:{label:r==null?void 0:r.value.ids.label,hiddenInput:r==null?void 0:r.value.ids.control},disabled:r==null?void 0:r.value.disabled,readOnly:r==null?void 0:r.value.readOnly,invalid:r==null?void 0:r.value.invalid,required:r==null?void 0:r.value.required,dir:s.value.dir,checked:u.value.defaultChecked,getRootNode:i==null?void 0:i.value.getRootNode,onCheckedChange(d){t==null||t("checkedChange",d),t==null||t("update:checked",d.checked)},...ts(u.value)})),[l,c]=Ci(O6(o.value),{context:o});return K(()=>I6(l.value,c,Mi))},[DT,Ku]=vt("CheckboxContext");function M6(e,t,n,i={}){var h,f,p;const{passive:s=!1,eventName:r,defaultValue:a}=i,u=vs(),o=n||(u==null?void 0:u.emit)||((h=u==null?void 0:u.$emit)==null?void 0:h.bind(u))||((p=(f=u==null?void 0:u.proxy)==null?void 0:f.$emit)==null?void 0:p.bind(u==null?void 0:u.proxy)),l=t,c=()=>e[l]??a,d=g=>{if(!r)o(r||`update:${l.toString()}`,g);else for(const m of r)o(m,g)};if(s){const g=c(),m=Xe(g);let y=!1;return Kt(()=>e[l],b=>{y||(y=!0,m.value=b,wa(()=>{y=!1}))}),Kt(m,b=>{!y&&b!==e[l]&&d(b)}),m}return K({get(){return c()},set(g){d(g)}})}function N6(e,t){const n=K(()=>!(e.disabled||e.readOnly)),{defaultValue:i}=jS(e),s=M6(e,"modelValue",t,{defaultValue:(i==null?void 0:i.value)??[],passive:e.modelValue===void 0,eventName:["valueChange","update:modelValue"]}),r=d=>s.value.some(h=>String(h)===String(d)),a=d=>{r(d)?o(d):u(d)},u=d=>{n.value&&(r(d)||(s.value=s.value.concat(d)))},o=d=>{n.value&&(s.value=s.value.filter(h=>String(h)!==String(d)))},l=d=>({checked:d.value!=null?r(d.value):void 0,onCheckedChange(){d.value!=null&&a(d.value)},name:e.name,disabled:e.disabled,readOnly:e.readOnly,invalid:e.invalid}),c=d=>{s.value=d};return K(()=>({isChecked:r,value:s.value,name:e.name,disabled:e.disabled,readOnly:e.readOnly,invalid:e.invalid,addValue:u,setValue:c,toggleValue:a,getItemProps:l}))}const R6=RT.extendWith("group"),D6=$({__name:"checkbox-context",setup(e){const t=Ku();return(n,i)=>B(n.$slots,"default",hn(on(v(t))))}}),L6=$({__name:"checkbox-control",props:{asChild:{type:Boolean}},setup(e){const t=Ku();return G(),(n,i)=>(C(),N(v(J).div,z(v(t).getControlProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),F6=$({__name:"checkbox-group",props:On({defaultValue:{},modelValue:{},disabled:{type:Boolean},readOnly:{type:Boolean},name:{},invalid:{type:Boolean},asChild:{type:Boolean}},{disabled:void 0,readOnly:void 0,invalid:void 0}),emits:["valueChange","update:modelValue"],setup(e,{emit:t}){const s=N6(e,t);return A6(s),G(),(r,a)=>(C(),N(v(J).div,z({role:"group"},{...v(R6).build().group.attrs},{"as-child":r.asChild}),{default:S(()=>[B(r.$slots,"default")]),_:3},16,["as-child"]))}}),V6=$({__name:"checkbox-hidden-input",props:{asChild:{type:Boolean}},setup(e){const t=Ku(),n=Jn();return G(),(i,s)=>{var r;return C(),N(v(J).input,z({"aria-describedby":(r=v(n))==null?void 0:r.ariaDescribedby},v(t).getHiddenInputProps(),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["aria-describedby","as-child"])}}}),B6=$({__name:"checkbox-indicator",props:{indeterminate:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,n=Ku(),i=K(()=>t.indeterminate?n.value.indeterminate:n.value.checked);return G(),(s,r)=>(C(),N(v(J).div,z(v(n).getIndicatorProps(),{hidden:!i.value,"as-child":s.asChild}),{default:S(()=>[B(s.$slots,"default")]),_:3},16,["hidden","as-child"]))}}),H6=$({__name:"checkbox-label",props:{asChild:{type:Boolean}},setup(e){const t=Ku();return G(),(n,i)=>(C(),N(v(J).span,z(v(t).getLabelProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),j6=$({__name:"checkbox-root-provider",props:{value:{},asChild:{type:Boolean}},setup(e){const t=e,n=K(()=>t.value);return DT(n),G(),(i,s)=>(C(),N(v(J).label,z(n.value.getRootProps(),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["as-child"]))}}),U6=$({__name:"checkbox-root",props:On({checked:{},defaultChecked:{},disabled:{type:Boolean},form:{},id:{},ids:{},invalid:{type:Boolean},name:{},readOnly:{type:Boolean},required:{type:Boolean},value:{},asChild:{type:Boolean}},{checked:void 0,defaultChecked:void 0,disabled:void 0,invalid:void 0,readOnly:void 0,required:void 0}),emits:["checkedChange","update:checked"],setup(e,{emit:t}){const s=$6(e,t);return DT(s),G(),(r,a)=>(C(),N(v(J).label,z(v(s).getRootProps(),{"as-child":r.asChild}),{default:S(()=>[B(r.$slots,"default")]),_:3},16,["as-child"]))}}),dc=Object.freeze(Object.defineProperty({__proto__:null,Context:D6,Control:L6,Group:F6,HiddenInput:V6,Indicator:B6,Label:H6,Root:U6,RootProvider:j6},Symbol.toStringTag,{value:"Module"})),dy=$({__name:"Checkbox",props:Vn({label:null},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=vn(e,"modelValue"),n=e;return(i,s)=>{const r=t6;return C(),N(v(dc).Root,{checked:t.value,"onUpdate:checked":s[0]||(s[0]=a=>t.value=a),class:"gap-2 flex items-center"},{default:S(()=>[O(v(dc).Control,{class:sn(["w-4 h-4 rounded-sm border bg-white border-zinc-400 cursor-pointer flex items-center justify-center text-white","data-[state=checked]:bg-gray-700 data-[state=checked]:border-gray-700"])},{default:S(()=>[O(v(dc).Indicator,null,{default:S(()=>[O(r,{class:"w-3"})]),_:1})]),_:1}),e.label?(C(),N(v(dc).Label,{key:0},{default:S(()=>[qe(ue(n.label),1)]),_:1})):nt("",!0),O(v(dc).HiddenInput)]),_:1},8,["checked"])}}}),G6={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function W6(e,t){return C(),te("svg",G6,t[0]||(t[0]=[F("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"m19.5 8.25l-7.5 7.5l-7.5-7.5"},null,-1)]))}const Fr=Et({name:"heroicons-chevron-down",render:W6}),z6={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function K6(e,t){return C(),te("svg",z6,t[0]||(t[0]=[F("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"m4.5 15.75l7.5-7.5l7.5 7.5"},null,-1)]))}const q6=Et({name:"heroicons-chevron-up",render:K6});function Y6(e,t){return(e%t+t)%t}function tu(e){if(typeof window.devicePixelRatio!="number")return Math.round(e);const t=window.devicePixelRatio;return Math.floor(e*t+.5)/t}function Ed(e,t){return Math.min(Math.max($a(e),t.min),t.max)}function H0(e){if(!Number.isFinite(e))return 0;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n+=1;return n}var J6=(e,t)=>LT($a(e),"+",t),X6=(e,t)=>LT($a(e),"-",t);function $a(e){return Number.isNaN(e)?0:e}function Z6(e,t){return $a(e)>=t.max}function Q6(e,t){return $a(e)<=t.min}function eG(e,t){return $a(e)>=t.min&&$a(e)<=t.max}function LT(e,t,n){let i=t==="+"?e+n:e-n;if(e%1!==0||n%1!==0){const s=10**Math.max(H0(e),H0(n));e=Math.round(e*s),n=Math.round(n*s),i=t==="+"?e+n:e-n,i/=s}return i}var tG=Object.defineProperty,nG=(e,t,n)=>t in e?tG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ke=(e,t,n)=>nG(e,typeof t!="symbol"?t+"":t,n);function FT(e,...t){for(const n of t){const i=Te(n);for(const s in i)_i(n[s])?(e[s]||(e[s]={}),FT(e[s],n[s])):e[s]=n[s]}return e}function j0(e){return bn(e)}function Cs(e){return q(e)?{type:e}:e}function qr(e){return e?et(e)?e.slice():[e]:[]}function VT(e){return Ce(e)&&e.predicate!=null}var BT=()=>!0;function Bf(e,t,n,i){return s=>{var r;return q(s)?!!((r=e[s])!=null&&r.call(e,t,n,i)):We(s)?s(t,n,i):s.predicate(e)(t,n,i)}}function iG(...e){return{predicate:t=>(n,i,s)=>e.map(Bf(t,n,i,s)).some(Boolean)}}function sG(...e){return{predicate:t=>(n,i,s)=>e.map(Bf(t,n,i,s)).every(Boolean)}}function rG(e){return{predicate:t=>(n,i,s)=>!Bf(t,n,i,s)(e)}}function oG(...e){return(t,n,i)=>i.state.matches(...e)}var aG={or:iG,and:sG,not:rG,stateIn:oG};function lG(e){return{predicate:t=>(n,i,s)=>{var r;return(r=e.find(a=>{const u=a.guard??BT;return Bf(t,n,i,s)(u)}))==null?void 0:r.actions}}}function HT(e,t){return e=e??BT,(n,i,s)=>{if(q(e)){const r=t[e];return We(r)?r(n,i,s):r}return VT(e)?e.predicate(t)(n,i,s):e==null?void 0:e(n,i,s)}}function Zp(e,t){return(n,i,s)=>VT(e)?e.predicate(t)(n,i,s):e}function cG(e){var r,a;const t=e.computed??ee({}),n=e.context??ee({}),i=e.initial?(a=(r=e.states)==null?void 0:r[e.initial])==null?void 0:a.tags:[],s=Yn({value:e.initial??"",previousValue:"",event:ee({}),previousEvent:ee({}),context:yi(n,t),done:!1,tags:i??[],hasTag(u){return this.tags.includes(u)},matches(...u){return u.includes(this.value)},can(u){return ee(this).nextEvents.includes(u)},get nextEvents(){var l,c;const u=((c=(l=e.states)==null?void 0:l[this.value])==null?void 0:c.on)??{},o=(e==null?void 0:e.on)??{};return Object.keys({...u,...o})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return ee(s)}function hc(e,t){return(n,i)=>{if(Ei(e))return e;if(We(e))return e(n,i);if(q(e)){const s=Number.parseFloat(e);if(!Number.isNaN(s))return s;if(t){const r=t==null?void 0:t[e];return He(r==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${e}\`. It doesn't exist in \`options.delays\``),We(r)?r(n,i):r}}}}function uG(e){return q(e)?{target:e}:e}function dG(e,t){return(n,i,s)=>qr(e).map(uG).find(r=>HT(r.guard,t)(n,i,s)??r.target??r.actions)}var hG=class{constructor(t,n){var i,s,r,a,u;ke(this,"status","Not Started"),ke(this,"state"),ke(this,"initialState"),ke(this,"initialContext"),ke(this,"id"),ke(this,"type","machine"),ke(this,"activityEvents",new Map),ke(this,"delayedEvents",new Map),ke(this,"stateListeners",new Set),ke(this,"doneListeners",new Set),ke(this,"contextWatchers",new Set),ke(this,"removeStateListener",si),ke(this,"parent"),ke(this,"children",new Map),ke(this,"guardMap"),ke(this,"actionMap"),ke(this,"delayMap"),ke(this,"activityMap"),ke(this,"sync"),ke(this,"options"),ke(this,"config"),ke(this,"_created",()=>{var l;const o=Cs("machine.created");this.executeActions((l=this.config)==null?void 0:l.created,o)}),ke(this,"start",o=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=Pt(this.state,()=>{this.stateListeners.forEach(p=>{p(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(Cs("machine.start"),qr(this.config.activities),"machine.start"),this.executeActions(this.config.entry,Cs("machine.start"));const l=Cs("machine.init"),c=Ce(o)?o.value:o,d=Ce(o)?o.context:void 0;d&&this.setContext(d);const h={target:c??this.config.initial},f=this.getNextStateInfo(h,l);return this.initialState=f,this.performStateChangeEffects(this.state.value,f,l),this}),ke(this,"setupContextWatchers",()=>{const{watch:o}=this.config;if(!o)return;let l=_e(this.state.context);const c=Pt(this.state.context,()=>{var h;const d=_e(this.state.context);for(const[f,p]of Object.entries(o))(((h=this.options.compareFns)==null?void 0:h[f])??Object.is)(l[f],d[f])||this.executeActions(p,this.state.event);l=d});this.contextWatchers.add(c)}),ke(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,Cs("machine.stop")),this.executeActions(this.config.exit,Cs("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),ke(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),ke(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(o=>o()),this.contextWatchers.clear()}),ke(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(o=>{o.forEach(l=>l())}),this.delayedEvents.clear()}),ke(this,"stopActivities",o=>{var l,c;o?((l=this.activityEvents.get(o))==null||l.forEach(d=>d()),(c=this.activityEvents.get(o))==null||c.clear(),this.activityEvents.delete(o)):(this.activityEvents.forEach(d=>{d.forEach(h=>h()),d.clear()}),this.activityEvents.clear())}),ke(this,"sendChild",(o,l)=>{const c=Cs(o),d=$t(l,this.contextSnapshot),h=this.children.get(d);h||He(`[@zag-js/core] Cannot send '${c.type}' event to unknown child`),h.send(c)}),ke(this,"stopChild",o=>{this.children.has(o)||He(`[@zag-js/core > stop-child] Cannot stop unknown child ${o}`),this.children.get(o).stop(),this.children.delete(o)}),ke(this,"removeChild",o=>{this.children.delete(o)}),ke(this,"stopChildren",()=>{this.children.forEach(o=>o.stop()),this.children.clear()}),ke(this,"setParent",o=>{this.parent=o}),ke(this,"spawn",(o,l)=>{const c=$t(o);return l&&(c.id=l),c.type="machine.actor",c.setParent(this),this.children.set(c.id,ee(c)),c.onDone(()=>{this.removeChild(c.id)}).start(),ee(Ke(c))}),ke(this,"stopActivity",o=>{var c;if(!this.state.value)return;const l=this.activityEvents.get(this.state.value);(c=l==null?void 0:l.get(o))==null||c(),l==null||l.delete(o)}),ke(this,"addActivityCleanup",(o,l,c)=>{var d;o&&(this.activityEvents.has(o)?(d=this.activityEvents.get(o))==null||d.set(l,c):this.activityEvents.set(o,new Map([[l,c]])))}),ke(this,"setState",o=>{this.state.previousValue=this.state.value,this.state.value=o;const l=this.getStateNode(o);o==null?bi(this.state.tags):this.state.tags=qr(l==null?void 0:l.tags)}),ke(this,"setContext",o=>{o&&FT(this.state.context,Te(o))}),ke(this,"setOptions",o=>{const l=Te(o);this.actionMap={...this.actionMap,...l.actions},this.delayMap={...this.delayMap,...l.delays},this.activityMap={...this.activityMap,...l.activities},this.guardMap={...this.guardMap,...l.guards}}),ke(this,"getStateNode",o=>{var l;if(o)return(l=this.config.states)==null?void 0:l[o]}),ke(this,"getNextStateInfo",(o,l)=>{const c=this.determineTransition(o,l),d=!(c!=null&&c.target),h=(c==null?void 0:c.target)??this.state.value,f=this.state.value!==h,p=this.getStateNode(h),m={reenter:!d&&!f&&!(c!=null&&c.internal),transition:c,stateNode:p,target:h,changed:f};return this.log("NextState:",`[${l.type}]`,this.state.value,"---->",m.target),m}),ke(this,"getAfterActions",(o,l)=>{let c;const d=this.state.value;return{entry:()=>{c=globalThis.setTimeout(()=>{const h=this.getNextStateInfo(o,this.state.event);this.performStateChangeEffects(d,h,this.state.event)},l)},exit:()=>{globalThis.clearTimeout(c)}}}),ke(this,"getDelayedEventActions",o=>{const l=this.getStateNode(o),c=this.state.event;if(!l||!l.after)return;const d=[],h=[];if(et(l.after)){const f=this.determineTransition(l.after,c);if(!f)return;if(!wn(f,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(f)}`);const g=hc(f.delay,this.delayMap)(this.contextSnapshot,c),m=this.getAfterActions(f,g);return d.push(m.entry),h.push(m.exit),{entries:d,exits:h}}if(Ce(l.after))for(const f in l.after){const p=l.after[f],m=hc(f,this.delayMap)(this.contextSnapshot,c),y=this.getAfterActions(p,m);d.push(y.entry),h.push(y.exit)}return{entries:d,exits:h}}),ke(this,"executeActions",(o,l)=>{var d;const c=Zp(o,this.guardMap)(this.contextSnapshot,l,this.guardMeta);for(const h of qr(c)){const f=q(h)?(d=this.actionMap)==null?void 0:d[h]:h;it(q(h)&&!f,`[@zag-js/core > execute-actions] No implementation found for action: \`${h}\``),f==null||f(this.state.context,l,this.meta)}}),ke(this,"executeActivities",(o,l,c)=>{var d;for(const h of l){const f=q(h)?(d=this.activityMap)==null?void 0:d[h]:h;if(!f){it(`[@zag-js/core > execute-activity] No implementation found for activity: \`${h}\``);continue}const p=f(this.state.context,o,this.meta);if(p){const g=q(h)?h:h.name||Rt();this.addActivityCleanup(c??this.state.value,g,p)}}}),ke(this,"createEveryActivities",(o,l)=>{if(o)if(et(o)){const c=qr(o).find(p=>{const g=p.delay,y=hc(g,this.delayMap)(this.contextSnapshot,this.state.event);return HT(p.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??y!=null});if(!c)return;const h=hc(c.delay,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const p=globalThis.setInterval(()=>{this.executeActions(c.actions,this.state.event)},h);return()=>{globalThis.clearInterval(p)}})}else for(const c in o){const d=o==null?void 0:o[c],f=hc(c,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const g=globalThis.setInterval(()=>{this.executeActions(d,this.state.event)},f);return()=>{globalThis.clearInterval(g)}})}}),ke(this,"setEvent",o=>{this.state.previousEvent=this.state.event,this.state.event=Ke(Cs(o))}),ke(this,"performExitEffects",(o,l)=>{const c=this.state.value;if(c==="")return;const d=o?this.getStateNode(o):void 0;this.stopActivities(c);const h=Zp(d==null?void 0:d.exit,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=qr(h),p=this.delayedEvents.get(c);p&&f.push(...p),this.executeActions(f,l),this.delayedEvents.delete(c)}),ke(this,"performEntryEffects",(o,l)=>{const c=this.getStateNode(o),d=qr(c==null?void 0:c.activities);this.createEveryActivities(c==null?void 0:c.every,g=>{d.unshift(g)}),d.length>0&&this.executeActivities(l,d);const h=Zp(c==null?void 0:c.entry,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=qr(h),p=this.getDelayedEventActions(o);c!=null&&c.after&&p&&(this.delayedEvents.set(o,p==null?void 0:p.exits),f.push(...p.entries)),this.executeActions(f,l),(c==null?void 0:c.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(g=>{g(this.stateSnapshot)}),this.stop())}),ke(this,"performTransitionEffects",(o,l)=>{const c=this.determineTransition(o,l);this.executeActions(c==null?void 0:c.actions,l)}),ke(this,"performStateChangeEffects",(o,l,c)=>{this.setEvent(c);const d=l.changed||l.reenter;d&&this.performExitEffects(o,c),this.performTransitionEffects(l.transition,c),this.setState(l.target),d&&this.performEntryEffects(l.target,c)}),ke(this,"determineTransition",(o,l)=>{const c=dG(o,this.guardMap);return c==null?void 0:c(this.contextSnapshot,l,this.guardMeta)}),ke(this,"sendParent",o=>{var c;this.parent||He("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const l=Cs(o);(c=this.parent)==null||c.send(l)}),ke(this,"log",(...o)=>{}),ke(this,"send",o=>{const l=Cs(o);this.transition(this.state.value,l)}),ke(this,"transition",(o,l)=>{var p,g;const c=q(o)?this.getStateNode(o):o==null?void 0:o.stateNode,d=Cs(l);if(!c&&!this.config.on){const m=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${o}, \`event\`: ${d.type}`;it(m);return}const h=((p=c==null?void 0:c.on)==null?void 0:p[d.type])??((g=this.config.on)==null?void 0:g[d.type]),f=this.getNextStateInfo(h,d);return this.performStateChangeEffects(this.state.value,f,d),f.stateNode}),ke(this,"subscribe",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),()=>{this.stateListeners.delete(o)})),ke(this,"onDone",o=>(this.doneListeners.add(o),this)),ke(this,"onTransition",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),this)),this.config=j0(t),this.options=j0(n??{}),this.id=this.config.id??`machine-${Rt()}`,this.guardMap=((i=this.options)==null?void 0:i.guards)??{},this.actionMap=((s=this.options)==null?void 0:s.actions)??{},this.delayMap=((r=this.options)==null?void 0:r.delays)??{},this.activityMap=((a=this.options)==null?void 0:a.activities)??{},this.sync=((u=this.options)==null?void 0:u.sync)??!1,this.state=cG(this.config),this.initialContext=_e(this.state.context)}get stateSnapshot(){return ee(_e(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const t=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return t.stateSnapshot},get initialContext(){return t.initialContext},get initialState(){var n;return((n=t.initialState)==null?void 0:n.target)??""}}}get meta(){var t;return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:((t=this.initialState)==null?void 0:t.target)??"",getState:()=>this.stateSnapshot,getAction:n=>this.actionMap[n],getGuard:n=>this.guardMap[n]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){const t=this.getState();return{value:t.value,tags:t.tags}}},fG=(e,t)=>new hG(e,t);let Qp=new Map,Em=!1;try{Em=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let Th=!1;try{Th=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const jT={degree:{narrow:{default:"°","ja-JP":" 度","zh-TW":"度","sl-SI":" °"}}};class pG{format(t){let n="";if(!Em&&this.options.signDisplay!=null?n=mG(this.numberFormatter,this.options.signDisplay,t):n=this.numberFormatter.format(t),this.options.style==="unit"&&!Th){var i;let{unit:s,unitDisplay:r="short",locale:a}=this.resolvedOptions();if(!s)return n;let u=(i=jT[s])===null||i===void 0?void 0:i[r];n+=u[a]||u.default}return n}formatToParts(t){return this.numberFormatter.formatToParts(t)}formatRange(t,n){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(t,n);if(n<t)throw new RangeError("End date must be >= start date");return`${this.format(t)} – ${this.format(n)}`}formatRangeToParts(t,n){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(t,n);if(n<t)throw new RangeError("End date must be >= start date");let i=this.numberFormatter.formatToParts(t),s=this.numberFormatter.formatToParts(n);return[...i.map(r=>({...r,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...s.map(r=>({...r,source:"endRange"}))]}resolvedOptions(){let t=this.numberFormatter.resolvedOptions();return!Em&&this.options.signDisplay!=null&&(t={...t,signDisplay:this.options.signDisplay}),!Th&&this.options.style==="unit"&&(t={...t,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),t}constructor(t,n={}){this.numberFormatter=gG(t,n),this.options=n}}function gG(e,t={}){let{numberingSystem:n}=t;if(n&&e.includes("-nu-")&&(e.includes("-u-")||(e+="-u-"),e+=`-nu-${n}`),t.style==="unit"&&!Th){var i;let{unit:a,unitDisplay:u="short"}=t;if(!a)throw new Error('unit option must be provided with style: "unit"');if(!(!((i=jT[a])===null||i===void 0)&&i[u]))throw new Error(`Unsupported unit ${a} with unitDisplay = ${u}`);t={...t,style:"decimal"}}let s=e+(t?Object.entries(t).sort((a,u)=>a[0]<u[0]?-1:1).join():"");if(Qp.has(s))return Qp.get(s);let r=new Intl.NumberFormat(e,t);return Qp.set(s,r),r}function mG(e,t,n){if(t==="auto")return e.format(n);if(t==="never")return e.format(Math.abs(n));{let i=!1;if(t==="always"?i=n>0||Object.is(n,0):t==="exceptZero"&&(Object.is(n,-0)||Object.is(n,0)?n=Math.abs(n):i=n>0),i){let s=e.format(-n),r=e.format(n),a=s.replace(r,"").replace(/\u200e|\u061C/,"");return[...a].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),s.replace(r,"!!!").replace(a,"+").replace("!!!",r)}else return e.format(n)}}const vG=new RegExp("^.*\\(.*\\).*$"),yG=["latn","arab","hanidec"];class UT{parse(t){return eg(this.locale,this.options,t).parse(t)}isValidPartialNumber(t,n,i){return eg(this.locale,this.options,t).isValidPartialNumber(t,n,i)}getNumberingSystem(t){return eg(this.locale,this.options,t).options.numberingSystem}constructor(t,n={}){this.locale=t,this.options=n}}const U0=new Map;function eg(e,t,n){let i=G0(e,t);if(!e.includes("-nu-")&&!i.isValidPartialNumber(n)){for(let s of yG)if(s!==i.options.numberingSystem){let r=G0(e+(e.includes("-u-")?"-nu-":"-u-nu-")+s,t);if(r.isValidPartialNumber(n))return r}}return i}function G0(e,t){let n=e+(t?Object.entries(t).sort((s,r)=>s[0]<r[0]?-1:1).join():""),i=U0.get(n);return i||(i=new bG(e,t),U0.set(n,i)),i}class bG{parse(t){let n=this.sanitize(t);if(this.symbols.group&&(n=_d(n,this.symbols.group,"")),this.symbols.decimal&&(n=n.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(n=n.replace(this.symbols.minusSign,"-")),n=n.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let a=n.indexOf("-");n=n.replace("-","");let u=n.indexOf(".");u===-1&&(u=n.length),n=n.replace(".",""),u-2===0?n=`0.${n}`:u-2===-1?n=`0.0${n}`:u-2===-2?n="0.00":n=`${n.slice(0,u-2)}.${n.slice(u-2)}`,a>-1&&(n=`-${n}`)}let i=n?+n:NaN;if(isNaN(i))return NaN;if(this.options.style==="percent"){var s,r;let a={...this.options,style:"decimal",minimumFractionDigits:Math.min(((s=this.options.minimumFractionDigits)!==null&&s!==void 0?s:0)+2,20),maximumFractionDigits:Math.min(((r=this.options.maximumFractionDigits)!==null&&r!==void 0?r:0)+2,20)};return new UT(this.locale,a).parse(new pG(this.locale,a).format(i))}return this.options.currencySign==="accounting"&&vG.test(t)&&(i=-1*i),i}sanitize(t){return t=t.replace(this.symbols.literals,""),this.symbols.minusSign&&(t=t.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(t=t.replace(",",this.symbols.decimal),t=t.replace("،",this.symbols.decimal)),this.symbols.group&&(t=_d(t,".",this.symbols.group))),this.options.locale==="fr-FR"&&(t=_d(t,"."," ")),t}isValidPartialNumber(t,n=-1/0,i=1/0){return t=this.sanitize(t),this.symbols.minusSign&&t.startsWith(this.symbols.minusSign)&&n<0?t=t.slice(this.symbols.minusSign.length):this.symbols.plusSign&&t.startsWith(this.symbols.plusSign)&&i>0&&(t=t.slice(this.symbols.plusSign.length)),this.symbols.group&&t.startsWith(this.symbols.group)||this.symbols.decimal&&t.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(t=_d(t,this.symbols.group,"")),t=t.replace(this.symbols.numeral,""),this.symbols.decimal&&(t=t.replace(this.symbols.decimal,"")),t.length===0)}constructor(t,n={}){this.locale=t,this.formatter=new Intl.NumberFormat(t,n),this.options=this.formatter.resolvedOptions(),this.symbols=_G(t,this.formatter,this.options,n);var i,s;this.options.style==="percent"&&(((i=this.options.minimumFractionDigits)!==null&&i!==void 0?i:0)>18||((s=this.options.maximumFractionDigits)!==null&&s!==void 0?s:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}}const W0=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),EG=[0,4,2,1,11,20,3,7,100,21,.1,1.1];function _G(e,t,n,i){var s,r,a,u;let o=new Intl.NumberFormat(e,{...n,minimumSignificantDigits:1,maximumSignificantDigits:21}),l=o.formatToParts(-10000.111),c=o.formatToParts(10000.111),d=EG.map(j=>o.formatToParts(j));var h;let f=(h=(s=l.find(j=>j.type==="minusSign"))===null||s===void 0?void 0:s.value)!==null&&h!==void 0?h:"-",p=(r=c.find(j=>j.type==="plusSign"))===null||r===void 0?void 0:r.value;!p&&((i==null?void 0:i.signDisplay)==="exceptZero"||(i==null?void 0:i.signDisplay)==="always")&&(p="+");let m=(a=new Intl.NumberFormat(e,{...n,minimumFractionDigits:2,maximumFractionDigits:2}).formatToParts(.001).find(j=>j.type==="decimal"))===null||a===void 0?void 0:a.value,y=(u=l.find(j=>j.type==="group"))===null||u===void 0?void 0:u.value,b=l.filter(j=>!W0.has(j.type)).map(j=>z0(j.value)),E=d.flatMap(j=>j.filter(se=>!W0.has(se.type)).map(se=>z0(se.value))),_=[...new Set([...b,...E])].sort((j,se)=>se.length-j.length),I=_.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${_.join("|")}|[\\p{White_Space}]`,"gu"),M=[...new Intl.NumberFormat(n.locale,{useGrouping:!1}).format(9876543210)].reverse(),R=new Map(M.map((j,se)=>[j,se])),X=new RegExp(`[${M.join("")}]`,"g");return{minusSign:f,plusSign:p,decimal:m,group:y,literals:I,numeral:X,index:j=>String(R.get(j))}}function _d(e,t,n){return e.replaceAll?e.replaceAll(t,n):e.split(t).join(n)}function z0(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var CG=Dn("numberInput").parts("root","label","input","control","valueText","incrementTrigger","decrementTrigger","scrubber"),Hr=CG.build(),ct=$i({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`number-input:${e.id}`},getInputId:e=>{var t;return((t=e.ids)==null?void 0:t.input)??`number-input:${e.id}:input`},getIncrementTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.incrementTrigger)??`number-input:${e.id}:inc`},getDecrementTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.decrementTrigger)??`number-input:${e.id}:dec`},getScrubberId:e=>{var t;return((t=e.ids)==null?void 0:t.scrubber)??`number-input:${e.id}:scrubber`},getCursorId:e=>`number-input:${e.id}:cursor`,getLabelId:e=>{var t;return((t=e.ids)==null?void 0:t.label)??`number-input:${e.id}:label`},getInputEl:e=>ct.getById(e,ct.getInputId(e)),getIncrementTriggerEl:e=>ct.getById(e,ct.getIncrementTriggerId(e)),getDecrementTriggerEl:e=>ct.getById(e,ct.getDecrementTriggerId(e)),getScrubberEl:e=>ct.getById(e,ct.getScrubberId(e)),getCursorEl:e=>ct.getDoc(e).getElementById(ct.getCursorId(e)),getPressedTriggerEl:(e,t=e.hint)=>{let n=null;return t==="increment"&&(n=ct.getIncrementTriggerEl(e)),t==="decrement"&&(n=ct.getDecrementTriggerEl(e)),n},setupVirtualCursor(e){if(!wf())return ct.createVirtualCursor(e),()=>{var t;(t=ct.getCursorEl(e))==null||t.remove()}},preventTextSelection(e){const t=ct.getDoc(e),n=t.documentElement,i=t.body;return i.style.pointerEvents="none",n.style.userSelect="none",n.style.cursor="ew-resize",()=>{i.style.pointerEvents="",n.style.userSelect="",n.style.cursor="",n.style.length||n.removeAttribute("style"),i.style.length||i.removeAttribute("style")}},getMousementValue(e,t){const n=tu(t.movementX),i=tu(t.movementY);let s=n>0?"increment":n<0?"decrement":null;e.isRtl&&s==="increment"&&(s="decrement"),e.isRtl&&s==="decrement"&&(s="increment");const r={x:e.scrubberCursorPoint.x+n,y:e.scrubberCursorPoint.y+i},u=ct.getWin(e).innerWidth,o=tu(7.5);return r.x=Y6(r.x+o,u)-o,{hint:s,point:r}},createVirtualCursor(e){const t=ct.getDoc(e),n=t.createElement("div");n.className="scrubber--cursor",n.id=ct.getCursorId(e),Object.assign(n.style,{width:"15px",height:"15px",position:"fixed",pointerEvents:"none",left:"0px",top:"0px",zIndex:DM,transform:e.scrubberCursorPoint?`translate3d(${e.scrubberCursorPoint.x}px, ${e.scrubberCursorPoint.y}px, 0px)`:void 0,willChange:"transform"}),n.innerHTML=`
        <svg width="46" height="15" style="left: -15.5px; position: absolute; top: 0; filter: drop-shadow(rgba(0, 0, 0, 0.4) 0px 1px 1.1px);">
          <g transform="translate(2 3)">
            <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z" style="stroke-width: 2px; stroke: white;"></path>
            <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z"></path>
          </g>
        </svg>`,t.body.appendChild(n)}});function SG(e,t,n){const i=e.hasTag("focus"),s=e.context.isDisabled,r=e.context.readOnly,a=e.context.isValueEmpty,u=e.context.isOutOfRange||!!e.context.invalid,o=s||!e.context.canIncrement||r,l=s||!e.context.canDecrement||r,c=e.context.translations;return{focused:i,invalid:u,empty:a,value:e.context.formattedValue,valueAsNumber:e.context.valueAsNumber,setValue(d){t({type:"VALUE.SET",value:d})},clearValue(){t("VALUE.CLEAR")},increment(){t("VALUE.INCREMENT")},decrement(){t("VALUE.DECREMENT")},setToMax(){t({type:"VALUE.SET",value:e.context.max})},setToMin(){t({type:"VALUE.SET",value:e.context.min})},focus(){var d;(d=ct.getInputEl(e.context))==null||d.focus()},getRootProps(){return n.element({id:ct.getRootId(e.context),...Hr.root.attrs,dir:e.context.dir,"data-disabled":H(s),"data-focus":H(i),"data-invalid":H(u)})},getLabelProps(){return n.label({...Hr.label.attrs,dir:e.context.dir,"data-disabled":H(s),"data-focus":H(i),"data-invalid":H(u),id:ct.getLabelId(e.context),htmlFor:ct.getInputId(e.context)})},getControlProps(){return n.element({...Hr.control.attrs,dir:e.context.dir,role:"group","aria-disabled":s,"data-focus":H(i),"data-disabled":H(s),"data-invalid":H(u),"aria-invalid":_o(e.context.invalid)})},getValueTextProps(){return n.element({...Hr.valueText.attrs,dir:e.context.dir,"data-disabled":H(s),"data-invalid":H(u),"data-focus":H(i)})},getInputProps(){return n.input({...Hr.input.attrs,dir:e.context.dir,name:e.context.name,form:e.context.form,id:ct.getInputId(e.context),role:"spinbutton",defaultValue:e.context.formattedValue,pattern:e.context.pattern,inputMode:e.context.inputMode,"aria-invalid":_o(u),"data-invalid":H(u),disabled:s,"data-disabled":H(s),readOnly:e.context.readOnly,required:e.context.required,autoComplete:"off",autoCorrect:"off",spellCheck:"false",type:"text","aria-roledescription":"numberfield","aria-valuemin":e.context.min,"aria-valuemax":e.context.max,"aria-valuenow":Number.isNaN(e.context.valueAsNumber)?void 0:e.context.valueAsNumber,"aria-valuetext":e.context.valueText,onFocus(){t("INPUT.FOCUS")},onBlur(){t("INPUT.BLUR")},onChange(d){t({type:"INPUT.CHANGE",target:d.currentTarget,hint:"set"})},onBeforeInput(d){try{const{selectionStart:h,selectionEnd:f,value:p}=d.currentTarget,g=p.slice(0,h)+(d.data??"")+p.slice(f);e.context.parser.isValidPartialNumber(g)||d.preventDefault()}catch{}},onKeyDown(d){if(d.defaultPrevented||r||px(d))return;const h=ph(d)*e.context.step,p={ArrowUp(){t({type:"INPUT.ARROW_UP",step:h}),d.preventDefault()},ArrowDown(){t({type:"INPUT.ARROW_DOWN",step:h}),d.preventDefault()},Home(){Ml(d)||(t("INPUT.HOME"),d.preventDefault())},End(){Ml(d)||(t("INPUT.END"),d.preventDefault())},Enter(){t("INPUT.ENTER")}}[d.key];p==null||p(d)}})},getDecrementTriggerProps(){return n.button({...Hr.decrementTrigger.attrs,dir:e.context.dir,id:ct.getDecrementTriggerId(e.context),disabled:l,"data-disabled":H(l),"aria-label":c.decrementLabel,type:"button",tabIndex:-1,"aria-controls":ct.getInputId(e.context),onPointerDown(d){var h;l||!$l(d)||(t({type:"TRIGGER.PRESS_DOWN",hint:"decrement",pointerType:d.pointerType}),d.pointerType==="mouse"&&d.preventDefault(),d.pointerType==="touch"&&((h=d.currentTarget)==null||h.focus({preventScroll:!0})))},onPointerUp(d){t({type:"TRIGGER.PRESS_UP",hint:"decrement",pointerType:d.pointerType})},onPointerLeave(){l||t({type:"TRIGGER.PRESS_UP",hint:"decrement"})}})},getIncrementTriggerProps(){return n.button({...Hr.incrementTrigger.attrs,dir:e.context.dir,id:ct.getIncrementTriggerId(e.context),disabled:o,"data-disabled":H(o),"aria-label":c.incrementLabel,type:"button",tabIndex:-1,"aria-controls":ct.getInputId(e.context),onPointerDown(d){var h;o||!$l(d)||(t({type:"TRIGGER.PRESS_DOWN",hint:"increment",pointerType:d.pointerType}),d.pointerType==="mouse"&&d.preventDefault(),d.pointerType==="touch"&&((h=d.currentTarget)==null||h.focus({preventScroll:!0})))},onPointerUp(d){t({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:d.pointerType})},onPointerLeave(d){t({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:d.pointerType})}})},getScrubberProps(){return n.element({...Hr.scrubber.attrs,dir:e.context.dir,"data-disabled":H(s),id:ct.getScrubberId(e.context),role:"presentation",onMouseDown(d){if(s)return;const h=Ar(d);h.x=h.x-tu(7.5),h.y=h.y-tu(7.5),t({type:"SCRUBBER.PRESS_DOWN",point:h}),d.preventDefault()},style:{cursor:s?void 0:"ew-resize"}})}}}function xG(e){if(e.ownerDocument.activeElement===e)try{const{selectionStart:t,selectionEnd:n,value:i}=e,s=i.substring(0,t),r=i.substring(n);return{start:t,end:n,value:i,beforeTxt:s,afterTxt:r}}catch{}}function TG(e,t){if(e.ownerDocument.activeElement===e){if(!t){e.setSelectionRange(e.value.length,e.value.length);return}try{const{value:n}=e,{beforeTxt:i="",afterTxt:s="",start:r}=t;let a=n.length;if(n.endsWith(s))a=n.length-s.length;else if(n.startsWith(i))a=i.length;else if(r!=null){const u=i[r-1],o=n.indexOf(u,r-1);o!==-1&&(a=o+1)}e.setSelectionRange(a,a)}catch{}}}var K0=(e,t={})=>Ke(new Intl.NumberFormat(e,t)),q0=(e,t={})=>Ke(new UT(e,t)),Y0=(e,t)=>e.formatOptions?e.parser.parse(String(t)):parseFloat(t),ia=(e,t)=>Number.isNaN(t)?"":e.formatOptions?e.formatter.format(t):t.toString(),{not:tg,and:Cd}=aG;function wG(e){const t=Te(e);return fG({id:"number-input",initial:"idle",context:{dir:"ltr",locale:"en-US",focusInputOnChange:!0,clampValueOnBlur:!0,allowOverflow:!1,inputMode:"decimal",pattern:"[0-9]*(.[0-9]+)?",value:"",step:1,min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,invalid:!1,spinOnPress:!0,disabled:!1,readOnly:!1,...t,hint:null,scrubberCursorPoint:null,fieldsetDisabled:!1,formatter:K0(t.locale||"en-US",t.formatOptions),parser:q0(t.locale||"en-US",t.formatOptions),translations:{incrementLabel:"increment value",decrementLabel:"decrease value",...t.translations}},computed:{isRtl:n=>n.dir==="rtl",valueAsNumber:n=>Y0(n,n.value),formattedValue:n=>ia(n,n.valueAsNumber),isAtMin:n=>Q6(n.valueAsNumber,n),isAtMax:n=>Z6(n.valueAsNumber,n),isOutOfRange:n=>!eG(n.valueAsNumber,n),isValueEmpty:n=>n.value==="",isDisabled:n=>!!n.disabled||n.fieldsetDisabled,canIncrement:n=>n.allowOverflow||!n.isAtMax,canDecrement:n=>n.allowOverflow||!n.isAtMin,valueText:n=>{var i,s;return(s=(i=n.translations).valueText)==null?void 0:s.call(i,n.value)}},watch:{formatOptions:["setFormatterAndParser","syncInputElement"],locale:["setFormatterAndParser","syncInputElement"],value:["syncInputElement"],isOutOfRange:["invokeOnInvalid"],scrubberCursorPoint:["setVirtualCursorPosition"]},activities:["trackFormControl"],on:{"VALUE.SET":{actions:["setRawValue","setHintToSet"]},"VALUE.CLEAR":{actions:["clearValue"]},"VALUE.INCREMENT":{actions:["increment"]},"VALUE.DECREMENT":{actions:["decrement"]}},states:{idle:{on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","invokeOnFocus","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","invokeOnFocus","setHint","setCursorPoint"]},"INPUT.FOCUS":{target:"focused",actions:["focusInput","invokeOnFocus"]}}},focused:{tags:"focus",activities:"attachWheelListener",on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","setHint","setCursorPoint"]},"INPUT.ARROW_UP":{actions:"increment"},"INPUT.ARROW_DOWN":{actions:"decrement"},"INPUT.HOME":{actions:"decrementToMin"},"INPUT.END":{actions:"incrementToMax"},"INPUT.CHANGE":{actions:["setValue","setHint"]},"INPUT.BLUR":[{guard:Cd("clampValueOnBlur",tg("isInRange")),target:"idle",actions:["setClampedValue","clearHint","invokeOnBlur"]},{target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur"]}],"INPUT.ENTER":{actions:["setFormattedValue","clearHint","invokeOnBlur"]}}},"before:spin":{tags:"focus",activities:"trackButtonDisabled",entry:lG([{guard:"isIncrementHint",actions:"increment"},{guard:"isDecrementHint",actions:"decrement"}]),after:{CHANGE_DELAY:{target:"spinning",guard:Cd("isInRange","spinOnPress")}},on:{"TRIGGER.PRESS_UP":[{guard:"isTouchPointer",target:"focused",actions:"clearHint"},{target:"focused",actions:["focusInput","clearHint"]}]}},spinning:{tags:"focus",activities:"trackButtonDisabled",every:[{delay:"CHANGE_INTERVAL",guard:Cd(tg("isAtMin"),"isIncrementHint"),actions:"increment"},{delay:"CHANGE_INTERVAL",guard:Cd(tg("isAtMax"),"isDecrementHint"),actions:"decrement"}],on:{"TRIGGER.PRESS_UP":{target:"focused",actions:["focusInput","clearHint"]}}},scrubbing:{tags:"focus",activities:["activatePointerLock","trackMousemove","setupVirtualCursor","preventTextSelection"],on:{"SCRUBBER.POINTER_UP":{target:"focused",actions:["focusInput","clearCursorPoint"]},"SCRUBBER.POINTER_MOVE":[{guard:"isIncrementHint",actions:["increment","setCursorPoint"]},{guard:"isDecrementHint",actions:["decrement","setCursorPoint"]}]}}}},{delays:{CHANGE_INTERVAL:50,CHANGE_DELAY:300},guards:{clampValueOnBlur:n=>n.clampValueOnBlur,isAtMin:n=>n.isAtMin,spinOnPress:n=>!!n.spinOnPress,isAtMax:n=>n.isAtMax,isInRange:n=>!n.isOutOfRange,isDecrementHint:(n,i)=>(i.hint??n.hint)==="decrement",isIncrementHint:(n,i)=>(i.hint??n.hint)==="increment",isTouchPointer:(n,i)=>i.pointerType==="touch"},activities:{trackFormControl(n,i,{initialContext:s}){const r=ct.getInputEl(n);return Xl(r,{onFieldsetDisabledChange(a){n.fieldsetDisabled=a},onFormReset(){Zs.value(n,s.value)}})},setupVirtualCursor(n){return ct.setupVirtualCursor(n)},preventTextSelection(n){return ct.preventTextSelection(n)},trackButtonDisabled(n,i,{send:s}){const r=ct.getPressedTriggerEl(n,n.hint);return kf(r,{attributes:["disabled"],callback(){s({type:"TRIGGER.PRESS_UP",src:"attr"})}})},attachWheelListener(n,i,{send:s}){const r=ct.getInputEl(n);if(!r||!ct.isActiveElement(n,r)||!n.allowMouseWheel)return;function a(u){u.preventDefault();const o=Math.sign(u.deltaY)*-1;o===1?s("VALUE.INCREMENT"):o===-1&&s("VALUE.DECREMENT")}return gn(r,"wheel",a,{passive:!1})},activatePointerLock(n){if(!wf())return uR(ct.getDoc(n))},trackMousemove(n,i,{send:s}){const r=ct.getDoc(n);function a(o){if(!n.scrubberCursorPoint)return;const l=ct.getMousementValue(n,o);l.hint&&s({type:"SCRUBBER.POINTER_MOVE",hint:l.hint,point:l.point})}function u(){s("SCRUBBER.POINTER_UP")}return Eu(gn(r,"mousemove",a,!1),gn(r,"mouseup",u,!1))}},actions:{focusInput(n){if(!n.focusInputOnChange)return;const i=ct.getInputEl(n);ct.isActiveElement(n,i)||Je(()=>i==null?void 0:i.focus({preventScroll:!0}))},increment(n,i){const s=J6(n.valueAsNumber,i.step??n.step),r=ia(n,Ed(s,n));Zs.value(n,r)},decrement(n,i){const s=X6(n.valueAsNumber,i.step??n.step),r=ia(n,Ed(s,n));Zs.value(n,r)},setClampedValue(n){const i=Ed(n.valueAsNumber,n);Zs.value(n,ia(n,i))},setRawValue(n,i){const s=Y0(n,i.value),r=ia(n,Ed(s,n));Zs.value(n,r)},setValue(n,i){var r;const s=((r=i.target)==null?void 0:r.value)??i.value;Zs.value(n,s)},clearValue(n){Zs.value(n,"")},incrementToMax(n){const i=ia(n,n.max);Zs.value(n,i)},decrementToMin(n){const i=ia(n,n.min);Zs.value(n,i)},setHint(n,i){n.hint=i.hint},clearHint(n){n.hint=null},setHintToSet(n){n.hint="set"},invokeOnFocus(n){var i;(i=n.onFocusChange)==null||i.call(n,{focused:!0,value:n.formattedValue,valueAsNumber:n.valueAsNumber})},invokeOnBlur(n){var i;(i=n.onFocusChange)==null||i.call(n,{focused:!1,value:n.formattedValue,valueAsNumber:n.valueAsNumber})},invokeOnInvalid(n){var s;if(!n.isOutOfRange)return;const i=n.valueAsNumber>n.max?"rangeOverflow":"rangeUnderflow";(s=n.onValueInvalid)==null||s.call(n,{reason:i,value:n.formattedValue,valueAsNumber:n.valueAsNumber})},syncInputElement(n,i){const s=i.type.endsWith("CHANGE")?n.value:n.formattedValue;IG.input(n,s)},setFormattedValue(n){Zs.value(n,n.formattedValue)},setCursorPoint(n,i){n.scrubberCursorPoint=i.point},clearCursorPoint(n){n.scrubberCursorPoint=null},setVirtualCursorPosition(n){const i=ct.getCursorEl(n);if(!i||!n.scrubberCursorPoint)return;const{x:s,y:r}=n.scrubberCursorPoint;i.style.transform=`translate3d(${s}px, ${r}px, 0px)`},setFormatterAndParser(n){n.locale&&(n.formatter=K0(n.locale,n.formatOptions),n.parser=q0(n.locale,n.formatOptions))}},compareFns:{formatOptions:(n,i)=>dn(n,i),scrubberCursorPoint:(n,i)=>dn(n,i)}})}var IG={input(e,t){const n=ct.getInputEl(e);if(!n)return;const i=xG(n);Je(()=>{ct.setValue(n,t),TG(n,i)})}},OG={onChange:e=>{var t;(t=e.onValueChange)==null||t.call(e,{value:e.value,valueAsNumber:e.valueAsNumber})}},Zs={value:(e,t)=>{dn(e.value,t)||(e.value=t,OG.onChange(e))}};const kG=(e,t)=>{const n=qn(),i=es(),s=Ri(Ni),r=Jn(),a=K(()=>({id:n,ids:{label:r==null?void 0:r.value.ids.label,input:r==null?void 0:r.value.ids.control},disabled:r==null?void 0:r.value.disabled,readOnly:r==null?void 0:r.value.readOnly,required:r==null?void 0:r.value.required,invalid:r==null?void 0:r.value.invalid,dir:s.value.dir,value:e.modelValue??e.defaultValue,getRootNode:i==null?void 0:i.value.getRootNode,onValueChange:l=>{t==null||t("valueChange",l),t==null||t("update:modelValue",l.value)},onFocusChange:l=>t==null?void 0:t("focusChange",l),onValueInvalid:l=>t==null?void 0:t("valueInvalid",l),...ts(e)})),[u,o]=Ci(wG(a.value),{context:a});return K(()=>SG(u.value,o,Mi))},[GT,Go]=vt("NumberInputContext"),AG=$({__name:"number-input-context",setup(e){const t=Go();return(n,i)=>B(n.$slots,"default",hn(on(v(t))))}}),PG=$({__name:"number-input-control",props:{asChild:{type:Boolean}},setup(e){const t=Go();return G(),(n,i)=>(C(),N(v(J).div,z(v(t).getControlProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),$G=$({__name:"number-input-decrement-trigger",props:{asChild:{type:Boolean}},setup(e){const t=Go();return G(),(n,i)=>(C(),N(v(J).button,z(v(t).getDecrementTriggerProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),MG=$({__name:"number-input-increment-trigger",props:{asChild:{type:Boolean}},setup(e){const t=Go();return G(),(n,i)=>(C(),N(v(J).button,z(v(t).getIncrementTriggerProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),NG=$({__name:"number-input-value-text",props:{asChild:{type:Boolean}},setup(e){const t=Go();return G(),(n,i)=>(C(),N(v(J).span,z(v(t).getValueTextProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),RG=$({__name:"number-input-input",props:{asChild:{type:Boolean}},setup(e){const t=Go(),n=Jn();return G(),(i,s)=>{var r;return C(),N(v(J).input,z({"aria-describedby":(r=v(n))==null?void 0:r.ariaDescribedby},v(t).getInputProps(),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["aria-describedby","as-child"])}}}),DG=$({__name:"number-input-label",props:{asChild:{type:Boolean}},setup(e){const t=Go();return G(),(n,i)=>(C(),N(v(J).label,z(v(t).getLabelProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),LG=$({__name:"number-input-root-provider",props:{value:{},asChild:{type:Boolean}},setup(e){const t=e,n=K(()=>t.value);return GT(n),G(),(i,s)=>(C(),N(v(J).div,z(n.value.getRootProps(),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["as-child"]))}}),FG=$({__name:"number-input-root",props:On({allowMouseWheel:{type:Boolean},allowOverflow:{type:Boolean},clampValueOnBlur:{type:Boolean},defaultValue:{},disabled:{type:Boolean},focusInputOnChange:{type:Boolean},form:{},formatOptions:{},id:{},ids:{},inputMode:{},invalid:{type:Boolean},locale:{},max:{},min:{},modelValue:{},name:{},pattern:{},readOnly:{type:Boolean},required:{type:Boolean},spinOnPress:{type:Boolean},step:{},translations:{},asChild:{type:Boolean}},{allowMouseWheel:void 0,allowOverflow:void 0,clampValueOnBlur:void 0,disabled:void 0,focusInputOnChange:void 0,invalid:void 0,readOnly:void 0,required:void 0,spinOnPress:void 0}),emits:["focusChange","valueChange","valueInvalid","update:modelValue"],setup(e,{emit:t}){const s=kG(e,t);return GT(s),G(),(r,a)=>(C(),N(v(J).div,z(v(s).getRootProps(),{"as-child":r.asChild}),{default:S(()=>[B(r.$slots,"default")]),_:3},16,["as-child"]))}}),VG=$({__name:"number-input-scrubber",props:{asChild:{type:Boolean}},setup(e){const t=Go();return G(),(n,i)=>(C(),N(v(J).div,z(v(t).getScrubberProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),el=Object.freeze(Object.defineProperty({__proto__:null,Context:AG,Control:PG,DecrementTrigger:$G,IncrementTrigger:MG,Input:RG,Label:DG,Root:FG,RootProvider:LG,Scrubber:VG,ValueText:NG},Symbol.toStringTag,{value:"Module"})),BG=$({__name:"NumberInput",props:Vn({label:null},{modelValue:{default:"0"},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=vn(e,"modelValue"),n=e;return(i,s)=>{const r=q6,a=Fr;return C(),N(v(el).Root,{modelValue:t.value,"onUpdate:modelValue":s[0]||(s[0]=u=>t.value=u),class:"flex flex-col gap-1.5"},{default:S(()=>[O(v(el).Label,{class:"text-sm font-medium"},{default:S(()=>[qe(ue(n.label),1)]),_:1}),O(v(el).Control,{class:sn(["ps-3 h-10 overflow-hidden","text-md","border rounded","grid grid-cols-[1fr_32px] grid-rows-[1fr_1fr]","focus-within:ring focus-within:ring-gray-700"])},{default:S(()=>[O(v(el).Input,{class:"border-none bg-transparent row-span-2 outline-none w-full"}),O(v(el).IncrementTrigger,{class:"text-gray-600 cursor-pointer inline-flex items-center justify-center border-s border-e-0"},{default:S(()=>[O(r,{class:"w-4"})]),_:1}),O(v(el).DecrementTrigger,{class:"text-gray-600 cursor-pointer inline-flex items-center justify-center border-t border-s border-e-0"},{default:S(()=>[O(a,{class:"w-4"})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}});var HG=Object.defineProperty,jG=(e,t,n)=>t in e?HG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ae=(e,t,n)=>jG(e,typeof t!="symbol"?t+"":t,n);function WT(e,...t){for(const n of t){const i=Te(n);for(const s in i)_i(n[s])?(e[s]||(e[s]={}),WT(e[s],n[s])):e[s]=n[s]}return e}function J0(e){return bn(e)}function Ss(e){return q(e)?{type:e}:e}function Yr(e){return e?et(e)?e.slice():[e]:[]}function zT(e){return Ce(e)&&e.predicate!=null}var UG=()=>!0;function hy(e,t,n,i){return s=>{var r;return q(s)?!!((r=e[s])!=null&&r.call(e,t,n,i)):We(s)?s(t,n,i):s.predicate(e)(t,n,i)}}function GG(...e){return{predicate:t=>(n,i,s)=>e.map(hy(t,n,i,s)).some(Boolean)}}function WG(...e){return{predicate:t=>(n,i,s)=>e.map(hy(t,n,i,s)).every(Boolean)}}function zG(e){return{predicate:t=>(n,i,s)=>!hy(t,n,i,s)(e)}}function KG(...e){return(t,n,i)=>i.state.matches(...e)}var qG={or:GG,and:WG,not:zG,stateIn:KG};function KT(e,t){return e=e??UG,(n,i,s)=>{if(q(e)){const r=t[e];return We(r)?r(n,i,s):r}return zT(e)?e.predicate(t)(n,i,s):e==null?void 0:e(n,i,s)}}function ng(e,t){return(n,i,s)=>zT(e)?e.predicate(t)(n,i,s):e}function YG(e){var r,a;const t=e.computed??ee({}),n=e.context??ee({}),i=e.initial?(a=(r=e.states)==null?void 0:r[e.initial])==null?void 0:a.tags:[],s=Yn({value:e.initial??"",previousValue:"",event:ee({}),previousEvent:ee({}),context:yi(n,t),done:!1,tags:i??[],hasTag(u){return this.tags.includes(u)},matches(...u){return u.includes(this.value)},can(u){return ee(this).nextEvents.includes(u)},get nextEvents(){var l,c;const u=((c=(l=e.states)==null?void 0:l[this.value])==null?void 0:c.on)??{},o=(e==null?void 0:e.on)??{};return Object.keys({...u,...o})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return ee(s)}function fc(e,t){return(n,i)=>{if(Ei(e))return e;if(We(e))return e(n,i);if(q(e)){const s=Number.parseFloat(e);if(!Number.isNaN(s))return s;if(t){const r=t==null?void 0:t[e];return He(r==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${e}\`. It doesn't exist in \`options.delays\``),We(r)?r(n,i):r}}}}function JG(e){return q(e)?{target:e}:e}function XG(e,t){return(n,i,s)=>Yr(e).map(JG).find(r=>KT(r.guard,t)(n,i,s)??r.target??r.actions)}var ZG=class{constructor(t,n){var i,s,r,a,u;Ae(this,"status","Not Started"),Ae(this,"state"),Ae(this,"initialState"),Ae(this,"initialContext"),Ae(this,"id"),Ae(this,"type","machine"),Ae(this,"activityEvents",new Map),Ae(this,"delayedEvents",new Map),Ae(this,"stateListeners",new Set),Ae(this,"doneListeners",new Set),Ae(this,"contextWatchers",new Set),Ae(this,"removeStateListener",si),Ae(this,"parent"),Ae(this,"children",new Map),Ae(this,"guardMap"),Ae(this,"actionMap"),Ae(this,"delayMap"),Ae(this,"activityMap"),Ae(this,"sync"),Ae(this,"options"),Ae(this,"config"),Ae(this,"_created",()=>{var l;const o=Ss("machine.created");this.executeActions((l=this.config)==null?void 0:l.created,o)}),Ae(this,"start",o=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=Pt(this.state,()=>{this.stateListeners.forEach(p=>{p(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(Ss("machine.start"),Yr(this.config.activities),"machine.start"),this.executeActions(this.config.entry,Ss("machine.start"));const l=Ss("machine.init"),c=Ce(o)?o.value:o,d=Ce(o)?o.context:void 0;d&&this.setContext(d);const h={target:c??this.config.initial},f=this.getNextStateInfo(h,l);return this.initialState=f,this.performStateChangeEffects(this.state.value,f,l),this}),Ae(this,"setupContextWatchers",()=>{const{watch:o}=this.config;if(!o)return;let l=_e(this.state.context);const c=Pt(this.state.context,()=>{var h;const d=_e(this.state.context);for(const[f,p]of Object.entries(o))(((h=this.options.compareFns)==null?void 0:h[f])??Object.is)(l[f],d[f])||this.executeActions(p,this.state.event);l=d});this.contextWatchers.add(c)}),Ae(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,Ss("machine.stop")),this.executeActions(this.config.exit,Ss("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),Ae(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),Ae(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(o=>o()),this.contextWatchers.clear()}),Ae(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(o=>{o.forEach(l=>l())}),this.delayedEvents.clear()}),Ae(this,"stopActivities",o=>{var l,c;o?((l=this.activityEvents.get(o))==null||l.forEach(d=>d()),(c=this.activityEvents.get(o))==null||c.clear(),this.activityEvents.delete(o)):(this.activityEvents.forEach(d=>{d.forEach(h=>h()),d.clear()}),this.activityEvents.clear())}),Ae(this,"sendChild",(o,l)=>{const c=Ss(o),d=$t(l,this.contextSnapshot),h=this.children.get(d);h||He(`[@zag-js/core] Cannot send '${c.type}' event to unknown child`),h.send(c)}),Ae(this,"stopChild",o=>{this.children.has(o)||He(`[@zag-js/core > stop-child] Cannot stop unknown child ${o}`),this.children.get(o).stop(),this.children.delete(o)}),Ae(this,"removeChild",o=>{this.children.delete(o)}),Ae(this,"stopChildren",()=>{this.children.forEach(o=>o.stop()),this.children.clear()}),Ae(this,"setParent",o=>{this.parent=o}),Ae(this,"spawn",(o,l)=>{const c=$t(o);return l&&(c.id=l),c.type="machine.actor",c.setParent(this),this.children.set(c.id,ee(c)),c.onDone(()=>{this.removeChild(c.id)}).start(),ee(Ke(c))}),Ae(this,"stopActivity",o=>{var c;if(!this.state.value)return;const l=this.activityEvents.get(this.state.value);(c=l==null?void 0:l.get(o))==null||c(),l==null||l.delete(o)}),Ae(this,"addActivityCleanup",(o,l,c)=>{var d;o&&(this.activityEvents.has(o)?(d=this.activityEvents.get(o))==null||d.set(l,c):this.activityEvents.set(o,new Map([[l,c]])))}),Ae(this,"setState",o=>{this.state.previousValue=this.state.value,this.state.value=o;const l=this.getStateNode(o);o==null?bi(this.state.tags):this.state.tags=Yr(l==null?void 0:l.tags)}),Ae(this,"setContext",o=>{o&&WT(this.state.context,Te(o))}),Ae(this,"setOptions",o=>{const l=Te(o);this.actionMap={...this.actionMap,...l.actions},this.delayMap={...this.delayMap,...l.delays},this.activityMap={...this.activityMap,...l.activities},this.guardMap={...this.guardMap,...l.guards}}),Ae(this,"getStateNode",o=>{var l;if(o)return(l=this.config.states)==null?void 0:l[o]}),Ae(this,"getNextStateInfo",(o,l)=>{const c=this.determineTransition(o,l),d=!(c!=null&&c.target),h=(c==null?void 0:c.target)??this.state.value,f=this.state.value!==h,p=this.getStateNode(h),m={reenter:!d&&!f&&!(c!=null&&c.internal),transition:c,stateNode:p,target:h,changed:f};return this.log("NextState:",`[${l.type}]`,this.state.value,"---->",m.target),m}),Ae(this,"getAfterActions",(o,l)=>{let c;const d=this.state.value;return{entry:()=>{c=globalThis.setTimeout(()=>{const h=this.getNextStateInfo(o,this.state.event);this.performStateChangeEffects(d,h,this.state.event)},l)},exit:()=>{globalThis.clearTimeout(c)}}}),Ae(this,"getDelayedEventActions",o=>{const l=this.getStateNode(o),c=this.state.event;if(!l||!l.after)return;const d=[],h=[];if(et(l.after)){const f=this.determineTransition(l.after,c);if(!f)return;if(!wn(f,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(f)}`);const g=fc(f.delay,this.delayMap)(this.contextSnapshot,c),m=this.getAfterActions(f,g);return d.push(m.entry),h.push(m.exit),{entries:d,exits:h}}if(Ce(l.after))for(const f in l.after){const p=l.after[f],m=fc(f,this.delayMap)(this.contextSnapshot,c),y=this.getAfterActions(p,m);d.push(y.entry),h.push(y.exit)}return{entries:d,exits:h}}),Ae(this,"executeActions",(o,l)=>{var d;const c=ng(o,this.guardMap)(this.contextSnapshot,l,this.guardMeta);for(const h of Yr(c)){const f=q(h)?(d=this.actionMap)==null?void 0:d[h]:h;it(q(h)&&!f,`[@zag-js/core > execute-actions] No implementation found for action: \`${h}\``),f==null||f(this.state.context,l,this.meta)}}),Ae(this,"executeActivities",(o,l,c)=>{var d;for(const h of l){const f=q(h)?(d=this.activityMap)==null?void 0:d[h]:h;if(!f){it(`[@zag-js/core > execute-activity] No implementation found for activity: \`${h}\``);continue}const p=f(this.state.context,o,this.meta);if(p){const g=q(h)?h:h.name||Rt();this.addActivityCleanup(c??this.state.value,g,p)}}}),Ae(this,"createEveryActivities",(o,l)=>{if(o)if(et(o)){const c=Yr(o).find(p=>{const g=p.delay,y=fc(g,this.delayMap)(this.contextSnapshot,this.state.event);return KT(p.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??y!=null});if(!c)return;const h=fc(c.delay,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const p=globalThis.setInterval(()=>{this.executeActions(c.actions,this.state.event)},h);return()=>{globalThis.clearInterval(p)}})}else for(const c in o){const d=o==null?void 0:o[c],f=fc(c,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const g=globalThis.setInterval(()=>{this.executeActions(d,this.state.event)},f);return()=>{globalThis.clearInterval(g)}})}}),Ae(this,"setEvent",o=>{this.state.previousEvent=this.state.event,this.state.event=Ke(Ss(o))}),Ae(this,"performExitEffects",(o,l)=>{const c=this.state.value;if(c==="")return;const d=o?this.getStateNode(o):void 0;this.stopActivities(c);const h=ng(d==null?void 0:d.exit,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=Yr(h),p=this.delayedEvents.get(c);p&&f.push(...p),this.executeActions(f,l),this.delayedEvents.delete(c)}),Ae(this,"performEntryEffects",(o,l)=>{const c=this.getStateNode(o),d=Yr(c==null?void 0:c.activities);this.createEveryActivities(c==null?void 0:c.every,g=>{d.unshift(g)}),d.length>0&&this.executeActivities(l,d);const h=ng(c==null?void 0:c.entry,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=Yr(h),p=this.getDelayedEventActions(o);c!=null&&c.after&&p&&(this.delayedEvents.set(o,p==null?void 0:p.exits),f.push(...p.entries)),this.executeActions(f,l),(c==null?void 0:c.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(g=>{g(this.stateSnapshot)}),this.stop())}),Ae(this,"performTransitionEffects",(o,l)=>{const c=this.determineTransition(o,l);this.executeActions(c==null?void 0:c.actions,l)}),Ae(this,"performStateChangeEffects",(o,l,c)=>{this.setEvent(c);const d=l.changed||l.reenter;d&&this.performExitEffects(o,c),this.performTransitionEffects(l.transition,c),this.setState(l.target),d&&this.performEntryEffects(l.target,c)}),Ae(this,"determineTransition",(o,l)=>{const c=XG(o,this.guardMap);return c==null?void 0:c(this.contextSnapshot,l,this.guardMeta)}),Ae(this,"sendParent",o=>{var c;this.parent||He("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const l=Ss(o);(c=this.parent)==null||c.send(l)}),Ae(this,"log",(...o)=>{}),Ae(this,"send",o=>{const l=Ss(o);this.transition(this.state.value,l)}),Ae(this,"transition",(o,l)=>{var p,g;const c=q(o)?this.getStateNode(o):o==null?void 0:o.stateNode,d=Ss(l);if(!c&&!this.config.on){const m=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${o}, \`event\`: ${d.type}`;it(m);return}const h=((p=c==null?void 0:c.on)==null?void 0:p[d.type])??((g=this.config.on)==null?void 0:g[d.type]),f=this.getNextStateInfo(h,d);return this.performStateChangeEffects(this.state.value,f,d),f.stateNode}),Ae(this,"subscribe",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),()=>{this.stateListeners.delete(o)})),Ae(this,"onDone",o=>(this.doneListeners.add(o),this)),Ae(this,"onTransition",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),this)),this.config=J0(t),this.options=J0(n??{}),this.id=this.config.id??`machine-${Rt()}`,this.guardMap=((i=this.options)==null?void 0:i.guards)??{},this.actionMap=((s=this.options)==null?void 0:s.actions)??{},this.delayMap=((r=this.options)==null?void 0:r.delays)??{},this.activityMap=((a=this.options)==null?void 0:a.activities)??{},this.sync=((u=this.options)==null?void 0:u.sync)??!1,this.state=YG(this.config),this.initialContext=_e(this.state.context)}get stateSnapshot(){return ee(_e(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const t=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return t.stateSnapshot},get initialContext(){return t.initialContext},get initialState(){var n;return((n=t.initialState)==null?void 0:n.target)??""}}}get meta(){var t;return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:((t=this.initialState)==null?void 0:t.target)??"",getState:()=>this.stateSnapshot,getAction:n=>this.actionMap[n],getGuard:n=>this.guardMap[n]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){const t=this.getState();return{value:t.value,tags:t.tags}}},QG=(e,t)=>new ZG(e,t),_m,ca=new Map,e8=e=>e.getBoundingClientRect();function t8(e,t){const{scope:n="rect",getRect:i=e8,onChange:s}=t,r=n8({scope:n,getRect:i}),a=ca.get(e);return a?(a.callbacks.push(s),s(i(e))):(ca.set(e,{rect:{},callbacks:[s]}),ca.size===1&&(_m=requestAnimationFrame(r))),function(){const o=ca.get(e);if(!o)return;const l=o.callbacks.indexOf(s);l>-1&&o.callbacks.splice(l,1),o.callbacks.length===0&&(ca.delete(e),ca.size===0&&cancelAnimationFrame(_m))}}function n8(e){const{scope:t,getRect:n}=e,i=s8(t);return function s(){const r=[];ca.forEach((a,u)=>{const o=n(u);i(a.rect,o)||(a.rect=o,r.push(a))}),r.forEach(a=>{a.callbacks.forEach(u=>u(a.rect))}),_m=requestAnimationFrame(s)}}var qT=(e,t)=>e.width===t.width&&e.height===t.height,YT=(e,t)=>e.top===t.top&&e.left===t.left,i8=(e,t)=>qT(e,t)&&YT(e,t);function s8(e){return e==="size"?qT:e==="position"?YT:i8}var r8=Dn("radio-group").parts("root","label","item","itemText","itemControl","indicator"),tl=r8.build(),Tt=$i({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`radio-group:${e.id}`},getLabelId:e=>{var t;return((t=e.ids)==null?void 0:t.label)??`radio-group:${e.id}:label`},getItemId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.item)==null?void 0:i.call(n,t))??`radio-group:${e.id}:radio:${t}`},getItemHiddenInputId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.itemHiddenInput)==null?void 0:i.call(n,t))??`radio-group:${e.id}:radio:input:${t}`},getItemControlId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.itemControl)==null?void 0:i.call(n,t))??`radio-group:${e.id}:radio:control:${t}`},getItemLabelId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.itemLabel)==null?void 0:i.call(n,t))??`radio-group:${e.id}:radio:label:${t}`},getIndicatorId:e=>{var t;return((t=e.ids)==null?void 0:t.indicator)??`radio-group:${e.id}:indicator`},getRootEl:e=>Tt.getById(e,Tt.getRootId(e)),getItemHiddenInputEl:(e,t)=>Tt.getById(e,Tt.getItemHiddenInputId(e,t)),getIndicatorEl:e=>Tt.getById(e,Tt.getIndicatorId(e)),getFirstEnabledInputEl:e=>{var t;return(t=Tt.getRootEl(e))==null?void 0:t.querySelector("input:not(:disabled)")},getFirstEnabledAndCheckedInputEl:e=>{var t;return(t=Tt.getRootEl(e))==null?void 0:t.querySelector("input:not(:disabled):checked")},getInputEls:e=>{const n=`input[type=radio][data-ownedby='${CSS.escape(Tt.getRootId(e))}']:not([disabled])`;return Tr(Tt.getRootEl(e),n)},getActiveRadioEl:e=>{if(e.value)return Tt.getById(e,Tt.getItemId(e,e.value))},getOffsetRect:e=>({left:(e==null?void 0:e.offsetLeft)??0,top:(e==null?void 0:e.offsetTop)??0,width:(e==null?void 0:e.offsetWidth)??0,height:(e==null?void 0:e.offsetHeight)??0}),getRectById:(e,t)=>{const n=Tt.getById(e,Tt.getItemId(e,t));if(n)return Tt.resolveRect(Tt.getOffsetRect(n))},resolveRect:e=>({width:`${e.width}px`,height:`${e.height}px`,left:`${e.left}px`,top:`${e.top}px`})});function o8(e,t,n){const i=e.context.isDisabled,s=e.context.readOnly;function r(o){return{invalid:!!o.invalid,disabled:!!o.disabled||i,checked:e.context.value===o.value,focused:e.context.focusedValue===o.value,hovered:e.context.hoveredValue===o.value,active:e.context.activeValue===o.value}}function a(o){const l=r(o);return{"data-focus":H(l.focused),"data-focus-visible":H(l.focused&&e.context.focusVisible),"data-disabled":H(l.disabled),"data-readonly":H(s),"data-state":l.checked?"checked":"unchecked","data-hover":H(l.hovered),"data-invalid":H(l.invalid),"data-orientation":e.context.orientation,"data-ssr":H(e.context.ssr)}}const u=()=>{const o=Tt.getFirstEnabledAndCheckedInputEl(e.context);if(o){o.focus();return}const l=Tt.getFirstEnabledInputEl(e.context);l==null||l.focus()};return{focus:u,value:e.context.value,setValue(o){t({type:"SET_VALUE",value:o,isTrusted:!1})},clearValue(){t({type:"SET_VALUE",value:null,isTrusted:!1})},getRootProps(){return n.element({...tl.root.attrs,role:"radiogroup",id:Tt.getRootId(e.context),"aria-labelledby":Tt.getLabelId(e.context),"data-orientation":e.context.orientation,"data-disabled":H(i),"aria-orientation":e.context.orientation,dir:e.context.dir,style:{position:"relative"}})},getLabelProps(){return n.element({...tl.label.attrs,dir:e.context.dir,"data-orientation":e.context.orientation,"data-disabled":H(i),id:Tt.getLabelId(e.context),onClick:u})},getItemState:r,getItemProps(o){const l=r(o);return n.label({...tl.item.attrs,dir:e.context.dir,id:Tt.getItemId(e.context,o.value),htmlFor:Tt.getItemHiddenInputId(e.context,o.value),...a(o),onPointerMove(){l.disabled||l.hovered||t({type:"SET_HOVERED",value:o.value,hovered:!0})},onPointerLeave(){l.disabled||t({type:"SET_HOVERED",value:null})},onPointerDown(c){l.disabled||(l.focused&&c.pointerType==="mouse"&&c.preventDefault(),t({type:"SET_ACTIVE",value:o.value,active:!0}))},onPointerUp(){l.disabled||t({type:"SET_ACTIVE",value:null})}})},getItemTextProps(o){return n.element({...tl.itemText.attrs,dir:e.context.dir,id:Tt.getItemLabelId(e.context,o.value),...a(o)})},getItemControlProps(o){const l=r(o);return n.element({...tl.itemControl.attrs,dir:e.context.dir,id:Tt.getItemControlId(e.context,o.value),"data-active":H(l.active),"aria-hidden":!0,...a(o)})},getItemHiddenInputProps(o){const l=r(o);return n.input({"data-ownedby":Tt.getRootId(e.context),id:Tt.getItemHiddenInputId(e.context,o.value),type:"radio",name:e.context.name||e.context.id,form:e.context.form,value:o.value,onClick(c){if(s){c.preventDefault();return}c.currentTarget.checked&&t({type:"SET_VALUE",value:o.value,isTrusted:!0})},onBlur(){t({type:"SET_FOCUSED",value:null,focused:!1,focusVisible:!1})},onFocus(){const c=xh();t({type:"SET_FOCUSED",value:o.value,focused:!0,focusVisible:c})},onKeyDown(c){c.defaultPrevented||c.key===" "&&t({type:"SET_ACTIVE",value:o.value,active:!0})},onKeyUp(c){c.defaultPrevented||c.key===" "&&t({type:"SET_ACTIVE",value:null})},disabled:l.disabled,defaultChecked:l.checked,style:Bu})},getIndicatorProps(){var o,l,c,d;return n.element({id:Tt.getIndicatorId(e.context),...tl.indicator.attrs,dir:e.context.dir,hidden:e.context.value==null,"data-disabled":H(i),"data-orientation":e.context.orientation,style:{"--transition-property":"left, top, width, height","--left":(o=e.context.indicatorRect)==null?void 0:o.left,"--top":(l=e.context.indicatorRect)==null?void 0:l.top,"--width":(c=e.context.indicatorRect)==null?void 0:c.width,"--height":(d=e.context.indicatorRect)==null?void 0:d.height,position:"absolute",willChange:"var(--transition-property)",transitionProperty:"var(--transition-property)",transitionDuration:e.context.canIndicatorTransition?"var(--transition-duration, 150ms)":"0ms",transitionTimingFunction:"var(--transition-timing-function)",[e.context.orientation==="horizontal"?"left":"top"]:e.context.orientation==="horizontal"?"var(--left)":"var(--top)"}})}}}var{not:a8}=qG;function l8(e){const t=Te(e);return QG({id:"radio",initial:"idle",context:{value:null,activeValue:null,focusedValue:null,hoveredValue:null,disabled:!1,orientation:"vertical",...t,indicatorRect:{},canIndicatorTransition:!1,fieldsetDisabled:!1,focusVisible:!1,ssr:!0},computed:{isDisabled:n=>!!n.disabled||n.fieldsetDisabled},entry:["syncIndicatorRect","syncSsr"],exit:["cleanupObserver"],activities:["trackFormControlState","trackFocusVisible"],watch:{value:["setIndicatorTransition","syncIndicatorRect","syncInputElements"]},on:{SET_VALUE:[{guard:a8("isTrusted"),actions:["setValue","dispatchChangeEvent"]},{actions:["setValue"]}],SET_HOVERED:{actions:"setHovered"},SET_ACTIVE:{actions:"setActive"},SET_FOCUSED:{actions:"setFocused"}},states:{idle:{}}},{guards:{isTrusted:(n,i)=>!!i.isTrusted},activities:{trackFormControlState(n,i,{send:s,initialContext:r}){return Xl(Tt.getRootEl(n),{onFieldsetDisabledChange(a){n.fieldsetDisabled=a},onFormReset(){s({type:"SET_VALUE",value:r.value})}})},trackFocusVisible(n){return IT({root:Tt.getRootNode(n)})}},actions:{setValue(n,i){u8.value(n,i.value)},setHovered(n,i){n.hoveredValue=i.value},setActive(n,i){n.activeValue=i.value},setFocused(n,i){n.focusedValue=i.value,n.focusVisible=i.focusVisible},syncInputElements(n){Tt.getInputEls(n).forEach(s=>{s.checked=s.value===n.value})},setIndicatorTransition(n){n.canIndicatorTransition=q(n.value)},cleanupObserver(n){var i;(i=n.indicatorCleanup)==null||i.call(n)},syncSsr(n){n.ssr=!1},syncIndicatorRect(n){var r;if((r=n.indicatorCleanup)==null||r.call(n),!Tt.getIndicatorEl(n))return;const i=n.value,s=Tt.getActiveRadioEl(n);if(i==null||!s){n.indicatorRect={};return}n.indicatorCleanup=t8(s,{getRect(a){return Tt.getOffsetRect(a)},onChange(a){n.indicatorRect=Tt.resolveRect(a),Of(()=>{n.canIndicatorTransition=!1})}})},dispatchChangeEvent(n){Tt.getInputEls(n).forEach(s=>{const r=s.value===n.value;r!==s.checked&&NT(s,{checked:r})})}}})}var c8={change:e=>{var t;e.value!=null&&((t=e.onValueChange)==null||t.call(e,{value:e.value}))}},u8={value:(e,t)=>{dn(e.value,t)||(e.value=t,c8.change(e))}};tn()(["dir","disabled","form","getRootNode","id","ids","name","onValueChange","orientation","readOnly","value"]);tn()(["value","disabled","invalid"]);const d8=(e,t)=>{const n=qn(),i=es(),s=Ri(Ni),r=K(()=>({id:n,dir:s.value.dir,value:e.modelValue??e.defaultValue,getRootNode:i==null?void 0:i.value.getRootNode,onValueChange:o=>{t==null||t("valueChange",o),t==null||t("update:modelValue",o.value)},...ts(e)})),[a,u]=Ci(l8(r.value),{context:r});return K(()=>o8(a.value,u,Mi))},[JT,ja]=vt("RadioGroupContext"),[h8,f8]=vt("RadioGroupItemContext"),p8=$({__name:"radio-group-context",setup(e){const t=ja();return(n,i)=>B(n.$slots,"default",hn(on(v(t))))}}),g8=$({__name:"radio-group-indicator",props:{asChild:{type:Boolean}},setup(e){const t=ja();return G(),(n,i)=>(C(),N(v(J).div,z(v(t).getIndicatorProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),m8=$({__name:"radio-group-item-context",setup(e){const t=f8();return(n,i)=>B(n.$slots,"default",hn(on(v(t))))}}),[v8,fy]=vt("RadioGroupItemPropsContext"),y8=$({__name:"radio-group-item-control",props:{asChild:{type:Boolean}},setup(e){const t=ja(),n=fy();return G(),(i,s)=>(C(),N(v(J).div,z(v(t).getItemControlProps(v(n)),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["as-child"]))}}),b8=$({__name:"radio-group-item-hidden-input",props:{asChild:{type:Boolean}},setup(e){const t=ja(),n=fy();return G(),(i,s)=>(C(),N(v(J).input,z(v(t).getItemHiddenInputProps(v(n)),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["as-child"]))}}),E8=$({__name:"radio-group-item-text",props:{asChild:{type:Boolean}},setup(e){const t=ja(),n=fy();return G(),(i,s)=>(C(),N(v(J).span,z(v(t).getItemTextProps(v(n)),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["as-child"]))}}),_8=$({__name:"radio-group-item",props:{value:{},disabled:{type:Boolean},invalid:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,n=ja();return v8(t),h8(K(()=>n.value.getItemState(t))),G(),(i,s)=>(C(),N(v(J).label,z(v(n).getItemProps(t),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["as-child"]))}}),C8=$({__name:"radio-group-label",props:{asChild:{type:Boolean}},setup(e){const t=ja();return G(),(n,i)=>(C(),N(v(J).label,z(v(t).getLabelProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),S8=$({__name:"radio-group-root-provider",props:{value:{},asChild:{type:Boolean}},setup(e){const t=e,n=K(()=>t.value);return JT(n),G(),(i,s)=>(C(),N(v(J).div,z(n.value.getRootProps(),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["as-child"]))}}),x8=$({__name:"radio-group-root",props:On({defaultValue:{},disabled:{type:Boolean},form:{},id:{},ids:{},modelValue:{},name:{},orientation:{},readOnly:{type:Boolean},asChild:{type:Boolean}},{disabled:void 0,readOnly:void 0}),emits:["valueChange","update:modelValue"],setup(e,{emit:t}){const s=d8(e,t);return JT(s),G(),(r,a)=>(C(),N(v(J).div,z(v(s).getRootProps(),{"as-child":r.asChild}),{default:S(()=>[B(r.$slots,"default")]),_:3},16,["as-child"]))}}),sa=Object.freeze(Object.defineProperty({__proto__:null,Context:p8,Indicator:g8,Item:_8,ItemContext:m8,ItemControl:y8,ItemHiddenInput:b8,ItemText:E8,Label:C8,Root:x8,RootProvider:S8},Symbol.toStringTag,{value:"Module"})),T8=$({__name:"RadioGroup",props:Vn({label:null,options:null},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=vn(e,"modelValue");return(n,i)=>(C(),N(v(sa).Root,{modelValue:t.value,"onUpdate:modelValue":i[0]||(i[0]=s=>t.value=s),class:"relative gap-4 flex flex-col"},{default:S(()=>[O(v(sa).Label,{class:"text-sm font-medium"},{default:S(()=>[qe(ue(e.label),1)]),_:1}),O(v(sa).Indicator),(C(!0),te(Ye,null,zt(e.options,s=>(C(),N(v(sa).Item,{key:s.label,value:s.value,class:"flex items-center gap-3 cursor-pointer"},{default:S(()=>[O(v(sa).ItemControl,{class:"w-5 h-5 rounded-full border data-[state=checked]:outline data-[state=checked]:outline-4 data-[state=checked]:-outline-offset-8 data-[state=checked]:border-gray-700"}),O(v(sa).ItemText,{class:"text-md font-medium"},{default:S(()=>[qe(ue(s.label),1)]),_:2},1024),O(v(sa).ItemHiddenInput)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]))}});function w8(e,t,n){return e===0?n:t[e-1]}function I8(e,t,n){return e===t.length-1?n:t[e+1]}function O8(e,t,n){return Math.round((e-t)/n)*n+t}function qi(e,t,n){return Math.min(Math.max(e,t),n)}function Hf(e,t,n){return(e-t)/(n-t)}function py(e,t,n,i){const s=e*(n-t)+t,r=O8(s,t,i);return qi(r,t,n)}function Sd(e,t){let n=e,i=t.toString(),s=i.indexOf("."),r=s>=0?i.length-s:0;if(r>0){let a=Math.pow(10,r);n=Math.round(n*a)/a}return n}function wh(e,t,n,i){t=Number(t),n=Number(n);let s=(e-(isNaN(t)?0:t))%i,r=Sd(Math.abs(s)*2>=i?e+Math.sign(s)*(i-Math.abs(s)):e-s,i);return isNaN(t)?!isNaN(n)&&r>n&&(r=Math.floor(Sd(n/i,i))*i):r<t?r=t:!isNaN(n)&&r>n&&(r=t+Math.floor(Sd((n-t)/i,i))*i),r=Sd(r,i),r}function k8(e,t,n){return e[t]===n?e:[...e.slice(0,t),n,...e.slice(t+1)]}function XT(e,t){const n=w8(e,t.values,t.min),i=I8(e,t.values,t.max);let s=t.values.slice();return function(a){let u=wh(a,n,i,t.step);return s=k8(s,e,a),s[e]=u,s}}function A8(e,t){const n=t.values[e]+t.step;return XT(e,t)(n)}function P8(e,t){const n=t.values[e]-t.step;return XT(e,t)(n)}function $8(e,t){let n=e.findIndex(r=>t-r<0);if(n===0)return n;if(n===-1)return e.length-1;let i=e[n-1],s=e[n];return Math.abs(i-t)<Math.abs(s-t)?n-1:n}function M8(e,t,n,i){return e.map((s,r)=>{const a=r===0?t:e[r-1]+i,u=r===e.length-1?n:e[r+1]-i;return{min:a,max:u,value:s}})}function Cm(e,t){const n={min:e[0],max:e[1]},i={min:t[0],max:t[1]};return function(r){if(n.min===n.max||i.min===i.max)return i.min;const a=(i.max-i.min)/(n.max-n.min);return i.min+a*(r-n.min)}}function Wt(e,t=0,n=10){const i=Math.pow(n,t);return Math.round(e*i)/i}function ZT(e,t){return(e%t+t)%t}var N8=Object.defineProperty,R8=(e,t,n)=>t in e?N8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pe=(e,t,n)=>R8(e,typeof t!="symbol"?t+"":t,n);function QT(e,...t){for(const n of t){const i=Te(n);for(const s in i)_i(n[s])?(e[s]||(e[s]={}),QT(e[s],n[s])):e[s]=n[s]}return e}function X0(e){return bn(e)}function xs(e){return q(e)?{type:e}:e}function Jr(e){return e?et(e)?e.slice():[e]:[]}function ew(e){return Ce(e)&&e.predicate!=null}var D8=()=>!0;function tw(e,t){return e=e??D8,(n,i,s)=>{if(q(e)){const r=t[e];return We(r)?r(n,i,s):r}return ew(e)?e.predicate(t)(n,i,s):e==null?void 0:e(n,i,s)}}function ig(e,t){return(n,i,s)=>ew(e)?e.predicate(t)(n,i,s):e}function L8(e){var r,a;const t=e.computed??ee({}),n=e.context??ee({}),i=e.initial?(a=(r=e.states)==null?void 0:r[e.initial])==null?void 0:a.tags:[],s=Yn({value:e.initial??"",previousValue:"",event:ee({}),previousEvent:ee({}),context:yi(n,t),done:!1,tags:i??[],hasTag(u){return this.tags.includes(u)},matches(...u){return u.includes(this.value)},can(u){return ee(this).nextEvents.includes(u)},get nextEvents(){var l,c;const u=((c=(l=e.states)==null?void 0:l[this.value])==null?void 0:c.on)??{},o=(e==null?void 0:e.on)??{};return Object.keys({...u,...o})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return ee(s)}function pc(e,t){return(n,i)=>{if(Ei(e))return e;if(We(e))return e(n,i);if(q(e)){const s=Number.parseFloat(e);if(!Number.isNaN(s))return s;if(t){const r=t==null?void 0:t[e];return He(r==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${e}\`. It doesn't exist in \`options.delays\``),We(r)?r(n,i):r}}}}function F8(e){return q(e)?{target:e}:e}function V8(e,t){return(n,i,s)=>Jr(e).map(F8).find(r=>tw(r.guard,t)(n,i,s)??r.target??r.actions)}var B8=class{constructor(t,n){var i,s,r,a,u;Pe(this,"status","Not Started"),Pe(this,"state"),Pe(this,"initialState"),Pe(this,"initialContext"),Pe(this,"id"),Pe(this,"type","machine"),Pe(this,"activityEvents",new Map),Pe(this,"delayedEvents",new Map),Pe(this,"stateListeners",new Set),Pe(this,"doneListeners",new Set),Pe(this,"contextWatchers",new Set),Pe(this,"removeStateListener",si),Pe(this,"parent"),Pe(this,"children",new Map),Pe(this,"guardMap"),Pe(this,"actionMap"),Pe(this,"delayMap"),Pe(this,"activityMap"),Pe(this,"sync"),Pe(this,"options"),Pe(this,"config"),Pe(this,"_created",()=>{var l;const o=xs("machine.created");this.executeActions((l=this.config)==null?void 0:l.created,o)}),Pe(this,"start",o=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=Pt(this.state,()=>{this.stateListeners.forEach(p=>{p(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(xs("machine.start"),Jr(this.config.activities),"machine.start"),this.executeActions(this.config.entry,xs("machine.start"));const l=xs("machine.init"),c=Ce(o)?o.value:o,d=Ce(o)?o.context:void 0;d&&this.setContext(d);const h={target:c??this.config.initial},f=this.getNextStateInfo(h,l);return this.initialState=f,this.performStateChangeEffects(this.state.value,f,l),this}),Pe(this,"setupContextWatchers",()=>{const{watch:o}=this.config;if(!o)return;let l=_e(this.state.context);const c=Pt(this.state.context,()=>{var h;const d=_e(this.state.context);for(const[f,p]of Object.entries(o))(((h=this.options.compareFns)==null?void 0:h[f])??Object.is)(l[f],d[f])||this.executeActions(p,this.state.event);l=d});this.contextWatchers.add(c)}),Pe(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,xs("machine.stop")),this.executeActions(this.config.exit,xs("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),Pe(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),Pe(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(o=>o()),this.contextWatchers.clear()}),Pe(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(o=>{o.forEach(l=>l())}),this.delayedEvents.clear()}),Pe(this,"stopActivities",o=>{var l,c;o?((l=this.activityEvents.get(o))==null||l.forEach(d=>d()),(c=this.activityEvents.get(o))==null||c.clear(),this.activityEvents.delete(o)):(this.activityEvents.forEach(d=>{d.forEach(h=>h()),d.clear()}),this.activityEvents.clear())}),Pe(this,"sendChild",(o,l)=>{const c=xs(o),d=$t(l,this.contextSnapshot),h=this.children.get(d);h||He(`[@zag-js/core] Cannot send '${c.type}' event to unknown child`),h.send(c)}),Pe(this,"stopChild",o=>{this.children.has(o)||He(`[@zag-js/core > stop-child] Cannot stop unknown child ${o}`),this.children.get(o).stop(),this.children.delete(o)}),Pe(this,"removeChild",o=>{this.children.delete(o)}),Pe(this,"stopChildren",()=>{this.children.forEach(o=>o.stop()),this.children.clear()}),Pe(this,"setParent",o=>{this.parent=o}),Pe(this,"spawn",(o,l)=>{const c=$t(o);return l&&(c.id=l),c.type="machine.actor",c.setParent(this),this.children.set(c.id,ee(c)),c.onDone(()=>{this.removeChild(c.id)}).start(),ee(Ke(c))}),Pe(this,"stopActivity",o=>{var c;if(!this.state.value)return;const l=this.activityEvents.get(this.state.value);(c=l==null?void 0:l.get(o))==null||c(),l==null||l.delete(o)}),Pe(this,"addActivityCleanup",(o,l,c)=>{var d;o&&(this.activityEvents.has(o)?(d=this.activityEvents.get(o))==null||d.set(l,c):this.activityEvents.set(o,new Map([[l,c]])))}),Pe(this,"setState",o=>{this.state.previousValue=this.state.value,this.state.value=o;const l=this.getStateNode(o);o==null?bi(this.state.tags):this.state.tags=Jr(l==null?void 0:l.tags)}),Pe(this,"setContext",o=>{o&&QT(this.state.context,Te(o))}),Pe(this,"setOptions",o=>{const l=Te(o);this.actionMap={...this.actionMap,...l.actions},this.delayMap={...this.delayMap,...l.delays},this.activityMap={...this.activityMap,...l.activities},this.guardMap={...this.guardMap,...l.guards}}),Pe(this,"getStateNode",o=>{var l;if(o)return(l=this.config.states)==null?void 0:l[o]}),Pe(this,"getNextStateInfo",(o,l)=>{const c=this.determineTransition(o,l),d=!(c!=null&&c.target),h=(c==null?void 0:c.target)??this.state.value,f=this.state.value!==h,p=this.getStateNode(h),m={reenter:!d&&!f&&!(c!=null&&c.internal),transition:c,stateNode:p,target:h,changed:f};return this.log("NextState:",`[${l.type}]`,this.state.value,"---->",m.target),m}),Pe(this,"getAfterActions",(o,l)=>{let c;const d=this.state.value;return{entry:()=>{c=globalThis.setTimeout(()=>{const h=this.getNextStateInfo(o,this.state.event);this.performStateChangeEffects(d,h,this.state.event)},l)},exit:()=>{globalThis.clearTimeout(c)}}}),Pe(this,"getDelayedEventActions",o=>{const l=this.getStateNode(o),c=this.state.event;if(!l||!l.after)return;const d=[],h=[];if(et(l.after)){const f=this.determineTransition(l.after,c);if(!f)return;if(!wn(f,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(f)}`);const g=pc(f.delay,this.delayMap)(this.contextSnapshot,c),m=this.getAfterActions(f,g);return d.push(m.entry),h.push(m.exit),{entries:d,exits:h}}if(Ce(l.after))for(const f in l.after){const p=l.after[f],m=pc(f,this.delayMap)(this.contextSnapshot,c),y=this.getAfterActions(p,m);d.push(y.entry),h.push(y.exit)}return{entries:d,exits:h}}),Pe(this,"executeActions",(o,l)=>{var d;const c=ig(o,this.guardMap)(this.contextSnapshot,l,this.guardMeta);for(const h of Jr(c)){const f=q(h)?(d=this.actionMap)==null?void 0:d[h]:h;it(q(h)&&!f,`[@zag-js/core > execute-actions] No implementation found for action: \`${h}\``),f==null||f(this.state.context,l,this.meta)}}),Pe(this,"executeActivities",(o,l,c)=>{var d;for(const h of l){const f=q(h)?(d=this.activityMap)==null?void 0:d[h]:h;if(!f){it(`[@zag-js/core > execute-activity] No implementation found for activity: \`${h}\``);continue}const p=f(this.state.context,o,this.meta);if(p){const g=q(h)?h:h.name||Rt();this.addActivityCleanup(c??this.state.value,g,p)}}}),Pe(this,"createEveryActivities",(o,l)=>{if(o)if(et(o)){const c=Jr(o).find(p=>{const g=p.delay,y=pc(g,this.delayMap)(this.contextSnapshot,this.state.event);return tw(p.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??y!=null});if(!c)return;const h=pc(c.delay,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const p=globalThis.setInterval(()=>{this.executeActions(c.actions,this.state.event)},h);return()=>{globalThis.clearInterval(p)}})}else for(const c in o){const d=o==null?void 0:o[c],f=pc(c,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const g=globalThis.setInterval(()=>{this.executeActions(d,this.state.event)},f);return()=>{globalThis.clearInterval(g)}})}}),Pe(this,"setEvent",o=>{this.state.previousEvent=this.state.event,this.state.event=Ke(xs(o))}),Pe(this,"performExitEffects",(o,l)=>{const c=this.state.value;if(c==="")return;const d=o?this.getStateNode(o):void 0;this.stopActivities(c);const h=ig(d==null?void 0:d.exit,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=Jr(h),p=this.delayedEvents.get(c);p&&f.push(...p),this.executeActions(f,l),this.delayedEvents.delete(c)}),Pe(this,"performEntryEffects",(o,l)=>{const c=this.getStateNode(o),d=Jr(c==null?void 0:c.activities);this.createEveryActivities(c==null?void 0:c.every,g=>{d.unshift(g)}),d.length>0&&this.executeActivities(l,d);const h=ig(c==null?void 0:c.entry,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=Jr(h),p=this.getDelayedEventActions(o);c!=null&&c.after&&p&&(this.delayedEvents.set(o,p==null?void 0:p.exits),f.push(...p.entries)),this.executeActions(f,l),(c==null?void 0:c.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(g=>{g(this.stateSnapshot)}),this.stop())}),Pe(this,"performTransitionEffects",(o,l)=>{const c=this.determineTransition(o,l);this.executeActions(c==null?void 0:c.actions,l)}),Pe(this,"performStateChangeEffects",(o,l,c)=>{this.setEvent(c);const d=l.changed||l.reenter;d&&this.performExitEffects(o,c),this.performTransitionEffects(l.transition,c),this.setState(l.target),d&&this.performEntryEffects(l.target,c)}),Pe(this,"determineTransition",(o,l)=>{const c=V8(o,this.guardMap);return c==null?void 0:c(this.contextSnapshot,l,this.guardMeta)}),Pe(this,"sendParent",o=>{var c;this.parent||He("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const l=xs(o);(c=this.parent)==null||c.send(l)}),Pe(this,"log",(...o)=>{}),Pe(this,"send",o=>{const l=xs(o);this.transition(this.state.value,l)}),Pe(this,"transition",(o,l)=>{var p,g;const c=q(o)?this.getStateNode(o):o==null?void 0:o.stateNode,d=xs(l);if(!c&&!this.config.on){const m=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${o}, \`event\`: ${d.type}`;it(m);return}const h=((p=c==null?void 0:c.on)==null?void 0:p[d.type])??((g=this.config.on)==null?void 0:g[d.type]),f=this.getNextStateInfo(h,d);return this.performStateChangeEffects(this.state.value,f,d),f.stateNode}),Pe(this,"subscribe",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),()=>{this.stateListeners.delete(o)})),Pe(this,"onDone",o=>(this.doneListeners.add(o),this)),Pe(this,"onTransition",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),this)),this.config=X0(t),this.options=X0(n??{}),this.id=this.config.id??`machine-${Rt()}`,this.guardMap=((i=this.options)==null?void 0:i.guards)??{},this.actionMap=((s=this.options)==null?void 0:s.actions)??{},this.delayMap=((r=this.options)==null?void 0:r.delays)??{},this.activityMap=((a=this.options)==null?void 0:a.activities)??{},this.sync=((u=this.options)==null?void 0:u.sync)??!1,this.state=L8(this.config),this.initialContext=_e(this.state.context)}get stateSnapshot(){return ee(_e(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const t=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return t.stateSnapshot},get initialContext(){return t.initialContext},get initialState(){var n;return((n=t.initialState)==null?void 0:n.target)??""}}}get meta(){var t;return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:((t=this.initialState)==null?void 0:t.target)??"",getState:()=>this.stateSnapshot,getAction:n=>this.actionMap[n],getGuard:n=>this.guardMap[n]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){const t=this.getState();return{value:t.value,tags:t.tags}}},H8=(e,t)=>new B8(e,t);function j8(e,t){if(!e){t(void 0);return}t({width:e.offsetWidth,height:e.offsetHeight});const n=e.ownerDocument.defaultView??window,i=new n.ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const[r]=s;let a,u;if("borderBoxSize"in r){const o=r.borderBoxSize,l=Array.isArray(o)?o[0]:o;a=l.inlineSize,u=l.blockSize}else a=e.offsetWidth,u=e.offsetHeight;t({width:a,height:u})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}function U8(e){const{getNodes:t,observeMutation:n=!0,callback:i}=e,s=[];let r=null;function a(){const u=t();r=u[0];const o=u.map((l,c)=>j8(l,d=>{i(d,c)}));s.push(...o)}if(a(),n){const u=G8(r,a);s.push(u)}return()=>{s.forEach(u=>{u==null||u()})}}function G8(e,t){var s;if(!e||!e.parentElement)return;const n=((s=e.ownerDocument)==null?void 0:s.defaultView)??window,i=new n.MutationObserver(()=>{t()});return i.observe(e.parentElement,{childList:!0}),()=>{i.disconnect()}}var W8=Dn("slider").parts("root","label","thumb","valueText","track","range","control","markerGroup","marker"),yr=W8.build();function z8(e){const t=e[0],n=e[e.length-1];return[t,n]}function K8(e){const[t,n]=z8(e.valuePercent);if(e.valuePercent.length===1){if(e.origin==="center"){const i=e.valuePercent[0]<50,s=i?`${e.valuePercent[0]}%`:"50%",r=i?"50%":`${100-e.valuePercent[0]}%`;return{start:s,end:r}}return{start:"0%",end:`${100-n}%`}}return{start:`${t}%`,end:`${100-n}%`}}function q8(e){return e.isVertical?{position:"absolute",bottom:"var(--slider-range-start)",top:"var(--slider-range-end)"}:{position:"absolute",[e.isRtl?"right":"left"]:"var(--slider-range-start)",[e.isRtl?"left":"right"]:"var(--slider-range-end)"}}function Y8(e){const{height:t=0}=e.thumbSize??{},n=Cm([e.min,e.max],[-t/2,t/2]);return parseFloat(n(e.value).toFixed(2))}function J8(e){const{width:t=0}=e.thumbSize??{};if(e.isRtl){const i=Cm([e.max,e.min],[-t/2,t/2]);return-1*parseFloat(i(e.value).toFixed(2))}const n=Cm([e.min,e.max],[-t/2,t/2]);return parseFloat(n(e.value).toFixed(2))}function X8(e,t){if(e.thumbAlignment==="center")return`${t}%`;const n=e.isVertical?Y8(e):J8(e);return`calc(${t}% - ${n}px)`}function nw(e){let t=Hf(e.value,e.min,e.max)*100;return X8(e,t)}function iw(e){let t="visible";return e.thumbAlignment==="contain"&&!e.hasMeasuredThumbSize&&(t="hidden"),t}function Z8(e,t){const n=e.isVertical?"bottom":"insetInlineStart";return{visibility:iw(e),position:"absolute",transform:"var(--slider-thumb-transform)",[n]:`var(--slider-thumb-offset-${t})`}}function Q8(){return{touchAction:"none",userSelect:"none",WebkitUserSelect:"none",position:"relative"}}function eW(e){const t=K8(e);return{...e.value.reduce((i,s,r)=>{const a=nw({...e,value:s});return{...i,[`--slider-thumb-offset-${r}`]:a}},{}),"--slider-thumb-transform":e.isVertical?"translateY(50%)":e.isRtl?"translateX(50%)":"translateX(-50%)","--slider-range-start":t.start,"--slider-range-end":t.end}}function tW(e,t){return{visibility:iw(e),position:"absolute",pointerEvents:"none",[e.isHorizontal?"insetInlineStart":"bottom"]:nw({...e,value:t}),translate:"var(--tx) var(--ty)","--tx":e.isHorizontal?e.isRtl?"50%":"-50%":"0%","--ty":e.isHorizontal?"0%":"50%"}}function nW(){return{userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none",position:"relative"}}var iW={getRootStyle:eW,getControlStyle:Q8,getThumbStyle:Z8,getRangeStyle:q8,getMarkerStyle:tW,getMarkerGroupStyle:nW},ut=$i({...iW,getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`slider:${e.id}`},getThumbId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.thumb)==null?void 0:i.call(n,t))??`slider:${e.id}:thumb:${t}`},getHiddenInputId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.hiddenInput)==null?void 0:i.call(n,t))??`slider:${e.id}:input:${t}`},getControlId:e=>{var t;return((t=e.ids)==null?void 0:t.control)??`slider:${e.id}:control`},getTrackId:e=>{var t;return((t=e.ids)==null?void 0:t.track)??`slider:${e.id}:track`},getRangeId:e=>{var t;return((t=e.ids)==null?void 0:t.range)??`slider:${e.id}:range`},getLabelId:e=>{var t;return((t=e.ids)==null?void 0:t.label)??`slider:${e.id}:label`},getValueTextId:e=>{var t;return((t=e.ids)==null?void 0:t.valueText)??`slider:${e.id}:value-text`},getMarkerId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.marker)==null?void 0:i.call(n,t))??`slider:${e.id}:marker:${t}`},getRootEl:e=>ut.getById(e,ut.getRootId(e)),getThumbEl:(e,t)=>ut.getById(e,ut.getThumbId(e,t)),getHiddenInputEl:(e,t)=>ut.getById(e,ut.getHiddenInputId(e,t)),getControlEl:e=>ut.getById(e,ut.getControlId(e)),getElements:e=>Tr(ut.getControlEl(e),"[role=slider]"),getFirstEl:e=>ut.getElements(e)[0],getRangeEl:e=>ut.getById(e,ut.getRangeId(e)),getValueFromPoint(e,t){const n=ut.getControlEl(e);if(!n)return;const s=am(t,n).getPercentValue({orientation:e.orientation,dir:e.dir,inverted:{y:!0}});return py(s,e.min,e.max,e.step)},dispatchChangeEvent(e){Array.from(e.value).forEach((n,i)=>{const s=ut.getHiddenInputEl(e,i);s&&MT(s,{value:n})})}});function Z0(e,t){return t.map((n,i,s)=>Sm({...e,value:s},n,i))}function So(e,t){return M8(e.value,e.min,e.max,e.minStepsBetweenThumbs)[t]}function Sm(e,t,n){const i=So(e,n),s=wh(t,e.min,e.max,e.step);return qi(s,i.min,i.max)}function sW(e,t,n){const i=t??e.focusedIndex,s=So(e,i),r=P8(i,{...s,step:n??e.step,values:e.value});return r[i]=qi(r[i],s.min,s.max),r}function rW(e,t,n){const i=t??e.focusedIndex,s=So(e,i),r=A8(i,{...s,step:n??e.step,values:e.value});return r[i]=qi(r[i],s.min,s.max),r}function oW(e,t){return $8(e.value,t)}function aW(e,t){for(let n=0;n<t.length;n++){const i=t[n];e[n]=i}}function lW(e,t,n){const i=e.context["aria-label"],s=e.context["aria-labelledby"],r=e.context.value,a=e.matches("focus"),u=e.matches("dragging"),o=e.context.isDisabled,l=e.context.invalid,c=e.context.isInteractive,d=e.context.orientation==="horizontal",h=e.context.orientation==="vertical";function f(g){return Hf(g,e.context.min,e.context.max)}function p(g){return py(g,e.context.min,e.context.max,e.context.step)}return{value:e.context.value,dragging:u,focused:a,setValue(g){t({type:"SET_VALUE",value:g})},getThumbValue(g){return r[g]},setThumbValue(g,m){t({type:"SET_VALUE",index:g,value:m})},getValuePercent:f,getPercentValue:p,getThumbPercent(g){return f(r[g])},setThumbPercent(g,m){const y=p(m);t({type:"SET_VALUE",index:g,value:y})},getThumbMin(g){return So(e.context,g).min},getThumbMax(g){return So(e.context,g).max},increment(g){t({type:"INCREMENT",index:g})},decrement(g){t({type:"DECREMENT",index:g})},focus(){c&&t({type:"FOCUS",index:0})},getLabelProps(){return n.label({...yr.label.attrs,dir:e.context.dir,"data-disabled":H(o),"data-orientation":e.context.orientation,"data-invalid":H(l),"data-dragging":H(u),"data-focus":H(a),id:ut.getLabelId(e.context),htmlFor:ut.getHiddenInputId(e.context,0),onClick(g){var m;c&&(g.preventDefault(),(m=ut.getFirstEl(e.context))==null||m.focus())},style:{userSelect:"none",WebkitUserSelect:"none"}})},getRootProps(){return n.element({...yr.root.attrs,"data-disabled":H(o),"data-orientation":e.context.orientation,"data-dragging":H(u),"data-invalid":H(l),"data-focus":H(a),id:ut.getRootId(e.context),dir:e.context.dir,style:ut.getRootStyle(e.context)})},getValueTextProps(){return n.element({...yr.valueText.attrs,dir:e.context.dir,"data-disabled":H(o),"data-orientation":e.context.orientation,"data-invalid":H(l),"data-focus":H(a),id:ut.getValueTextId(e.context)})},getTrackProps(){return n.element({...yr.track.attrs,dir:e.context.dir,id:ut.getTrackId(e.context),"data-disabled":H(o),"data-invalid":H(l),"data-dragging":H(u),"data-orientation":e.context.orientation,"data-focus":H(a),style:{position:"relative"}})},getThumbProps(g){var R,X;const{index:m=0,name:y}=g,b=r[m],E=So(e.context,m),_=(X=(R=e.context).getAriaValueText)==null?void 0:X.call(R,{value:b,index:m}),I=Array.isArray(i)?i[m]:i,M=Array.isArray(s)?s[m]:s;return n.element({...yr.thumb.attrs,dir:e.context.dir,"data-index":m,"data-name":y,id:ut.getThumbId(e.context,m),"data-disabled":H(o),"data-orientation":e.context.orientation,"data-focus":H(a&&e.context.focusedIndex===m),"data-dragging":H(u&&e.context.focusedIndex===m),draggable:!1,"aria-disabled":_o(o),"aria-label":I,"aria-labelledby":M??ut.getLabelId(e.context),"aria-orientation":e.context.orientation,"aria-valuemax":E.max,"aria-valuemin":E.min,"aria-valuenow":r[m],"aria-valuetext":_,role:"slider",tabIndex:o?void 0:0,style:ut.getThumbStyle(e.context,m),onPointerDown(D){c&&(t({type:"THUMB_POINTER_DOWN",index:m}),D.stopPropagation())},onBlur(){c&&t("BLUR")},onFocus(){c&&t({type:"FOCUS",index:m})},onKeyDown(D){if(D.defaultPrevented||!c)return;const j=ph(D)*e.context.step,se={ArrowUp(){d||t({type:"ARROW_INC",step:j,src:"ArrowUp"})},ArrowDown(){d||t({type:"ARROW_DEC",step:j,src:"ArrowDown"})},ArrowLeft(){h||t({type:"ARROW_DEC",step:j,src:"ArrowLeft"})},ArrowRight(){h||t({type:"ARROW_INC",step:j,src:"ArrowRight"})},PageUp(){t({type:"ARROW_INC",step:j,src:"PageUp"})},PageDown(){t({type:"ARROW_DEC",step:j,src:"PageDown"})},Home(){t("HOME")},End(){t("END")}},ae=js(D,e.context),Y=se[ae];Y&&(Y(D),D.preventDefault(),D.stopPropagation())}})},getHiddenInputProps(g){const{index:m=0,name:y}=g;return n.input({name:y??(e.context.name?e.context.name+(e.context.value.length>1?"[]":""):void 0),form:e.context.form,type:"text",hidden:!0,defaultValue:e.context.value[m],id:ut.getHiddenInputId(e.context,m)})},getRangeProps(){return n.element({id:ut.getRangeId(e.context),...yr.range.attrs,dir:e.context.dir,"data-dragging":H(u),"data-focus":H(a),"data-invalid":H(l),"data-disabled":H(o),"data-orientation":e.context.orientation,style:ut.getRangeStyle(e.context)})},getControlProps(){return n.element({...yr.control.attrs,dir:e.context.dir,id:ut.getControlId(e.context),"data-dragging":H(u),"data-disabled":H(o),"data-orientation":e.context.orientation,"data-invalid":H(l),"data-focus":H(a),style:ut.getControlStyle(),onPointerDown(g){if(!c||!$l(g)||Ml(g))return;const m=Ar(g);t({type:"POINTER_DOWN",point:m}),g.preventDefault(),g.stopPropagation()}})},getMarkerGroupProps(){return n.element({...yr.markerGroup.attrs,role:"presentation",dir:e.context.dir,"aria-hidden":!0,"data-orientation":e.context.orientation,style:ut.getMarkerGroupStyle()})},getMarkerProps(g){const m=ut.getMarkerStyle(e.context,g.value);let y;const b=e.context.value[0],E=e.context.value[e.context.value.length-1];return g.value<b?y="under-value":g.value>E?y="over-value":y="at-value",n.element({...yr.marker.attrs,id:ut.getMarkerId(e.context,g.value),role:"presentation",dir:e.context.dir,"data-orientation":e.context.orientation,"data-value":g.value,"data-disabled":H(o),"data-state":y,style:m})}}}var cW=(e,t)=>(e==null?void 0:e.width)===(t==null?void 0:t.width)&&(e==null?void 0:e.height)===(t==null?void 0:t.height);function uW(e){const t=Te(e);return H8({id:"slider",initial:"idle",context:{thumbSize:null,thumbAlignment:"contain",min:0,max:100,step:1,value:[0],origin:"start",orientation:"horizontal",dir:"ltr",minStepsBetweenThumbs:0,disabled:!1,readOnly:!1,...t,focusedIndex:-1,fieldsetDisabled:!1},computed:{isHorizontal:n=>n.orientation==="horizontal",isVertical:n=>n.orientation==="vertical",isRtl:n=>n.orientation==="horizontal"&&n.dir==="rtl",isDisabled:n=>!!n.disabled||n.fieldsetDisabled,isInteractive:n=>!(n.readOnly||n.isDisabled),hasMeasuredThumbSize:n=>n.thumbSize!=null,valuePercent(n){return n.value.map(i=>100*Hf(i,n.min,n.max))}},watch:{value:["syncInputElements"]},entry:["coarseValue"],activities:["trackFormControlState","trackThumbsSize"],on:{SET_VALUE:[{guard:"hasIndex",actions:"setValueAtIndex"},{actions:"setValue"}],INCREMENT:{actions:"incrementThumbAtIndex"},DECREMENT:{actions:"decrementThumbAtIndex"}},states:{idle:{on:{POINTER_DOWN:{target:"dragging",actions:["setClosestThumbIndex","setPointerValue","focusActiveThumb"]},FOCUS:{target:"focus",actions:"setFocusedIndex"},THUMB_POINTER_DOWN:{target:"dragging",actions:["setFocusedIndex","focusActiveThumb"]}}},focus:{entry:"focusActiveThumb",on:{POINTER_DOWN:{target:"dragging",actions:["setClosestThumbIndex","setPointerValue","focusActiveThumb"]},THUMB_POINTER_DOWN:{target:"dragging",actions:["setFocusedIndex","focusActiveThumb"]},ARROW_DEC:{actions:["decrementThumbAtIndex","invokeOnChangeEnd"]},ARROW_INC:{actions:["incrementThumbAtIndex","invokeOnChangeEnd"]},HOME:{actions:["setFocusedThumbToMin","invokeOnChangeEnd"]},END:{actions:["setFocusedThumbToMax","invokeOnChangeEnd"]},BLUR:{target:"idle",actions:"clearFocusedIndex"}}},dragging:{entry:"focusActiveThumb",activities:"trackPointerMove",on:{POINTER_UP:{target:"focus",actions:"invokeOnChangeEnd"},POINTER_MOVE:{actions:"setPointerValue"}}}}},{guards:{hasIndex:(n,i)=>i.index!=null},activities:{trackFormControlState(n,i,{initialContext:s}){return Xl(ut.getRootEl(n),{onFieldsetDisabledChange(r){n.fieldsetDisabled=r},onFormReset(){is.value(n,s.value)}})},trackPointerMove(n,i,{send:s}){return Nx(ut.getDoc(n),{onPointerMove(r){s({type:"POINTER_MOVE",point:r.point})},onPointerUp(){s("POINTER_UP")}})},trackThumbsSize(n){if(!(n.thumbAlignment!=="contain"||n.thumbSize))return U8({getNodes:()=>ut.getElements(n),observeMutation:!0,callback(i){!i||cW(n.thumbSize,i)||(n.thumbSize=i)}})}},actions:{syncInputElements(n){n.value.forEach((i,s)=>{const r=ut.getHiddenInputEl(n,s);ut.setValue(r,i)})},invokeOnChangeEnd(n){zd.valueChangeEnd(n)},setClosestThumbIndex(n,i){const s=ut.getValueFromPoint(n,i.point);if(s==null)return;const r=oW(n,s);is.focusedIndex(n,r)},setFocusedIndex(n,i){is.focusedIndex(n,i.index)},clearFocusedIndex(n){is.focusedIndex(n,-1)},setPointerValue(n,i){const s=ut.getValueFromPoint(n,i.point);if(s==null)return;const r=Sm(n,s,n.focusedIndex);is.valueAtIndex(n,n.focusedIndex,r)},focusActiveThumb(n){Je(()=>{const i=ut.getThumbEl(n,n.focusedIndex);i==null||i.focus({preventScroll:!0})})},decrementThumbAtIndex(n,i){const s=sW(n,i.index,i.step);is.value(n,s)},incrementThumbAtIndex(n,i){const s=rW(n,i.index,i.step);is.value(n,s)},setFocusedThumbToMin(n){const{min:i}=So(n,n.focusedIndex);is.valueAtIndex(n,n.focusedIndex,i)},setFocusedThumbToMax(n){const{max:i}=So(n,n.focusedIndex);is.valueAtIndex(n,n.focusedIndex,i)},coarseValue(n){const i=Z0(n,n.value);is.value(n,i)},setValueAtIndex(n,i){const s=Sm(n,i.value,i.index);is.valueAtIndex(n,i.index,s)},setValue(n,i){const s=Z0(n,i.value);is.value(n,s)}}})}var zd={valueChange(e){var t;(t=e.onValueChange)==null||t.call(e,{value:Array.from(e.value)}),ut.dispatchChangeEvent(e)},valueChangeEnd(e){var t;(t=e.onValueChangeEnd)==null||t.call(e,{value:Array.from(e.value)})},focusChange(e){var t;(t=e.onFocusChange)==null||t.call(e,{value:Array.from(e.value),focusedIndex:e.focusedIndex})}},is={valueAtIndex:(e,t,n)=>{dn(e.value[t],n)||(e.value[t]=n,zd.valueChange(e))},value:(e,t)=>{dn(e.value,t)||(aW(e.value,t),zd.valueChange(e))},focusedIndex:(e,t)=>{dn(e.focusedIndex,t)||(e.focusedIndex=t,zd.focusChange(e))}};tn()(["aria-label","aria-labelledby","dir","disabled","form","getAriaValueText","getRootNode","id","ids","invalid","max","min","minStepsBetweenThumbs","name","onFocusChange","onValueChange","onValueChangeEnd","orientation","origin","readOnly","step","thumbAlignment","thumbAlignment","thumbSize","value"]);tn()(["index","name"]);const dW=(e,t)=>{const n=qn(),i=es(),s=Ri(Ni),r=K(()=>({id:n,dir:s.value.dir,value:e.modelValue??e.defaultValue,getRootNode:i==null?void 0:i.value.getRootNode,onFocusChange:o=>t==null?void 0:t("focusChange",o),onValueChangeEnd:o=>t==null?void 0:t("valueChangeEnd",o),onValueChange:o=>{t==null||t("valueChange",o),t==null||t("update:modelValue",o.value)},...ts(e)})),[a,u]=Ci(uW(r.value),{context:r});return K(()=>lW(a.value,u,Mi))},[sw,fr]=vt("SliderContext"),hW=$({__name:"slider-context",setup(e){const t=fr();return(n,i)=>B(n.$slots,"default",hn(on(v(t))))}}),fW=$({__name:"slider-control",props:{asChild:{type:Boolean}},setup(e){const t=fr();return G(),(n,i)=>(C(),N(v(J).div,z(v(t).getControlProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),[pW,gW]=vt("SliderThumbPropsContext"),mW=$({__name:"slider-hidden-input",props:{asChild:{type:Boolean}},setup(e){const t=fr(),n=gW();return G(),(i,s)=>(C(),N(v(J).input,z(v(t).getHiddenInputProps(v(n)),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["as-child"]))}}),vW=$({__name:"slider-label",props:{asChild:{type:Boolean}},setup(e){const t=fr();return G(),(n,i)=>(C(),N(v(J).label,z(v(t).getLabelProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),yW=$({__name:"slider-marker-group",props:{asChild:{type:Boolean}},setup(e){const t=fr();return G(),(n,i)=>(C(),N(v(J).div,z(v(t).getMarkerGroupProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),bW=$({__name:"slider-marker",props:{value:{},asChild:{type:Boolean}},setup(e){const t=e,n=fr();return G(),(i,s)=>(C(),N(v(J).span,z(v(n).getMarkerProps(t),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["as-child"]))}}),EW=$({__name:"slider-range",props:{asChild:{type:Boolean}},setup(e){const t=fr();return G(),(n,i)=>(C(),N(v(J).div,z(v(t).getRangeProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),_W=$({__name:"slider-root-provider",props:{value:{},asChild:{type:Boolean}},setup(e){const t=e,n=K(()=>t.value);return sw(n),G(),(i,s)=>(C(),N(v(J).div,z(n.value.getRootProps(),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["as-child"]))}}),CW=$({__name:"slider-root",props:On({"aria-label":{},"aria-labelledby":{},defaultValue:{},disabled:{type:Boolean},form:{},getAriaValueText:{type:Function},id:{},ids:{},invalid:{type:Boolean},max:{},min:{},minStepsBetweenThumbs:{},modelValue:{},name:{},orientation:{},origin:{},readOnly:{type:Boolean},step:{},thumbAlignment:{},thumbSize:{},asChild:{type:Boolean}},{disabled:void 0,invalid:void 0,readOnly:void 0}),emits:["focusChange","valueChange","valueChangeEnd","update:modelValue"],setup(e,{emit:t}){const s=dW(e,t);return sw(s),G(),(r,a)=>(C(),N(v(J).div,z(v(s).getRootProps(),{"as-child":r.asChild}),{default:S(()=>[B(r.$slots,"default")]),_:3},16,["as-child"]))}}),SW=$({__name:"slider-thumb",props:{index:{},name:{},asChild:{type:Boolean}},setup(e){const t=e,n=fr();return pW(t),G(),(i,s)=>(C(),N(v(J).div,z(v(n).getThumbProps(t),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["as-child"]))}}),xW=$({__name:"slider-track",props:{asChild:{type:Boolean}},setup(e){const t=fr();return G(),(n,i)=>(C(),N(v(J).div,z(v(t).getTrackProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),TW=$({__name:"slider-value-text",props:{asChild:{type:Boolean}},setup(e){const t=fr(),n=df();return G(),(i,s)=>(C(),N(v(J).span,z(v(t).getValueTextProps(),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default",{},()=>{var r,a;return[qe(ue(((a=(r=v(n)).default)==null?void 0:a.call(r))||v(t).value.join(", ")),1)]})]),_:3},16,["as-child"]))}}),nl=Object.freeze(Object.defineProperty({__proto__:null,Context:hW,Control:fW,HiddenInput:mW,Label:vW,Marker:bW,MarkerGroup:yW,Range:EW,Root:CW,RootProvider:_W,Thumb:SW,Track:xW,ValueText:TW},Symbol.toStringTag,{value:"Module"})),wW={class:"flex items-center gap-4"},IW={key:0,class:"text-sm text-gray-500"},OW=$({__name:"RangeInput",props:Vn({label:null,min:{default:0},max:{default:100},unit:null,step:{default:1}},{modelValue:{default:0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=e,n=vn(e,"modelValue");function i(r){const a=Number(r);a<t.min?n.value=t.min:a>t.max?n.value=t.max:n.value=a}function s(r){n.value=r.value[0]}return(r,a)=>(C(),N(v(nl).Root,{min:e.min,max:e.max,step:e.step,modelValue:[n.value],class:"gap-3 flex flex-col",onValueChange:s},{default:S(()=>[O(v(nl).Label,{class:"text-sm font-medium"},{default:S(()=>[qe(ue(e.label),1)]),_:1}),F("div",wW,[O(v(nl).Control,{class:"flex-1 flex items-center h-2 select-none touch-none"},{default:S(()=>[O(v(nl).Track,{class:"flex-1 overflow-hidden h-1 rounded-full bg-gray-100"},{default:S(()=>[O(v(nl).Range,{class:"h-2 bg-gray-700"})]),_:1}),(C(),N(v(nl).Thumb,{index:0,key:0,class:"h-4 w-4 bg-white rounded-full shadow outline-none border-2 border-gray-700"}))]),_:1}),O(v(Co).Root,{class:"flex flex-none items-center w-16 px-2 h-8 rounded border border-gray-300 focus-within:outline-none focus-within:ring focus-within:ring-gray-700"},{default:S(()=>[O(v(Co).Input,{class:"w-full text-sm outline-none appearance-none",type:"number","model-value":n.value,min:e.min,max:e.max,"onUpdate:modelValue":i},null,8,["model-value","min","max"]),e.unit?(C(),te("div",IW,ue(e.unit),1)):nt("",!0)]),_:1})])]),_:1},8,["min","max","step","modelValue"]))}});var kW=Object.defineProperty,AW=(e,t,n)=>t in e?kW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,PW=(e,t,n)=>AW(e,t+"",n),Kd={itemToValue(e){return typeof e=="string"?e:Ce(e)&&wn(e,"value")?e.value:""},itemToString(e){return typeof e=="string"?e:Ce(e)&&wn(e,"label")?e.label:Kd.itemToValue(e)},isItemDisabled(e){return Ce(e)&&wn(e,"disabled")?!!e.disabled:!1}},qu=class{constructor(e){this.options=e,PW(this,"items"),this.items=[...e.items]}isEqual(e){return dn(this.items,e.items)}setItems(e){this.items=Array.from(e)}getValues(e=this.items){return Array.from(e).map(t=>this.getItemValue(t)).filter(Boolean)}find(e){if(e==null)return null;const t=this.items.findIndex(n=>this.getItemValue(n)===e);return t!=null?this.items[t]:null}findMany(e){return Array.from(e).map(t=>this.find(t)).filter(Boolean)}at(e){return this.items[e]??null}sortFn(e,t){const n=this.indexOf(e),i=this.indexOf(t);return(n??0)-(i??0)}sort(e){return[...e].sort(this.sortFn.bind(this))}getItemValue(e){var t,n;return e==null?null:((n=(t=this.options).itemToValue)==null?void 0:n.call(t,e))??Kd.itemToValue(e)}getItemDisabled(e){var t,n;return e==null?!1:((n=(t=this.options).isItemDisabled)==null?void 0:n.call(t,e))??Kd.isItemDisabled(e)}stringifyItem(e){var t,n;return e==null?null:((n=(t=this.options).itemToString)==null?void 0:n.call(t,e))??Kd.itemToString(e)}stringify(e){return e==null?null:this.stringifyItem(this.find(e))}stringifyItems(e,t=", "){return Array.from(e).map(n=>this.stringifyItem(n)).filter(Boolean).join(t)}stringifyMany(e,t){return this.stringifyItems(this.findMany(e),t)}has(e){return this.indexOf(e)!==-1}hasItem(e){return e==null?!1:this.has(this.getItemValue(e))}get size(){return this.items.length}get firstValue(){let e=0;for(;this.getItemDisabled(this.at(e));)e++;return this.getItemValue(this.at(e))}get lastValue(){let e=this.size-1;for(;this.getItemDisabled(this.at(e));)e--;return this.getItemValue(this.at(e))}getNextValue(e,t=1,n=!1){let i=this.indexOf(e);if(i===-1)return null;for(i=n?Math.min(i+t,this.size-1):i+t;i<=this.size&&this.getItemDisabled(this.at(i));)i++;return this.getItemValue(this.at(i))}getPreviousValue(e,t=1,n=!1){let i=this.indexOf(e);if(i===-1)return null;for(i=n?Math.max(i-t,0):i-t;i>=0&&this.getItemDisabled(this.at(i));)i--;return this.getItemValue(this.at(i))}indexOf(e){return e==null?-1:this.items.findIndex(t=>this.getItemValue(t)===e)}getByText(e,t){let n=t!=null?MW(this.items,this.indexOf(t)):this.items;return e.length===1&&(n=n.filter(s=>this.getItemValue(s)!==t)),n.find(s=>$W(this.stringifyItem(s),e))}search(e,t){const{state:n,currentValue:i,timeout:s=350}=t,r=n.keysSoFar+e,u=r.length>1&&Array.from(r).every(h=>h===r[0])?r[0]:r,o=this.getByText(u,i),l=this.getItemValue(o);function c(){clearTimeout(n.timer),n.timer=-1}function d(h){n.keysSoFar=h,c(),h!==""&&(n.timer=+setTimeout(()=>{d(""),c()},s))}return d(r),l}*[Symbol.iterator](){yield*this.items}insertBefore(e,t){const n=this.indexOf(e);n!==-1&&this.items.splice(n,0,t)}insertAfter(e,t){const n=this.indexOf(e);n!==-1&&this.items.splice(n+1,0,t)}reorder(e,t){if(e===-1||t===-1||e===t)return;const[n]=this.items.splice(e,1);this.items.splice(t,0,n)}json(){return{size:this.size,first:this.firstValue,last:this.lastValue}}},$W=(e,t)=>!!(e!=null&&e.toLowerCase().startsWith(t.toLowerCase())),MW=(e,t)=>e.map((n,i)=>e[(Math.max(t,0)+i)%e.length]);const rw=e=>Ke(new qu(e));var NW=Object.defineProperty,RW=(e,t,n)=>t in e?NW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$e=(e,t,n)=>RW(e,typeof t!="symbol"?t+"":t,n);function ow(e,...t){for(const n of t){const i=Te(n);for(const s in i)_i(n[s])?(e[s]||(e[s]={}),ow(e[s],n[s])):e[s]=n[s]}return e}function Q0(e){return bn(e)}function Ts(e){return q(e)?{type:e}:e}function Xr(e){return e?et(e)?e.slice():[e]:[]}function aw(e){return Ce(e)&&e.predicate!=null}var DW=()=>!0;function gy(e,t,n,i){return s=>{var r;return q(s)?!!((r=e[s])!=null&&r.call(e,t,n,i)):We(s)?s(t,n,i):s.predicate(e)(t,n,i)}}function LW(...e){return{predicate:t=>(n,i,s)=>e.map(gy(t,n,i,s)).some(Boolean)}}function FW(...e){return{predicate:t=>(n,i,s)=>e.map(gy(t,n,i,s)).every(Boolean)}}function VW(e){return{predicate:t=>(n,i,s)=>!gy(t,n,i,s)(e)}}function BW(...e){return(t,n,i)=>i.state.matches(...e)}var HW={or:LW,and:FW,not:VW,stateIn:BW};function lw(e,t){return e=e??DW,(n,i,s)=>{if(q(e)){const r=t[e];return We(r)?r(n,i,s):r}return aw(e)?e.predicate(t)(n,i,s):e==null?void 0:e(n,i,s)}}function sg(e,t){return(n,i,s)=>aw(e)?e.predicate(t)(n,i,s):e}function jW(e){var r,a;const t=e.computed??ee({}),n=e.context??ee({}),i=e.initial?(a=(r=e.states)==null?void 0:r[e.initial])==null?void 0:a.tags:[],s=Yn({value:e.initial??"",previousValue:"",event:ee({}),previousEvent:ee({}),context:yi(n,t),done:!1,tags:i??[],hasTag(u){return this.tags.includes(u)},matches(...u){return u.includes(this.value)},can(u){return ee(this).nextEvents.includes(u)},get nextEvents(){var l,c;const u=((c=(l=e.states)==null?void 0:l[this.value])==null?void 0:c.on)??{},o=(e==null?void 0:e.on)??{};return Object.keys({...u,...o})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return ee(s)}function gc(e,t){return(n,i)=>{if(Ei(e))return e;if(We(e))return e(n,i);if(q(e)){const s=Number.parseFloat(e);if(!Number.isNaN(s))return s;if(t){const r=t==null?void 0:t[e];return He(r==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${e}\`. It doesn't exist in \`options.delays\``),We(r)?r(n,i):r}}}}function UW(e){return q(e)?{target:e}:e}function GW(e,t){return(n,i,s)=>Xr(e).map(UW).find(r=>lw(r.guard,t)(n,i,s)??r.target??r.actions)}var WW=class{constructor(t,n){var i,s,r,a,u;$e(this,"status","Not Started"),$e(this,"state"),$e(this,"initialState"),$e(this,"initialContext"),$e(this,"id"),$e(this,"type","machine"),$e(this,"activityEvents",new Map),$e(this,"delayedEvents",new Map),$e(this,"stateListeners",new Set),$e(this,"doneListeners",new Set),$e(this,"contextWatchers",new Set),$e(this,"removeStateListener",si),$e(this,"parent"),$e(this,"children",new Map),$e(this,"guardMap"),$e(this,"actionMap"),$e(this,"delayMap"),$e(this,"activityMap"),$e(this,"sync"),$e(this,"options"),$e(this,"config"),$e(this,"_created",()=>{var l;const o=Ts("machine.created");this.executeActions((l=this.config)==null?void 0:l.created,o)}),$e(this,"start",o=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=Pt(this.state,()=>{this.stateListeners.forEach(p=>{p(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(Ts("machine.start"),Xr(this.config.activities),"machine.start"),this.executeActions(this.config.entry,Ts("machine.start"));const l=Ts("machine.init"),c=Ce(o)?o.value:o,d=Ce(o)?o.context:void 0;d&&this.setContext(d);const h={target:c??this.config.initial},f=this.getNextStateInfo(h,l);return this.initialState=f,this.performStateChangeEffects(this.state.value,f,l),this}),$e(this,"setupContextWatchers",()=>{const{watch:o}=this.config;if(!o)return;let l=_e(this.state.context);const c=Pt(this.state.context,()=>{var h;const d=_e(this.state.context);for(const[f,p]of Object.entries(o))(((h=this.options.compareFns)==null?void 0:h[f])??Object.is)(l[f],d[f])||this.executeActions(p,this.state.event);l=d});this.contextWatchers.add(c)}),$e(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,Ts("machine.stop")),this.executeActions(this.config.exit,Ts("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),$e(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),$e(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(o=>o()),this.contextWatchers.clear()}),$e(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(o=>{o.forEach(l=>l())}),this.delayedEvents.clear()}),$e(this,"stopActivities",o=>{var l,c;o?((l=this.activityEvents.get(o))==null||l.forEach(d=>d()),(c=this.activityEvents.get(o))==null||c.clear(),this.activityEvents.delete(o)):(this.activityEvents.forEach(d=>{d.forEach(h=>h()),d.clear()}),this.activityEvents.clear())}),$e(this,"sendChild",(o,l)=>{const c=Ts(o),d=$t(l,this.contextSnapshot),h=this.children.get(d);h||He(`[@zag-js/core] Cannot send '${c.type}' event to unknown child`),h.send(c)}),$e(this,"stopChild",o=>{this.children.has(o)||He(`[@zag-js/core > stop-child] Cannot stop unknown child ${o}`),this.children.get(o).stop(),this.children.delete(o)}),$e(this,"removeChild",o=>{this.children.delete(o)}),$e(this,"stopChildren",()=>{this.children.forEach(o=>o.stop()),this.children.clear()}),$e(this,"setParent",o=>{this.parent=o}),$e(this,"spawn",(o,l)=>{const c=$t(o);return l&&(c.id=l),c.type="machine.actor",c.setParent(this),this.children.set(c.id,ee(c)),c.onDone(()=>{this.removeChild(c.id)}).start(),ee(Ke(c))}),$e(this,"stopActivity",o=>{var c;if(!this.state.value)return;const l=this.activityEvents.get(this.state.value);(c=l==null?void 0:l.get(o))==null||c(),l==null||l.delete(o)}),$e(this,"addActivityCleanup",(o,l,c)=>{var d;o&&(this.activityEvents.has(o)?(d=this.activityEvents.get(o))==null||d.set(l,c):this.activityEvents.set(o,new Map([[l,c]])))}),$e(this,"setState",o=>{this.state.previousValue=this.state.value,this.state.value=o;const l=this.getStateNode(o);o==null?bi(this.state.tags):this.state.tags=Xr(l==null?void 0:l.tags)}),$e(this,"setContext",o=>{o&&ow(this.state.context,Te(o))}),$e(this,"setOptions",o=>{const l=Te(o);this.actionMap={...this.actionMap,...l.actions},this.delayMap={...this.delayMap,...l.delays},this.activityMap={...this.activityMap,...l.activities},this.guardMap={...this.guardMap,...l.guards}}),$e(this,"getStateNode",o=>{var l;if(o)return(l=this.config.states)==null?void 0:l[o]}),$e(this,"getNextStateInfo",(o,l)=>{const c=this.determineTransition(o,l),d=!(c!=null&&c.target),h=(c==null?void 0:c.target)??this.state.value,f=this.state.value!==h,p=this.getStateNode(h),m={reenter:!d&&!f&&!(c!=null&&c.internal),transition:c,stateNode:p,target:h,changed:f};return this.log("NextState:",`[${l.type}]`,this.state.value,"---->",m.target),m}),$e(this,"getAfterActions",(o,l)=>{let c;const d=this.state.value;return{entry:()=>{c=globalThis.setTimeout(()=>{const h=this.getNextStateInfo(o,this.state.event);this.performStateChangeEffects(d,h,this.state.event)},l)},exit:()=>{globalThis.clearTimeout(c)}}}),$e(this,"getDelayedEventActions",o=>{const l=this.getStateNode(o),c=this.state.event;if(!l||!l.after)return;const d=[],h=[];if(et(l.after)){const f=this.determineTransition(l.after,c);if(!f)return;if(!wn(f,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(f)}`);const g=gc(f.delay,this.delayMap)(this.contextSnapshot,c),m=this.getAfterActions(f,g);return d.push(m.entry),h.push(m.exit),{entries:d,exits:h}}if(Ce(l.after))for(const f in l.after){const p=l.after[f],m=gc(f,this.delayMap)(this.contextSnapshot,c),y=this.getAfterActions(p,m);d.push(y.entry),h.push(y.exit)}return{entries:d,exits:h}}),$e(this,"executeActions",(o,l)=>{var d;const c=sg(o,this.guardMap)(this.contextSnapshot,l,this.guardMeta);for(const h of Xr(c)){const f=q(h)?(d=this.actionMap)==null?void 0:d[h]:h;it(q(h)&&!f,`[@zag-js/core > execute-actions] No implementation found for action: \`${h}\``),f==null||f(this.state.context,l,this.meta)}}),$e(this,"executeActivities",(o,l,c)=>{var d;for(const h of l){const f=q(h)?(d=this.activityMap)==null?void 0:d[h]:h;if(!f){it(`[@zag-js/core > execute-activity] No implementation found for activity: \`${h}\``);continue}const p=f(this.state.context,o,this.meta);if(p){const g=q(h)?h:h.name||Rt();this.addActivityCleanup(c??this.state.value,g,p)}}}),$e(this,"createEveryActivities",(o,l)=>{if(o)if(et(o)){const c=Xr(o).find(p=>{const g=p.delay,y=gc(g,this.delayMap)(this.contextSnapshot,this.state.event);return lw(p.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??y!=null});if(!c)return;const h=gc(c.delay,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const p=globalThis.setInterval(()=>{this.executeActions(c.actions,this.state.event)},h);return()=>{globalThis.clearInterval(p)}})}else for(const c in o){const d=o==null?void 0:o[c],f=gc(c,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const g=globalThis.setInterval(()=>{this.executeActions(d,this.state.event)},f);return()=>{globalThis.clearInterval(g)}})}}),$e(this,"setEvent",o=>{this.state.previousEvent=this.state.event,this.state.event=Ke(Ts(o))}),$e(this,"performExitEffects",(o,l)=>{const c=this.state.value;if(c==="")return;const d=o?this.getStateNode(o):void 0;this.stopActivities(c);const h=sg(d==null?void 0:d.exit,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=Xr(h),p=this.delayedEvents.get(c);p&&f.push(...p),this.executeActions(f,l),this.delayedEvents.delete(c)}),$e(this,"performEntryEffects",(o,l)=>{const c=this.getStateNode(o),d=Xr(c==null?void 0:c.activities);this.createEveryActivities(c==null?void 0:c.every,g=>{d.unshift(g)}),d.length>0&&this.executeActivities(l,d);const h=sg(c==null?void 0:c.entry,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=Xr(h),p=this.getDelayedEventActions(o);c!=null&&c.after&&p&&(this.delayedEvents.set(o,p==null?void 0:p.exits),f.push(...p.entries)),this.executeActions(f,l),(c==null?void 0:c.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(g=>{g(this.stateSnapshot)}),this.stop())}),$e(this,"performTransitionEffects",(o,l)=>{const c=this.determineTransition(o,l);this.executeActions(c==null?void 0:c.actions,l)}),$e(this,"performStateChangeEffects",(o,l,c)=>{this.setEvent(c);const d=l.changed||l.reenter;d&&this.performExitEffects(o,c),this.performTransitionEffects(l.transition,c),this.setState(l.target),d&&this.performEntryEffects(l.target,c)}),$e(this,"determineTransition",(o,l)=>{const c=GW(o,this.guardMap);return c==null?void 0:c(this.contextSnapshot,l,this.guardMeta)}),$e(this,"sendParent",o=>{var c;this.parent||He("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const l=Ts(o);(c=this.parent)==null||c.send(l)}),$e(this,"log",(...o)=>{}),$e(this,"send",o=>{const l=Ts(o);this.transition(this.state.value,l)}),$e(this,"transition",(o,l)=>{var p,g;const c=q(o)?this.getStateNode(o):o==null?void 0:o.stateNode,d=Ts(l);if(!c&&!this.config.on){const m=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${o}, \`event\`: ${d.type}`;it(m);return}const h=((p=c==null?void 0:c.on)==null?void 0:p[d.type])??((g=this.config.on)==null?void 0:g[d.type]),f=this.getNextStateInfo(h,d);return this.performStateChangeEffects(this.state.value,f,d),f.stateNode}),$e(this,"subscribe",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),()=>{this.stateListeners.delete(o)})),$e(this,"onDone",o=>(this.doneListeners.add(o),this)),$e(this,"onTransition",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),this)),this.config=Q0(t),this.options=Q0(n??{}),this.id=this.config.id??`machine-${Rt()}`,this.guardMap=((i=this.options)==null?void 0:i.guards)??{},this.actionMap=((s=this.options)==null?void 0:s.actions)??{},this.delayMap=((r=this.options)==null?void 0:r.delays)??{},this.activityMap=((a=this.options)==null?void 0:a.activities)??{},this.sync=((u=this.options)==null?void 0:u.sync)??!1,this.state=jW(this.config),this.initialContext=_e(this.state.context)}get stateSnapshot(){return ee(_e(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const t=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return t.stateSnapshot},get initialContext(){return t.initialContext},get initialState(){var n;return((n=t.initialState)==null?void 0:n.target)??""}}}get meta(){var t;return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:((t=this.initialState)==null?void 0:t.target)??"",getState:()=>this.stateSnapshot,getAction:n=>this.actionMap[n],getGuard:n=>this.guardMap[n]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){const t=this.getState();return{value:t.value,tags:t.tags}}},zW=(e,t)=>new WW(e,t);const KW=["top","right","bottom","left"],ko=Math.min,Ui=Math.max,Ih=Math.round,xd=Math.floor,Ao=e=>({x:e,y:e}),qW={left:"right",right:"left",bottom:"top",top:"bottom"},YW={start:"end",end:"start"};function xm(e,t,n){return Ui(e,ko(t,n))}function Mr(e,t){return typeof e=="function"?e(t):e}function Nr(e){return e.split("-")[0]}function Zl(e){return e.split("-")[1]}function my(e){return e==="x"?"y":"x"}function vy(e){return e==="y"?"height":"width"}function Po(e){return["top","bottom"].includes(Nr(e))?"y":"x"}function yy(e){return my(Po(e))}function JW(e,t,n){n===void 0&&(n=!1);const i=Zl(e),s=yy(e),r=vy(s);let a=s==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[r]>t.floating[r]&&(a=Oh(a)),[a,Oh(a)]}function XW(e){const t=Oh(e);return[Tm(e),t,Tm(t)]}function Tm(e){return e.replace(/start|end/g,t=>YW[t])}function ZW(e,t,n){const i=["left","right"],s=["right","left"],r=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:i:t?i:s;case"left":case"right":return t?r:a;default:return[]}}function QW(e,t,n,i){const s=Zl(e);let r=ZW(Nr(e),n==="start",i);return s&&(r=r.map(a=>a+"-"+s),t&&(r=r.concat(r.map(Tm)))),r}function Oh(e){return e.replace(/left|right|bottom|top/g,t=>qW[t])}function ez(e){return{top:0,right:0,bottom:0,left:0,...e}}function cw(e){return typeof e!="number"?ez(e):{top:e,right:e,bottom:e,left:e}}function kh(e){const{x:t,y:n,width:i,height:s}=e;return{width:i,height:s,top:n,left:t,right:t+i,bottom:n+s,x:t,y:n}}function e_(e,t,n){let{reference:i,floating:s}=e;const r=Po(t),a=yy(t),u=vy(a),o=Nr(t),l=r==="y",c=i.x+i.width/2-s.width/2,d=i.y+i.height/2-s.height/2,h=i[u]/2-s[u]/2;let f;switch(o){case"top":f={x:c,y:i.y-s.height};break;case"bottom":f={x:c,y:i.y+i.height};break;case"right":f={x:i.x+i.width,y:d};break;case"left":f={x:i.x-s.width,y:d};break;default:f={x:i.x,y:i.y}}switch(Zl(t)){case"start":f[a]-=h*(n&&l?-1:1);break;case"end":f[a]+=h*(n&&l?-1:1);break}return f}const tz=async(e,t,n)=>{const{placement:i="bottom",strategy:s="absolute",middleware:r=[],platform:a}=n,u=r.filter(Boolean),o=await(a.isRTL==null?void 0:a.isRTL(t));let l=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:c,y:d}=e_(l,i,o),h=i,f={},p=0;for(let g=0;g<u.length;g++){const{name:m,fn:y}=u[g],{x:b,y:E,data:_,reset:I}=await y({x:c,y:d,initialPlacement:i,placement:h,strategy:s,middlewareData:f,rects:l,platform:a,elements:{reference:e,floating:t}});c=b??c,d=E??d,f={...f,[m]:{...f[m],..._}},I&&p<=50&&(p++,typeof I=="object"&&(I.placement&&(h=I.placement),I.rects&&(l=I.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):I.rects),{x:c,y:d}=e_(l,h,o)),g=-1)}return{x:c,y:d,placement:h,strategy:s,middlewareData:f}};async function _u(e,t){var n;t===void 0&&(t={});const{x:i,y:s,platform:r,rects:a,elements:u,strategy:o}=e,{boundary:l="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=Mr(t,e),p=cw(f),m=u[h?d==="floating"?"reference":"floating":d],y=kh(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(m)))==null||n?m:m.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(u.floating)),boundary:l,rootBoundary:c,strategy:o})),b=d==="floating"?{x:i,y:s,width:a.floating.width,height:a.floating.height}:a.reference,E=await(r.getOffsetParent==null?void 0:r.getOffsetParent(u.floating)),_=await(r.isElement==null?void 0:r.isElement(E))?await(r.getScale==null?void 0:r.getScale(E))||{x:1,y:1}:{x:1,y:1},I=kh(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:b,offsetParent:E,strategy:o}):b);return{top:(y.top-I.top+p.top)/_.y,bottom:(I.bottom-y.bottom+p.bottom)/_.y,left:(y.left-I.left+p.left)/_.x,right:(I.right-y.right+p.right)/_.x}}const nz=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:i,placement:s,rects:r,platform:a,elements:u,middlewareData:o}=t,{element:l,padding:c=0}=Mr(e,t)||{};if(l==null)return{};const d=cw(c),h={x:n,y:i},f=yy(s),p=vy(f),g=await a.getDimensions(l),m=f==="y",y=m?"top":"left",b=m?"bottom":"right",E=m?"clientHeight":"clientWidth",_=r.reference[p]+r.reference[f]-h[f]-r.floating[p],I=h[f]-r.reference[f],M=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l));let R=M?M[E]:0;(!R||!await(a.isElement==null?void 0:a.isElement(M)))&&(R=u.floating[E]||r.floating[p]);const X=_/2-I/2,D=R/2-g[p]/2-1,j=ko(d[y],D),se=ko(d[b],D),ae=j,Y=R-g[p]-se,Q=R/2-g[p]/2+X,de=xm(ae,Q,Y),ce=!o.arrow&&Zl(s)!=null&&Q!==de&&r.reference[p]/2-(Q<ae?j:se)-g[p]/2<0,re=ce?Q<ae?Q-ae:Q-Y:0;return{[f]:h[f]+re,data:{[f]:de,centerOffset:Q-de-re,...ce&&{alignmentOffset:re}},reset:ce}}}),iz=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:s,middlewareData:r,rects:a,initialPlacement:u,platform:o,elements:l}=t,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...m}=Mr(e,t);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const y=Nr(s),b=Po(u),E=Nr(u)===u,_=await(o.isRTL==null?void 0:o.isRTL(l.floating)),I=h||(E||!g?[Oh(u)]:XW(u)),M=p!=="none";!h&&M&&I.push(...QW(u,g,p,_));const R=[u,...I],X=await _u(t,m),D=[];let j=((i=r.flip)==null?void 0:i.overflows)||[];if(c&&D.push(X[y]),d){const Q=JW(s,a,_);D.push(X[Q[0]],X[Q[1]])}if(j=[...j,{placement:s,overflows:D}],!D.every(Q=>Q<=0)){var se,ae;const Q=(((se=r.flip)==null?void 0:se.index)||0)+1,de=R[Q];if(de)return{data:{index:Q,overflows:j},reset:{placement:de}};let ce=(ae=j.filter(re=>re.overflows[0]<=0).sort((re,he)=>re.overflows[1]-he.overflows[1])[0])==null?void 0:ae.placement;if(!ce)switch(f){case"bestFit":{var Y;const re=(Y=j.filter(he=>{if(M){const je=Po(he.placement);return je===b||je==="y"}return!0}).map(he=>[he.placement,he.overflows.filter(je=>je>0).reduce((je,lt)=>je+lt,0)]).sort((he,je)=>he[1]-je[1])[0])==null?void 0:Y[0];re&&(ce=re);break}case"initialPlacement":ce=u;break}if(s!==ce)return{reset:{placement:ce}}}return{}}}};function t_(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function n_(e){return KW.some(t=>e[t]>=0)}const sz=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:i="referenceHidden",...s}=Mr(e,t);switch(i){case"referenceHidden":{const r=await _u(t,{...s,elementContext:"reference"}),a=t_(r,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:n_(a)}}}case"escaped":{const r=await _u(t,{...s,altBoundary:!0}),a=t_(r,n.floating);return{data:{escapedOffsets:a,escaped:n_(a)}}}default:return{}}}}};async function rz(e,t){const{placement:n,platform:i,elements:s}=e,r=await(i.isRTL==null?void 0:i.isRTL(s.floating)),a=Nr(n),u=Zl(n),o=Po(n)==="y",l=["left","top"].includes(a)?-1:1,c=r&&o?-1:1,d=Mr(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return u&&typeof p=="number"&&(f=u==="end"?p*-1:p),o?{x:f*c,y:h*l}:{x:h*l,y:f*c}}const oz=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:s,y:r,placement:a,middlewareData:u}=t,o=await rz(t,e);return a===((n=u.offset)==null?void 0:n.placement)&&(i=u.arrow)!=null&&i.alignmentOffset?{}:{x:s+o.x,y:r+o.y,data:{...o,placement:a}}}}},az=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:s}=t,{mainAxis:r=!0,crossAxis:a=!1,limiter:u={fn:m=>{let{x:y,y:b}=m;return{x:y,y:b}}},...o}=Mr(e,t),l={x:n,y:i},c=await _u(t,o),d=Po(Nr(s)),h=my(d);let f=l[h],p=l[d];if(r){const m=h==="y"?"top":"left",y=h==="y"?"bottom":"right",b=f+c[m],E=f-c[y];f=xm(b,f,E)}if(a){const m=d==="y"?"top":"left",y=d==="y"?"bottom":"right",b=p+c[m],E=p-c[y];p=xm(b,p,E)}const g=u.fn({...t,[h]:f,[d]:p});return{...g,data:{x:g.x-n,y:g.y-i,enabled:{[h]:r,[d]:a}}}}}},lz=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:i,placement:s,rects:r,middlewareData:a}=t,{offset:u=0,mainAxis:o=!0,crossAxis:l=!0}=Mr(e,t),c={x:n,y:i},d=Po(s),h=my(d);let f=c[h],p=c[d];const g=Mr(u,t),m=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(o){const E=h==="y"?"height":"width",_=r.reference[h]-r.floating[E]+m.mainAxis,I=r.reference[h]+r.reference[E]-m.mainAxis;f<_?f=_:f>I&&(f=I)}if(l){var y,b;const E=h==="y"?"width":"height",_=["top","left"].includes(Nr(s)),I=r.reference[d]-r.floating[E]+(_&&((y=a.offset)==null?void 0:y[d])||0)+(_?0:m.crossAxis),M=r.reference[d]+r.reference[E]+(_?0:((b=a.offset)==null?void 0:b[d])||0)-(_?m.crossAxis:0);p<I?p=I:p>M&&(p=M)}return{[h]:f,[d]:p}}}},cz=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,i;const{placement:s,rects:r,platform:a,elements:u}=t,{apply:o=()=>{},...l}=Mr(e,t),c=await _u(t,l),d=Nr(s),h=Zl(s),f=Po(s)==="y",{width:p,height:g}=r.floating;let m,y;d==="top"||d==="bottom"?(m=d,y=h===(await(a.isRTL==null?void 0:a.isRTL(u.floating))?"start":"end")?"left":"right"):(y=d,m=h==="end"?"top":"bottom");const b=g-c.top-c.bottom,E=p-c.left-c.right,_=ko(g-c[m],b),I=ko(p-c[y],E),M=!t.middlewareData.shift;let R=_,X=I;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(X=E),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(R=b),M&&!h){const j=Ui(c.left,0),se=Ui(c.right,0),ae=Ui(c.top,0),Y=Ui(c.bottom,0);f?X=p-2*(j!==0||se!==0?j+se:Ui(c.left,c.right)):R=g-2*(ae!==0||Y!==0?ae+Y:Ui(c.top,c.bottom))}await o({...t,availableWidth:X,availableHeight:R});const D=await a.getDimensions(u.floating);return p!==D.width||g!==D.height?{reset:{rects:!0}}:{}}}};function jf(){return typeof window<"u"}function Ql(e){return uw(e)?(e.nodeName||"").toLowerCase():"#document"}function Yi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function pr(e){var t;return(t=(uw(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function uw(e){return jf()?e instanceof Node||e instanceof Yi(e).Node:!1}function Us(e){return jf()?e instanceof Element||e instanceof Yi(e).Element:!1}function lr(e){return jf()?e instanceof HTMLElement||e instanceof Yi(e).HTMLElement:!1}function i_(e){return!jf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Yi(e).ShadowRoot}function Yu(e){const{overflow:t,overflowX:n,overflowY:i,display:s}=Gs(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!["inline","contents"].includes(s)}function uz(e){return["table","td","th"].includes(Ql(e))}function Uf(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function by(e){const t=Ey(),n=Us(e)?Gs(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function dz(e){let t=$o(e);for(;lr(t)&&!Nl(t);){if(by(t))return t;if(Uf(t))return null;t=$o(t)}return null}function Ey(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Nl(e){return["html","body","#document"].includes(Ql(e))}function Gs(e){return Yi(e).getComputedStyle(e)}function Gf(e){return Us(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function $o(e){if(Ql(e)==="html")return e;const t=e.assignedSlot||e.parentNode||i_(e)&&e.host||pr(e);return i_(t)?t.host:t}function dw(e){const t=$o(e);return Nl(t)?e.ownerDocument?e.ownerDocument.body:e.body:lr(t)&&Yu(t)?t:dw(t)}function Cu(e,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=dw(e),r=s===((i=e.ownerDocument)==null?void 0:i.body),a=Yi(s);if(r){const u=wm(a);return t.concat(a,a.visualViewport||[],Yu(s)?s:[],u&&n?Cu(u):[])}return t.concat(s,Cu(s,[],n))}function wm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function hw(e){const t=Gs(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const s=lr(e),r=s?e.offsetWidth:n,a=s?e.offsetHeight:i,u=Ih(n)!==r||Ih(i)!==a;return u&&(n=r,i=a),{width:n,height:i,$:u}}function _y(e){return Us(e)?e:e.contextElement}function Sl(e){const t=_y(e);if(!lr(t))return Ao(1);const n=t.getBoundingClientRect(),{width:i,height:s,$:r}=hw(t);let a=(r?Ih(n.width):n.width)/i,u=(r?Ih(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!u||!Number.isFinite(u))&&(u=1),{x:a,y:u}}const hz=Ao(0);function fw(e){const t=Yi(e);return!Ey()||!t.visualViewport?hz:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function fz(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Yi(e)?!1:t}function Ma(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),r=_y(e);let a=Ao(1);t&&(i?Us(i)&&(a=Sl(i)):a=Sl(e));const u=fz(r,n,i)?fw(r):Ao(0);let o=(s.left+u.x)/a.x,l=(s.top+u.y)/a.y,c=s.width/a.x,d=s.height/a.y;if(r){const h=Yi(r),f=i&&Us(i)?Yi(i):i;let p=h,g=wm(p);for(;g&&i&&f!==p;){const m=Sl(g),y=g.getBoundingClientRect(),b=Gs(g),E=y.left+(g.clientLeft+parseFloat(b.paddingLeft))*m.x,_=y.top+(g.clientTop+parseFloat(b.paddingTop))*m.y;o*=m.x,l*=m.y,c*=m.x,d*=m.y,o+=E,l+=_,p=Yi(g),g=wm(p)}}return kh({width:c,height:d,x:o,y:l})}function pz(e){let{elements:t,rect:n,offsetParent:i,strategy:s}=e;const r=s==="fixed",a=pr(i),u=t?Uf(t.floating):!1;if(i===a||u&&r)return n;let o={scrollLeft:0,scrollTop:0},l=Ao(1);const c=Ao(0),d=lr(i);if((d||!d&&!r)&&((Ql(i)!=="body"||Yu(a))&&(o=Gf(i)),lr(i))){const h=Ma(i);l=Sl(i),c.x=h.x+i.clientLeft,c.y=h.y+i.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-o.scrollLeft*l.x+c.x,y:n.y*l.y-o.scrollTop*l.y+c.y}}function gz(e){return Array.from(e.getClientRects())}function Im(e,t){const n=Gf(e).scrollLeft;return t?t.left+n:Ma(pr(e)).left+n}function mz(e){const t=pr(e),n=Gf(e),i=e.ownerDocument.body,s=Ui(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),r=Ui(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let a=-n.scrollLeft+Im(e);const u=-n.scrollTop;return Gs(i).direction==="rtl"&&(a+=Ui(t.clientWidth,i.clientWidth)-s),{width:s,height:r,x:a,y:u}}function vz(e,t){const n=Yi(e),i=pr(e),s=n.visualViewport;let r=i.clientWidth,a=i.clientHeight,u=0,o=0;if(s){r=s.width,a=s.height;const l=Ey();(!l||l&&t==="fixed")&&(u=s.offsetLeft,o=s.offsetTop)}return{width:r,height:a,x:u,y:o}}function yz(e,t){const n=Ma(e,!0,t==="fixed"),i=n.top+e.clientTop,s=n.left+e.clientLeft,r=lr(e)?Sl(e):Ao(1),a=e.clientWidth*r.x,u=e.clientHeight*r.y,o=s*r.x,l=i*r.y;return{width:a,height:u,x:o,y:l}}function s_(e,t,n){let i;if(t==="viewport")i=vz(e,n);else if(t==="document")i=mz(pr(e));else if(Us(t))i=yz(t,n);else{const s=fw(e);i={...t,x:t.x-s.x,y:t.y-s.y}}return kh(i)}function pw(e,t){const n=$o(e);return n===t||!Us(n)||Nl(n)?!1:Gs(n).position==="fixed"||pw(n,t)}function bz(e,t){const n=t.get(e);if(n)return n;let i=Cu(e,[],!1).filter(u=>Us(u)&&Ql(u)!=="body"),s=null;const r=Gs(e).position==="fixed";let a=r?$o(e):e;for(;Us(a)&&!Nl(a);){const u=Gs(a),o=by(a);!o&&u.position==="fixed"&&(s=null),(r?!o&&!s:!o&&u.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Yu(a)&&!o&&pw(e,a))?i=i.filter(c=>c!==a):s=u,a=$o(a)}return t.set(e,i),i}function Ez(e){let{element:t,boundary:n,rootBoundary:i,strategy:s}=e;const a=[...n==="clippingAncestors"?Uf(t)?[]:bz(t,this._c):[].concat(n),i],u=a[0],o=a.reduce((l,c)=>{const d=s_(t,c,s);return l.top=Ui(d.top,l.top),l.right=ko(d.right,l.right),l.bottom=ko(d.bottom,l.bottom),l.left=Ui(d.left,l.left),l},s_(t,u,s));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}}function _z(e){const{width:t,height:n}=hw(e);return{width:t,height:n}}function Cz(e,t,n){const i=lr(t),s=pr(t),r=n==="fixed",a=Ma(e,!0,r,t);let u={scrollLeft:0,scrollTop:0};const o=Ao(0);if(i||!i&&!r)if((Ql(t)!=="body"||Yu(s))&&(u=Gf(t)),i){const f=Ma(t,!0,r,t);o.x=f.x+t.clientLeft,o.y=f.y+t.clientTop}else s&&(o.x=Im(s));let l=0,c=0;if(s&&!i&&!r){const f=s.getBoundingClientRect();c=f.top+u.scrollTop,l=f.left+u.scrollLeft-Im(s,f)}const d=a.left+u.scrollLeft-o.x-l,h=a.top+u.scrollTop-o.y-c;return{x:d,y:h,width:a.width,height:a.height}}function rg(e){return Gs(e).position==="static"}function r_(e,t){if(!lr(e)||Gs(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return pr(e)===n&&(n=n.ownerDocument.body),n}function gw(e,t){const n=Yi(e);if(Uf(e))return n;if(!lr(e)){let s=$o(e);for(;s&&!Nl(s);){if(Us(s)&&!rg(s))return s;s=$o(s)}return n}let i=r_(e,t);for(;i&&uz(i)&&rg(i);)i=r_(i,t);return i&&Nl(i)&&rg(i)&&!by(i)?n:i||dz(e)||n}const Sz=async function(e){const t=this.getOffsetParent||gw,n=this.getDimensions,i=await n(e.floating);return{reference:Cz(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function xz(e){return Gs(e).direction==="rtl"}const Tz={convertOffsetParentRelativeRectToViewportRelativeRect:pz,getDocumentElement:pr,getClippingRect:Ez,getOffsetParent:gw,getElementRects:Sz,getClientRects:gz,getDimensions:_z,getScale:Sl,isElement:Us,isRTL:xz};function wz(e,t){let n=null,i;const s=pr(e);function r(){var u;clearTimeout(i),(u=n)==null||u.disconnect(),n=null}function a(u,o){u===void 0&&(u=!1),o===void 0&&(o=1),r();const{left:l,top:c,width:d,height:h}=e.getBoundingClientRect();if(u||t(),!d||!h)return;const f=xd(c),p=xd(s.clientWidth-(l+d)),g=xd(s.clientHeight-(c+h)),m=xd(l),b={rootMargin:-f+"px "+-p+"px "+-g+"px "+-m+"px",threshold:Ui(0,ko(1,o))||1};let E=!0;function _(I){const M=I[0].intersectionRatio;if(M!==o){if(!E)return a();M?a(!1,M):i=setTimeout(()=>{a(!1,1e-7)},1e3)}E=!1}try{n=new IntersectionObserver(_,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(_,b)}n.observe(e)}return a(!0),r}function Iz(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:r=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:o=!1}=i,l=_y(e),c=s||r?[...l?Cu(l):[],...Cu(t)]:[];c.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),r&&y.addEventListener("resize",n)});const d=l&&u?wz(l,n):null;let h=-1,f=null;a&&(f=new ResizeObserver(y=>{let[b]=y;b&&b.target===l&&f&&(f.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var E;(E=f)==null||E.observe(t)})),n()}),l&&!o&&f.observe(l),f.observe(t));let p,g=o?Ma(e):null;o&&m();function m(){const y=Ma(e);g&&(y.x!==g.x||y.y!==g.y||y.width!==g.width||y.height!==g.height)&&n(),g=y,p=requestAnimationFrame(m)}return n(),()=>{var y;c.forEach(b=>{s&&b.removeEventListener("scroll",n),r&&b.removeEventListener("resize",n)}),d==null||d(),(y=f)==null||y.disconnect(),f=null,o&&cancelAnimationFrame(p)}}const Oz=oz,kz=az,Az=iz,Pz=cz,$z=sz,Mz=nz,Nz=lz,Rz=(e,t,n)=>{const i=new Map,s={platform:Tz,...n},r={...s.platform,_c:i};return tz(e,t,{...s,platform:r})};function o_(e=0,t=0,n=0,i=0){if(typeof DOMRect=="function")return new DOMRect(e,t,n,i);const s={x:e,y:t,width:n,height:i,top:t,right:e+n,bottom:t+i,left:e};return{...s,toJSON:()=>s}}function Dz(e){if(!e)return o_();const{x:t,y:n,width:i,height:s}=e;return o_(t,n,i,s)}function Lz(e,t){return{contextElement:Xi(e)?e:void 0,getBoundingClientRect:()=>{const n=e,i=t==null?void 0:t(n);return i||!n?Dz(i):n.getBoundingClientRect()}}}var mc=e=>({variable:e,reference:`var(${e})`}),Cr={arrowSize:mc("--arrow-size"),arrowSizeHalf:mc("--arrow-size-half"),arrowBg:mc("--arrow-background"),transformOrigin:mc("--transform-origin"),arrowOffset:mc("--arrow-offset")},Fz=e=>({top:"bottom center","top-start":e?`${e.x}px bottom`:"left bottom","top-end":e?`${e.x}px bottom`:"right bottom",bottom:"top center","bottom-start":e?`${e.x}px top`:"top left","bottom-end":e?`${e.x}px top`:"top right",left:"right center","left-start":e?`right ${e.y}px`:"right top","left-end":e?`right ${e.y}px`:"right bottom",right:"left center","right-start":e?`left ${e.y}px`:"left top","right-end":e?`left ${e.y}px`:"left bottom"}),Vz={name:"transformOrigin",fn({placement:e,elements:t,middlewareData:n}){const{arrow:i}=n,s=Fz(i)[e],{floating:r}=t;return r.style.setProperty(Cr.transformOrigin.variable,s),{data:{transformOrigin:s}}}},Bz={name:"rects",fn({rects:e}){return{data:e}}},Hz=e=>{if(e)return{name:"shiftArrow",fn({placement:t,middlewareData:n}){if(!n.arrow)return{};const{x:i,y:s}=n.arrow,r=t.split("-")[0];return Object.assign(e.style,{left:i!=null?`${i}px`:"",top:s!=null?`${s}px`:"",[r]:`calc(100% + ${Cr.arrowOffset.reference})`}),{}}}};function jz(e){const[t,n]=e.split("-");return{side:t,align:n,hasAlign:n!=null}}function Uz(e){return e.split("-")[0]}var Gz={strategy:"absolute",placement:"bottom",listeners:!0,gutter:8,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,overflowPadding:8,arrowPadding:4};function a_(e,t){const n=e.devicePixelRatio||1;return Math.round(t*n)/n}function mw(e){return $t(e.boundary)}function Wz(e,t){if(e)return Mz({element:e,padding:t.arrowPadding})}function zz(e,t){if(!VN(t.offset??t.gutter))return Oz(({placement:n})=>{var l,c;const i=((e==null?void 0:e.clientHeight)||0)/2,s=((l=t.offset)==null?void 0:l.mainAxis)??t.gutter,r=typeof s=="number"?s+i:s??i,{hasAlign:a}=jz(n),u=a?void 0:t.shift,o=((c=t.offset)==null?void 0:c.crossAxis)??u;return Te({crossAxis:o,mainAxis:r,alignmentAxis:t.shift})})}function Kz(e){if(e.flip)return Az({boundary:mw(e),padding:e.overflowPadding,fallbackPlacements:e.flip===!0?void 0:e.flip})}function qz(e){if(!(!e.slide&&!e.overlap))return kz({boundary:mw(e),mainAxis:e.slide,crossAxis:e.overlap,padding:e.overflowPadding,limiter:Nz()})}function Yz(e){return Pz({padding:e.overflowPadding,apply({elements:t,rects:n,availableHeight:i,availableWidth:s}){const r=t.floating,a=Math.round(n.reference.width);s=Math.floor(s),i=Math.floor(i),r.style.setProperty("--reference-width",`${a}px`),r.style.setProperty("--available-width",`${s}px`),r.style.setProperty("--available-height",`${i}px`)}})}function Jz(e){var t;if(e.hideWhenDetached)return $z({strategy:"referenceHidden",boundary:((t=e.boundary)==null?void 0:t.call(e))??"clippingAncestors"})}function Xz(e){return e?e===!0?{ancestorResize:!0,ancestorScroll:!0,elementResize:!0,layoutShift:!0}:e:{}}function Zz(e,t,n={}){const i=Lz(e,n.getAnchorRect);if(!t||!i)return;const s=Object.assign({},Gz,n),r=t.querySelector("[data-part=arrow]"),a=[zz(r,s),Kz(s),qz(s),Wz(r,s),Hz(r),Vz,Yz(s),Jz(s),Bz],{placement:u,strategy:o,onComplete:l,onPositioned:c}=s,d=async()=>{var _;if(!i||!t)return;const g=await Rz(i,t,{placement:u,middleware:a,strategy:o});l==null||l(g),c==null||c({placed:!0});const m=Zi(t),y=a_(m,g.x),b=a_(m,g.y);t.style.setProperty("--x",`${y}px`),t.style.setProperty("--y",`${b}px`),s.hideWhenDetached&&((_=g.middlewareData.hide)!=null&&_.referenceHidden)&&t.style.setProperty("visibility","hidden");const E=t.firstElementChild;if(E){const I=m.getComputedStyle(E).zIndex;t.style.setProperty("--z-index",I)}},h=async()=>{n.updatePosition?(await n.updatePosition({updatePosition:d}),c==null||c({placed:!0})):await d()},f=Xz(s.listeners),p=s.listeners?Iz(i,t,h,f):si;return h(),()=>{p==null||p(),c==null||c({placed:!1})}}function Rr(e,t,n={}){const{defer:i,...s}=n,r=i?Je:u=>u(),a=[];return a.push(r(()=>{const u=typeof e=="function"?e():e,o=typeof t=="function"?t():t;a.push(Zz(u,o,s))})),()=>{a.forEach(u=>u==null?void 0:u())}}var Qz={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function Ju(e={}){const{placement:t,sameWidth:n,fitViewport:i,strategy:s="absolute"}=e;return{arrow:{position:"absolute",width:Cr.arrowSize.reference,height:Cr.arrowSize.reference,[Cr.arrowSizeHalf.variable]:`calc(${Cr.arrowSize.reference} / 2)`,[Cr.arrowOffset.variable]:`calc(${Cr.arrowSizeHalf.reference} * -1)`},arrowTip:{transform:t?Qz[t.split("-")[0]]:void 0,background:Cr.arrowBg.reference,top:"0",left:"0",width:"100%",height:"100%",position:"absolute",zIndex:"inherit"},floating:{position:s,isolation:"isolate",minWidth:n?void 0:"max-content",width:n?"var(--reference-width)":void 0,maxWidth:i?"var(--available-width)":void 0,maxHeight:i?"var(--available-height)":void 0,top:"0px",left:"0px",transform:t?"translate3d(var(--x), var(--y), 0)":"translate3d(0, -100vh, 0)",zIndex:"var(--z-index)"}}}var e7=Dn("select").parts("label","positioner","trigger","indicator","clearTrigger","item","itemText","itemIndicator","itemGroup","itemGroupLabel","list","content","root","control","valueText"),ai=e7.build(),vw=e=>Ke(new qu(e));vw.empty=()=>Ke(new qu({items:[]}));var ze=$i({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`select:${e.id}`},getContentId:e=>{var t;return((t=e.ids)==null?void 0:t.content)??`select:${e.id}:content`},getTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.trigger)??`select:${e.id}:trigger`},getClearTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.clearTrigger)??`select:${e.id}:clear-trigger`},getLabelId:e=>{var t;return((t=e.ids)==null?void 0:t.label)??`select:${e.id}:label`},getControlId:e=>{var t;return((t=e.ids)==null?void 0:t.control)??`select:${e.id}:control`},getItemId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.item)==null?void 0:i.call(n,t))??`select:${e.id}:option:${t}`},getHiddenSelectId:e=>{var t;return((t=e.ids)==null?void 0:t.hiddenSelect)??`select:${e.id}:select`},getPositionerId:e=>{var t;return((t=e.ids)==null?void 0:t.positioner)??`select:${e.id}:positioner`},getItemGroupId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.itemGroup)==null?void 0:i.call(n,t))??`select:${e.id}:optgroup:${t}`},getItemGroupLabelId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.itemGroupLabel)==null?void 0:i.call(n,t))??`select:${e.id}:optgroup-label:${t}`},getHiddenSelectEl:e=>ze.getById(e,ze.getHiddenSelectId(e)),getContentEl:e=>ze.getById(e,ze.getContentId(e)),getControlEl:e=>ze.getById(e,ze.getControlId(e)),getTriggerEl:e=>ze.getById(e,ze.getTriggerId(e)),getClearTriggerEl:e=>ze.getById(e,ze.getClearTriggerId(e)),getPositionerEl:e=>ze.getById(e,ze.getPositionerId(e)),getHighlightedOptionEl(e){return e.highlightedValue?ze.getById(e,ze.getItemId(e,e.highlightedValue)):null}});function t7(e,t,n){const i=e.context.isDisabled,s=e.context.invalid,r=e.context.readOnly,a=e.context.isInteractive,u=e.context.composite,o=e.hasTag("open"),l=e.matches("focused"),c=e.context.highlightedValue,d=e.context.highlightedItem,h=e.context.selectedItems,f=e.context.isTypingAhead,p=e.context.collection,g=c?ze.getItemId(e.context,c):void 0;function m(b){const E=p.getItemDisabled(b.item),_=p.getItemValue(b.item);return{value:_,disabled:!!(i||E),highlighted:c===_,selected:e.context.value.includes(_)}}const y=Ju({...e.context.positioning,placement:e.context.currentPlacement});return{open:o,focused:l,empty:e.context.value.length===0,highlightedItem:d,highlightedValue:c,selectedItems:h,hasSelectedItems:e.context.hasSelectedItems,value:e.context.value,valueAsString:e.context.valueAsString,collection:p,multiple:!!e.context.multiple,disabled:!!i,setCollection(b){t({type:"COLLECTION.SET",value:b})},reposition(b={}){t({type:"POSITIONING.SET",options:b})},focus(){var b;(b=ze.getTriggerEl(e.context))==null||b.focus({preventScroll:!0})},setOpen(b){b!==o&&t(b?"OPEN":"CLOSE")},selectValue(b){t({type:"ITEM.SELECT",value:b})},setValue(b){t({type:"VALUE.SET",value:b})},selectAll(){t({type:"VALUE.SET",value:p.getValues()})},highlightValue(b){t({type:"HIGHLIGHTED_VALUE.SET",value:b})},clearValue(b){t(b?{type:"ITEM.CLEAR",value:b}:{type:"VALUE.CLEAR"})},getItemState:m,getRootProps(){return n.element({...ai.root.attrs,dir:e.context.dir,id:ze.getRootId(e.context),"data-invalid":H(s),"data-readonly":H(r)})},getLabelProps(){return n.label({dir:e.context.dir,id:ze.getLabelId(e.context),...ai.label.attrs,"data-disabled":H(i),"data-invalid":H(s),"data-readonly":H(r),htmlFor:ze.getHiddenSelectId(e.context),onClick(b){var E;b.defaultPrevented||i||(E=ze.getTriggerEl(e.context))==null||E.focus({preventScroll:!0})}})},getControlProps(){return n.element({...ai.control.attrs,dir:e.context.dir,id:ze.getControlId(e.context),"data-state":o?"open":"closed","data-focus":H(l),"data-disabled":H(i),"data-invalid":H(s)})},getValueTextProps(){return n.element({...ai.valueText.attrs,dir:e.context.dir,"data-disabled":H(i),"data-invalid":H(s),"data-focus":H(l)})},getTriggerProps(){return n.button({id:ze.getTriggerId(e.context),disabled:i,dir:e.context.dir,type:"button",role:"combobox","aria-controls":ze.getContentId(e.context),"aria-expanded":o,"aria-haspopup":"listbox","data-state":o?"open":"closed","aria-invalid":s,"aria-labelledby":ze.getLabelId(e.context),...ai.trigger.attrs,"data-disabled":H(i),"data-invalid":H(s),"data-readonly":H(r),"data-placement":e.context.currentPlacement,"data-placeholder-shown":H(!e.context.hasSelectedItems),onClick(b){a&&(b.defaultPrevented||t({type:"TRIGGER.CLICK"}))},onFocus(){t("TRIGGER.FOCUS")},onBlur(){t("TRIGGER.BLUR")},onKeyDown(b){if(b.defaultPrevented||!a)return;const _={ArrowUp(){t({type:"TRIGGER.ARROW_UP"})},ArrowDown(I){t({type:I.altKey?"OPEN":"TRIGGER.ARROW_DOWN"})},ArrowLeft(){t({type:"TRIGGER.ARROW_LEFT"})},ArrowRight(){t({type:"TRIGGER.ARROW_RIGHT"})},Home(){t({type:"TRIGGER.HOME"})},End(){t({type:"TRIGGER.END"})},Enter(){t({type:"TRIGGER.ENTER"})},Space(I){t(f?{type:"TRIGGER.TYPEAHEAD",key:I.key}:{type:"TRIGGER.ENTER"})}}[js(b,e.context)];if(_){_(b),b.preventDefault();return}vu.isValidEvent(b)&&(t({type:"TRIGGER.TYPEAHEAD",key:b.key}),b.preventDefault())}})},getIndicatorProps(){return n.element({...ai.indicator.attrs,dir:e.context.dir,"aria-hidden":!0,"data-state":o?"open":"closed","data-disabled":H(i),"data-invalid":H(s),"data-readonly":H(r)})},getItemProps(b){const E=m(b);return n.element({id:ze.getItemId(e.context,E.value),role:"option",...ai.item.attrs,dir:e.context.dir,"data-value":E.value,"aria-selected":E.selected,"data-state":E.selected?"checked":"unchecked","data-highlighted":H(E.highlighted),"data-disabled":H(E.disabled),"aria-disabled":_o(E.disabled),onPointerMove(_){E.disabled||_.pointerType!=="mouse"||E.value!==e.context.highlightedValue&&t({type:"ITEM.POINTER_MOVE",value:E.value})},onClick(_){_.defaultPrevented||E.disabled||t({type:"ITEM.CLICK",src:"pointerup",value:E.value})},onPointerLeave(_){E.disabled||b.persistFocus||_.pointerType!=="mouse"||!e.previousEvent.type.includes("POINTER")||t({type:"ITEM.POINTER_LEAVE"})}})},getItemTextProps(b){const E=m(b);return n.element({...ai.itemText.attrs,"data-state":E.selected?"checked":"unchecked","data-disabled":H(E.disabled),"data-highlighted":H(E.highlighted)})},getItemIndicatorProps(b){const E=m(b);return n.element({"aria-hidden":!0,...ai.itemIndicator.attrs,"data-state":E.selected?"checked":"unchecked",hidden:!E.selected})},getItemGroupLabelProps(b){const{htmlFor:E}=b;return n.element({...ai.itemGroupLabel.attrs,id:ze.getItemGroupLabelId(e.context,E),role:"group",dir:e.context.dir})},getItemGroupProps(b){const{id:E}=b;return n.element({...ai.itemGroup.attrs,"data-disabled":H(i),id:ze.getItemGroupId(e.context,E),"aria-labelledby":ze.getItemGroupLabelId(e.context,E),dir:e.context.dir})},getClearTriggerProps(){return n.button({...ai.clearTrigger.attrs,id:ze.getClearTriggerId(e.context),type:"button","aria-label":"Clear value","data-invalid":H(s),disabled:i,hidden:!e.context.hasSelectedItems,dir:e.context.dir,onClick(b){b.defaultPrevented||t("CLEAR.CLICK")}})},getHiddenSelectProps(){return n.select({name:e.context.name,form:e.context.form,disabled:i,multiple:e.context.multiple,required:e.context.required,"aria-hidden":!0,id:ze.getHiddenSelectId(e.context),defaultValue:e.context.multiple?e.context.value:e.context.value[0],style:Bu,tabIndex:-1,onFocus(){var b;(b=ze.getTriggerEl(e.context))==null||b.focus({preventScroll:!0})},"aria-labelledby":ze.getLabelId(e.context)})},getPositionerProps(){return n.element({...ai.positioner.attrs,dir:e.context.dir,id:ze.getPositionerId(e.context),style:y.floating})},getContentProps(){return n.element({hidden:!o,dir:e.context.dir,id:ze.getContentId(e.context),role:u?"listbox":"dialog",...ai.content.attrs,"data-state":o?"open":"closed","data-placement":e.context.currentPlacement,"data-activedescendant":g,"aria-activedescendant":u?g:void 0,"aria-multiselectable":e.context.multiple&&u?!0:void 0,"aria-labelledby":ze.getLabelId(e.context),tabIndex:0,onKeyDown(b){if(!a||!mu(b))return;if(b.key==="Tab"&&!yx(b)){b.preventDefault();return}const E={ArrowUp(){t({type:"CONTENT.ARROW_UP"})},ArrowDown(){t({type:"CONTENT.ARROW_DOWN"})},Home(){t({type:"CONTENT.HOME"})},End(){t({type:"CONTENT.END"})},Enter(){t({type:"ITEM.CLICK",src:"keydown.enter"})},Space(M){var R;f?t({type:"CONTENT.TYPEAHEAD",key:M.key}):(R=E.Enter)==null||R.call(E,M)}},_=E[js(b)];if(_){_(b),b.preventDefault();return}const I=Qi(b);Uv(I)||vu.isValidEvent(b)&&(t({type:"CONTENT.TYPEAHEAD",key:b.key}),b.preventDefault())}})},getListProps(){return n.element({...ai.list.attrs,tabIndex:0,role:u?void 0:"listbox","aria-labelledby":ze.getTriggerId(e.context),"aria-activedescendant":u?void 0:g,"aria-multiselectable":!u&&e.context.multiple?!0:void 0})}}}var{and:vc,not:ra,or:n7}=HW;function i7(e){const t=Te(e);return zW({id:"select",context:{value:[],highlightedValue:null,loopFocus:!1,closeOnSelect:!t.multiple,disabled:!1,readOnly:!1,composite:!0,...t,highlightedItem:null,selectedItems:[],valueAsString:"",collection:t.collection??vw.empty(),typeahead:vu.defaultOptions,fieldsetDisabled:!1,positioning:{placement:"bottom-start",gutter:8,...t.positioning}},computed:{hasSelectedItems:n=>n.value.length>0,isTypingAhead:n=>n.typeahead.keysSoFar!=="",isDisabled:n=>!!n.disabled||n.fieldsetDisabled,isInteractive:n=>!(n.isDisabled||n.readOnly)},initial:t.open?"open":"idle",created:["syncCollection"],entry:["syncSelectElement"],watch:{open:["toggleVisibility"],value:["syncSelectedItems","syncSelectElement"],highlightedValue:["syncHighlightedItem"],collection:["syncCollection"]},on:{"HIGHLIGHTED_VALUE.SET":{actions:["setHighlightedItem"]},"ITEM.SELECT":{actions:["selectItem"]},"ITEM.CLEAR":{actions:["clearItem"]},"VALUE.SET":{actions:["setSelectedItems"]},"VALUE.CLEAR":{actions:["clearSelectedItems"]},"CLEAR.CLICK":{actions:["clearSelectedItems","focusTriggerEl"]},"COLLECTION.SET":{actions:["setCollection"]}},activities:["trackFormControlState"],states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":[{guard:"isTriggerClickEvent",target:"open",actions:["setInitialFocus","highlightFirstSelectedItem"]},{target:"open",actions:["setInitialFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus","highlightFirstSelectedItem"]}],"TRIGGER.FOCUS":{target:"focused"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen"]}]}},focused:{tags:["closed"],on:{"CONTROLLED.OPEN":[{guard:"isTriggerClickEvent",target:"open",actions:["setInitialFocus","highlightFirstSelectedItem"]},{guard:"isTriggerArrowUpEvent",target:"open",actions:["setInitialFocus","highlightComputedLastItem"]},{guard:n7("isTriggerArrowDownEvent","isTriggerEnterEvent"),target:"open",actions:["setInitialFocus","highlightComputedFirstItem"]},{target:"open",actions:["setInitialFocus"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen"]}],"TRIGGER.BLUR":{target:"idle"},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightFirstSelectedItem"]}],"TRIGGER.ENTER":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedFirstItem"]}],"TRIGGER.ARROW_UP":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedLastItem"]}],"TRIGGER.ARROW_DOWN":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedFirstItem"]}],"TRIGGER.ARROW_LEFT":[{guard:vc(ra("multiple"),"hasSelectedItems"),actions:["selectPreviousItem"]},{guard:ra("multiple"),actions:["selectLastItem"]}],"TRIGGER.ARROW_RIGHT":[{guard:vc(ra("multiple"),"hasSelectedItems"),actions:["selectNextItem"]},{guard:ra("multiple"),actions:["selectFirstItem"]}],"TRIGGER.HOME":{guard:ra("multiple"),actions:["selectFirstItem"]},"TRIGGER.END":{guard:ra("multiple"),actions:["selectLastItem"]},"TRIGGER.TYPEAHEAD":{guard:ra("multiple"),actions:["selectMatchingItem"]}}},open:{tags:["open"],exit:["scrollContentToTop"],activities:["trackDismissableElement","computePlacement","scrollToHighlightedItem"],on:{"CONTROLLED.CLOSE":{target:"focused",actions:["focusTriggerEl","clearHighlightedItem"]},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","focusTriggerEl","clearHighlightedItem"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","clearHighlightedItem"]}],"ITEM.CLICK":[{guard:vc("closeOnSelect","isOpenControlled"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","focusTriggerEl","clearHighlightedItem"]},{actions:["selectHighlightedItem"]}],"CONTENT.HOME":{actions:["highlightFirstItem"]},"CONTENT.END":{actions:["highlightLastItem"]},"CONTENT.ARROW_DOWN":[{guard:vc("hasHighlightedItem","loop","isLastItemHighlighted"),actions:["highlightFirstItem"]},{guard:"hasHighlightedItem",actions:["highlightNextItem"]},{actions:["highlightFirstItem"]}],"CONTENT.ARROW_UP":[{guard:vc("hasHighlightedItem","loop","isFirstItemHighlighted"),actions:["highlightLastItem"]},{guard:"hasHighlightedItem",actions:["highlightPreviousItem"]},{actions:["highlightLastItem"]}],"CONTENT.TYPEAHEAD":{actions:["highlightMatchingItem"]},"ITEM.POINTER_MOVE":{actions:["highlightItem"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedItem"]},"POSITIONING.SET":{actions:["reposition"]}}}}},{guards:{loop:n=>!!n.loopFocus,multiple:n=>!!n.multiple,hasSelectedItems:n=>!!n.hasSelectedItems,hasHighlightedItem:n=>n.highlightedValue!=null,isFirstItemHighlighted:n=>n.highlightedValue===n.collection.firstValue,isLastItemHighlighted:n=>n.highlightedValue===n.collection.lastValue,closeOnSelect:(n,i)=>!!(i.closeOnSelect??n.closeOnSelect),isOpenControlled:n=>!!n["open.controlled"],isTriggerClickEvent:(n,i)=>{var s;return((s=i.previousEvent)==null?void 0:s.type)==="TRIGGER.CLICK"},isTriggerEnterEvent:(n,i)=>{var s;return((s=i.previousEvent)==null?void 0:s.type)==="TRIGGER.ENTER"},isTriggerArrowUpEvent:(n,i)=>{var s;return((s=i.previousEvent)==null?void 0:s.type)==="TRIGGER.ARROW_UP"},isTriggerArrowDownEvent:(n,i)=>{var s;return((s=i.previousEvent)==null?void 0:s.type)==="TRIGGER.ARROW_DOWN"}},activities:{trackFormControlState(n,i,{initialContext:s}){return Xl(ze.getHiddenSelectEl(n),{onFieldsetDisabledChange(r){n.fieldsetDisabled=r},onFormReset(){ln.selectedItems(n,s.value)}})},trackDismissableElement(n,i,{send:s}){const r=()=>ze.getContentEl(n);let a=!0;return Ul(r,{defer:!0,exclude:[ze.getTriggerEl(n),ze.getClearTriggerEl(n)],onFocusOutside:n.onFocusOutside,onPointerDownOutside:n.onPointerDownOutside,onInteractOutside(u){var o;(o=n.onInteractOutside)==null||o.call(n,u),a=!(u.detail.focusable||u.detail.contextmenu)},onDismiss(){s({type:"CLOSE",src:"interact-outside",restoreFocus:a})}})},computePlacement(n){return n.currentPlacement=n.positioning.placement,Rr(()=>ze.getTriggerEl(n),()=>ze.getPositionerEl(n),{defer:!0,...n.positioning,onComplete(r){n.currentPlacement=r.placement}})},scrollToHighlightedItem(n,i,{getState:s}){const r=u=>{if(n.highlightedValue==null||s().event.type.includes("POINTER"))return;const l=ze.getHighlightedOptionEl(n),c=ze.getContentEl(n);if(n.scrollToIndexFn){const d=n.collection.indexOf(n.highlightedValue);n.scrollToIndexFn({index:d,immediate:u});return}Gv(l,{rootEl:c,block:"nearest"})};return Je(()=>r(!0)),kf(()=>ze.getContentEl(n),{defer:!0,attributes:["data-activedescendant"],callback(){r(!1)}})}},actions:{reposition(n,i){const s=()=>ze.getPositionerEl(n);Rr(ze.getTriggerEl(n),s,{...n.positioning,...i.options,defer:!0,listeners:!1,onComplete(r){n.currentPlacement=r.placement}})},toggleVisibility(n,i,{send:s}){s({type:n.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:i})},highlightPreviousItem(n){if(n.highlightedValue==null)return;const i=n.collection.getPreviousValue(n.highlightedValue);ln.highlightedItem(n,i)},highlightNextItem(n){if(n.highlightedValue==null)return;const i=n.collection.getNextValue(n.highlightedValue);ln.highlightedItem(n,i)},highlightFirstItem(n){const i=n.collection.firstValue;ln.highlightedItem(n,i)},highlightLastItem(n){const i=n.collection.lastValue;ln.highlightedItem(n,i)},setInitialFocus(n){Je(()=>{const i=bu({root:ze.getContentEl(n)});i==null||i.focus({preventScroll:!0})})},focusTriggerEl(n,i){var r;const s=i.restoreFocus??((r=i.previousEvent)==null?void 0:r.restoreFocus);s!=null&&!s||Je(()=>{const a=ze.getTriggerEl(n);a==null||a.focus({preventScroll:!0})})},selectHighlightedItem(n,i){let s=i.value??n.highlightedValue;if(s==null)return;const r=n.deselectable&&!n.multiple&&n.value.includes(s);s=r?null:s,ln.selectedItem(n,s,r)},highlightComputedFirstItem(n){const i=n.hasSelectedItems?n.collection.sort(n.value)[0]:n.collection.firstValue;ln.highlightedItem(n,i)},highlightComputedLastItem(n){const i=n.hasSelectedItems?n.collection.sort(n.value)[0]:n.collection.lastValue;ln.highlightedItem(n,i)},highlightFirstSelectedItem(n){if(!n.hasSelectedItems)return;const[i]=n.collection.sort(n.value);ln.highlightedItem(n,i)},highlightItem(n,i){ln.highlightedItem(n,i.value)},highlightMatchingItem(n,i){const s=n.collection.search(i.key,{state:n.typeahead,currentValue:n.highlightedValue});s!=null&&ln.highlightedItem(n,s)},setHighlightedItem(n,i){ln.highlightedItem(n,i.value)},clearHighlightedItem(n){ln.highlightedItem(n,null,!0)},selectItem(n,i){const s=n.deselectable&&!n.multiple&&n.value.includes(i.value),r=s?null:i.value;ln.selectedItem(n,r,s)},clearItem(n,i){const s=n.value.filter(r=>r!==i.value);ln.selectedItems(n,s)},setSelectedItems(n,i){ln.selectedItems(n,i.value)},clearSelectedItems(n){ln.selectedItems(n,[])},selectPreviousItem(n){const i=n.collection.getPreviousValue(n.value[0]);ln.selectedItem(n,i)},selectNextItem(n){const i=n.collection.getNextValue(n.value[0]);ln.selectedItem(n,i)},selectFirstItem(n){const i=n.collection.firstValue;ln.selectedItem(n,i)},selectLastItem(n){const i=n.collection.lastValue;ln.selectedItem(n,i)},selectMatchingItem(n,i){const s=n.collection.search(i.key,{state:n.typeahead,currentValue:n.value[0]});s!=null&&ln.selectedItem(n,s)},scrollContentToTop(n){var i;n.scrollToIndexFn?n.scrollToIndexFn({index:0,immediate:!0}):(i=ze.getContentEl(n))==null||i.scrollTo(0,0)},invokeOnOpen(n){var i;(i=n.onOpenChange)==null||i.call(n,{open:!0})},invokeOnClose(n){var i;(i=n.onOpenChange)==null||i.call(n,{open:!1})},syncSelectElement(n){const i=ze.getHiddenSelectEl(n);if(i){if(n.value.length===0&&!n.multiple){i.selectedIndex=-1;return}for(const s of i.options)s.selected=n.value.includes(s.value)}},setCollection(n,i){n.collection=i.value},syncCollection(n){const i=n.collection.findMany(n.value),s=n.collection.stringifyItems(i);n.highlightedItem=n.collection.find(n.highlightedValue),n.selectedItems=i,n.valueAsString=s},syncSelectedItems(n){Ah.valueChange(n)},syncHighlightedItem(n){Ah.highlightChange(n)}}})}function s7(e){Je(()=>{const t=ze.getHiddenSelectEl(e);if(!t)return;const n=ze.getWin(e),i=new n.Event("change",{bubbles:!0,composed:!0});t.dispatchEvent(i)})}var Ah={valueChange:e=>{const t=e.selectedItems;e.selectedItems=e.value.map(n=>{const i=t.find(s=>e.collection.getItemValue(s)===n);return i||e.collection.find(n)}),e.valueAsString=e.collection.stringifyItems(e.selectedItems)},highlightChange:e=>{e.highlightedItem=e.collection.find(e.highlightedValue)}},Td={valueChange:e=>{var t;Ah.valueChange(e),(t=e.onValueChange)==null||t.call(e,{value:Array.from(e.value),items:Array.from(e.selectedItems)}),s7(e)},highlightChange:e=>{var t;Ah.highlightChange(e),(t=e.onHighlightChange)==null||t.call(e,{highlightedValue:e.highlightedValue,highlightedItem:e.highlightedItem,highlightedIndex:e.collection.indexOf(e.highlightedValue)})}},ln={selectedItem:(e,t,n=!1)=>{if(!dn(e.value,t)&&!(t==null&&!n)){if(t==null&&n){e.value=[],Td.valueChange(e);return}e.value=e.multiple?xx(e.value,t):[t],Td.valueChange(e)}},selectedItems:(e,t)=>{dn(e.value,t)||(e.value=t,Td.valueChange(e))},highlightedItem:(e,t,n=!1)=>{dn(e.highlightedValue,t)||t==null&&!n||(e.highlightedValue=t??null,Td.highlightChange(e))}};tn()(["closeOnSelect","collection","dir","disabled","deselectable","form","getRootNode","highlightedValue","id","ids","invalid","loopFocus","multiple","name","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onValueChange","open.controlled","open","composite","positioning","required","readOnly","scrollToIndexFn","value"]);tn()(["item","persistFocus"]);tn()(["id"]);tn()(["htmlFor"]);const r7=(e,t)=>{const n=qn(),i=es(),s=Ri(Ni),r=Jn(),a=K(()=>({id:n,ids:{label:r==null?void 0:r.value.ids.label,hiddenSelect:r==null?void 0:r.value.ids.control},disabled:r==null?void 0:r.value.disabled,readOnly:r==null?void 0:r.value.readOnly,invalid:r==null?void 0:r.value.invalid,required:r==null?void 0:r.value.required,dir:s.value.dir,open:e.defaultOpen,"open.controlled":e.open!==void 0,value:e.modelValue??e.defaultValue,getRootNode:i==null?void 0:i.value.getRootNode,onValueChange:c=>{t==null||t("valueChange",c),t==null||t("update:modelValue",c.value)},onHighlightChange:c=>t==null?void 0:t("highlightChange",c),onOpenChange:c=>{t==null||t("openChange",c),t==null||t("update:open",c.open)},onFocusOutside:c=>t==null?void 0:t("focusOutside",c),onInteractOutside:c=>t==null?void 0:t("interactOutside",c),onPointerDownOutside:c=>t==null?void 0:t("pointerDownOutside",c),...ts(e)})),[u,o,l]=Ci(i7(a.value),{context:K(()=>Ox(a.value,["collection"]))});return Kt(()=>e.collection,c=>{l.setContext({collection:c})}),K(()=>t7(u.value,o,Mi))},[yw,ri]=vt("SelectContext"),[o7,a7]=vt("SelectItemContext"),l7=$({__name:"select-clear-trigger",props:{asChild:{type:Boolean}},setup(e){const t=ri();return G(),(n,i)=>(C(),N(v(J).button,z(v(t).getClearTriggerProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),c7=$({__name:"select-content",props:{asChild:{type:Boolean}},setup(e){const t=ri(),n=Gl(),i=K(()=>Ho(t.value.getContentProps(),n.value.presenceProps));return G(),(s,r)=>v(n).unmounted?nt("",!0):(C(),N(v(J).div,z({key:0},i.value,{"as-child":s.asChild}),{default:S(()=>[B(s.$slots,"default")]),_:3},16,["as-child"]))}}),u7=$({__name:"select-context",setup(e){const t=ri();return(n,i)=>B(n.$slots,"default",hn(on(v(t))))}}),d7=$({__name:"select-control",props:{asChild:{type:Boolean}},setup(e){const t=ri();return G(),(n,i)=>(C(),N(v(J).div,z(v(t).getControlProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),h7={key:0,value:""},f7=["value","disabled"],p7=$({__name:"select-hidden-select",props:{asChild:{type:Boolean}},setup(e){const t=ri(),n=Jn();return G(),(i,s)=>{var r;return C(),N(v(J).select,z({"aria-describedby":(r=v(n))==null?void 0:r.ariaDescribedby},v(t).getHiddenSelectProps()),{default:S(()=>[v(t).value.length===0?(C(),te("option",h7)):nt("",!0),(C(!0),te(Ye,null,zt(v(t).collection.items,a=>(C(),te("option",{key:a.value,value:v(t).collection.getItemValue(a),disabled:v(t).collection.getItemDisabled(a)},null,8,f7))),128))]),_:1},16,["aria-describedby"])}}}),g7=$({__name:"select-indicator",props:{asChild:{type:Boolean}},setup(e){const t=ri();return G(),(n,i)=>(C(),N(v(J).div,z(v(t).getIndicatorProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),m7=$({__name:"select-list",props:{asChild:{type:Boolean}},setup(e){const t=ri();return G(),(n,i)=>(C(),N(v(J).div,z(v(t).getListProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),v7=$({__name:"select-item-context",setup(e){const t=a7();return(n,i)=>B(n.$slots,"default",hn(on(v(t))))}}),[y7,b7]=vt("SelectItemGroupPropsContext"),E7=$({__name:"select-item-group-label",props:{asChild:{type:Boolean}},setup(e){const t=ri(),n=b7();return G(),(i,s)=>(C(),N(v(J).div,z(v(t).getItemGroupLabelProps({htmlFor:v(n).id}),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["as-child"]))}}),_7=$({__name:"select-item-group",props:{id:{},asChild:{type:Boolean}},setup(e){const t=e,n=ri(),i=t.id??qn();return y7({id:i}),G(),(s,r)=>(C(),N(v(J).div,z(v(n).getItemGroupProps({id:v(i)}),{"as-child":s.asChild}),{default:S(()=>[B(s.$slots,"default")]),_:3},16,["as-child"]))}}),[C7,bw]=vt("SelectItemPropsContext"),S7=$({__name:"select-item-indicator",props:{asChild:{type:Boolean}},setup(e){const t=ri(),n=bw();return G(),(i,s)=>(C(),N(v(J).div,z(v(t).getItemIndicatorProps(v(n)),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["as-child"]))}}),x7=$({__name:"select-item-text",props:{asChild:{type:Boolean}},setup(e){const t=ri(),n=bw();return G(),(i,s)=>(C(),N(v(J).span,z(v(t).getItemTextProps(v(n)),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["as-child"]))}}),T7=$({__name:"select-item",props:{item:{},persistFocus:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,n=ri();return C7(t),o7(K(()=>n.value.getItemState(t))),G(),(i,s)=>(C(),N(v(J).div,z(v(n).getItemProps(t),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["as-child"]))}}),w7=$({__name:"select-label",props:{asChild:{type:Boolean}},setup(e){const t=ri();return G(),(n,i)=>(C(),N(v(J).label,z(v(t).getLabelProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),I7=$({__name:"select-positioner",props:{asChild:{type:Boolean}},setup(e){const t=ri(),n=Uo(),i=Fa(K(()=>({...n.value,present:t.value.open})));return Va(i),G(),(s,r)=>v(i).unmounted?nt("",!0):(C(),N(v(J).div,z({key:0},v(t).getPositionerProps(),{"as-child":s.asChild}),{default:S(()=>[B(s.$slots,"default")]),_:3},16,["as-child"]))}}),O7=$({__name:"select-root-provider",props:{value:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,n=K(()=>t.value);return yw(n),Di(K(()=>({lazyMount:t.lazyMount,unmountOnExit:t.unmountOnExit}))),G(),(i,s)=>(C(),N(v(J).div,z(n.value.getRootProps(),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["as-child"]))}}),k7=$({__name:"select-root",props:On({closeOnSelect:{type:Boolean},collection:{},composite:{type:Boolean},defaultOpen:{type:Boolean},defaultValue:{},deselectable:{type:Boolean},disabled:{type:Boolean},form:{},highlightedValue:{},id:{},ids:{},invalid:{type:Boolean},loopFocus:{type:Boolean},modelValue:{},multiple:{type:Boolean},name:{},open:{type:Boolean},positioning:{},readOnly:{type:Boolean},required:{type:Boolean},scrollToIndexFn:{type:Function},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},{closeOnSelect:void 0,composite:void 0,defaultOpen:void 0,deselectable:void 0,disabled:void 0,invalid:void 0,loopFocus:void 0,multiple:void 0,open:void 0,readOnly:void 0,required:void 0}),emits:["focusOutside","highlightChange","interactOutside","openChange","pointerDownOutside","valueChange","update:modelValue","update:open"],setup(e,{emit:t}){const n=e,s=r7(n,t);return yw(s),Di(K(()=>({lazyMount:n.lazyMount,unmountOnExit:n.unmountOnExit}))),G(),(r,a)=>(C(),N(v(J).div,z(v(s).getRootProps(),{"as-child":r.asChild}),{default:S(()=>[B(r.$slots,"default")]),_:3},16,["as-child"]))}}),A7=$({__name:"select-trigger",props:{asChild:{type:Boolean}},setup(e){const t=ri();return G(),(n,i)=>(C(),N(v(J).button,z(v(t).getTriggerProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),P7=$({__name:"select-value-text",props:{placeholder:{},asChild:{type:Boolean}},setup(e){const t=e,n=ri(),i=df();return G(),(s,r)=>(C(),N(v(J).span,z(v(n).getValueTextProps(),{"as-child":s.asChild}),{default:S(()=>[B(s.$slots,"default",{},()=>{var a,u;return[qe(ue(((u=(a=v(i)).default)==null?void 0:u.call(a))||v(n).valueAsString||t.placeholder),1)]})]),_:3},16,["as-child"]))}}),ss=Object.freeze(Object.defineProperty({__proto__:null,ClearTrigger:l7,Content:c7,Context:u7,Control:d7,HiddenSelect:p7,Indicator:g7,Item:T7,ItemContext:v7,ItemGroup:_7,ItemGroupLabel:E7,ItemIndicator:S7,ItemText:x7,Label:w7,List:m7,Positioner:I7,Root:k7,RootProvider:O7,Trigger:A7,ValueText:P7},Symbol.toStringTag,{value:"Module"})),$7=$({__name:"Select",props:Vn({label:null,options:null},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=e,n=vn(e,"modelValue"),i=K(()=>rw({items:t.options}));return(s,r)=>{const a=Fr;return C(),N(v(ss).Root,{collection:v(i),class:"gap-2 flex flex-col","model-value":[n.value],"onUpdate:modelValue":r[0]||(r[0]=u=>n.value=u[0])},{default:S(()=>[O(v(ss).Label,{class:"text-sm font-medium"},{default:S(()=>[qe(ue(e.label),1)]),_:1}),O(v(ss).Control,null,{default:S(()=>[O(v(ss).Trigger,{class:"text-gray-500 border px-3 h-10 gap-2 font-medium w-full cursor-pointer rounded inline-flex outline-0 items-center appearance-none justify-between focus:shadow focus:ring focus:ring-gray-700"},{default:S(()=>[O(v(ss).ValueText),O(v(ss).Indicator,null,{default:S(()=>[O(a,{class:"w-4 h-4"})]),_:1})]),_:1})]),_:1}),(C(),N(lf,{to:"body"},[O(v(ss).Positioner,{class:"w-[var(--reference-width)]"},{default:S(()=>[O(v(ss).Content,{class:"bg-white rounded shadow gap-1 p-1 flex flex-col border data-[state=open]:animate-fade-in"},{default:S(()=>[(C(!0),te(Ye,null,zt(v(i).items,u=>(C(),N(v(ss).Item,{key:u.value,item:u.value,class:"rounded cursor-pointer flex items-center justify-between px-2 h-10 data-[highlighted]:bg-gray-100"},{default:S(()=>[O(v(ss).ItemText,null,{default:S(()=>[qe(ue(u.label),1)]),_:2},1024),O(v(ss).ItemIndicator,null,{default:S(()=>r[1]||(r[1]=[qe("✓")])),_:1})]),_:2},1032,["item"]))),128))]),_:1})]),_:1})])),O(v(ss).HiddenSelect)]),_:1},8,["collection","model-value"])}}}),M7={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function N7(e,t){return C(),te("svg",M7,t[0]||(t[0]=[F("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"m15 11.25l1.5 1.5l.75-.75V8.758l2.276-.61a3 3 0 1 0-3.675-3.675l-.61 2.277H12l-.75.75l1.5 1.5M15 11.25l-8.47 8.47c-.34.34-.8.53-1.28.53s-.94.19-1.28.53l-.97.97l-.75-.75l.97-.97c.34-.34.53-.8.53-1.28s.19-.94.53-1.28L12.75 9M15 11.25L12.75 9"},null,-1)]))}const R7=Et({name:"heroicons-eye-dropper",render:N7});var D7=Object.defineProperty,L7=(e,t,n)=>t in e?D7(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Cy=(e,t,n)=>L7(e,t+"",n),F7=(e,t,n)=>{const i=`linear-gradient(to ${e[+!t]}, transparent, #000)`;return{areaStyles:{backgroundImage:`linear-gradient(to ${e[Number(t)]},rgb(${n},0,0),rgb(${n},255,0))`},areaGradientStyles:{backgroundImage:`linear-gradient(to ${e[Number(t)]},rgb(${n},0,255),rgb(${n},255,255))`,WebkitMaskImage:i,maskImage:i}}},V7=(e,t,n)=>{const i=`linear-gradient(to ${e[+!t]}, transparent, #000)`;return{areaStyles:{backgroundImage:`linear-gradient(to ${e[Number(t)]},rgb(0,${n},0),rgb(255,${n},0))`},areaGradientStyles:{backgroundImage:`linear-gradient(to ${e[Number(t)]},rgb(0,${n},255),rgb(255,${n},255))`,WebkitMaskImage:i,maskImage:i}}},B7=(e,t,n)=>{const i=`linear-gradient(to ${e[+!t]}, transparent, #000)`;return{areaStyles:{backgroundImage:`linear-gradient(to ${e[Number(t)]},rgb(0,0,${n}),rgb(255,0,${n}))`},areaGradientStyles:{backgroundImage:`linear-gradient(to ${e[Number(t)]},rgb(0,255,${n}),rgb(255,255,${n}))`,WebkitMaskImage:i,maskImage:i}}},H7=(e,t,n)=>({areaStyles:{},areaGradientStyles:{background:[`linear-gradient(to ${e[Number(t)]}, hsla(0,0%,0%,1) 0%, hsla(0,0%,0%,0) 50%, hsla(0,0%,100%,0) 50%, hsla(0,0%,100%,1) 100%)`,`linear-gradient(to ${e[+!t]},hsl(0,0%,50%),hsla(0,0%,50%,0))`,`hsl(${n}, 100%, 50%)`].join(",")}}),j7=(e,t,n)=>({areaStyles:{},areaGradientStyles:{background:[`linear-gradient(to ${e[+!t]}, hsla(0,0%,0%,${n}) 0%, hsla(0,0%,0%,0) 50%, hsla(0,0%,100%,0) 50%, hsla(0,0%,100%,${n}) 100%)`,`linear-gradient(to ${e[Number(t)]},hsla(0,100%,50%,${n}),hsla(60,100%,50%,${n}),hsla(120,100%,50%,${n}),hsla(180,100%,50%,${n}),hsla(240,100%,50%,${n}),hsla(300,100%,50%,${n}),hsla(359,100%,50%,${n}))`,"hsl(0, 0%, 50%)"].join(",")}}),U7=(e,t,n)=>({areaStyles:{},areaGradientStyles:{backgroundImage:[`linear-gradient(to ${e[+!t]},hsl(0,0%,${n}%),hsla(0,0%,${n}%,0))`,`linear-gradient(to ${e[Number(t)]},hsl(0,100%,${n}%),hsl(60,100%,${n}%),hsl(120,100%,${n}%),hsl(180,100%,${n}%),hsl(240,100%,${n}%),hsl(300,100%,${n}%),hsl(360,100%,${n}%))`].join(",")}}),G7=(e,t,n)=>({areaStyles:{},areaGradientStyles:{background:[`linear-gradient(to ${e[Number(t)]},hsl(0,0%,0%),hsla(0,0%,0%,0))`,`linear-gradient(to ${e[+!t]},hsl(0,0%,100%),hsla(0,0%,100%,0))`,`hsl(${n}, 100%, 50%)`].join(",")}}),W7=(e,t,n)=>({areaStyles:{},areaGradientStyles:{background:[`linear-gradient(to ${e[+!t]},hsla(0,0%,0%,${n}),hsla(0,0%,0%,0))`,`linear-gradient(to ${e[Number(t)]},hsla(0,100%,50%,${n}),hsla(60,100%,50%,${n}),hsla(120,100%,50%,${n}),hsla(180,100%,50%,${n}),hsla(240,100%,50%,${n}),hsla(300,100%,50%,${n}),hsla(359,100%,50%,${n}))`,`linear-gradient(to ${e[+!t]},hsl(0,0%,0%),hsl(0,0%,100%))`].join(",")}}),z7=(e,t,n)=>({areaStyles:{},areaGradientStyles:{background:[`linear-gradient(to ${e[+!t]},hsla(0,0%,100%,${n}),hsla(0,0%,100%,0))`,`linear-gradient(to ${e[Number(t)]},hsla(0,100%,50%,${n}),hsla(60,100%,50%,${n}),hsla(120,100%,50%,${n}),hsla(180,100%,50%,${n}),hsla(240,100%,50%,${n}),hsla(300,100%,50%,${n}),hsla(359,100%,50%,${n}))`,"#000"].join(",")}});function l_(e,t){const{xChannel:n,yChannel:i,dir:s="ltr"}=t,{zChannel:r}=e.getColorAxes({xChannel:n,yChannel:i}),a=e.getChannelValue(r),{minValue:u,maxValue:o}=e.getChannelRange(r),l=["top",s==="rtl"?"left":"right"];let c=!1,d={areaStyles:{},areaGradientStyles:{}},h=(a-u)/(o-u),f=e.getFormat()==="hsla";switch(r){case"red":{c=n==="green",d=F7(l,c,a);break}case"green":{c=n==="red",d=V7(l,c,a);break}case"blue":{c=n==="red",d=B7(l,c,a);break}case"hue":{c=n!=="saturation",f?d=H7(l,c,a):d=G7(l,c,a);break}case"saturation":{c=n==="hue",f?d=j7(l,c,h):d=W7(l,c,h);break}case"brightness":{c=n==="hue",d=z7(l,c,h);break}case"lightness":{c=n==="hue",d=U7(l,c,a);break}}return d}var K7=(e,t)=>{if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e)if(e[n]!==t[n])return!1;return!0},Sy=class{toHexInt(){return this.toFormat("rgba").toHexInt()}getChannelValue(e){if(e in this)return this[e];throw new Error("Unsupported color channel: "+e)}getChannelValuePercent(e,t){const n=t??this.getChannelValue(e),{minValue:i,maxValue:s}=this.getChannelRange(e);return Hf(n,i,s)}getChannelPercentValue(e,t){const{minValue:n,maxValue:i,step:s}=this.getChannelRange(e),r=py(t,n,i,s);return wh(r,n,i,s)}withChannelValue(e,t){const{minValue:n,maxValue:i}=this.getChannelRange(e);if(e in this){let s=this.clone();return s[e]=qi(t,n,i),s}throw new Error("Unsupported color channel: "+e)}getColorAxes(e){let{xChannel:t,yChannel:n}=e,i=t||this.getChannels().find(a=>a!==n),s=n||this.getChannels().find(a=>a!==i),r=this.getChannels().find(a=>a!==i&&a!==s);return{xChannel:i,yChannel:s,zChannel:r}}incrementChannel(e,t){const{minValue:n,maxValue:i,step:s}=this.getChannelRange(e),r=wh(qi(this.getChannelValue(e)+t,n,i),n,i,s);return this.withChannelValue(e,r)}decrementChannel(e,t){return this.incrementChannel(e,-t)}isEqual(e){return K7(this.toJSON(),e.toJSON())&&this.getChannelValue("alpha")===e.getChannelValue("alpha")}},Ew=class qd extends Sy{constructor(t,n,i,s){super(),this.red=t,this.green=n,this.blue=i,this.alpha=s}static parse(t){let n=[];if(/^#[\da-f]+$/i.test(t)&&[4,5,7,9].includes(t.length)){const s=(t.length<6?t.replace(/[^#]/gi,"$&$&"):t).slice(1).split("");for(;s.length>0;)n.push(parseInt(s.splice(0,2).join(""),16));n[3]=n[3]!==void 0?n[3]/255:void 0}const i=t.match(/^rgba?\((.*)\)$/);return i!=null&&i[1]&&(n=i[1].split(",").map(s=>Number(s.trim())).map((s,r)=>qi(s,0,r<3?255:1))),n.length<3?void 0:new qd(n[0],n[1],n[2],n[3]??1)}toString(t){switch(t){case"hex":return"#"+(this.red.toString(16).padStart(2,"0")+this.green.toString(16).padStart(2,"0")+this.blue.toString(16).padStart(2,"0")).toUpperCase();case"hexa":return"#"+(this.red.toString(16).padStart(2,"0")+this.green.toString(16).padStart(2,"0")+this.blue.toString(16).padStart(2,"0")+Math.round(this.alpha*255).toString(16).padStart(2,"0")).toUpperCase();case"rgb":return`rgb(${this.red}, ${this.green}, ${this.blue})`;case"css":case"rgba":return`rgba(${this.red}, ${this.green}, ${this.blue}, ${this.alpha})`;case"hsl":return this.toHSL().toString("hsl");case"hsb":return this.toHSB().toString("hsb");default:return this.toFormat(t).toString(t)}}toFormat(t){switch(t){case"rgba":return this;case"hsba":return this.toHSB();case"hsla":return this.toHSL();default:throw new Error("Unsupported color conversion: rgb -> "+t)}}toHexInt(){return this.red<<16|this.green<<8|this.blue}toHSB(){const t=this.red/255,n=this.green/255,i=this.blue/255,s=Math.min(t,n,i),r=Math.max(t,n,i),a=r-s,u=r===0?0:a/r;let o=0;if(a!==0){switch(r){case t:o=(n-i)/a+(n<i?6:0);break;case n:o=(i-t)/a+2;break;case i:o=(t-n)/a+4;break}o/=6}return new wy(Wt(o*360,2),Wt(u*100,2),Wt(r*100,2),Wt(this.alpha,2))}toHSL(){const t=this.red/255,n=this.green/255,i=this.blue/255,s=Math.min(t,n,i),r=Math.max(t,n,i),a=(r+s)/2,u=r-s;let o=-1,l=-1;if(u===0)o=l=0;else{switch(l=u/(a<.5?r+s:2-r-s),r){case t:o=(n-i)/u+(n<i?6:0);break;case n:o=(i-t)/u+2;break;case i:o=(t-n)/u+4;break}o/=6}return new Ty(Wt(o*360,2),Wt(l*100,2),Wt(a*100,2),Wt(this.alpha,2))}clone(){return new qd(this.red,this.green,this.blue,this.alpha)}getChannelFormatOptions(t){switch(t){case"red":case"green":case"blue":return{style:"decimal"};case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+t)}}formatChannelValue(t,n){let i=this.getChannelFormatOptions(t),s=this.getChannelValue(t);return new Intl.NumberFormat(n,i).format(s)}getChannelRange(t){switch(t){case"red":case"green":case"blue":return{minValue:0,maxValue:255,step:1,pageSize:17};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+t)}}toJSON(){return{r:this.red,g:this.green,b:this.blue,a:this.alpha}}getFormat(){return"rgba"}getChannels(){return qd.colorChannels}};Cy(Ew,"colorChannels",["red","green","blue"]);var xy=Ew,q7=/hsl\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%)\)|hsla\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d(.\d+)?)\)/,_w=class Yd extends Sy{constructor(t,n,i,s){super(),this.hue=t,this.saturation=n,this.lightness=i,this.alpha=s}static parse(t){let n;if(n=t.match(q7)){const[i,s,r,a]=(n[1]??n[2]).split(",").map(u=>Number(u.trim().replace("%","")));return new Yd(ZT(i,360),qi(s,0,100),qi(r,0,100),qi(a??1,0,1))}}toString(t){switch(t){case"hex":return this.toRGB().toString("hex");case"hexa":return this.toRGB().toString("hexa");case"hsl":return`hsl(${this.hue}, ${Wt(this.saturation,2)}%, ${Wt(this.lightness,2)}%)`;case"css":case"hsla":return`hsla(${this.hue}, ${Wt(this.saturation,2)}%, ${Wt(this.lightness,2)}%, ${this.alpha})`;case"hsb":return this.toHSB().toString("hsb");case"rgb":return this.toRGB().toString("rgb");default:return this.toFormat(t).toString(t)}}toFormat(t){switch(t){case"hsla":return this;case"hsba":return this.toHSB();case"rgba":return this.toRGB();default:throw new Error("Unsupported color conversion: hsl -> "+t)}}toHSB(){let t=this.saturation/100,n=this.lightness/100,i=n+t*Math.min(n,1-n);return t=i===0?0:2*(1-n/i),new wy(Wt(this.hue,2),Wt(t*100,2),Wt(i*100,2),Wt(this.alpha,2))}toRGB(){let t=this.hue,n=this.saturation/100,i=this.lightness/100,s=n*Math.min(i,1-i),r=(a,u=(a+t/30)%12)=>i-s*Math.max(Math.min(u-3,9-u,1),-1);return new xy(Math.round(r(0)*255),Math.round(r(8)*255),Math.round(r(4)*255),Wt(this.alpha,2))}clone(){return new Yd(this.hue,this.saturation,this.lightness,this.alpha)}getChannelFormatOptions(t){switch(t){case"hue":return{style:"unit",unit:"degree",unitDisplay:"narrow"};case"saturation":case"lightness":case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+t)}}formatChannelValue(t,n){let i=this.getChannelFormatOptions(t),s=this.getChannelValue(t);return(t==="saturation"||t==="lightness")&&(s/=100),new Intl.NumberFormat(n,i).format(s)}getChannelRange(t){switch(t){case"hue":return{minValue:0,maxValue:360,step:1,pageSize:15};case"saturation":case"lightness":return{minValue:0,maxValue:100,step:1,pageSize:10};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+t)}}toJSON(){return{h:this.hue,s:this.saturation,l:this.lightness,a:this.alpha}}getFormat(){return"hsla"}getChannels(){return Yd.colorChannels}};Cy(_w,"colorChannels",["hue","saturation","lightness"]);var Ty=_w,Y7=/hsb\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%)\)|hsba\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d(.\d+)?)\)/,Cw=class Jd extends Sy{constructor(t,n,i,s){super(),this.hue=t,this.saturation=n,this.brightness=i,this.alpha=s}static parse(t){let n;if(n=t.match(Y7)){const[i,s,r,a]=(n[1]??n[2]).split(",").map(u=>Number(u.trim().replace("%","")));return new Jd(ZT(i,360),qi(s,0,100),qi(r,0,100),qi(a??1,0,1))}}toString(t){switch(t){case"css":return this.toHSL().toString("css");case"hex":return this.toRGB().toString("hex");case"hexa":return this.toRGB().toString("hexa");case"hsb":return`hsb(${this.hue}, ${Wt(this.saturation,2)}%, ${Wt(this.brightness,2)}%)`;case"hsba":return`hsba(${this.hue}, ${Wt(this.saturation,2)}%, ${Wt(this.brightness,2)}%, ${this.alpha})`;case"hsl":return this.toHSL().toString("hsl");case"rgb":return this.toRGB().toString("rgb");default:return this.toFormat(t).toString(t)}}toFormat(t){switch(t){case"hsba":return this;case"hsla":return this.toHSL();case"rgba":return this.toRGB();default:throw new Error("Unsupported color conversion: hsb -> "+t)}}toHSL(){let t=this.saturation/100,n=this.brightness/100,i=n*(1-t/2);return t=i===0||i===1?0:(n-i)/Math.min(i,1-i),new Ty(Wt(this.hue,2),Wt(t*100,2),Wt(i*100,2),Wt(this.alpha,2))}toRGB(){let t=this.hue,n=this.saturation/100,i=this.brightness/100,s=(r,a=(r+t/60)%6)=>i-n*i*Math.max(Math.min(a,4-a,1),0);return new xy(Math.round(s(5)*255),Math.round(s(3)*255),Math.round(s(1)*255),Wt(this.alpha,2))}clone(){return new Jd(this.hue,this.saturation,this.brightness,this.alpha)}getChannelFormatOptions(t){switch(t){case"hue":return{style:"unit",unit:"degree",unitDisplay:"narrow"};case"saturation":case"brightness":case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+t)}}formatChannelValue(t,n){let i=this.getChannelFormatOptions(t),s=this.getChannelValue(t);return(t==="saturation"||t==="brightness")&&(s/=100),new Intl.NumberFormat(n,i).format(s)}getChannelRange(t){switch(t){case"hue":return{minValue:0,maxValue:360,step:1,pageSize:15};case"saturation":case"brightness":return{minValue:0,maxValue:100,step:1,pageSize:10};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+t)}}toJSON(){return{h:this.hue,s:this.saturation,b:this.brightness,a:this.alpha}}getFormat(){return"hsba"}getChannels(){return Jd.colorChannels}};Cy(Cw,"colorChannels",["hue","saturation","brightness"]);var wy=Cw,J7="aliceblue:f0f8ff,antiquewhite:faebd7,aqua:00ffff,aquamarine:7fffd4,azure:f0ffff,beige:f5f5dc,bisque:ffe4c4,black:000000,blanchedalmond:ffebcd,blue:0000ff,blueviolet:8a2be2,brown:a52a2a,burlywood:deb887,cadetblue:5f9ea0,chartreuse:7fff00,chocolate:d2691e,coral:ff7f50,cornflowerblue:6495ed,cornsilk:fff8dc,crimson:dc143c,cyan:00ffff,darkblue:00008b,darkcyan:008b8b,darkgoldenrod:b8860b,darkgray:a9a9a9,darkgreen:006400,darkkhaki:bdb76b,darkmagenta:8b008b,darkolivegreen:556b2f,darkorange:ff8c00,darkorchid:9932cc,darkred:8b0000,darksalmon:e9967a,darkseagreen:8fbc8f,darkslateblue:483d8b,darkslategray:2f4f4f,darkturquoise:00ced1,darkviolet:9400d3,deeppink:ff1493,deepskyblue:00bfff,dimgray:696969,dodgerblue:1e90ff,firebrick:b22222,floralwhite:fffaf0,forestgreen:228b22,fuchsia:ff00ff,gainsboro:dcdcdc,ghostwhite:f8f8ff,gold:ffd700,goldenrod:daa520,gray:808080,green:008000,greenyellow:adff2f,honeydew:f0fff0,hotpink:ff69b4,indianred:cd5c5c,indigo:4b0082,ivory:fffff0,khaki:f0e68c,lavender:e6e6fa,lavenderblush:fff0f5,lawngreen:7cfc00,lemonchiffon:fffacd,lightblue:add8e6,lightcoral:f08080,lightcyan:e0ffff,lightgoldenrodyellow:fafad2,lightgrey:d3d3d3,lightgreen:90ee90,lightpink:ffb6c1,lightsalmon:ffa07a,lightseagreen:20b2aa,lightskyblue:87cefa,lightslategray:778899,lightsteelblue:b0c4de,lightyellow:ffffe0,lime:00ff00,limegreen:32cd32,linen:faf0e6,magenta:ff00ff,maroon:800000,mediumaquamarine:66cdaa,mediumblue:0000cd,mediumorchid:ba55d3,mediumpurple:9370d8,mediumseagreen:3cb371,mediumslateblue:7b68ee,mediumspringgreen:00fa9a,mediumturquoise:48d1cc,mediumvioletred:c71585,midnightblue:191970,mintcream:f5fffa,mistyrose:ffe4e1,moccasin:ffe4b5,navajowhite:ffdead,navy:000080,oldlace:fdf5e6,olive:808000,olivedrab:6b8e23,orange:ffa500,orangered:ff4500,orchid:da70d6,palegoldenrod:eee8aa,palegreen:98fb98,paleturquoise:afeeee,palevioletred:d87093,papayawhip:ffefd5,peachpuff:ffdab9,peru:cd853f,pink:ffc0cb,plum:dda0dd,powderblue:b0e0e6,purple:800080,rebeccapurple:663399,red:ff0000,rosybrown:bc8f8f,royalblue:4169e1,saddlebrown:8b4513,salmon:fa8072,sandybrown:f4a460,seagreen:2e8b57,seashell:fff5ee,sienna:a0522d,silver:c0c0c0,skyblue:87ceeb,slateblue:6a5acd,slategray:708090,snow:fffafa,springgreen:00ff7f,steelblue:4682b4,tan:d2b48c,teal:008080,thistle:d8bfd8,tomato:ff6347,turquoise:40e0d0,violet:ee82ee,wheat:f5deb3,white:ffffff,whitesmoke:f5f5f5,yellow:ffff00,yellowgreen:9acd32",X7=e=>{const t=new Map,n=e.split(",");for(let i=0;i<n.length;i++){const[s,r]=n[i].split(":");t.set(s,`#${r}`),s.includes("gray")&&t.set(s.replace("gray","grey"),`#${r}`)}return t},c_=X7(J7),Mo=e=>{var n;if(c_.has(e))return Mo(c_.get(e));const t=xy.parse(e)||wy.parse(e)||Ty.parse(e);if(!t){const i=new Error("Invalid color value: "+e);throw(n=Error.captureStackTrace)==null||n.call(Error,i,Mo),i}return t},u_=e=>typeof e=="string"?Mo(e):e,Z7=Object.defineProperty,Q7=(e,t,n)=>t in e?Z7(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Me=(e,t,n)=>Q7(e,typeof t!="symbol"?t+"":t,n);function Sw(e,...t){for(const n of t){const i=Te(n);for(const s in i)_i(n[s])?(e[s]||(e[s]={}),Sw(e[s],n[s])):e[s]=n[s]}return e}function d_(e){return bn(e)}function ws(e){return q(e)?{type:e}:e}function Zr(e){return e?et(e)?e.slice():[e]:[]}function xw(e){return Ce(e)&&e.predicate!=null}var e9=()=>!0;function Iy(e,t,n,i){return s=>{var r;return q(s)?!!((r=e[s])!=null&&r.call(e,t,n,i)):We(s)?s(t,n,i):s.predicate(e)(t,n,i)}}function t9(...e){return{predicate:t=>(n,i,s)=>e.map(Iy(t,n,i,s)).some(Boolean)}}function n9(...e){return{predicate:t=>(n,i,s)=>e.map(Iy(t,n,i,s)).every(Boolean)}}function i9(e){return{predicate:t=>(n,i,s)=>!Iy(t,n,i,s)(e)}}function s9(...e){return(t,n,i)=>i.state.matches(...e)}var r9={or:t9,and:n9,not:i9,stateIn:s9};function Tw(e,t){return e=e??e9,(n,i,s)=>{if(q(e)){const r=t[e];return We(r)?r(n,i,s):r}return xw(e)?e.predicate(t)(n,i,s):e==null?void 0:e(n,i,s)}}function og(e,t){return(n,i,s)=>xw(e)?e.predicate(t)(n,i,s):e}function o9(e){var r,a;const t=e.computed??ee({}),n=e.context??ee({}),i=e.initial?(a=(r=e.states)==null?void 0:r[e.initial])==null?void 0:a.tags:[],s=Yn({value:e.initial??"",previousValue:"",event:ee({}),previousEvent:ee({}),context:yi(n,t),done:!1,tags:i??[],hasTag(u){return this.tags.includes(u)},matches(...u){return u.includes(this.value)},can(u){return ee(this).nextEvents.includes(u)},get nextEvents(){var l,c;const u=((c=(l=e.states)==null?void 0:l[this.value])==null?void 0:c.on)??{},o=(e==null?void 0:e.on)??{};return Object.keys({...u,...o})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return ee(s)}function yc(e,t){return(n,i)=>{if(Ei(e))return e;if(We(e))return e(n,i);if(q(e)){const s=Number.parseFloat(e);if(!Number.isNaN(s))return s;if(t){const r=t==null?void 0:t[e];return He(r==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${e}\`. It doesn't exist in \`options.delays\``),We(r)?r(n,i):r}}}}function a9(e){return q(e)?{target:e}:e}function l9(e,t){return(n,i,s)=>Zr(e).map(a9).find(r=>Tw(r.guard,t)(n,i,s)??r.target??r.actions)}var c9=class{constructor(t,n){var i,s,r,a,u;Me(this,"status","Not Started"),Me(this,"state"),Me(this,"initialState"),Me(this,"initialContext"),Me(this,"id"),Me(this,"type","machine"),Me(this,"activityEvents",new Map),Me(this,"delayedEvents",new Map),Me(this,"stateListeners",new Set),Me(this,"doneListeners",new Set),Me(this,"contextWatchers",new Set),Me(this,"removeStateListener",si),Me(this,"parent"),Me(this,"children",new Map),Me(this,"guardMap"),Me(this,"actionMap"),Me(this,"delayMap"),Me(this,"activityMap"),Me(this,"sync"),Me(this,"options"),Me(this,"config"),Me(this,"_created",()=>{var l;const o=ws("machine.created");this.executeActions((l=this.config)==null?void 0:l.created,o)}),Me(this,"start",o=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=Pt(this.state,()=>{this.stateListeners.forEach(p=>{p(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(ws("machine.start"),Zr(this.config.activities),"machine.start"),this.executeActions(this.config.entry,ws("machine.start"));const l=ws("machine.init"),c=Ce(o)?o.value:o,d=Ce(o)?o.context:void 0;d&&this.setContext(d);const h={target:c??this.config.initial},f=this.getNextStateInfo(h,l);return this.initialState=f,this.performStateChangeEffects(this.state.value,f,l),this}),Me(this,"setupContextWatchers",()=>{const{watch:o}=this.config;if(!o)return;let l=_e(this.state.context);const c=Pt(this.state.context,()=>{var h;const d=_e(this.state.context);for(const[f,p]of Object.entries(o))(((h=this.options.compareFns)==null?void 0:h[f])??Object.is)(l[f],d[f])||this.executeActions(p,this.state.event);l=d});this.contextWatchers.add(c)}),Me(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,ws("machine.stop")),this.executeActions(this.config.exit,ws("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),Me(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),Me(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(o=>o()),this.contextWatchers.clear()}),Me(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(o=>{o.forEach(l=>l())}),this.delayedEvents.clear()}),Me(this,"stopActivities",o=>{var l,c;o?((l=this.activityEvents.get(o))==null||l.forEach(d=>d()),(c=this.activityEvents.get(o))==null||c.clear(),this.activityEvents.delete(o)):(this.activityEvents.forEach(d=>{d.forEach(h=>h()),d.clear()}),this.activityEvents.clear())}),Me(this,"sendChild",(o,l)=>{const c=ws(o),d=$t(l,this.contextSnapshot),h=this.children.get(d);h||He(`[@zag-js/core] Cannot send '${c.type}' event to unknown child`),h.send(c)}),Me(this,"stopChild",o=>{this.children.has(o)||He(`[@zag-js/core > stop-child] Cannot stop unknown child ${o}`),this.children.get(o).stop(),this.children.delete(o)}),Me(this,"removeChild",o=>{this.children.delete(o)}),Me(this,"stopChildren",()=>{this.children.forEach(o=>o.stop()),this.children.clear()}),Me(this,"setParent",o=>{this.parent=o}),Me(this,"spawn",(o,l)=>{const c=$t(o);return l&&(c.id=l),c.type="machine.actor",c.setParent(this),this.children.set(c.id,ee(c)),c.onDone(()=>{this.removeChild(c.id)}).start(),ee(Ke(c))}),Me(this,"stopActivity",o=>{var c;if(!this.state.value)return;const l=this.activityEvents.get(this.state.value);(c=l==null?void 0:l.get(o))==null||c(),l==null||l.delete(o)}),Me(this,"addActivityCleanup",(o,l,c)=>{var d;o&&(this.activityEvents.has(o)?(d=this.activityEvents.get(o))==null||d.set(l,c):this.activityEvents.set(o,new Map([[l,c]])))}),Me(this,"setState",o=>{this.state.previousValue=this.state.value,this.state.value=o;const l=this.getStateNode(o);o==null?bi(this.state.tags):this.state.tags=Zr(l==null?void 0:l.tags)}),Me(this,"setContext",o=>{o&&Sw(this.state.context,Te(o))}),Me(this,"setOptions",o=>{const l=Te(o);this.actionMap={...this.actionMap,...l.actions},this.delayMap={...this.delayMap,...l.delays},this.activityMap={...this.activityMap,...l.activities},this.guardMap={...this.guardMap,...l.guards}}),Me(this,"getStateNode",o=>{var l;if(o)return(l=this.config.states)==null?void 0:l[o]}),Me(this,"getNextStateInfo",(o,l)=>{const c=this.determineTransition(o,l),d=!(c!=null&&c.target),h=(c==null?void 0:c.target)??this.state.value,f=this.state.value!==h,p=this.getStateNode(h),m={reenter:!d&&!f&&!(c!=null&&c.internal),transition:c,stateNode:p,target:h,changed:f};return this.log("NextState:",`[${l.type}]`,this.state.value,"---->",m.target),m}),Me(this,"getAfterActions",(o,l)=>{let c;const d=this.state.value;return{entry:()=>{c=globalThis.setTimeout(()=>{const h=this.getNextStateInfo(o,this.state.event);this.performStateChangeEffects(d,h,this.state.event)},l)},exit:()=>{globalThis.clearTimeout(c)}}}),Me(this,"getDelayedEventActions",o=>{const l=this.getStateNode(o),c=this.state.event;if(!l||!l.after)return;const d=[],h=[];if(et(l.after)){const f=this.determineTransition(l.after,c);if(!f)return;if(!wn(f,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(f)}`);const g=yc(f.delay,this.delayMap)(this.contextSnapshot,c),m=this.getAfterActions(f,g);return d.push(m.entry),h.push(m.exit),{entries:d,exits:h}}if(Ce(l.after))for(const f in l.after){const p=l.after[f],m=yc(f,this.delayMap)(this.contextSnapshot,c),y=this.getAfterActions(p,m);d.push(y.entry),h.push(y.exit)}return{entries:d,exits:h}}),Me(this,"executeActions",(o,l)=>{var d;const c=og(o,this.guardMap)(this.contextSnapshot,l,this.guardMeta);for(const h of Zr(c)){const f=q(h)?(d=this.actionMap)==null?void 0:d[h]:h;it(q(h)&&!f,`[@zag-js/core > execute-actions] No implementation found for action: \`${h}\``),f==null||f(this.state.context,l,this.meta)}}),Me(this,"executeActivities",(o,l,c)=>{var d;for(const h of l){const f=q(h)?(d=this.activityMap)==null?void 0:d[h]:h;if(!f){it(`[@zag-js/core > execute-activity] No implementation found for activity: \`${h}\``);continue}const p=f(this.state.context,o,this.meta);if(p){const g=q(h)?h:h.name||Rt();this.addActivityCleanup(c??this.state.value,g,p)}}}),Me(this,"createEveryActivities",(o,l)=>{if(o)if(et(o)){const c=Zr(o).find(p=>{const g=p.delay,y=yc(g,this.delayMap)(this.contextSnapshot,this.state.event);return Tw(p.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??y!=null});if(!c)return;const h=yc(c.delay,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const p=globalThis.setInterval(()=>{this.executeActions(c.actions,this.state.event)},h);return()=>{globalThis.clearInterval(p)}})}else for(const c in o){const d=o==null?void 0:o[c],f=yc(c,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const g=globalThis.setInterval(()=>{this.executeActions(d,this.state.event)},f);return()=>{globalThis.clearInterval(g)}})}}),Me(this,"setEvent",o=>{this.state.previousEvent=this.state.event,this.state.event=Ke(ws(o))}),Me(this,"performExitEffects",(o,l)=>{const c=this.state.value;if(c==="")return;const d=o?this.getStateNode(o):void 0;this.stopActivities(c);const h=og(d==null?void 0:d.exit,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=Zr(h),p=this.delayedEvents.get(c);p&&f.push(...p),this.executeActions(f,l),this.delayedEvents.delete(c)}),Me(this,"performEntryEffects",(o,l)=>{const c=this.getStateNode(o),d=Zr(c==null?void 0:c.activities);this.createEveryActivities(c==null?void 0:c.every,g=>{d.unshift(g)}),d.length>0&&this.executeActivities(l,d);const h=og(c==null?void 0:c.entry,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=Zr(h),p=this.getDelayedEventActions(o);c!=null&&c.after&&p&&(this.delayedEvents.set(o,p==null?void 0:p.exits),f.push(...p.entries)),this.executeActions(f,l),(c==null?void 0:c.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(g=>{g(this.stateSnapshot)}),this.stop())}),Me(this,"performTransitionEffects",(o,l)=>{const c=this.determineTransition(o,l);this.executeActions(c==null?void 0:c.actions,l)}),Me(this,"performStateChangeEffects",(o,l,c)=>{this.setEvent(c);const d=l.changed||l.reenter;d&&this.performExitEffects(o,c),this.performTransitionEffects(l.transition,c),this.setState(l.target),d&&this.performEntryEffects(l.target,c)}),Me(this,"determineTransition",(o,l)=>{const c=l9(o,this.guardMap);return c==null?void 0:c(this.contextSnapshot,l,this.guardMeta)}),Me(this,"sendParent",o=>{var c;this.parent||He("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const l=ws(o);(c=this.parent)==null||c.send(l)}),Me(this,"log",(...o)=>{}),Me(this,"send",o=>{const l=ws(o);this.transition(this.state.value,l)}),Me(this,"transition",(o,l)=>{var p,g;const c=q(o)?this.getStateNode(o):o==null?void 0:o.stateNode,d=ws(l);if(!c&&!this.config.on){const m=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${o}, \`event\`: ${d.type}`;it(m);return}const h=((p=c==null?void 0:c.on)==null?void 0:p[d.type])??((g=this.config.on)==null?void 0:g[d.type]),f=this.getNextStateInfo(h,d);return this.performStateChangeEffects(this.state.value,f,d),f.stateNode}),Me(this,"subscribe",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),()=>{this.stateListeners.delete(o)})),Me(this,"onDone",o=>(this.doneListeners.add(o),this)),Me(this,"onTransition",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),this)),this.config=d_(t),this.options=d_(n??{}),this.id=this.config.id??`machine-${Rt()}`,this.guardMap=((i=this.options)==null?void 0:i.guards)??{},this.actionMap=((s=this.options)==null?void 0:s.actions)??{},this.delayMap=((r=this.options)==null?void 0:r.delays)??{},this.activityMap=((a=this.options)==null?void 0:a.activities)??{},this.sync=((u=this.options)==null?void 0:u.sync)??!1,this.state=o9(this.config),this.initialContext=_e(this.state.context)}get stateSnapshot(){return ee(_e(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const t=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return t.stateSnapshot},get initialContext(){return t.initialContext},get initialState(){var n;return((n=t.initialState)==null?void 0:n.target)??""}}}get meta(){var t;return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:((t=this.initialState)==null?void 0:t.target)??"",getState:()=>this.stateSnapshot,getAction:n=>this.actionMap[n],getGuard:n=>this.guardMap[n]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){const t=this.getState();return{value:t.value,tags:t.tags}}},u9=(e,t)=>new c9(e,t),ww=Dn("color-picker",["root","label","control","trigger","positioner","content","area","areaThumb","valueText","areaBackground","channelSlider","channelSliderLabel","channelSliderTrack","channelSliderThumb","channelSliderValueText","channelInput","transparencyGrid","swatchGroup","swatchTrigger","swatchIndicator","swatch","eyeDropperTrigger","formatTrigger","formatSelect"]),Qt=ww.build(),be=$i({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`color-picker:${e.id}`},getLabelId:e=>{var t;return((t=e.ids)==null?void 0:t.label)??`color-picker:${e.id}:label`},getHiddenInputId:e=>{var t;return((t=e.ids)==null?void 0:t.hiddenInput)??`color-picker:${e.id}:hidden-input`},getControlId:e=>{var t;return((t=e.ids)==null?void 0:t.control)??`color-picker:${e.id}:control`},getTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.trigger)??`color-picker:${e.id}:trigger`},getContentId:e=>{var t;return((t=e.ids)==null?void 0:t.content)??`color-picker:${e.id}:content`},getPositionerId:e=>{var t;return((t=e.ids)==null?void 0:t.positioner)??`color-picker:${e.id}:positioner`},getFormatSelectId:e=>{var t;return((t=e.ids)==null?void 0:t.formatSelect)??`color-picker:${e.id}:format-select`},getAreaId:e=>{var t;return((t=e.ids)==null?void 0:t.area)??`color-picker:${e.id}:area`},getAreaGradientId:e=>{var t;return((t=e.ids)==null?void 0:t.areaGradient)??`color-picker:${e.id}:area-gradient`},getAreaThumbId:e=>{var t;return((t=e.ids)==null?void 0:t.areaThumb)??`color-picker:${e.id}:area-thumb`},getChannelSliderTrackId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.channelSliderTrack)==null?void 0:i.call(n,t))??`color-picker:${e.id}:slider-track:${t}`},getChannelSliderThumbId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.channelSliderThumb)==null?void 0:i.call(n,t))??`color-picker:${e.id}:slider-thumb:${t}`},getContentEl:e=>be.getById(e,be.getContentId(e)),getAreaThumbEl:e=>be.getById(e,be.getAreaThumbId(e)),getChannelSliderThumbEl:(e,t)=>be.getById(e,be.getChannelSliderThumbId(e,t)),getChannelInputEl:(e,t)=>{const n=`input[data-channel="${t}"]`;return[...Tr(be.getContentEl(e),n),...Tr(be.getControlEl(e),n)]},getFormatSelectEl:e=>be.getById(e,be.getFormatSelectId(e)),getHiddenInputEl:e=>be.getById(e,be.getHiddenInputId(e)),getAreaEl:e=>be.getById(e,be.getAreaId(e)),getAreaValueFromPoint(e,t){const n=be.getAreaEl(e);if(!n)return;const{percent:i}=am(t,n);return i},getControlEl:e=>be.getById(e,be.getControlId(e)),getTriggerEl:e=>be.getById(e,be.getTriggerId(e)),getPositionerEl:e=>be.getById(e,be.getPositionerId(e)),getChannelSliderTrackEl:(e,t)=>be.getById(e,be.getChannelSliderTrackId(e,t)),getChannelSliderValueFromPoint(e,t,n){const i=be.getChannelSliderTrackEl(e,n);if(!i)return;const{percent:s}=am(t,i);return s},getChannelInputEls:e=>[...Tr(be.getContentEl(e),"input[data-channel]"),...Tr(be.getControlEl(e),"input[data-channel]")]});function d9(e,t){switch(t){case"hue":return Mo(`hsl(${e.getChannelValue("hue")}, 100%, 50%)`);case"lightness":case"brightness":case"saturation":case"red":case"green":case"blue":return e.withChannelValue("alpha",1);case"alpha":return e;default:throw new Error("Unknown color channel: "+t)}}function Om(e,t){if(t==null)return"";if(t==="hex")return e.toString("hex");if(t==="css")return e.toString("css");if(t in e)return e.getChannelValue(t).toString();const n=e.getFormat()==="hsla";switch(t){case"hue":return n?e.toFormat("hsla").getChannelValue("hue").toString():e.toFormat("hsba").getChannelValue("hue").toString();case"saturation":return n?e.toFormat("hsla").getChannelValue("saturation").toString():e.toFormat("hsba").getChannelValue("saturation").toString();case"lightness":return e.toFormat("hsla").getChannelValue("lightness").toString();case"brightness":return e.toFormat("hsba").getChannelValue("brightness").toString();case"red":case"green":case"blue":return e.toFormat("rgba").getChannelValue(t).toString();default:return e.getChannelValue(t).toString()}}function h9(e,t){switch(t){case"hex":const n=Mo("#000000"),i=Mo("#FFFFFF");return{minValue:n.toHexInt(),maxValue:i.toHexInt(),pageSize:10,step:1};case"css":return;case"hue":case"saturation":case"lightness":return e.toFormat("hsla").getChannelRange(t);case"brightness":return e.toFormat("hsba").getChannelRange(t);case"red":case"green":case"blue":return e.toFormat("rgba").getChannelRange(t);default:return e.getChannelRange(t)}}function f9(e,t){return e==="vertical"?"top":t==="ltr"?"right":"left"}var p9=e=>{const{channel:t,value:n,dir:i}=e,s=f9(e.orientation,i),{minValue:r,maxValue:a}=n.getChannelRange(t);switch(t){case"hue":return`linear-gradient(to ${s}, rgb(255, 0, 0) 0%, rgb(255, 255, 0) 17%, rgb(0, 255, 0) 33%, rgb(0, 255, 255) 50%, rgb(0, 0, 255) 67%, rgb(255, 0, 255) 83%, rgb(255, 0, 0) 100%)`;case"lightness":{let u=n.withChannelValue(t,r).toString("css"),o=n.withChannelValue(t,(a-r)/2).toString("css"),l=n.withChannelValue(t,a).toString("css");return`linear-gradient(to ${s}, ${u}, ${o}, ${l})`}case"saturation":case"brightness":case"red":case"green":case"blue":case"alpha":{let u=n.withChannelValue(t,r).toString("css"),o=n.withChannelValue(t,a).toString("css");return`linear-gradient(to ${s}, ${u}, ${o})`}default:throw new Error("Unknown color channel: "+t)}};function g9(e,t,n){const i=e.context.value,s=e.context.areaValue,r=e.context.valueAsString,a=e.context.isDisabled,u=e.context.isInteractive,o=e.hasTag("dragging"),l=e.hasTag("open"),c=e.hasTag("focused"),d=g=>{const m=s.getChannels();return{xChannel:g.xChannel??m[1],yChannel:g.yChannel??m[2]}},h=e.context.currentPlacement,f=Ju({...e.context.positioning,placement:h});function p(g){const m=u_(g.value).toFormat(e.context.format);return{value:m,valueAsString:m.toString("hex"),checked:m.isEqual(i),disabled:g.disabled||!u}}return{dragging:o,open:l,valueAsString:r,value:i,setOpen(g){g!==l&&t({type:g?"OPEN":"CLOSE"})},setValue(g){t({type:"VALUE.SET",value:u_(g),src:"set-color"})},getChannelValue(g){return Om(i,g)},getChannelValueText(g,m){return i.formatChannelValue(g,m)},setChannelValue(g,m){const y=i.withChannelValue(g,m);t({type:"VALUE.SET",value:y,src:"set-channel"})},format:e.context.format,setFormat(g){const m=i.toFormat(g);t({type:"VALUE.SET",value:m,src:"set-format"})},alpha:i.getChannelValue("alpha"),setAlpha(g){const m=i.withChannelValue("alpha",g);t({type:"VALUE.SET",value:m,src:"set-alpha"})},getRootProps(){return n.element({...Qt.root.attrs,dir:e.context.dir,id:be.getRootId(e.context),"data-disabled":H(a),"data-readonly":H(e.context.readOnly),style:{"--value":i.toString("css")}})},getLabelProps(){return n.element({...Qt.label.attrs,dir:e.context.dir,id:be.getLabelId(e.context),htmlFor:be.getHiddenInputId(e.context),"data-disabled":H(a),"data-readonly":H(e.context.readOnly),"data-focus":H(c),onClick(g){g.preventDefault();const m=_x(be.getControlEl(e.context),"[data-channel=hex]");m==null||m.focus({preventScroll:!0})}})},getControlProps(){return n.element({...Qt.control.attrs,id:be.getControlId(e.context),dir:e.context.dir,"data-disabled":H(a),"data-readonly":H(e.context.readOnly),"data-state":l?"open":"closed","data-focus":H(c)})},getTriggerProps(){return n.button({...Qt.trigger.attrs,id:be.getTriggerId(e.context),dir:e.context.dir,disabled:a,"aria-label":`select color. current color is ${r}`,"aria-controls":be.getContentId(e.context),"aria-labelledby":be.getLabelId(e.context),"data-disabled":H(a),"data-readonly":H(e.context.readOnly),"data-placement":h,"aria-expanded":H(l),"data-state":l?"open":"closed","data-focus":H(c),type:"button",onClick(){u&&t({type:"TRIGGER.CLICK"})},onBlur(){u&&t({type:"TRIGGER.BLUR"})},style:{position:"relative"}})},getPositionerProps(){return n.element({...Qt.positioner.attrs,id:be.getPositionerId(e.context),dir:e.context.dir,style:f.floating})},getContentProps(){return n.element({...Qt.content.attrs,id:be.getContentId(e.context),dir:e.context.dir,"data-placement":h,"data-state":l?"open":"closed",hidden:!l})},getValueTextProps(){return n.element({...Qt.valueText.attrs,dir:e.context.dir,"data-disabled":H(a),"data-focus":H(c)})},getAreaProps(g={}){const{xChannel:m,yChannel:y}=d(g),{areaStyles:b}=l_(s,{xChannel:m,yChannel:y,dir:e.context.dir});return n.element({...Qt.area.attrs,id:be.getAreaId(e.context),role:"group",onPointerDown(E){if(!u||!$l(E)||Ml(E))return;const _=Ar(E);t({type:"AREA.POINTER_DOWN",point:_,channel:{xChannel:m,yChannel:y},id:"area"}),E.preventDefault()},style:{position:"relative",touchAction:"none",forcedColorAdjust:"none",...b}})},getAreaBackgroundProps(g={}){const{xChannel:m,yChannel:y}=d(g),{areaGradientStyles:b}=l_(s,{xChannel:m,yChannel:y,dir:e.context.dir});return n.element({...Qt.areaBackground.attrs,id:be.getAreaGradientId(e.context),style:{position:"relative",touchAction:"none",forcedColorAdjust:"none",...b}})},getAreaThumbProps(g={}){const{xChannel:m,yChannel:y}=d(g),b={xChannel:m,yChannel:y},E=s.getChannelValuePercent(m),_=1-s.getChannelValuePercent(y),I=s.getChannelValue(m),M=s.getChannelValue(y);return n.element({...Qt.areaThumb.attrs,id:be.getAreaThumbId(e.context),dir:e.context.dir,tabIndex:a?void 0:0,"data-disabled":H(a),role:"slider","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":I,"aria-label":`${m} and ${y}`,"aria-roledescription":"2d slider","aria-valuetext":`${m} ${I}, ${y} ${M}`,style:{position:"absolute",left:`${E*100}%`,top:`${_*100}%`,transform:"translate(-50%, -50%)",touchAction:"none",forcedColorAdjust:"none",background:s.withChannelValue("alpha",1).toString("css")},onFocus(){u&&t({type:"AREA.FOCUS",id:"area",channel:b})},onKeyDown(R){if(R.defaultPrevented||!u)return;const X=ph(R),j={ArrowUp(){t({type:"AREA.ARROW_UP",channel:b,step:X})},ArrowDown(){t({type:"AREA.ARROW_DOWN",channel:b,step:X})},ArrowLeft(){t({type:"AREA.ARROW_LEFT",channel:b,step:X})},ArrowRight(){t({type:"AREA.ARROW_RIGHT",channel:b,step:X})},PageUp(){t({type:"AREA.PAGE_UP",channel:b,step:X})},PageDown(){t({type:"AREA.PAGE_DOWN",channel:b,step:X})},Escape(se){se.stopPropagation()}}[js(R,e.context)];j&&(j(R),R.preventDefault())}})},getTransparencyGridProps(g={}){const{size:m="12px"}=g;return n.element({...Qt.transparencyGrid.attrs,style:{"--size":m,width:"100%",height:"100%",position:"absolute",backgroundColor:"#fff",backgroundImage:"conic-gradient(#eeeeee 0 25%, transparent 0 50%, #eeeeee 0 75%, transparent 0)",backgroundSize:"var(--size) var(--size)",inset:"0px",zIndex:"auto",pointerEvents:"none"}})},getChannelSliderProps(g){const{orientation:m="horizontal",channel:y,format:b}=g;return n.element({...Qt.channelSlider.attrs,"data-channel":y,"data-orientation":m,role:"presentation",onPointerDown(E){if(!u||!$l(E)||Ml(E))return;const _=Ar(E);t({type:"CHANNEL_SLIDER.POINTER_DOWN",channel:y,format:b,point:_,id:y,orientation:m}),E.preventDefault()},style:{position:"relative",touchAction:"none"}})},getChannelSliderTrackProps(g){const{orientation:m="horizontal",channel:y,format:b}=g,E=b?i.toFormat(b):s;return n.element({...Qt.channelSliderTrack.attrs,id:be.getChannelSliderTrackId(e.context,y),role:"group","data-channel":y,"data-orientation":m,style:{position:"relative",forcedColorAdjust:"none",backgroundImage:p9({orientation:m,channel:y,dir:e.context.dir,value:E})}})},getChannelSliderLabelProps(g){const{channel:m}=g;return n.element({...Qt.channelSliderLabel.attrs,"data-channel":m,onClick(y){var E;if(!u)return;y.preventDefault();const b=be.getChannelSliderThumbId(e.context,m);(E=be.getById(e.context,b))==null||E.focus({preventScroll:!0})},style:{userSelect:"none",WebkitUserSelect:"none"}})},getChannelSliderValueTextProps(g){return n.element({...Qt.channelSliderValueText.attrs,"data-channel":g.channel})},getChannelSliderThumbProps(g){const{orientation:m="horizontal",channel:y,format:b}=g,E=b?i.toFormat(b):s,_=E.getChannelRange(y),I=E.getChannelValue(y),M=(I-_.minValue)/(_.maxValue-_.minValue),R=m==="horizontal"?{left:`${M*100}%`,top:"50%"}:{top:`${M*100}%`,left:"50%"};return n.element({...Qt.channelSliderThumb.attrs,id:be.getChannelSliderThumbId(e.context,y),role:"slider","aria-label":y,tabIndex:a?void 0:0,"data-channel":y,"data-disabled":H(a),"data-orientation":m,"aria-disabled":H(a),"aria-orientation":m,"aria-valuemax":_.maxValue,"aria-valuemin":_.minValue,"aria-valuenow":I,"aria-valuetext":`${y} ${I}`,style:{forcedColorAdjust:"none",position:"absolute",background:d9(s,y).toString("css"),...R},onFocus(){u&&t({type:"CHANNEL_SLIDER.FOCUS",channel:y})},onKeyDown(X){if(X.defaultPrevented||!u)return;const D=ph(X)*_.step,se={ArrowUp(){t({type:"CHANNEL_SLIDER.ARROW_UP",channel:y,step:D})},ArrowDown(){t({type:"CHANNEL_SLIDER.ARROW_DOWN",channel:y,step:D})},ArrowLeft(){t({type:"CHANNEL_SLIDER.ARROW_LEFT",channel:y,step:D})},ArrowRight(){t({type:"CHANNEL_SLIDER.ARROW_RIGHT",channel:y,step:D})},PageUp(){t({type:"CHANNEL_SLIDER.PAGE_UP",channel:y})},PageDown(){t({type:"CHANNEL_SLIDER.PAGE_DOWN",channel:y})},Home(){t({type:"CHANNEL_SLIDER.HOME",channel:y})},End(){t({type:"CHANNEL_SLIDER.END",channel:y})},Escape(ae){ae.stopPropagation()}}[js(X,e.context)];se&&(se(X),X.preventDefault())}})},getChannelInputProps(g){const{channel:m}=g,y=m==="hex"||m==="css",b=h9(i,m);return n.input({...Qt.channelInput.attrs,dir:e.context.dir,type:y?"text":"number","data-channel":m,"aria-label":m,spellCheck:!1,autoComplete:"off",disabled:a,"data-disabled":H(a),readOnly:e.context.readOnly,defaultValue:Om(i,m),min:b==null?void 0:b.minValue,max:b==null?void 0:b.maxValue,step:b==null?void 0:b.step,onBeforeInput(E){if(y||!u)return;E.currentTarget.value.match(/[^0-9.]/g)&&E.preventDefault()},onFocus(E){u&&(t({type:"CHANNEL_INPUT.FOCUS",channel:m}),E.currentTarget.select())},onBlur(E){if(!u)return;const _=y?E.currentTarget.value:E.currentTarget.valueAsNumber;t({type:"CHANNEL_INPUT.BLUR",channel:m,value:_,isTextField:y})},onKeyDown(E){if(!E.defaultPrevented&&u&&E.key==="Enter"){const _=y?E.currentTarget.value:E.currentTarget.valueAsNumber;t({type:"CHANNEL_INPUT.CHANGE",channel:m,value:_,isTextField:y}),E.preventDefault()}},style:{appearance:"none",WebkitAppearance:"none",MozAppearance:"textfield"}})},getHiddenInputProps(){return n.input({type:"text",disabled:a,name:e.context.name,readOnly:e.context.readOnly,required:e.context.required,id:be.getHiddenInputId(e.context),style:Bu,defaultValue:r})},getEyeDropperTriggerProps(){return n.button({...Qt.eyeDropperTrigger.attrs,type:"button",dir:e.context.dir,disabled:a,"data-disabled":H(a),"aria-label":"Pick a color from the screen",onClick(){u&&t("EYEDROPPER.CLICK")}})},getSwatchGroupProps(){return n.element({...Qt.swatchGroup.attrs,role:"group"})},getSwatchTriggerState:p,getSwatchTriggerProps(g){const m=p(g);return n.button({...Qt.swatchTrigger.attrs,disabled:m.disabled,dir:e.context.dir,type:"button","aria-label":`select ${m.valueAsString} as the color`,"data-state":m.checked?"checked":"unchecked","data-value":m.valueAsString,"data-disabled":H(m.disabled),onClick(){m.disabled||t({type:"SWATCH_TRIGGER.CLICK",value:m.value})},style:{position:"relative"}})},getSwatchIndicatorProps(g){const m=p(g);return n.element({...Qt.swatchIndicator.attrs,dir:e.context.dir,hidden:!m.checked})},getSwatchProps(g){const{respectAlpha:m=!0}=g,y=p(g);return n.element({...Qt.swatch.attrs,dir:e.context.dir,"data-state":y.checked?"checked":"unchecked","data-value":y.valueAsString,style:{position:"relative",background:y.value.toString(m?"css":"hex")}})},getFormatTriggerProps(){return n.button({...Qt.formatTrigger.attrs,dir:e.context.dir,type:"button","aria-label":`change color format to ${h_(e.context.format)}`,onClick(g){if(g.currentTarget.disabled)return;const m=h_(e.context.format);t({type:"FORMAT.SET",format:m,src:"format-trigger"})}})},getFormatSelectProps(){return n.select({...Qt.formatSelect.attrs,"aria-label":"change color format",dir:e.context.dir,defaultValue:e.context.format,disabled:a,onChange(g){const m=v9(g.currentTarget.value);t({type:"FORMAT.SET",format:m,src:"format-select"})}})}}}var Xd=["hsba","hsla","rgba"],m9=new RegExp(`^(${Xd.join("|")})$`);function h_(e){const t=Xd.indexOf(e);return Xd[t+1]??Xd[0]}function v9(e){if(m9.test(e))return e;throw new Error(`Unsupported color format: ${e}`)}var Ph=e=>Mo(e),{and:y9}=r9;function b9(e){const t=Te(e);return u9({id:"color-picker",initial:t.open?"open":"idle",context:{dir:"ltr",value:Ph("#000000"),format:"rgba",disabled:!1,closeOnSelect:!1,...t,activeId:null,activeChannel:null,activeOrientation:null,fieldsetDisabled:!1,restoreFocus:!0,positioning:{...t.positioning,placement:"bottom"}},computed:{isRtl:n=>n.dir==="rtl",isDisabled:n=>!!n.disabled||n.fieldsetDisabled,isInteractive:n=>!(n.isDisabled||n.readOnly),valueAsString:n=>n.value.toString(n.format),areaValue:n=>{const i=n.format.startsWith("hsl")?"hsla":"hsba";return n.value.toFormat(i)}},activities:["trackFormControl"],watch:{value:["syncInputElements"],format:["syncFormatSelectElement"],open:["toggleVisibility"]},on:{"VALUE.SET":{actions:["setValue"]},"FORMAT.SET":{actions:["setFormat"]},"CHANNEL_INPUT.CHANGE":{actions:["setChannelColorFromInput"]},"EYEDROPPER.CLICK":{actions:["openEyeDropper"]}},states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":{target:"open",actions:["setInitialFocus"]},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],"CHANNEL_INPUT.FOCUS":{target:"focused",actions:["setActiveChannel"]}}},focused:{tags:["closed","focused"],on:{"CONTROLLED.OPEN":{target:"open",actions:["setInitialFocus"]},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],"CHANNEL_INPUT.FOCUS":{actions:["setActiveChannel"]},"CHANNEL_INPUT.BLUR":{target:"idle",actions:["setChannelColorFromInput"]},"TRIGGER.BLUR":{target:"idle"}}},open:{tags:["open"],activities:["trackPositioning","trackDismissableElement"],on:{"CONTROLLED.CLOSE":[{guard:"shouldRestoreFocus",target:"focused",actions:["setReturnFocus"]},{target:"idle"}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}],"AREA.POINTER_DOWN":{target:"open:dragging",actions:["setActiveChannel","setAreaColorFromPoint","focusAreaThumb"]},"AREA.FOCUS":{actions:["setActiveChannel"]},"CHANNEL_SLIDER.POINTER_DOWN":{target:"open:dragging",actions:["setActiveChannel","setChannelColorFromPoint","focusChannelThumb"]},"CHANNEL_SLIDER.FOCUS":{actions:["setActiveChannel"]},"AREA.ARROW_LEFT":{actions:["decrementAreaXChannel"]},"AREA.ARROW_RIGHT":{actions:["incrementAreaXChannel"]},"AREA.ARROW_UP":{actions:["incrementAreaYChannel"]},"AREA.ARROW_DOWN":{actions:["decrementAreaYChannel"]},"AREA.PAGE_UP":{actions:["incrementAreaXChannel"]},"AREA.PAGE_DOWN":{actions:["decrementAreaXChannel"]},"CHANNEL_SLIDER.ARROW_LEFT":{actions:["decrementChannel"]},"CHANNEL_SLIDER.ARROW_RIGHT":{actions:["incrementChannel"]},"CHANNEL_SLIDER.ARROW_UP":{actions:["incrementChannel"]},"CHANNEL_SLIDER.ARROW_DOWN":{actions:["decrementChannel"]},"CHANNEL_SLIDER.PAGE_UP":{actions:["incrementChannel"]},"CHANNEL_SLIDER.PAGE_DOWN":{actions:["decrementChannel"]},"CHANNEL_SLIDER.HOME":{actions:["setChannelToMin"]},"CHANNEL_SLIDER.END":{actions:["setChannelToMax"]},"CHANNEL_INPUT.BLUR":{actions:["setChannelColorFromInput"]},INTERACT_OUTSIDE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{guard:"shouldRestoreFocus",target:"focused",actions:["invokeOnClose","setReturnFocus"]},{target:"idle",actions:["invokeOnClose"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}],"SWATCH_TRIGGER.CLICK":[{guard:y9("isOpenControlled","closeOnSelect"),actions:["setValue","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["setValue","invokeOnClose","setReturnFocus"]},{actions:["setValue"]}]}},"open:dragging":{tags:["open"],exit:["clearActiveChannel"],activities:["trackPointerMove","disableTextSelection","trackPositioning","trackDismissableElement"],on:{"CONTROLLED.CLOSE":[{guard:"shouldRestoreFocus",target:"focused",actions:["setReturnFocus"]},{target:"idle"}],"AREA.POINTER_MOVE":{actions:["setAreaColorFromPoint","focusAreaThumb"]},"AREA.POINTER_UP":{target:"open",actions:["invokeOnChangeEnd"]},"CHANNEL_SLIDER.POINTER_MOVE":{actions:["setChannelColorFromPoint","focusChannelThumb"]},"CHANNEL_SLIDER.POINTER_UP":{target:"open",actions:["invokeOnChangeEnd"]},INTERACT_OUTSIDE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{guard:"shouldRestoreFocus",target:"focused",actions:["invokeOnClose","setReturnFocus"]},{target:"idle",actions:["invokeOnClose"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}]}}}},{guards:{closeOnSelect:n=>!!n.closeOnSelect,isOpenControlled:n=>!!n["open.controlled"],shouldRestoreFocus:n=>!!n.restoreFocus},activities:{trackPositioning(n){n.currentPlacement=n.positioning.placement;const i=be.getTriggerEl(n);return Rr(i,()=>be.getPositionerEl(n),{...n.positioning,defer:!0,onComplete(r){n.currentPlacement=r.placement}})},trackDismissableElement(n,i,{send:s}){return Ul(()=>be.getContentEl(n),{exclude:be.getTriggerEl(n),defer:!0,onInteractOutside(a){var u;(u=n.onInteractOutside)==null||u.call(n,a),!a.defaultPrevented&&(n.restoreFocus=!(a.detail.focusable||a.detail.contextmenu))},onPointerDownOutside:n.onPointerDownOutside,onFocusOutside:n.onFocusOutside,onDismiss(){s({type:"INTERACT_OUTSIDE"})}})},trackFormControl(n,i,{send:s,initialContext:r}){const a=be.getHiddenInputEl(n);return Xl(a,{onFieldsetDisabledChange(u){n.fieldsetDisabled=u},onFormReset(){s({type:"VALUE.SET",value:r.value,src:"form.reset"})}})},trackPointerMove(n,i,{send:s}){return Nx(be.getDoc(n),{onPointerMove({point:r}){const a=n.activeId==="area"?"AREA.POINTER_MOVE":"CHANNEL_SLIDER.POINTER_MOVE";s({type:a,point:r,format:i.format})},onPointerUp(){const r=n.activeId==="area"?"AREA.POINTER_UP":"CHANNEL_SLIDER.POINTER_UP";s({type:r})}})},disableTextSelection(n){return $x({doc:be.getDoc(n),target:be.getContentEl(n)})}},actions:{openEyeDropper(n){if(!("EyeDropper"in be.getWin(n)))return;const s=be.getWin(n);new s.EyeDropper().open().then(({sRGBHex:a})=>{var l;const u=n.value.getFormat(),o=Mo(a).toFormat(u);Ti.value(n,o),(l=n.onValueChangeEnd)==null||l.call(n,{value:n.value,valueAsString:n.valueAsString})}).catch(()=>{})},setActiveChannel(n,i){n.activeId=i.id,i.channel&&(n.activeChannel=i.channel),i.orientation&&(n.activeOrientation=i.orientation)},clearActiveChannel(n){n.activeChannel=null,n.activeId=null,n.activeOrientation=null},setAreaColorFromPoint(n,i){const s=i.format?n.value.toFormat(i.format):n.areaValue,{xChannel:r,yChannel:a}=i.channel||n.activeChannel,u=be.getAreaValueFromPoint(n,i.point);if(!u)return;const o=s.getChannelPercentValue(r,u.x),l=s.getChannelPercentValue(a,1-u.y),c=s.withChannelValue(r,o).withChannelValue(a,l);Ti.value(n,c)},setChannelColorFromPoint(n,i){const s=i.channel||n.activeId,r=i.format?n.value.toFormat(i.format):n.areaValue,a=be.getChannelSliderValueFromPoint(n,i.point,s);if(!a)return;const o=(n.activeOrientation||"horizontal")==="horizontal"?a.x:a.y,l=r.getChannelPercentValue(s,o),c=r.withChannelValue(s,l);Ti.value(n,c)},setValue(n,i){Ti.value(n,i.value)},setFormat(n,i){Ti.format(n,i.format)},syncInputElements(n){ag.inputs(n)},invokeOnChangeEnd(n){km.changeEnd(n)},setChannelColorFromInput(n,i){const{channel:s,isTextField:r,value:a}=i,u=n.value.getChannelValue("alpha");let o;if(s==="alpha"){let l=parseFloat(a);l=Number.isNaN(l)?u:l,o=n.value.withChannelValue("alpha",l)}else if(r)o=Tx(()=>Ph(a).withChannelValue("alpha",u),()=>n.value);else{const l=n.value.toFormat(n.format),c=Number.isNaN(a)?l.getChannelValue(s):a;o=l.withChannelValue(s,c)}ag.inputs(n,o),Ti.value(n,o)},incrementChannel(n,i){const s=n.value.incrementChannel(i.channel,i.step);Ti.value(n,s)},decrementChannel(n,i){const s=n.value.decrementChannel(i.channel,i.step);Ti.value(n,s)},incrementAreaXChannel(n,i){const{xChannel:s}=i.channel,r=n.areaValue.incrementChannel(s,i.step);Ti.value(n,r)},decrementAreaXChannel(n,i){const{xChannel:s}=i.channel,r=n.areaValue.decrementChannel(s,i.step);Ti.value(n,r)},incrementAreaYChannel(n,i){const{yChannel:s}=i.channel,r=n.areaValue.incrementChannel(s,i.step);Ti.value(n,r)},decrementAreaYChannel(n,i){const{yChannel:s}=i.channel,r=n.areaValue.decrementChannel(s,i.step);Ti.value(n,r)},setChannelToMax(n,i){const s=n.value.getChannelRange(i.channel),r=n.value.withChannelValue(i.channel,s.maxValue);Ti.value(n,r)},setChannelToMin(n,i){const s=n.value.getChannelRange(i.channel),r=n.value.withChannelValue(i.channel,s.minValue);Ti.value(n,r)},focusAreaThumb(n){Je(()=>{var i;(i=be.getAreaThumbEl(n))==null||i.focus({preventScroll:!0})})},focusChannelThumb(n,i){Je(()=>{var s;(s=be.getChannelSliderThumbEl(n,i.channel))==null||s.focus({preventScroll:!0})})},setInitialFocus(n){Je(()=>{const i=bu({root:be.getContentEl(n),getInitialEl:n.initialFocusEl});i==null||i.focus({preventScroll:!0})})},setReturnFocus(n){Je(()=>{var i;(i=be.getTriggerEl(n))==null||i.focus({preventScroll:!0})})},syncFormatSelectElement(n){ag.formatSelect(n)},invokeOnOpen(n){var i;(i=n.onOpenChange)==null||i.call(n,{open:!0})},invokeOnClose(n){var i;(i=n.onOpenChange)==null||i.call(n,{open:!1})},toggleVisibility(n,i,{send:s}){s({type:n.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:i})}},compareFns:{value:(n,i)=>n.isEqual(i)}})}var ag={inputs(e,t){const n=be.getChannelInputEls(e);Je(()=>{n.forEach(i=>{const s=i.dataset.channel;be.setValue(i,Om(t||e.value,s))})})},formatSelect(e){const t=be.getFormatSelectEl(e);Je(()=>{be.setValue(t,e.format)})}},km={changeEnd(e){var n;const t=e.value.toFormat(e.format);(n=e.onValueChangeEnd)==null||n.call(e,{value:t,valueAsString:e.valueAsString})},change(e){var n;const t=e.value.toFormat(e.format);(n=e.onValueChange)==null||n.call(e,{value:t,valueAsString:e.valueAsString}),MT(be.getHiddenInputEl(e),{value:e.valueAsString})},formatChange(e){var t;(t=e.onFormatChange)==null||t.call(e,{format:e.format})}},Ti={value(e,t){!t||e.value.isEqual(t)||(e.value=t,km.change(e))},format(e,t){e.format!==t&&(e.format=t,km.formatChange(e))}};const Iw=ww.extendWith("view"),E9=(e,t)=>{const n=qn(),i=es(),s=Ri(Ni),r=Jn(),a=K(()=>({id:n,ids:{label:r==null?void 0:r.value.ids.label,input:r==null?void 0:r.value.ids.control},disabled:r==null?void 0:r.value.disabled,readOnly:r==null?void 0:r.value.readOnly,required:r==null?void 0:r.value.required,dir:s.value.dir,open:e.defaultOpen,"open.controlled":e.open!==void 0,value:e.defaultValue??e.modelValue,getRootNode:i==null?void 0:i.value.getRootNode,onOpenChange(l){t==null||t("openChange",l),t==null||t("update:open",l.open)},onValueChange(l){t==null||t("valueChange",l),t==null||t("update:modelValue",l.value)},onFocusOutside:l=>t==null?void 0:t("focusOutside",l),onFormatChange:l=>t==null?void 0:t("formatChange",l),onInteractOutside:l=>t==null?void 0:t("interactOutside",l),onPointerDownOutside:l=>t==null?void 0:t("pointerDownOutside",l),onValueChangeEnd:l=>t==null?void 0:t("valueChangeEnd",l),...ts(e)})),[u,o]=Ci(b9(a.value),{context:a});return K(()=>g9(u.value,o,Mi))},[Ow,qt]=vt("ColorPickerContext"),[_9,kw]=vt("ColorPickerAreaPropsContext"),C9=$({__name:"color-picker-area-background",props:{asChild:{type:Boolean}},setup(e){const t=qt(),n=kw();return G(),(i,s)=>(C(),N(v(J).div,z(v(t).getAreaBackgroundProps(v(n)),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["as-child"]))}}),S9=$({__name:"color-picker-area-thumb",props:{asChild:{type:Boolean}},setup(e){const t=qt(),n=kw();return G(),(i,s)=>(C(),N(v(J).div,z(v(t).getAreaThumbProps(v(n)),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["as-child"]))}}),x9=$({__name:"color-picker-area",props:{xChannel:{},yChannel:{},asChild:{type:Boolean}},setup(e){const t=e,n=qt();return _9(t),G(),(i,s)=>(C(),N(v(J).div,z(v(n).getAreaProps(t),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["as-child"]))}}),T9=$({__name:"color-picker-channel-input",props:{channel:{},orientation:{},asChild:{type:Boolean}},setup(e){const t=e,n=qt();return G(),(i,s)=>(C(),N(v(J).input,z(v(n).getChannelInputProps(t),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["as-child"]))}}),[w9,Wf]=vt("ColorPickerChannelPropsContext"),[I9,Oy]=vt("ColorPickerFormatProps"),O9=$({__name:"color-picker-channel-slider-thumb",props:{asChild:{type:Boolean}},setup(e){const t=qt(),n=Oy(),i=Wf(),s=K(()=>({...i,...n}));return G(),(r,a)=>(C(),N(v(J).div,z(v(t).getChannelSliderThumbProps(s.value),{"as-child":r.asChild}),{default:S(()=>[B(r.$slots,"default")]),_:3},16,["as-child"]))}}),k9=$({__name:"color-picker-channel-slider-value-text",props:{asChild:{type:Boolean}},setup(e){const t=qt(),n=Wf(),i=df(),s=Ri(Ni);return G(),(r,a)=>(C(),N(v(J).span,z(v(t).getChannelSliderValueTextProps(v(n)),{"as-child":r.asChild}),{default:S(()=>[B(r.$slots,"default",{},()=>{var u,o;return[qe(ue(((o=(u=v(i)).default)==null?void 0:o.call(u))||v(t).getChannelValueText(v(n).channel,v(s).locale)),1)]})]),_:3},16,["as-child"]))}}),A9=$({__name:"color-picker-channel-slider-label",props:{asChild:{type:Boolean}},setup(e){const t=qt(),n=Wf();return G(),(i,s)=>(C(),N(v(J).label,z(v(t).getChannelSliderLabelProps(v(n)),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["as-child"]))}}),P9=$({__name:"color-picker-channel-slider-track",props:{asChild:{type:Boolean}},setup(e){const t=qt(),n=Oy(),i=Wf(),s=K(()=>({...i,...n}));return G(),(r,a)=>(C(),N(v(J).div,z(v(t).getChannelSliderTrackProps(s.value),{"as-child":r.asChild}),{default:S(()=>[B(r.$slots,"default")]),_:3},16,["as-child"]))}}),$9=$({__name:"color-picker-channel-slider",props:{channel:{},orientation:{},asChild:{type:Boolean}},setup(e){const t=e,n=qt(),i=Oy(),s=K(()=>({...t,...i}));return w9(t),G(),(r,a)=>(C(),N(v(J).div,z(v(n).getChannelSliderProps(s.value),{"as-child":r.asChild}),{default:S(()=>[B(r.$slots,"default")]),_:3},16,["as-child"]))}}),M9=$({__name:"color-picker-content",props:{immediate:{type:Boolean},lazyMount:{type:Boolean},present:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=qt(),n=Gl(),i=K(()=>Ho(t.value.getContentProps(),n.value.presenceProps));return G(),(s,r)=>v(n).unmounted?nt("",!0):(C(),N(v(J).div,z({key:0},i.value,{"as-child":s.asChild}),{default:S(()=>[B(s.$slots,"default")]),_:3},16,["as-child"]))}}),N9=$({__name:"color-picker-context",setup(e){const t=qt();return(n,i)=>B(n.$slots,"default",hn(on(v(t))))}}),R9=$({__name:"color-picker-control",props:{asChild:{type:Boolean}},setup(e){const t=qt();return G(),(n,i)=>(C(),N(v(J).div,z(v(t).getControlProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),D9=$({__name:"color-picker-eye-dropper-trigger",props:{asChild:{type:Boolean}},setup(e){const t=qt();return G(),(n,i)=>(C(),N(v(J).button,z(v(t).getEyeDropperTriggerProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),L9=$({__name:"color-picker-format-select",props:{asChild:{type:Boolean}},setup(e){const t=qt();return G(),(n,i)=>(C(),N(v(J).select,hn(on(v(t).getFormatSelectProps())),{default:S(()=>[(C(),te(Ye,null,zt(["rgba","hsla","hsba"],s=>O(v(J).option,{key:s,value:s},{default:S(()=>[qe(ue(s),1)]),_:2},1032,["value"])),64))]),_:1},16))}}),F9=$({__name:"color-picker-format-trigger",props:{asChild:{type:Boolean}},setup(e){const t=qt();return G(),(n,i)=>(C(),N(v(J).button,z(v(t).getFormatTriggerProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),V9=$({__name:"color-picker-hidden-input",props:{asChild:{type:Boolean}},setup(e){const t=qt(),n=Jn();return G(),(i,s)=>{var r;return C(),N(v(J).input,z({"aria-describedby":(r=v(n))==null?void 0:r.ariaDescribedby},v(t).getHiddenInputProps(),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["aria-describedby","as-child"])}}}),B9=$({__name:"color-picker-label",props:{asChild:{type:Boolean}},setup(e){const t=qt();return G(),(n,i)=>(C(),N(v(J).label,z(v(t).getLabelProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),H9=$({__name:"color-picker-positioner",props:{asChild:{type:Boolean}},setup(e){const t=qt(),n=Uo(),i=Fa(K(()=>({...n.value,present:t.value.open})));return Va(i),G(),(s,r)=>v(i).unmounted?nt("",!0):(C(),N(v(J).div,z({key:0},v(t).getPositionerProps(),{"as-child":s.asChild}),{default:S(()=>[B(s.$slots,"default")]),_:3},16,["as-child"]))}}),j9=$({__name:"color-picker-root-provider",props:{value:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,n=K(()=>t.value);return Ow(n),Di(K(()=>({lazyMount:t.lazyMount,unmountOnExit:t.unmountOnExit}))),G(),(i,s)=>(C(),N(v(J).div,z(n.value.getRootProps(),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["as-child"]))}}),U9=$({__name:"color-picker-root",props:On({closeOnSelect:{type:Boolean},defaultOpen:{type:Boolean},defaultValue:{},disabled:{type:Boolean},format:{},id:{},ids:{},initialFocusEl:{type:Function},modelValue:{},name:{},open:{type:Boolean},positioning:{},readOnly:{type:Boolean},required:{type:Boolean},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},{closeOnSelect:void 0,defaultOpen:void 0,disabled:void 0,open:void 0,readOnly:void 0,required:void 0}),emits:["focusOutside","formatChange","interactOutside","openChange","pointerDownOutside","valueChange","valueChangeEnd","update:modelValue","update:open"],setup(e,{emit:t}){const n=e,s=E9(n,t);return Ow(s),Di(K(()=>({lazyMount:n.lazyMount,unmountOnExit:n.unmountOnExit}))),G(),(r,a)=>(C(),N(v(J).div,z(v(s).getRootProps(),{"as-child":r.asChild}),{default:S(()=>[B(r.$slots,"default")]),_:3},16,["as-child"]))}}),G9=$({__name:"color-picker-swatch-group",props:{asChild:{type:Boolean}},setup(e){return G(),(t,n)=>(C(),N(v(J).div,z(v(Iw).build().swatchGroup.attrs,{"as-child":t.asChild}),{default:S(()=>[B(t.$slots,"default")]),_:3},16,["as-child"]))}}),[Aw,W9]=vt("ColorPickerSwatchPropsContext"),z9=$({__name:"color-picker-swatch-indicator",props:{asChild:{type:Boolean}},setup(e){const t=qt(),n=W9();return G(),(i,s)=>(C(),N(v(J).div,z(v(t).getSwatchIndicatorProps(v(n)),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["as-child"]))}}),K9=$({__name:"color-picker-swatch-trigger",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,n=qt();return G(),(i,s)=>(C(),N(v(J).button,z(v(n).getSwatchTriggerProps(t),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["as-child"]))}}),q9=$({__name:"color-picker-swatch",props:{value:{},respectAlpha:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,n=qt();return Aw(t),G(),(i,s)=>(C(),N(v(J).div,z(v(n).getSwatchProps(t),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["as-child"]))}}),Y9=$({__name:"color-picker-value-swatch",props:{respectAlpha:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,n=qt(),i=K(()=>({value:n.value.value,respectAlpha:t.respectAlpha}));return Aw(i.value),G(),(s,r)=>(C(),N(v(J).div,z(v(n).getSwatchProps(i.value),{"as-child":s.asChild}),{default:S(()=>[B(s.$slots,"default")]),_:3},16,["as-child"]))}}),J9=$({__name:"color-picker-transparency-grid",props:{size:{},asChild:{type:Boolean}},setup(e){const t=e,n=qt();return G(),(i,s)=>(C(),N(v(J).div,z(v(n).getTransparencyGridProps(t),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["as-child"]))}}),X9=$({__name:"color-picker-trigger",props:{asChild:{type:Boolean}},setup(e){const t=qt();return G(),(n,i)=>(C(),N(v(J).button,z(v(t).getTriggerProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),Z9=$({__name:"color-picker-value-text",props:{asChild:{type:Boolean}},setup(e){const t=qt(),n=df();return G(),(i,s)=>(C(),N(v(J).span,z(v(t).getValueTextProps(),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default",{},()=>{var r,a;return[qe(ue(((a=(r=v(n)).default)==null?void 0:a.call(r))||v(t).valueAsString),1)]})]),_:3},16,["as-child"]))}}),Q9=$({__name:"color-picker-view",props:{format:{},asChild:{type:Boolean}},setup(e){const t=e,n=qt();return I9(t),G(),(i,s)=>v(n).format===i.format?(C(),N(v(J).div,z({key:0},v(Iw).build().view.attrs,{"data-format":i.format,"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["data-format","as-child"])):nt("",!0)}}),Mt=Object.freeze(Object.defineProperty({__proto__:null,Area:x9,AreaBackground:C9,AreaThumb:S9,ChannelInput:T9,ChannelSlider:$9,ChannelSliderLabel:A9,ChannelSliderThumb:O9,ChannelSliderTrack:P9,ChannelSliderValueText:k9,Content:M9,Context:N9,Control:R9,EyeDropperTrigger:D9,FormatSelect:L9,FormatTrigger:F9,HiddenInput:V9,Label:B9,Positioner:H9,Root:U9,RootProvider:j9,Swatch:q9,SwatchGroup:G9,SwatchIndicator:z9,SwatchTrigger:K9,TransparencyGrid:J9,Trigger:X9,ValueSwatch:Y9,ValueText:Z9,View:Q9},Symbol.toStringTag,{value:"Module"})),eK={class:"flex gap-2"},tK={class:"flex flex-col gap-2 w-full"},nK={key:0},iK={class:"text-xs font-medium"},sK={class:"text-xs font-medium"},rK=$({__name:"ColorPicker",props:Vn({usedColors:{default:()=>[]},label:null},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=vn(e,"modelValue",{set(a){return a.toString("hexa")},get(a){return Ph(a)}}),n=e,i=K(()=>n.usedColors.map(a=>Ph(a))),s=Xe([]);function r(a){i.value.some(u=>u.toHexInt()===a.toHexInt())||s.value.some(u=>u.toHexInt()===a.toHexInt())||s.value.unshift(a)}return(a,u)=>{const o=R7;return C(),N(v(Mt).Root,{format:"rgba",class:"flex flex-col gap-1.5",modelValue:t.value,"onUpdate:modelValue":[u[0]||(u[0]=l=>t.value=l),r]},{default:S(()=>[O(v(Mt).Label,{class:"font-medium text-sm"},{default:S(()=>[qe(ue(e.label),1)]),_:1}),O(v(Mt).Control,{class:"flex gap-2"},{default:S(()=>[O(v(Mt).Trigger,{class:"appearance-none rounded cursor-pointer inline-flex items-center justify-center outline-none h-10 min-w-10 gap-2 border border-zinc-300"},{default:S(()=>[O(v(Mt).TransparencyGrid,{class:"rounded"}),O(v(Mt).ValueSwatch,{class:"h-7 w-7 rounded shadow"})]),_:1}),O(v(Mt).ChannelInput,{channel:"hex",class:"appearance-none rounded bg-none outline-0 relative w-full border px-3 h-10 min-w-10 focus:ring focus:ring-gray-700"})]),_:1}),O(v(Mt).Positioner,{class:"w-60 !z-20 pl-1"},{default:S(()=>[O(v(Mt).Content,{class:"flex flex-col p-4 gap-3 rounded bg-white border shadow-sm data-[state=open]:animate-fade-in data-[state=closed]:animate-fade-out data-[state=closed]:hidden"},{default:S(()=>[O(v(Mt).Area,{class:"rounded overflow-hidden h-36 touch-none forced-color-adjust-none"},{default:S(()=>[O(v(Mt).AreaBackground,{class:"h-full rounded"}),O(v(Mt).AreaThumb,{class:"rounded-full w-2.5 h-2.5 outline-none border-2 border-white"})]),_:1}),F("div",eK,[O(v(Mt).EyeDropperTrigger,{class:"appearance-none rounded cursor-pointer inline-flex outline-none relative select-none items-center justify-center border h-8 min-w-8"},{default:S(()=>[O(o,{class:"w-4 h-4"})]),_:1}),F("div",tK,[O(v(Mt).ChannelSlider,{channel:"hue",class:"rounded w-full"},{default:S(()=>[O(v(Mt).ChannelSliderTrack,{class:"h-2.5 rounded"}),O(v(Mt).ChannelSliderThumb,{class:"h-2.5 w-2.5 cursor-pointer rounded-full outline-none border-2 border-white -translate-x-1/2 -translate-y-1/2"})]),_:1}),O(v(Mt).ChannelSlider,{channel:"alpha",class:"rounded w-full"},{default:S(()=>[O(v(Mt).TransparencyGrid),O(v(Mt).ChannelSliderTrack,{class:"h-2.5 rounded"}),O(v(Mt).ChannelSliderThumb,{class:"h-2.5 w-2.5 cursor-pointer rounded-full outline-none border-2 border-white -translate-x-1/2 -translate-y-1/2"})]),_:1})])]),O(v(Mt).View,{format:"rgba",class:"flex gap-3"},{default:S(()=>[O(v(Mt).ChannelInput,{channel:"hex",class:"flex-1 border px-3 h-8 w-0 rounded outline-0 focus:ring focus:ring-gray-700"}),O(v(Mt).ChannelInput,{channel:"alpha",class:"flex-none border px-3 h-8 rounded outline-0 focus:ring focus:ring-gray-700"})]),_:1}),v(s).length>0?(C(),te("div",nK,[F("p",iK,ue(a.$t("Recently selected")),1),O(v(Mt).SwatchGroup,{class:"grid grid-cols-6 gap-2 mt-2"},{default:S(()=>[(C(!0),te(Ye,null,zt(v(s).slice(0,6),l=>(C(),N(v(Mt).SwatchTrigger,{value:l,key:l.toHexInt()},{default:S(()=>[O(v(Mt).Swatch,{value:l,class:"w-6 h-6 rounded border"},null,8,["value"])]),_:2},1032,["value"]))),128))]),_:1})])):nt("",!0),F("div",null,[F("p",sK,ue(a.$t("Currently used")),1),O(v(Mt).SwatchGroup,{class:"grid grid-cols-6 gap-2 mt-2"},{default:S(()=>[(C(!0),te(Ye,null,zt(v(i),l=>(C(),N(v(Mt).SwatchTrigger,{value:l,key:l},{default:S(()=>[O(v(Mt).Swatch,{value:l,class:"w-6 h-6 rounded border"},null,8,["value"])]),_:2},1032,["value"]))),128))]),_:1})])]),_:1})]),_:1}),O(v(Mt).HiddenInput)]),_:1},8,["modelValue"])}}}),oK={class:"border rounded-lg overflow-hidden p-1 relative bg-white"},aK=["src"],lK={class:"absolute bg-black/50 inset-0 flex items-center justify-center"},cK={class:"text-xs text-center truncate overflow-hidden max-w-full"},uK=$({__name:"ImagePreview",props:{image:null,selected:{type:Boolean}},setup(e){return(t,n)=>{const i=dy;return C(),te("div",{class:sn(["group flex flex-col items-center justify-center p-3 gap-3 rounded-lg cursor-pointer hover:bg-neutral-100",{"bg-neutral-100":e.selected,"pointer-events-none":e.image.uploading}])},[F("div",oK,[F("img",{class:sn(["hover:bg-neutral-200 object-cover w-full aspect-square rounded",{"bg-neutral-200":e.selected}]),src:e.image.url},null,10,aK),F("div",{class:sn(["absolute p-2 rounded-md inset-1 group-hover:block group-hover:bg-neutral-900/10",{hidden:!e.selected}])},[O(i,{"model-value":e.selected},null,8,["model-value"])],2),Ia(F("div",lK,n[0]||(n[0]=[F("svg",{class:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[F("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),F("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]),512),[[qg,e.image.uploading]])]),F("p",cK,ue(e.image.name),1)],2)}}});function dK(e){const t=new Map;return function(i,s){const r=i+(s?Object.entries(s).sort((u,o)=>u[0]<o[0]?-1:1).join():"");if(t.has(r))return t.get(r);let a=new e(i,s);return t.set(r,a),a}}var hK=dK(Intl.NumberFormat);function fK(e,t,n={}){return hK(t,n).format(e)}var pK=["","kilo","mega","giga","tera"],gK=["","kilo","mega","giga","tera","peta"],mK=(e,t="en-US",n={})=>{if(isNaN(e))return"";if(e===0)return"0 B";const{unit:i="byte",unitDisplay:s="short"}=n,r=i==="bit"?pK:gK,a=Math.max(0,Math.min(Math.floor(Math.log10(e)/3),r.length-1)),u=r[a]+i,o=s||"short",l=parseFloat((e/Math.pow(1e3,a)).toPrecision(3));return fK(l,t,{style:"unit",unit:u,unitDisplay:o})};function vK(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function yK(e){return/^.*\.[\w]+$/.test(e)}var f_=e=>vK(e)||yK(e);function bK(e){if(e)return typeof e=="string"?e:Array.isArray(e)?e.filter(f_).join(","):Object.entries(e).reduce((t,[n,i])=>[...t,n,...i],[]).filter(f_).join(",")}var EK=(e,t)=>e.name===t.name&&e.size===t.size&&e.type===t.type,bc=e=>e!=null;function _K(e,t,n){if(bc(e.size))if(bc(t)&&bc(n)){if(e.size>n)return[!1,"FILE_TOO_LARGE"];if(e.size<t)return[!1,"FILE_TOO_SMALL"]}else{if(bc(t)&&e.size<t)return[!1,"FILE_TOO_SMALL"];if(bc(n)&&e.size>n)return[!1,"FILE_TOO_LARGE"]}return[!0,null]}function CK(e,t){if(e&&t){const n=Array.isArray(t)?t:t.split(","),i=e.name||"",s=(e.type||"").toLowerCase(),r=s.replace(/\/.*$/,"");return n.some(a=>{const u=a.trim().toLowerCase();return u.charAt(0)==="."?i.toLowerCase().endsWith(u):u.endsWith("/*")?r===u.replace(/\/.*$/,""):s===u})}return!0}function SK(e,t){const n=e.type==="application/x-moz-file"||CK(e,t);return[n,n?null:"FILE_INVALID_TYPE"]}var xK=Object.defineProperty,TK=(e,t,n)=>t in e?xK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ne=(e,t,n)=>TK(e,typeof t!="symbol"?t+"":t,n);function Pw(e,...t){for(const n of t){const i=Te(n);for(const s in i)_i(n[s])?(e[s]||(e[s]={}),Pw(e[s],n[s])):e[s]=n[s]}return e}function p_(e){return bn(e)}function Is(e){return q(e)?{type:e}:e}function Qr(e){return e?et(e)?e.slice():[e]:[]}function $w(e){return Ce(e)&&e.predicate!=null}var wK=()=>!0;function Mw(e,t){return e=e??wK,(n,i,s)=>{if(q(e)){const r=t[e];return We(r)?r(n,i,s):r}return $w(e)?e.predicate(t)(n,i,s):e==null?void 0:e(n,i,s)}}function lg(e,t){return(n,i,s)=>$w(e)?e.predicate(t)(n,i,s):e}function IK(e){var r,a;const t=e.computed??ee({}),n=e.context??ee({}),i=e.initial?(a=(r=e.states)==null?void 0:r[e.initial])==null?void 0:a.tags:[],s=Yn({value:e.initial??"",previousValue:"",event:ee({}),previousEvent:ee({}),context:yi(n,t),done:!1,tags:i??[],hasTag(u){return this.tags.includes(u)},matches(...u){return u.includes(this.value)},can(u){return ee(this).nextEvents.includes(u)},get nextEvents(){var l,c;const u=((c=(l=e.states)==null?void 0:l[this.value])==null?void 0:c.on)??{},o=(e==null?void 0:e.on)??{};return Object.keys({...u,...o})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return ee(s)}function Ec(e,t){return(n,i)=>{if(Ei(e))return e;if(We(e))return e(n,i);if(q(e)){const s=Number.parseFloat(e);if(!Number.isNaN(s))return s;if(t){const r=t==null?void 0:t[e];return He(r==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${e}\`. It doesn't exist in \`options.delays\``),We(r)?r(n,i):r}}}}function OK(e){return q(e)?{target:e}:e}function kK(e,t){return(n,i,s)=>Qr(e).map(OK).find(r=>Mw(r.guard,t)(n,i,s)??r.target??r.actions)}var AK=class{constructor(t,n){var i,s,r,a,u;Ne(this,"status","Not Started"),Ne(this,"state"),Ne(this,"initialState"),Ne(this,"initialContext"),Ne(this,"id"),Ne(this,"type","machine"),Ne(this,"activityEvents",new Map),Ne(this,"delayedEvents",new Map),Ne(this,"stateListeners",new Set),Ne(this,"doneListeners",new Set),Ne(this,"contextWatchers",new Set),Ne(this,"removeStateListener",si),Ne(this,"parent"),Ne(this,"children",new Map),Ne(this,"guardMap"),Ne(this,"actionMap"),Ne(this,"delayMap"),Ne(this,"activityMap"),Ne(this,"sync"),Ne(this,"options"),Ne(this,"config"),Ne(this,"_created",()=>{var l;const o=Is("machine.created");this.executeActions((l=this.config)==null?void 0:l.created,o)}),Ne(this,"start",o=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=Pt(this.state,()=>{this.stateListeners.forEach(p=>{p(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(Is("machine.start"),Qr(this.config.activities),"machine.start"),this.executeActions(this.config.entry,Is("machine.start"));const l=Is("machine.init"),c=Ce(o)?o.value:o,d=Ce(o)?o.context:void 0;d&&this.setContext(d);const h={target:c??this.config.initial},f=this.getNextStateInfo(h,l);return this.initialState=f,this.performStateChangeEffects(this.state.value,f,l),this}),Ne(this,"setupContextWatchers",()=>{const{watch:o}=this.config;if(!o)return;let l=_e(this.state.context);const c=Pt(this.state.context,()=>{var h;const d=_e(this.state.context);for(const[f,p]of Object.entries(o))(((h=this.options.compareFns)==null?void 0:h[f])??Object.is)(l[f],d[f])||this.executeActions(p,this.state.event);l=d});this.contextWatchers.add(c)}),Ne(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,Is("machine.stop")),this.executeActions(this.config.exit,Is("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),Ne(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),Ne(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(o=>o()),this.contextWatchers.clear()}),Ne(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(o=>{o.forEach(l=>l())}),this.delayedEvents.clear()}),Ne(this,"stopActivities",o=>{var l,c;o?((l=this.activityEvents.get(o))==null||l.forEach(d=>d()),(c=this.activityEvents.get(o))==null||c.clear(),this.activityEvents.delete(o)):(this.activityEvents.forEach(d=>{d.forEach(h=>h()),d.clear()}),this.activityEvents.clear())}),Ne(this,"sendChild",(o,l)=>{const c=Is(o),d=$t(l,this.contextSnapshot),h=this.children.get(d);h||He(`[@zag-js/core] Cannot send '${c.type}' event to unknown child`),h.send(c)}),Ne(this,"stopChild",o=>{this.children.has(o)||He(`[@zag-js/core > stop-child] Cannot stop unknown child ${o}`),this.children.get(o).stop(),this.children.delete(o)}),Ne(this,"removeChild",o=>{this.children.delete(o)}),Ne(this,"stopChildren",()=>{this.children.forEach(o=>o.stop()),this.children.clear()}),Ne(this,"setParent",o=>{this.parent=o}),Ne(this,"spawn",(o,l)=>{const c=$t(o);return l&&(c.id=l),c.type="machine.actor",c.setParent(this),this.children.set(c.id,ee(c)),c.onDone(()=>{this.removeChild(c.id)}).start(),ee(Ke(c))}),Ne(this,"stopActivity",o=>{var c;if(!this.state.value)return;const l=this.activityEvents.get(this.state.value);(c=l==null?void 0:l.get(o))==null||c(),l==null||l.delete(o)}),Ne(this,"addActivityCleanup",(o,l,c)=>{var d;o&&(this.activityEvents.has(o)?(d=this.activityEvents.get(o))==null||d.set(l,c):this.activityEvents.set(o,new Map([[l,c]])))}),Ne(this,"setState",o=>{this.state.previousValue=this.state.value,this.state.value=o;const l=this.getStateNode(o);o==null?bi(this.state.tags):this.state.tags=Qr(l==null?void 0:l.tags)}),Ne(this,"setContext",o=>{o&&Pw(this.state.context,Te(o))}),Ne(this,"setOptions",o=>{const l=Te(o);this.actionMap={...this.actionMap,...l.actions},this.delayMap={...this.delayMap,...l.delays},this.activityMap={...this.activityMap,...l.activities},this.guardMap={...this.guardMap,...l.guards}}),Ne(this,"getStateNode",o=>{var l;if(o)return(l=this.config.states)==null?void 0:l[o]}),Ne(this,"getNextStateInfo",(o,l)=>{const c=this.determineTransition(o,l),d=!(c!=null&&c.target),h=(c==null?void 0:c.target)??this.state.value,f=this.state.value!==h,p=this.getStateNode(h),m={reenter:!d&&!f&&!(c!=null&&c.internal),transition:c,stateNode:p,target:h,changed:f};return this.log("NextState:",`[${l.type}]`,this.state.value,"---->",m.target),m}),Ne(this,"getAfterActions",(o,l)=>{let c;const d=this.state.value;return{entry:()=>{c=globalThis.setTimeout(()=>{const h=this.getNextStateInfo(o,this.state.event);this.performStateChangeEffects(d,h,this.state.event)},l)},exit:()=>{globalThis.clearTimeout(c)}}}),Ne(this,"getDelayedEventActions",o=>{const l=this.getStateNode(o),c=this.state.event;if(!l||!l.after)return;const d=[],h=[];if(et(l.after)){const f=this.determineTransition(l.after,c);if(!f)return;if(!wn(f,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(f)}`);const g=Ec(f.delay,this.delayMap)(this.contextSnapshot,c),m=this.getAfterActions(f,g);return d.push(m.entry),h.push(m.exit),{entries:d,exits:h}}if(Ce(l.after))for(const f in l.after){const p=l.after[f],m=Ec(f,this.delayMap)(this.contextSnapshot,c),y=this.getAfterActions(p,m);d.push(y.entry),h.push(y.exit)}return{entries:d,exits:h}}),Ne(this,"executeActions",(o,l)=>{var d;const c=lg(o,this.guardMap)(this.contextSnapshot,l,this.guardMeta);for(const h of Qr(c)){const f=q(h)?(d=this.actionMap)==null?void 0:d[h]:h;it(q(h)&&!f,`[@zag-js/core > execute-actions] No implementation found for action: \`${h}\``),f==null||f(this.state.context,l,this.meta)}}),Ne(this,"executeActivities",(o,l,c)=>{var d;for(const h of l){const f=q(h)?(d=this.activityMap)==null?void 0:d[h]:h;if(!f){it(`[@zag-js/core > execute-activity] No implementation found for activity: \`${h}\``);continue}const p=f(this.state.context,o,this.meta);if(p){const g=q(h)?h:h.name||Rt();this.addActivityCleanup(c??this.state.value,g,p)}}}),Ne(this,"createEveryActivities",(o,l)=>{if(o)if(et(o)){const c=Qr(o).find(p=>{const g=p.delay,y=Ec(g,this.delayMap)(this.contextSnapshot,this.state.event);return Mw(p.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??y!=null});if(!c)return;const h=Ec(c.delay,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const p=globalThis.setInterval(()=>{this.executeActions(c.actions,this.state.event)},h);return()=>{globalThis.clearInterval(p)}})}else for(const c in o){const d=o==null?void 0:o[c],f=Ec(c,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const g=globalThis.setInterval(()=>{this.executeActions(d,this.state.event)},f);return()=>{globalThis.clearInterval(g)}})}}),Ne(this,"setEvent",o=>{this.state.previousEvent=this.state.event,this.state.event=Ke(Is(o))}),Ne(this,"performExitEffects",(o,l)=>{const c=this.state.value;if(c==="")return;const d=o?this.getStateNode(o):void 0;this.stopActivities(c);const h=lg(d==null?void 0:d.exit,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=Qr(h),p=this.delayedEvents.get(c);p&&f.push(...p),this.executeActions(f,l),this.delayedEvents.delete(c)}),Ne(this,"performEntryEffects",(o,l)=>{const c=this.getStateNode(o),d=Qr(c==null?void 0:c.activities);this.createEveryActivities(c==null?void 0:c.every,g=>{d.unshift(g)}),d.length>0&&this.executeActivities(l,d);const h=lg(c==null?void 0:c.entry,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=Qr(h),p=this.getDelayedEventActions(o);c!=null&&c.after&&p&&(this.delayedEvents.set(o,p==null?void 0:p.exits),f.push(...p.entries)),this.executeActions(f,l),(c==null?void 0:c.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(g=>{g(this.stateSnapshot)}),this.stop())}),Ne(this,"performTransitionEffects",(o,l)=>{const c=this.determineTransition(o,l);this.executeActions(c==null?void 0:c.actions,l)}),Ne(this,"performStateChangeEffects",(o,l,c)=>{this.setEvent(c);const d=l.changed||l.reenter;d&&this.performExitEffects(o,c),this.performTransitionEffects(l.transition,c),this.setState(l.target),d&&this.performEntryEffects(l.target,c)}),Ne(this,"determineTransition",(o,l)=>{const c=kK(o,this.guardMap);return c==null?void 0:c(this.contextSnapshot,l,this.guardMeta)}),Ne(this,"sendParent",o=>{var c;this.parent||He("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const l=Is(o);(c=this.parent)==null||c.send(l)}),Ne(this,"log",(...o)=>{}),Ne(this,"send",o=>{const l=Is(o);this.transition(this.state.value,l)}),Ne(this,"transition",(o,l)=>{var p,g;const c=q(o)?this.getStateNode(o):o==null?void 0:o.stateNode,d=Is(l);if(!c&&!this.config.on){const m=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${o}, \`event\`: ${d.type}`;it(m);return}const h=((p=c==null?void 0:c.on)==null?void 0:p[d.type])??((g=this.config.on)==null?void 0:g[d.type]),f=this.getNextStateInfo(h,d);return this.performStateChangeEffects(this.state.value,f,d),f.stateNode}),Ne(this,"subscribe",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),()=>{this.stateListeners.delete(o)})),Ne(this,"onDone",o=>(this.doneListeners.add(o),this)),Ne(this,"onTransition",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),this)),this.config=p_(t),this.options=p_(n??{}),this.id=this.config.id??`machine-${Rt()}`,this.guardMap=((i=this.options)==null?void 0:i.guards)??{},this.actionMap=((s=this.options)==null?void 0:s.actions)??{},this.delayMap=((r=this.options)==null?void 0:r.delays)??{},this.activityMap=((a=this.options)==null?void 0:a.activities)??{},this.sync=((u=this.options)==null?void 0:u.sync)??!1,this.state=IK(this.config),this.initialContext=_e(this.state.context)}get stateSnapshot(){return ee(_e(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const t=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return t.stateSnapshot},get initialContext(){return t.initialContext},get initialState(){var n;return((n=t.initialState)==null?void 0:n.target)??""}}}get meta(){var t;return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:((t=this.initialState)==null?void 0:t.target)??"",getState:()=>this.stateSnapshot,getAction:n=>this.actionMap[n],getGuard:n=>this.guardMap[n]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){const t=this.getState();return{value:t.value,tags:t.tags}}},PK=(e,t)=>new AK(e,t),$K=Dn("file-upload").parts("root","dropzone","item","itemDeleteTrigger","itemGroup","itemName","itemPreview","itemPreviewImage","itemSizeText","label","trigger","clearTrigger"),rs=$K.build(),Cn=$i({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`file:${e.id}`},getDropzoneId:e=>{var t;return((t=e.ids)==null?void 0:t.dropzone)??`file:${e.id}:dropzone`},getHiddenInputId:e=>{var t;return((t=e.ids)==null?void 0:t.hiddenInput)??`file:${e.id}:input`},getTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.trigger)??`file:${e.id}:trigger`},getLabelId:e=>{var t;return((t=e.ids)==null?void 0:t.label)??`file:${e.id}:label`},getItemId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.item)==null?void 0:i.call(n,t))??`file:${e.id}:item:${t}`},getItemNameId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.itemName)==null?void 0:i.call(n,t))??`file:${e.id}:item-name:${t}`},getItemSizeTextId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.itemSizeText)==null?void 0:i.call(n,t))??`file:${e.id}:item-size:${t}`},getItemPreviewId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.itemPreview)==null?void 0:i.call(n,t))??`file:${e.id}:item-preview:${t}`},getHiddenInputEl:e=>Cn.getById(e,Cn.getHiddenInputId(e)),getDropzoneEl:e=>Cn.getById(e,Cn.getDropzoneId(e))});function g_(e){const t=Qi(e);return e.dataTransfer?e.dataTransfer.types.some(n=>n==="Files"||n==="application/x-moz-file"):!!t&&"files"in t}function MK(e,t){return!e.multiple&&t>1?!1:!e.multiple&&t+e.acceptedFiles.length===2?!0:!(t+e.acceptedFiles.length>e.maxFiles)}function NK(e,t){const n=[],i=[];return t.forEach(s=>{var d;const[r,a]=SK(s,e.acceptAttr),[u,o]=_K(s,e.minFileSize,e.maxFileSize),l=(d=e.validate)==null?void 0:d.call(e,s),c=l?l.length===0:!0;if(r&&u&&c)n.push(s);else{const h=[a,o];c||h.push(...l??[]),i.push({file:s,errors:h.filter(Boolean)})}}),MK(e,n.length)||(n.forEach(s=>{i.push({file:s,errors:["TOO_MANY_FILES"]})}),n.splice(0)),{acceptedFiles:n,rejectedFiles:i}}function RK(e,t,n){const i=e.context.disabled,s=e.context.allowDrop,r=e.context.translations,a=e.matches("dragging"),u=e.matches("focused")&&!i;return{dragging:a,focused:u,openFilePicker(){t("OPEN")},deleteFile(o){t({type:"FILE.DELETE",file:o})},acceptedFiles:e.context.acceptedFiles,rejectedFiles:e.context.rejectedFiles,setFiles(o){const l=o.length;t({type:"FILES.SET",files:o,count:l})},clearRejectedFiles(){t({type:"REJECTED_FILES.CLEAR"})},clearFiles(){t({type:"FILES.CLEAR"})},getFileSize(o){return mK(o.size,e.context.locale)},createFileUrl(o,l){const c=Cn.getWin(e.context),d=c.URL.createObjectURL(o);return l(d),()=>c.URL.revokeObjectURL(d)},getRootProps(){return n.element({...rs.root.attrs,dir:e.context.dir,id:Cn.getRootId(e.context),"data-disabled":H(i),"data-dragging":H(a)})},getDropzoneProps(){return n.element({...rs.dropzone.attrs,dir:e.context.dir,id:Cn.getDropzoneId(e.context),tabIndex:i?void 0:0,role:"button","aria-label":r.dropzone,"aria-disabled":i,"data-invalid":H(e.context.invalid),"data-disabled":H(i),"data-dragging":H(a),onKeyDown(o){o.defaultPrevented||mu(o)&&(o.key!=="Enter"&&o.key!==" "||t({type:"DROPZONE.CLICK",src:"keydown"}))},onClick(o){o.currentTarget.localName==="label"&&o.preventDefault(),t("DROPZONE.CLICK")},onDragOver(o){if(!s)return;o.preventDefault(),o.stopPropagation();try{o.dataTransfer.dropEffect="copy"}catch{}if(!g_(o))return;const c=o.dataTransfer.items.length;t({type:"DROPZONE.DRAG_OVER",count:c})},onDragLeave(o){!s||i||$r(o.currentTarget,o.relatedTarget)||t({type:"DROPZONE.DRAG_LEAVE"})},onDrop(o){s&&(o.preventDefault(),o.stopPropagation());const l=g_(o);i||!l||t({type:"DROPZONE.DROP",files:Array.from(o.dataTransfer.files)})},onFocus(){t("DROPZONE.FOCUS")},onBlur(){t("DROPZONE.BLUR")}})},getTriggerProps(){return n.button({...rs.trigger.attrs,dir:e.context.dir,id:Cn.getTriggerId(e.context),disabled:i,"data-disabled":H(i),"data-invalid":H(e.context.invalid),type:"button",onClick(o){i||($r(Cn.getDropzoneEl(e.context),o.currentTarget)&&o.stopPropagation(),t("OPEN"))}})},getHiddenInputProps(){return n.input({id:Cn.getHiddenInputId(e.context),tabIndex:-1,disabled:i,type:"file",required:e.context.required,capture:e.context.capture,name:e.context.name,accept:e.context.acceptAttr,webkitdirectory:e.context.directory?"":void 0,multiple:e.context.multiple||e.context.maxFiles>1,onClick(o){o.stopPropagation(),o.currentTarget.value=""},onChange(o){if(i)return;const{files:l}=o.currentTarget;t({type:"FILES.SET",files:l?Array.from(l):[]})},style:Bu})},getItemGroupProps(){return n.element({...rs.itemGroup.attrs,dir:e.context.dir,"data-disabled":H(i)})},getItemProps(o){const{file:l}=o;return n.element({...rs.item.attrs,dir:e.context.dir,id:Cn.getItemId(e.context,l.name),"data-disabled":H(i)})},getItemNameProps(o){const{file:l}=o;return n.element({...rs.itemName.attrs,dir:e.context.dir,id:Cn.getItemNameId(e.context,l.name),"data-disabled":H(i)})},getItemSizeTextProps(o){const{file:l}=o;return n.element({...rs.itemSizeText.attrs,dir:e.context.dir,id:Cn.getItemSizeTextId(e.context,l.name),"data-disabled":H(i)})},getItemPreviewProps(o){const{file:l}=o;return n.element({...rs.itemPreview.attrs,dir:e.context.dir,id:Cn.getItemPreviewId(e.context,l.name),"data-disabled":H(i)})},getItemPreviewImageProps(o){var h;const{file:l,url:c}=o;if(!l.type.startsWith("image/"))throw new Error("Preview Image is only supported for image files");return n.img({...rs.itemPreviewImage.attrs,alt:(h=r.itemPreview)==null?void 0:h.call(r,l),src:c,"data-disabled":H(i)})},getItemDeleteTriggerProps(o){var c;const{file:l}=o;return n.button({...rs.itemDeleteTrigger.attrs,dir:e.context.dir,type:"button",disabled:i,"data-disabled":H(i),"aria-label":(c=r.deleteFile)==null?void 0:c.call(r,l),onClick(){i||t({type:"FILE.DELETE",file:l})}})},getLabelProps(){return n.label({...rs.label.attrs,dir:e.context.dir,id:Cn.getLabelId(e.context),htmlFor:Cn.getHiddenInputId(e.context),"data-disabled":H(i)})},getClearTriggerProps(){return n.button({...rs.clearTrigger.attrs,dir:e.context.dir,type:"button",disabled:i,hidden:e.context.acceptedFiles.length===0,"data-disabled":H(i),onClick(o){o.defaultPrevented||i||t({type:"FILES.CLEAR"})}})}}}function DK(e){const t=Te(e);return PK({id:"fileupload",initial:"idle",context:{minFileSize:0,maxFileSize:1/0,maxFiles:1,allowDrop:!0,...t,acceptedFiles:Ke([]),rejectedFiles:Ke([]),translations:{dropzone:"dropzone",itemPreview:n=>`preview of ${n.name}`,deleteFile:n=>`delete file ${n.name}`,...t.translations}},computed:{acceptAttr:n=>bK(n.accept),multiple:n=>n.maxFiles>1},on:{"FILES.SET":{actions:["setFilesFromEvent"]},"FILE.DELETE":{actions:["removeFile"]},"FILES.CLEAR":{actions:["clearFiles"]},"REJECTED_FILES.CLEAR":{actions:["clearRejectedFiles"]}},states:{idle:{on:{OPEN:{actions:["openFilePicker"]},"DROPZONE.CLICK":{actions:["openFilePicker"]},"DROPZONE.FOCUS":"focused","DROPZONE.DRAG_OVER":{target:"dragging"}}},focused:{on:{"DROPZONE.BLUR":"idle",OPEN:{actions:["openFilePicker"]},"DROPZONE.CLICK":{actions:["openFilePicker"]},"DROPZONE.DRAG_OVER":{target:"dragging"}}},dragging:{on:{"DROPZONE.DROP":{target:"idle",actions:["setFilesFromEvent","syncInputElement"]},"DROPZONE.DRAG_LEAVE":{target:"idle"}}}}},{actions:{syncInputElement(n){const i=Cn.getHiddenInputEl(n);if(!i)return;const s=Cn.getWin(n),r=new s.DataTransfer;n.acceptedFiles.forEach(a=>{r.items.add(a)}),i.files=r.files},openFilePicker(n){Je(()=>{var i;(i=Cn.getHiddenInputEl(n))==null||i.click()})},setFilesFromEvent(n,i){const s=NK(n,i.files),{acceptedFiles:r,rejectedFiles:a}=s;if(n.multiple){const u=Ke([...n.acceptedFiles,...r]);cg.files(n,u,a);return}if(r.length){const u=Ke([r[0]]);cg.files(n,u,a)}else a.length&&cg.files(n,n.acceptedFiles,a)},removeFile(n,i){const s=n.acceptedFiles.filter(r=>r!==i.file);n.acceptedFiles=Ke(s),xl.change(n)},clearRejectedFiles(n){n.rejectedFiles=Ke([]),xl.change(n)},clearFiles(n){n.acceptedFiles=Ke([]),n.rejectedFiles=Ke([]),xl.change(n)}},compareFns:{acceptedFiles:(n,i)=>n.length===i.length&&n.every((s,r)=>EK(s,i[r]))}})}var xl={change:e=>{var t;(t=e.onFileChange)==null||t.call(e,{acceptedFiles:e.acceptedFiles,rejectedFiles:e.rejectedFiles})},accept:e=>{var t;(t=e.onFileAccept)==null||t.call(e,{files:e.acceptedFiles})},reject:e=>{var t;(t=e.onFileReject)==null||t.call(e,{files:e.rejectedFiles})}},cg={files:(e,t,n)=>{e.acceptedFiles=Ke(t),xl.accept(e),n&&(e.rejectedFiles=Ke(n),xl.reject(e)),xl.change(e)}};tn()(["accept","allowDrop","capture","dir","directory","disabled","getRootNode","id","ids","locale","maxFiles","maxFileSize","minFileSize","name","invalid","onFileAccept","onFileReject","onFileChange","required","translations","validate"]);tn()(["file"]);const LK={class:"flex flex-col gap-2"},FK={key:0,class:"text-sm"},VK={key:1,class:"min-h-24 border border-dashed rounded flex flex-col items-center justify-center"},BK={key:2},HK={class:"rounded-t p-3 bg-neutral-100 relative"},jK=["src"],UK={class:"rounded-b p-3 bg-neutral-100 border-t border-white"},GK={class:"flex-none h-12 border-b border-neutral-200 flex gap-3 px-4 items-center justify-between"},WK={class:"flex-1 flex flex-col gap-3 min-h-0 p-3 overflow-y-auto"},zK={class:"grid grid-cols-2 gap-3"},KK={class:"flex-none flex items-center gap-3 p-3 justify-end h-12 border-t border-neutral-200"},qK=$({__name:"ImagePicker",props:Vn({label:null},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=p=>{var g=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return!!g.test(p)},n=Si(),i=vn(e,"modelValue",{set(p){return p?p.path:null},get(p){return p?{path:p,url:t(p)?p:window.ThemeEditor.imagesBaseUrl+p,name:p}:null}}),s=Xe(!1),r=Xe([]),a=Xe(),[u,o]=Ci(DK({id:"imagepicker",accept:"image/*",maxFiles:10,onFileAccept(p){l.value.clearFiles(),r.value=p.files.map(b=>({url:URL.createObjectURL(b),path:b.name,name:b.name,uploading:!0}));const g=new FormData;p.files.forEach(b=>{g.append("image[]",b)});const{data:m,onFetchResponse:y}=XB(g);y(()=>{n.images=[...m.value,...n.images],r.value=[],c(n.images[0])})}})),l=K(()=>RK(u.value,o,Mi));function c(p){i.value=p}function d(){s.value=!0,a.value=i.value}function h(){i.value=a.value,s.value=!1}function f(){i.value=null}return ii(()=>n.fetchImages()),(p,g)=>{const m=jl,y=uK;return C(),te("div",null,[F("div",LK,[e.label?(C(),te("label",FK,ue(e.label),1)):nt("",!0),i.value?(C(),te("div",BK,[F("div",HK,[F("img",{src:i.value.url,alt:"",class:"object-cover"},null,8,jK),F("button",{class:"absolute top-4 right-4 bg-gray-700/30 text-gray-200 p-px rounded",onClick:f},[O(m,{class:"w-4 h-4"})])]),F("div",UK,[F("button",{onClick:d,class:"text-sm w-full text-center bg-white border rounded py-1"},ue(p.$t("Change image")),1)])])):(C(),te("div",VK,[F("button",{onClick:d,class:"text-blue-600 text-sm bg-zinc-200 rounded px-2.5 py-1.5 hover:bg-zinc-100 hover:text-blue-800"},ue(p.$t("Select image")),1)]))]),O(v(yn).Root,{open:v(s),"onUpdate:open":g[0]||(g[0]=b=>ht(s)?s.value=b:null)},{default:S(()=>[(C(),N(lf,{to:"body"},[O(v(yn).Backdrop,{class:"fixed h-screen w-screen inset-0"}),O(v(yn).Positioner,{class:"flex fixed top-14 left-14 bottom-0 w-[19.9rem] items-center justify-center"},{default:S(()=>[O(v(yn).Content,{class:"bg-white shadow flex flex-col w-full h-full overflow-hidden"},{default:S(()=>[F("header",GK,[O(v(yn).Title,null,{default:S(()=>[qe(ue(e.label||p.$t("Image Picker")),1)]),_:1}),O(v(yn).CloseTrigger,{class:"cursor-pointer rounded-lg p-0.5 text-neutral-700 hover:bg-neutral-300"},{default:S(()=>[O(m,{class:"w-5 h-5"})]),_:1})]),F("section",WK,[F("div",z(v(l).getRootProps(),{accept:"image/*"}),[F("div",z(v(l).getDropzoneProps(),{class:"flex flex-col gap-3 items-center justify-center h-32 bg-zinc-50/50 border border-zinc-300 border-dashed rounded-lg"}),[F("p",null,ue(p.$t("Drop your images here")),1),F("button",z(v(l).getTriggerProps(),{class:"cursor-pointer bg-blue-500 text-white shadow-lg rounded border px-2.5 py-1.5 text-sm"}),ue(p.$t("Add images")),17)],16),F("input",hn(on(v(l).getHiddenInputProps())),null,16)],16),F("div",zK,[(C(!0),te(Ye,null,zt(v(r),b=>(C(),N(y,{key:b.path,image:b},null,8,["image"]))),128)),(C(!0),te(Ye,null,zt(v(n).images,b=>(C(),N(y,{key:b.path,image:b,selected:!!i.value&&i.value.path===b.path,onClick:E=>c(b)},null,8,["image","selected","onClick"]))),128))])]),F("footer",KK,[F("button",{onClick:h,class:"text-sm shadow px-3 py-1 rounded bg-neutral-100 border"},ue(p.$t("Cancel")),1),O(v(yn).CloseTrigger,{class:"text-sm shadow px-3 py-1 rounded bg-gray-800 text-white border hover:bg-gray-700"},{default:S(()=>g[1]||(g[1]=[qe("Select")])),_:1})])]),_:1})]),_:1})]))]),_:1},8,["open"])])}}}),YK={viewBox:"0 0 16 16",width:"1.2em",height:"1.2em"};function JK(e,t){return C(),te("svg",YK,t[0]||(t[0]=[F("g",{fill:"currentColor"},[F("path",{d:"M3 2v4.586l7 7L14.586 9l-7-7zM2 2a1 1 0 0 1 1-1h4.586a1 1 0 0 1 .707.293l7 7a1 1 0 0 1 0 1.414l-4.586 4.586a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 2 6.586z"}),F("path",{d:"M5.5 5a.5.5 0 1 1 0-1a.5.5 0 0 1 0 1m0 1a1.5 1.5 0 1 0 0-3a1.5 1.5 0 0 0 0 3M1 7.086a1 1 0 0 0 .293.707L8.75 15.25l-.043.043a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 0 7.586V3a1 1 0 0 1 1-1z"})],-1)]))}const zf=Et({name:"bi-tags",render:JK}),XK=(e,t)=>{const n=e.__vccOpts||e;for(const[i,s]of t)n[i]=s;return n},ZK={},QK={class:"animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"};function eq(e,t){return C(),te("svg",QK,t[0]||(t[0]=[F("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),F("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))}const ky=XK(ZK,[["render",eq]]),tq={class:"flex flex-col overflow-y-hidden"},nq={key:0,class:"flex items-center mx-2 my-2 px-3 py-1 gap-3 border rounded-lg focus-within:ring focus-within:ring-gray-700"},iq=["placeholder"],sq={class:"flex-1 overflow-y-auto border-t"},rq={key:0,class:"h-20 flex items-center justify-center"},oq={key:1},aq=["onClick"],lq=["src","alt"],cq={class:"truncate flex-1 w-0"},Nw=$({__name:"CategoryListbox",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=Si(),n=vn(e,"modelValue"),i=Xe(""),{isFetching:s,execute:r}=t.fetchCategories(),a=K(()=>i.value?t.searchCategories(i.value):t.categories);return Kt([()=>t.themeData.channel,()=>t.themeData.locale],()=>r()),(u,o)=>{const l=_f,c=ky,d=zf;return C(),te("div",tq,[v(i)||v(a).length>2?(C(),te("div",nq,[O(l,{class:"w-4 h-4"}),Ia(F("input",{"onUpdate:modelValue":o[0]||(o[0]=h=>ht(i)?i.value=h:null),type:"text",class:"focus:outline-none text-gray-600",placeholder:u.$t("Search category")},null,8,iq),[[mf,v(i)]])])):nt("",!0),F("div",sq,[v(s)?(C(),te("div",rq,[O(c,{class:"h-6 w-6 text-gray-700"})])):(C(),te("div",oq,[(C(!0),te(Ye,null,zt(v(a),h=>(C(),te("a",{key:h.id,href:"#",class:sn(["flex items-center gap-3 px-3 py-2 outline-none hover:bg-neutral-200 text-sm",{"bg-neutral-200":n.value&&n.value.id===h.id}]),onClick:Ki(f=>n.value=h,["stop"])},[h.logo?(C(),te("img",{key:0,src:h.logo.small_image_url,alt:h.name,class:"w-5 h-5 object-cover flex-none"},null,8,lq)):(C(),N(d,{key:1,class:"w-4 h-4 flex-none mr-1 transform rotate-90"})),F("span",cq,ue(h.name),1)],10,aq))),128))]))])])}}});var uq=Object.defineProperty,dq=(e,t,n)=>t in e?uq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Re=(e,t,n)=>dq(e,typeof t!="symbol"?t+"":t,n);function Rw(e,...t){for(const n of t){const i=Te(n);for(const s in i)_i(n[s])?(e[s]||(e[s]={}),Rw(e[s],n[s])):e[s]=n[s]}return e}function m_(e){return bn(e)}function Os(e){return q(e)?{type:e}:e}function eo(e){return e?et(e)?e.slice():[e]:[]}function Dw(e){return Ce(e)&&e.predicate!=null}var hq=()=>!0;function Lw(e,t){return e=e??hq,(n,i,s)=>{if(q(e)){const r=t[e];return We(r)?r(n,i,s):r}return Dw(e)?e.predicate(t)(n,i,s):e==null?void 0:e(n,i,s)}}function ug(e,t){return(n,i,s)=>Dw(e)?e.predicate(t)(n,i,s):e}function fq(e){var r,a;const t=e.computed??ee({}),n=e.context??ee({}),i=e.initial?(a=(r=e.states)==null?void 0:r[e.initial])==null?void 0:a.tags:[],s=Yn({value:e.initial??"",previousValue:"",event:ee({}),previousEvent:ee({}),context:yi(n,t),done:!1,tags:i??[],hasTag(u){return this.tags.includes(u)},matches(...u){return u.includes(this.value)},can(u){return ee(this).nextEvents.includes(u)},get nextEvents(){var l,c;const u=((c=(l=e.states)==null?void 0:l[this.value])==null?void 0:c.on)??{},o=(e==null?void 0:e.on)??{};return Object.keys({...u,...o})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return ee(s)}function _c(e,t){return(n,i)=>{if(Ei(e))return e;if(We(e))return e(n,i);if(q(e)){const s=Number.parseFloat(e);if(!Number.isNaN(s))return s;if(t){const r=t==null?void 0:t[e];return He(r==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${e}\`. It doesn't exist in \`options.delays\``),We(r)?r(n,i):r}}}}function pq(e){return q(e)?{target:e}:e}function gq(e,t){return(n,i,s)=>eo(e).map(pq).find(r=>Lw(r.guard,t)(n,i,s)??r.target??r.actions)}var mq=class{constructor(t,n){var i,s,r,a,u;Re(this,"status","Not Started"),Re(this,"state"),Re(this,"initialState"),Re(this,"initialContext"),Re(this,"id"),Re(this,"type","machine"),Re(this,"activityEvents",new Map),Re(this,"delayedEvents",new Map),Re(this,"stateListeners",new Set),Re(this,"doneListeners",new Set),Re(this,"contextWatchers",new Set),Re(this,"removeStateListener",si),Re(this,"parent"),Re(this,"children",new Map),Re(this,"guardMap"),Re(this,"actionMap"),Re(this,"delayMap"),Re(this,"activityMap"),Re(this,"sync"),Re(this,"options"),Re(this,"config"),Re(this,"_created",()=>{var l;const o=Os("machine.created");this.executeActions((l=this.config)==null?void 0:l.created,o)}),Re(this,"start",o=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=Pt(this.state,()=>{this.stateListeners.forEach(p=>{p(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(Os("machine.start"),eo(this.config.activities),"machine.start"),this.executeActions(this.config.entry,Os("machine.start"));const l=Os("machine.init"),c=Ce(o)?o.value:o,d=Ce(o)?o.context:void 0;d&&this.setContext(d);const h={target:c??this.config.initial},f=this.getNextStateInfo(h,l);return this.initialState=f,this.performStateChangeEffects(this.state.value,f,l),this}),Re(this,"setupContextWatchers",()=>{const{watch:o}=this.config;if(!o)return;let l=_e(this.state.context);const c=Pt(this.state.context,()=>{var h;const d=_e(this.state.context);for(const[f,p]of Object.entries(o))(((h=this.options.compareFns)==null?void 0:h[f])??Object.is)(l[f],d[f])||this.executeActions(p,this.state.event);l=d});this.contextWatchers.add(c)}),Re(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,Os("machine.stop")),this.executeActions(this.config.exit,Os("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),Re(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),Re(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(o=>o()),this.contextWatchers.clear()}),Re(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(o=>{o.forEach(l=>l())}),this.delayedEvents.clear()}),Re(this,"stopActivities",o=>{var l,c;o?((l=this.activityEvents.get(o))==null||l.forEach(d=>d()),(c=this.activityEvents.get(o))==null||c.clear(),this.activityEvents.delete(o)):(this.activityEvents.forEach(d=>{d.forEach(h=>h()),d.clear()}),this.activityEvents.clear())}),Re(this,"sendChild",(o,l)=>{const c=Os(o),d=$t(l,this.contextSnapshot),h=this.children.get(d);h||He(`[@zag-js/core] Cannot send '${c.type}' event to unknown child`),h.send(c)}),Re(this,"stopChild",o=>{this.children.has(o)||He(`[@zag-js/core > stop-child] Cannot stop unknown child ${o}`),this.children.get(o).stop(),this.children.delete(o)}),Re(this,"removeChild",o=>{this.children.delete(o)}),Re(this,"stopChildren",()=>{this.children.forEach(o=>o.stop()),this.children.clear()}),Re(this,"setParent",o=>{this.parent=o}),Re(this,"spawn",(o,l)=>{const c=$t(o);return l&&(c.id=l),c.type="machine.actor",c.setParent(this),this.children.set(c.id,ee(c)),c.onDone(()=>{this.removeChild(c.id)}).start(),ee(Ke(c))}),Re(this,"stopActivity",o=>{var c;if(!this.state.value)return;const l=this.activityEvents.get(this.state.value);(c=l==null?void 0:l.get(o))==null||c(),l==null||l.delete(o)}),Re(this,"addActivityCleanup",(o,l,c)=>{var d;o&&(this.activityEvents.has(o)?(d=this.activityEvents.get(o))==null||d.set(l,c):this.activityEvents.set(o,new Map([[l,c]])))}),Re(this,"setState",o=>{this.state.previousValue=this.state.value,this.state.value=o;const l=this.getStateNode(o);o==null?bi(this.state.tags):this.state.tags=eo(l==null?void 0:l.tags)}),Re(this,"setContext",o=>{o&&Rw(this.state.context,Te(o))}),Re(this,"setOptions",o=>{const l=Te(o);this.actionMap={...this.actionMap,...l.actions},this.delayMap={...this.delayMap,...l.delays},this.activityMap={...this.activityMap,...l.activities},this.guardMap={...this.guardMap,...l.guards}}),Re(this,"getStateNode",o=>{var l;if(o)return(l=this.config.states)==null?void 0:l[o]}),Re(this,"getNextStateInfo",(o,l)=>{const c=this.determineTransition(o,l),d=!(c!=null&&c.target),h=(c==null?void 0:c.target)??this.state.value,f=this.state.value!==h,p=this.getStateNode(h),m={reenter:!d&&!f&&!(c!=null&&c.internal),transition:c,stateNode:p,target:h,changed:f};return this.log("NextState:",`[${l.type}]`,this.state.value,"---->",m.target),m}),Re(this,"getAfterActions",(o,l)=>{let c;const d=this.state.value;return{entry:()=>{c=globalThis.setTimeout(()=>{const h=this.getNextStateInfo(o,this.state.event);this.performStateChangeEffects(d,h,this.state.event)},l)},exit:()=>{globalThis.clearTimeout(c)}}}),Re(this,"getDelayedEventActions",o=>{const l=this.getStateNode(o),c=this.state.event;if(!l||!l.after)return;const d=[],h=[];if(et(l.after)){const f=this.determineTransition(l.after,c);if(!f)return;if(!wn(f,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(f)}`);const g=_c(f.delay,this.delayMap)(this.contextSnapshot,c),m=this.getAfterActions(f,g);return d.push(m.entry),h.push(m.exit),{entries:d,exits:h}}if(Ce(l.after))for(const f in l.after){const p=l.after[f],m=_c(f,this.delayMap)(this.contextSnapshot,c),y=this.getAfterActions(p,m);d.push(y.entry),h.push(y.exit)}return{entries:d,exits:h}}),Re(this,"executeActions",(o,l)=>{var d;const c=ug(o,this.guardMap)(this.contextSnapshot,l,this.guardMeta);for(const h of eo(c)){const f=q(h)?(d=this.actionMap)==null?void 0:d[h]:h;it(q(h)&&!f,`[@zag-js/core > execute-actions] No implementation found for action: \`${h}\``),f==null||f(this.state.context,l,this.meta)}}),Re(this,"executeActivities",(o,l,c)=>{var d;for(const h of l){const f=q(h)?(d=this.activityMap)==null?void 0:d[h]:h;if(!f){it(`[@zag-js/core > execute-activity] No implementation found for activity: \`${h}\``);continue}const p=f(this.state.context,o,this.meta);if(p){const g=q(h)?h:h.name||Rt();this.addActivityCleanup(c??this.state.value,g,p)}}}),Re(this,"createEveryActivities",(o,l)=>{if(o)if(et(o)){const c=eo(o).find(p=>{const g=p.delay,y=_c(g,this.delayMap)(this.contextSnapshot,this.state.event);return Lw(p.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??y!=null});if(!c)return;const h=_c(c.delay,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const p=globalThis.setInterval(()=>{this.executeActions(c.actions,this.state.event)},h);return()=>{globalThis.clearInterval(p)}})}else for(const c in o){const d=o==null?void 0:o[c],f=_c(c,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const g=globalThis.setInterval(()=>{this.executeActions(d,this.state.event)},f);return()=>{globalThis.clearInterval(g)}})}}),Re(this,"setEvent",o=>{this.state.previousEvent=this.state.event,this.state.event=Ke(Os(o))}),Re(this,"performExitEffects",(o,l)=>{const c=this.state.value;if(c==="")return;const d=o?this.getStateNode(o):void 0;this.stopActivities(c);const h=ug(d==null?void 0:d.exit,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=eo(h),p=this.delayedEvents.get(c);p&&f.push(...p),this.executeActions(f,l),this.delayedEvents.delete(c)}),Re(this,"performEntryEffects",(o,l)=>{const c=this.getStateNode(o),d=eo(c==null?void 0:c.activities);this.createEveryActivities(c==null?void 0:c.every,g=>{d.unshift(g)}),d.length>0&&this.executeActivities(l,d);const h=ug(c==null?void 0:c.entry,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=eo(h),p=this.getDelayedEventActions(o);c!=null&&c.after&&p&&(this.delayedEvents.set(o,p==null?void 0:p.exits),f.push(...p.entries)),this.executeActions(f,l),(c==null?void 0:c.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(g=>{g(this.stateSnapshot)}),this.stop())}),Re(this,"performTransitionEffects",(o,l)=>{const c=this.determineTransition(o,l);this.executeActions(c==null?void 0:c.actions,l)}),Re(this,"performStateChangeEffects",(o,l,c)=>{this.setEvent(c);const d=l.changed||l.reenter;d&&this.performExitEffects(o,c),this.performTransitionEffects(l.transition,c),this.setState(l.target),d&&this.performEntryEffects(l.target,c)}),Re(this,"determineTransition",(o,l)=>{const c=gq(o,this.guardMap);return c==null?void 0:c(this.contextSnapshot,l,this.guardMeta)}),Re(this,"sendParent",o=>{var c;this.parent||He("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const l=Os(o);(c=this.parent)==null||c.send(l)}),Re(this,"log",(...o)=>{}),Re(this,"send",o=>{const l=Os(o);this.transition(this.state.value,l)}),Re(this,"transition",(o,l)=>{var p,g;const c=q(o)?this.getStateNode(o):o==null?void 0:o.stateNode,d=Os(l);if(!c&&!this.config.on){const m=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${o}, \`event\`: ${d.type}`;it(m);return}const h=((p=c==null?void 0:c.on)==null?void 0:p[d.type])??((g=this.config.on)==null?void 0:g[d.type]),f=this.getNextStateInfo(h,d);return this.performStateChangeEffects(this.state.value,f,d),f.stateNode}),Re(this,"subscribe",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),()=>{this.stateListeners.delete(o)})),Re(this,"onDone",o=>(this.doneListeners.add(o),this)),Re(this,"onTransition",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),this)),this.config=m_(t),this.options=m_(n??{}),this.id=this.config.id??`machine-${Rt()}`,this.guardMap=((i=this.options)==null?void 0:i.guards)??{},this.actionMap=((s=this.options)==null?void 0:s.actions)??{},this.delayMap=((r=this.options)==null?void 0:r.delays)??{},this.activityMap=((a=this.options)==null?void 0:a.activities)??{},this.sync=((u=this.options)==null?void 0:u.sync)??!1,this.state=fq(this.config),this.initialContext=_e(this.state.context)}get stateSnapshot(){return ee(_e(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const t=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return t.stateSnapshot},get initialContext(){return t.initialContext},get initialState(){var n;return((n=t.initialState)==null?void 0:n.target)??""}}}get meta(){var t;return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:((t=this.initialState)==null?void 0:t.target)??"",getState:()=>this.stateSnapshot,getAction:n=>this.actionMap[n],getGuard:n=>this.guardMap[n]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){const t=this.getState();return{value:t.value,tags:t.tags}}},vq=(e,t)=>new mq(e,t),yq=Dn("popover").parts("arrow","arrowTip","anchor","trigger","indicator","positioner","content","title","description","closeTrigger"),Qs=yq.build(),ot=$i({getAnchorId:e=>{var t;return((t=e.ids)==null?void 0:t.anchor)??`popover:${e.id}:anchor`},getTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.trigger)??`popover:${e.id}:trigger`},getContentId:e=>{var t;return((t=e.ids)==null?void 0:t.content)??`popover:${e.id}:content`},getPositionerId:e=>{var t;return((t=e.ids)==null?void 0:t.positioner)??`popover:${e.id}:popper`},getArrowId:e=>{var t;return((t=e.ids)==null?void 0:t.arrow)??`popover:${e.id}:arrow`},getTitleId:e=>{var t;return((t=e.ids)==null?void 0:t.title)??`popover:${e.id}:title`},getDescriptionId:e=>{var t;return((t=e.ids)==null?void 0:t.description)??`popover:${e.id}:desc`},getCloseTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.closeTrigger)??`popover:${e.id}:close`},getAnchorEl:e=>ot.getById(e,ot.getAnchorId(e)),getTriggerEl:e=>ot.getById(e,ot.getTriggerId(e)),getContentEl:e=>ot.getById(e,ot.getContentId(e)),getPositionerEl:e=>ot.getById(e,ot.getPositionerId(e)),getTitleEl:e=>ot.getById(e,ot.getTitleId(e)),getDescriptionEl:e=>ot.getById(e,ot.getDescriptionId(e)),getFocusableEls:e=>mx(ot.getContentEl(e)),getFirstFocusableEl:e=>ot.getFocusableEls(e)[0]});function bq(e,t,n){const i=e.matches("open"),s=e.context.currentPlacement,r=e.context.currentPortalled,a=e.context.renderedElements,u=Ju({...e.context.positioning,placement:s});return{portalled:r,open:i,setOpen(o){o!==i&&t(o?"OPEN":"CLOSE")},reposition(o={}){t({type:"POSITIONING.SET",options:o})},getArrowProps(){return n.element({id:ot.getArrowId(e.context),...Qs.arrow.attrs,dir:e.context.dir,style:u.arrow})},getArrowTipProps(){return n.element({...Qs.arrowTip.attrs,dir:e.context.dir,style:u.arrowTip})},getAnchorProps(){return n.element({...Qs.anchor.attrs,dir:e.context.dir,id:ot.getAnchorId(e.context)})},getTriggerProps(){return n.button({...Qs.trigger.attrs,dir:e.context.dir,type:"button","data-placement":s,id:ot.getTriggerId(e.context),"aria-haspopup":"dialog","aria-expanded":i,"data-state":i?"open":"closed","aria-controls":ot.getContentId(e.context),onClick(o){o.defaultPrevented||t("TOGGLE")},onBlur(o){t({type:"TRIGGER_BLUR",target:o.relatedTarget})}})},getIndicatorProps(){return n.element({...Qs.indicator.attrs,dir:e.context.dir,"data-state":i?"open":"closed"})},getPositionerProps(){return n.element({id:ot.getPositionerId(e.context),...Qs.positioner.attrs,dir:e.context.dir,style:u.floating})},getContentProps(){return n.element({...Qs.content.attrs,dir:e.context.dir,id:ot.getContentId(e.context),tabIndex:-1,role:"dialog",hidden:!i,"data-state":i?"open":"closed","data-expanded":H(i),"aria-labelledby":a.title?ot.getTitleId(e.context):void 0,"aria-describedby":a.description?ot.getDescriptionId(e.context):void 0,"data-placement":s})},getTitleProps(){return n.element({...Qs.title.attrs,id:ot.getTitleId(e.context),dir:e.context.dir})},getDescriptionProps(){return n.element({...Qs.description.attrs,id:ot.getDescriptionId(e.context),dir:e.context.dir})},getCloseTriggerProps(){return n.button({...Qs.closeTrigger.attrs,dir:e.context.dir,id:ot.getCloseTriggerId(e.context),type:"button","aria-label":"close",onClick(o){o.defaultPrevented||t("CLOSE")}})}}}function Eq(e){const t=Te(e);return vq({id:"popover",initial:t.open?"open":"closed",context:{closeOnInteractOutside:!0,closeOnEscape:!0,autoFocus:!0,modal:!1,portalled:!0,positioning:{placement:"bottom",...t.positioning},currentPlacement:void 0,...t,renderedElements:{title:!0,description:!0}},computed:{currentPortalled:n=>!!n.modal||!!n.portalled},watch:{open:["toggleVisibility"]},entry:["checkRenderedElements"],states:{closed:{on:{"CONTROLLED.OPEN":{target:"open",actions:["setInitialFocus"]},TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}]}},open:{activities:["trapFocus","preventScroll","hideContentBelow","trackPositioning","trackDismissableElement","proxyTabFocus"],on:{"CONTROLLED.CLOSE":{target:"closed",actions:["setFinalFocus"]},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose","setFinalFocus"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"POSITIONING.SET":{actions:"reposition"}}}}},{guards:{isOpenControlled:n=>!!n["open.controlled"]},activities:{trackPositioning(n){n.currentPlacement=n.positioning.placement;const i=ot.getAnchorEl(n)??ot.getTriggerEl(n);return Rr(i,()=>ot.getPositionerEl(n),{...n.positioning,defer:!0,onComplete(r){n.currentPlacement=r.placement}})},trackDismissableElement(n,i,{send:s}){const r=()=>ot.getContentEl(n);let a=!0;return Ul(r,{pointerBlocking:n.modal,exclude:ot.getTriggerEl(n),defer:!0,onEscapeKeyDown(u){var o;(o=n.onEscapeKeyDown)==null||o.call(n,u),!n.closeOnEscape&&u.preventDefault()},onInteractOutside(u){var o;(o=n.onInteractOutside)==null||o.call(n,u),!u.defaultPrevented&&(a=!(u.detail.focusable||u.detail.contextmenu),n.closeOnInteractOutside||u.preventDefault())},onPointerDownOutside:n.onPointerDownOutside,onFocusOutside:n.onFocusOutside,persistentElements:n.persistentElements,onDismiss(){s({type:"CLOSE",src:"interact-outside",restoreFocus:a})}})},proxyTabFocus(n){return n.modal||!n.portalled?void 0:pN(()=>ot.getContentEl(n),{triggerElement:ot.getTriggerEl(n),defer:!0,onFocus(s){s.focus({preventScroll:!0})}})},hideContentBelow(n){return n.modal?Wv(()=>[ot.getContentEl(n),ot.getTriggerEl(n)],{defer:!0}):void 0},preventScroll(n){if(n.modal)return Dx(ot.getDoc(n))},trapFocus(n){if(!n.modal)return;let i;return Of(()=>{const s=ot.getContentEl(n);if(s){i=Ux(s,{escapeDeactivates:!1,allowOutsideClick:!0,preventScroll:!0,returnFocusOnDeactivate:!0,document:ot.getDoc(n),fallbackFocus:s,initialFocus:bu({root:ot.getContentEl(n),getInitialEl:n.initialFocusEl,enabled:n.autoFocus})});try{i.activate()}catch{}}}),()=>i==null?void 0:i.deactivate()}},actions:{reposition(n,i){const s=ot.getAnchorEl(n)??ot.getTriggerEl(n);Rr(s,()=>ot.getPositionerEl(n),{...n.positioning,...i.options,defer:!0,listeners:!1,onComplete(a){n.currentPlacement=a.placement}})},checkRenderedElements(n){Je(()=>{Object.assign(n.renderedElements,{title:!!ot.getTitleEl(n),description:!!ot.getDescriptionEl(n)})})},setInitialFocus(n){n.modal||Je(()=>{const i=bu({root:ot.getContentEl(n),getInitialEl:n.initialFocusEl,enabled:n.autoFocus});i==null||i.focus({preventScroll:!0})})},setFinalFocus(n,i){var r;const s=i.restoreFocus??((r=i.previousEvent)==null?void 0:r.restoreFocus);s!=null&&!s||Je(()=>{const a=ot.getTriggerEl(n);a==null||a.focus({preventScroll:!0})})},invokeOnOpen(n){var i;(i=n.onOpenChange)==null||i.call(n,{open:!0})},invokeOnClose(n){var i;(i=n.onOpenChange)==null||i.call(n,{open:!1})},toggleVisibility(n,i,{send:s}){s({type:n.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:i})}}})}tn()(["autoFocus","closeOnEscape","closeOnInteractOutside","dir","getRootNode","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","open.controlled","open","persistentElements","portalled","positioning"]);const _q=(e,t)=>{const n=qn(),i=es(),s=Ri(Ni),r=K(()=>({id:n,dir:s.value.dir,open:e.open??e.defaultOpen,"open.controlled":e.open!==void 0,getRootNode:i==null?void 0:i.value.getRootNode,onOpenChange:o=>{t==null||t("openChange",o),t==null||t("update:open",o.open)},onEscapeKeyDown:o=>t==null?void 0:t("escapeKeyDown",o),onFocusOutside:o=>t==null?void 0:t("focusOutside",o),onInteractOutside:o=>t==null?void 0:t("interactOutside",o),onPointerDownOutside:o=>t==null?void 0:t("pointerDownOutside",o),...ts(e)})),[a,u]=Ci(Eq(r.value),{context:r});return K(()=>bq(a.value,u,Mi))},[Fw,qs]=vt("PopoverContext"),Cq=$({__name:"popover-anchor",props:{asChild:{type:Boolean}},setup(e){const t=qs();return G(),(n,i)=>(C(),N(v(J).div,z(v(t).getAnchorProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),Sq=$({__name:"popover-arrow-tip",props:{asChild:{type:Boolean}},setup(e){const t=qs();return G(),(n,i)=>(C(),N(v(J).div,z(v(t).getArrowTipProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),xq=$({__name:"popover-arrow",props:{asChild:{type:Boolean}},setup(e){const t=qs();return G(),(n,i)=>(C(),N(v(J).div,z(v(t).getArrowProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),Tq=$({__name:"popover-close-trigger",props:{asChild:{type:Boolean}},setup(e){const t=qs();return G(),(n,i)=>(C(),N(v(J).button,z(v(t).getCloseTriggerProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),wq=$({__name:"popover-content",props:{asChild:{type:Boolean}},setup(e){const t=qs(),n=Gl(),i=K(()=>Ho(t.value.getContentProps(),n.value.presenceProps));return G(),(s,r)=>v(n).unmounted?nt("",!0):(C(),N(v(J).div,z({key:0},i.value,{"as-child":s.asChild}),{default:S(()=>[B(s.$slots,"default")]),_:3},16,["as-child"]))}}),Iq=$({__name:"popover-context",setup(e){const t=qs();return(n,i)=>B(n.$slots,"default",hn(on(v(t))))}}),Oq=$({__name:"popover-description",props:{asChild:{type:Boolean}},setup(e){const t=qs();return G(),(n,i)=>(C(),N(v(J).div,z(v(t).getDescriptionProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),kq=$({__name:"popover-indicator",props:{asChild:{type:Boolean}},setup(e){const t=qs();return G(),(n,i)=>(C(),N(v(J).div,z(v(t).getIndicatorProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),Aq=$({__name:"popover-positioner",props:{asChild:{type:Boolean}},setup(e){const t=qs(),n=Uo(),i=Fa(K(()=>({...n.value,present:t.value.open})));return Va(i),G(),(s,r)=>v(i).unmounted?nt("",!0):(C(),N(v(J).div,z({key:0},v(t).getPositionerProps(),{"as-child":s.asChild}),{default:S(()=>[B(s.$slots,"default")]),_:3},16,["as-child"]))}}),Pq=$({__name:"popover-root-provider",props:{value:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean}},setup(e){const t=e,n=K(()=>t.value);return Fw(n),Di(K(()=>({lazyMount:t.lazyMount,unmountOnExit:t.unmountOnExit}))),G(),(i,s)=>B(i.$slots,"default")}}),$q=$({__name:"popover-root",props:On({autoFocus:{type:Boolean},closeOnEscape:{type:Boolean},closeOnInteractOutside:{type:Boolean},defaultOpen:{type:Boolean},id:{},ids:{},initialFocusEl:{type:Function},modal:{type:Boolean},open:{type:Boolean},persistentElements:{},portalled:{type:Boolean},positioning:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean}},{autoFocus:void 0,closeOnEscape:void 0,closeOnInteractOutside:void 0,defaultOpen:void 0,modal:void 0,open:void 0,portalled:void 0}),emits:["escapeKeyDown","focusOutside","interactOutside","openChange","pointerDownOutside","update:open"],setup(e,{emit:t}){const n=e,s=_q(n,t);return Fw(s),Di(K(()=>({lazyMount:n.lazyMount,unmountOnExit:n.unmountOnExit}))),G(),(r,a)=>B(r.$slots,"default")}}),Mq=$({__name:"popover-title",props:{asChild:{type:Boolean}},setup(e){const t=qs();return G(),(n,i)=>(C(),N(v(J).div,z(v(t).getTitleProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),Nq=$({__name:"popover-trigger",props:{asChild:{type:Boolean}},setup(e){const t=qs();return G(),(n,i)=>(C(),N(v(J).button,z(v(t).getTriggerProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),Mn=Object.freeze(Object.defineProperty({__proto__:null,Anchor:Cq,Arrow:xq,ArrowTip:Sq,CloseTrigger:Tq,Content:wq,Context:Iq,Description:Oq,Indicator:kq,Positioner:Aq,Root:$q,RootProvider:Pq,Title:Mq,Trigger:Nq},Symbol.toStringTag,{value:"Module"})),Rq={key:0,class:"text-sm font-medium block mb-2"},Dq={class:"flex items-center w-full gap-3 cursor-pointer border rounded px-3 h-10 text-sm"},Lq=["src","alt"],Fq={class:"flex-1 w-0 truncate"},Vq={key:1},Bq=$({__name:"CategoryPicker",props:Vn({label:null},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=Si(),n=vn(e,"modelValue"),i=Xe(!1),s=K({get:()=>n.value?t.categories.find(r=>r.id===n.value):null,set:r=>{n.value=r?r.id:null}});return(r,a)=>{const u=zf,o=jl,l=Nw;return C(),te("div",null,[O(v(Mn).Root,{open:v(i),"onUpdate:open":a[3]||(a[3]=c=>ht(i)?i.value=c:null)},{default:S(()=>[e.label?(C(),te("label",Rq,ue(e.label),1)):nt("",!0),O(v(Mn).Trigger,{"as-child":""},{default:S(()=>[F("div",Dq,[v(s)?(C(),te(Ye,{key:0},[v(s).logo?(C(),te("img",{key:0,src:v(s).logo.small_image_url,alt:v(s).name,class:"w-5 h-5 object-cover flex-none"},null,8,Lq)):(C(),N(u,{key:1,class:"w-4 h-4 flex-none transform rotate-90"})),F("span",Fq,ue(v(s).name),1),F("button",{class:"flex-none rounded-lg hover:bg-neutral-200 p-1",onClick:a[0]||(a[0]=Ki(c=>n.value=null,["stop"]))},[O(o)])],64)):(C(),te("span",Vq,ue(r.$t("Select category")),1))])]),_:1}),O(v(Mn).Positioner,{class:"w-[var(--reference-width)] !z-10"},{default:S(()=>[O(v(Mn).Content,{class:"border bg-white shadow rounded-lg outline-none max-h-80 flex flex-col"},{default:S(()=>[O(v(Mn).Arrow,{style:{"--arrow-size":"0.5rem"},class:"bg-white"},{default:S(()=>[O(v(Mn).ArrowTip,{class:"border-t border-l"})]),_:1}),O(l,{modelValue:v(s),"onUpdate:modelValue":[a[1]||(a[1]=c=>ht(s)?s.value=c:null),a[2]||(a[2]=c=>i.value=!1)]},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["open"])])}}}),Hq={viewBox:"0 0 16 16",width:"1.2em",height:"1.2em"};function jq(e,t){return C(),te("svg",Hq,t[0]||(t[0]=[F("g",{fill:"currentColor"},[F("path",{d:"M6 4.5a1.5 1.5 0 1 1-3 0a1.5 1.5 0 0 1 3 0m-1 0a.5.5 0 1 0-1 0a.5.5 0 0 0 1 0"}),F("path",{d:"M2 1h4.586a1 1 0 0 1 .707.293l7 7a1 1 0 0 1 0 1.414l-4.586 4.586a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 1 6.586V2a1 1 0 0 1 1-1m0 5.586l7 7L13.586 9l-7-7H2z"})],-1)]))}const Vw=Et({name:"bi-tag",render:jq}),Uq={class:"flex flex-col overflow-y-hidden"},Gq={class:"flex items-center mx-2 my-2 px-3 py-1 gap-3 border rounded-lg focus-within:ring focus-within:ring-gray-700"},Wq=["placeholder"],zq={class:"flex-1 overflow-y-auto border-t"},Kq={key:0,class:"h-20 flex items-center justify-center"},qq={key:1},Yq=["onClick"],Jq=["src","alt"],Xq={class:"flex-1 w-0 truncate"},Bw=$({__name:"ProductListbox",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=Si(),n=vn(e,"modelValue"),i=Xe(""),{isFetching:s,data:r,execute:a}=t.fetchProducts(),u=K(()=>r.value?r.value.data:[]);ii(()=>a());const o=Yx(()=>{a({query:i.value})});return Kt([()=>t.themeData.channel,()=>t.themeData.locale],()=>a()),(l,c)=>{const d=_f,h=ky,f=Vw;return C(),te("div",Uq,[F("div",Gq,[O(d,{class:"w-4 h-4 flex-none"}),Ia(F("input",{class:"flex-1 w-0 focus:outline-none text-gray-600 text-sm",placeholder:l.$t("Search product"),"onUpdate:modelValue":c[0]||(c[0]=p=>ht(i)?i.value=p:null),onInput:c[1]||(c[1]=(...p)=>v(o)&&v(o)(...p))},null,40,Wq),[[mf,v(i)]])]),F("div",zq,[v(s)?(C(),te("div",Kq,[O(h,{class:"h-6 w-6 text-gray-700"})])):(C(),te("div",qq,[(C(!0),te(Ye,null,zt(v(u),p=>(C(),te("a",{key:p.id,class:sn(["cursor-pointer flex items-center gap-3 px-3 py-2 outline-none hover:bg-neutral-200 text-sm",{"bg-neutral-200":n.value&&n.value.id===p.id}]),onClick:Ki(g=>n.value=p,["stop"])},[p.base_image?(C(),te("img",{key:0,src:p.base_image.small_image_url,alt:p.name,class:"w-5 h-5 object-cover flex-none"},null,8,Jq)):(C(),N(f,{key:1,class:"w-4 h-4 flex-none mr-1 transform rotate-90"})),F("span",Xq,ue(p.name),1)],10,Yq))),128))]))])])}}}),Zq={key:0,class:"text-sm font-medium block mb-2"},Qq={class:"flex items-center w-full gap-3 cursor-pointer border rounded px-3 h-10 text-sm",role:"button"},eY=["src","alt"],tY={class:"flex-1 w-0 truncate"},nY={key:1},iY=$({__name:"ProductPicker",props:Vn({label:null},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=Si(),n=vn(e,"modelValue"),i=Xe(!1),s=K({get:()=>n.value?t.getProduct(n.value):null,set:r=>{n.value=r?r.id:null}});return(r,a)=>{const u=zf,o=jl;return C(),te("div",null,[O(v(Mn).Root,{open:v(i),"onUpdate:open":a[3]||(a[3]=l=>ht(i)?i.value=l:null)},{default:S(()=>[e.label?(C(),te("label",Zq,ue(e.label),1)):nt("",!0),O(v(Mn).Trigger,{"as-child":""},{default:S(()=>[F("div",Qq,[v(s)?(C(),te(Ye,{key:0},[v(s).base_image?(C(),te("img",{key:0,src:v(s).base_image.small_image_url,alt:v(s).name,class:"w-5 h-5 object-cover flex-none"},null,8,eY)):(C(),N(u,{key:1,class:"w-4 h-4 flex-none transform rotate-90"})),F("span",tY,ue(v(s).name),1),F("button",{class:"flex-none rounded-lg hover:bg-neutral-200 p-1",onClick:a[0]||(a[0]=Ki(l=>n.value=null,["stop"]))},[O(o)])],64)):(C(),te("span",nY,ue(r.$t("Select product")),1))])]),_:1}),O(v(Mn).Positioner,{class:"w-[var(--reference-width)] !z-10"},{default:S(()=>[O(v(Mn).Content,{class:"border bg-white shadow rounded-lg outline-none max-h-80 flex flex-col"},{default:S(()=>[O(v(Mn).Arrow,{style:{"--arrow-size":"0.5rem"},class:"bg-white"},{default:S(()=>[O(v(Mn).ArrowTip,{class:"border-t border-l"})]),_:1}),O(Bw,{modelValue:v(s),"onUpdate:modelValue":[a[1]||(a[1]=l=>ht(s)?s.value=l:null),a[2]||(a[2]=l=>i.value=!1)]},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["open"])])}}}),sY={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function rY(e,t){return C(),te("svg",sY,t[0]||(t[0]=[F("path",{fill:"currentColor",d:"M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"},null,-1)]))}const Ay=Et({name:"mdi-file-document-outline",render:rY}),oY={class:"flex flex-col overflow-y-hidden"},aY={class:"flex items-center mx-2 my-2 px-3 py-1 gap-3 border rounded-lg focus-within:ring focus-within:ring-gray-700"},lY=["placeholder"],cY={class:"flex-1 overflow-y-auto border-t"},uY={key:0,class:"h-20 flex items-center justify-center"},dY={key:1},hY=["onClick"],fY={class:"truncate flex-1 w-0"},Hw=$({__name:"CmsPageListbox",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=Si(),n=vn(e,"modelValue"),i=Xe(""),{isFetching:s,data:r,execute:a}=t.fetchCmsPages(),u=K(()=>r.value?r.value.map(l=>{const c=l.translations.find(d=>d.locale===t.themeData.locale);return c&&(l.url_key=c.url_key,l.page_title=c.page_title),l}):[]);ii(()=>a());const o=Yx(()=>{a({query:i.value})});return Kt([()=>t.themeData.channel,()=>t.themeData.locale],()=>a()),(l,c)=>{const d=_f,h=ky,f=Ay;return C(),te("div",oY,[F("div",aY,[O(d,{class:"w-4 h-4"}),Ia(F("input",{"onUpdate:modelValue":c[0]||(c[0]=p=>ht(i)?i.value=p:null),type:"text",class:"focus:outline-none text-gray-600",placeholder:l.$t("Search page"),onInput:c[1]||(c[1]=(...p)=>v(o)&&v(o)(...p))},null,40,lY),[[mf,v(i)]])]),F("div",cY,[v(s)?(C(),te("div",uY,[O(h,{class:"h-6 w-6 text-gray-700"})])):(C(),te("div",dY,[(C(!0),te(Ye,null,zt(v(u),p=>(C(),te("a",{key:p.url_key,href:"#",class:sn(["flex items-center gap-3 px-3 py-2 outline-none hover:bg-neutral-200 text-sm",{"bg-neutral-200":n.value&&n.value.url_key===p.url_key}]),onClick:Ki(g=>n.value=p,["stop"])},[O(f,{class:"w-4 h-4 flex-none text-gray-700"}),F("span",fY,ue(p.page_title),1)],10,hY))),128))]))])])}}}),pY={key:0,class:"text-sm font-medium block mb-2"},gY={role:"button",class:"flex items-center w-full gap-3 cursor-pointer border rounded px-3 h-10 text-sm"},mY={class:"flex-1 w-0 truncate"},vY={key:1},yY=$({__name:"CmsPagePicker",props:Vn({label:null},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=Si(),n=vn(e,"modelValue"),i=Xe(!1),s=K({get:()=>n.value?t.getCmsPage(n.value):null,set:r=>{n.value=r?r.id:null}});return(r,a)=>{const u=Ay,o=jl,l=Hw;return C(),te("div",null,[O(v(Mn).Root,{open:v(i),"onUpdate:open":a[3]||(a[3]=c=>ht(i)?i.value=c:null)},{default:S(()=>[e.label?(C(),te("label",pY,ue(e.label),1)):nt("",!0),O(v(Mn).Trigger,{"as-child":""},{default:S(()=>[F("div",gY,[v(s)?(C(),te(Ye,{key:0},[O(u,{class:"w-4 h-4 flex-none"}),F("span",mY,ue(v(s).page_title),1),F("button",{class:"flex-none rounded-lg hover:bg-neutral-200 p-1",onClick:a[0]||(a[0]=Ki(c=>s.value=null,["stop"]))},[O(o)])],64)):(C(),te("span",vY,ue(r.$t("Select page")),1))])]),_:1}),O(v(Mn).Positioner,{class:"w-[var(--reference-width)] !z-10"},{default:S(()=>[O(v(Mn).Content,{class:"border bg-white shadow rounded-lg outline-none max-h-80 flex flex-col"},{default:S(()=>[O(v(Mn).Arrow,{style:{"--arrow-size":"0.5rem"},class:"bg-white"},{default:S(()=>[O(v(Mn).ArrowTip,{class:"border-t border-l"})]),_:1}),O(l,{modelValue:v(s),"onUpdate:modelValue":[a[1]||(a[1]=c=>ht(s)?s.value=c:null),a[2]||(a[2]=c=>i.value=!1)]},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["open"])])}}}),bY={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function EY(e,t){return C(),te("svg",bY,t[0]||(t[0]=[F("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"},null,-1)]))}const Kf=Et({name:"heroicons-arrow-left",render:EY}),_Y={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function CY(e,t){return C(),te("svg",_Y,t[0]||(t[0]=[F("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"},null,-1)]))}const SY=Et({name:"heroicons-link",render:CY}),xY={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function TY(e,t){return C(),te("svg",xY,t[0]||(t[0]=[F("path",{fill:"currentColor","fill-rule":"evenodd",d:"M15.75 2.25H21a.75.75 0 0 1 .75.75v5.25a.75.75 0 0 1-1.5 0V4.81L8.03 17.03a.75.75 0 0 1-1.06-1.06L19.19 3.75h-3.44a.75.75 0 0 1 0-1.5m-10.5 4.5a1.5 1.5 0 0 0-1.5 1.5v10.5a1.5 1.5 0 0 0 1.5 1.5h10.5a1.5 1.5 0 0 0 1.5-1.5V10.5a.75.75 0 0 1 1.5 0v8.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V8.25a3 3 0 0 1 3-3h8.25a.75.75 0 0 1 0 1.5z","clip-rule":"evenodd"},null,-1)]))}const wY=Et({name:"heroicons-arrow-top-right-on-square-solid",render:TY});var IY=Object.defineProperty,OY=(e,t,n)=>t in e?IY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,De=(e,t,n)=>OY(e,typeof t!="symbol"?t+"":t,n);function jw(e,...t){for(const n of t){const i=Te(n);for(const s in i)_i(n[s])?(e[s]||(e[s]={}),jw(e[s],n[s])):e[s]=n[s]}return e}function v_(e){return bn(e)}function ks(e){return q(e)?{type:e}:e}function to(e){return e?et(e)?e.slice():[e]:[]}function Uw(e){return Ce(e)&&e.predicate!=null}var kY=()=>!0;function Py(e,t,n,i){return s=>{var r;return q(s)?!!((r=e[s])!=null&&r.call(e,t,n,i)):We(s)?s(t,n,i):s.predicate(e)(t,n,i)}}function AY(...e){return{predicate:t=>(n,i,s)=>e.map(Py(t,n,i,s)).some(Boolean)}}function PY(...e){return{predicate:t=>(n,i,s)=>e.map(Py(t,n,i,s)).every(Boolean)}}function $Y(e){return{predicate:t=>(n,i,s)=>!Py(t,n,i,s)(e)}}function MY(...e){return(t,n,i)=>i.state.matches(...e)}var NY={or:AY,and:PY,not:$Y,stateIn:MY};function Gw(e,t){return e=e??kY,(n,i,s)=>{if(q(e)){const r=t[e];return We(r)?r(n,i,s):r}return Uw(e)?e.predicate(t)(n,i,s):e==null?void 0:e(n,i,s)}}function dg(e,t){return(n,i,s)=>Uw(e)?e.predicate(t)(n,i,s):e}function RY(e){var r,a;const t=e.computed??ee({}),n=e.context??ee({}),i=e.initial?(a=(r=e.states)==null?void 0:r[e.initial])==null?void 0:a.tags:[],s=Yn({value:e.initial??"",previousValue:"",event:ee({}),previousEvent:ee({}),context:yi(n,t),done:!1,tags:i??[],hasTag(u){return this.tags.includes(u)},matches(...u){return u.includes(this.value)},can(u){return ee(this).nextEvents.includes(u)},get nextEvents(){var l,c;const u=((c=(l=e.states)==null?void 0:l[this.value])==null?void 0:c.on)??{},o=(e==null?void 0:e.on)??{};return Object.keys({...u,...o})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return ee(s)}function Cc(e,t){return(n,i)=>{if(Ei(e))return e;if(We(e))return e(n,i);if(q(e)){const s=Number.parseFloat(e);if(!Number.isNaN(s))return s;if(t){const r=t==null?void 0:t[e];return He(r==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${e}\`. It doesn't exist in \`options.delays\``),We(r)?r(n,i):r}}}}function DY(e){return q(e)?{target:e}:e}function LY(e,t){return(n,i,s)=>to(e).map(DY).find(r=>Gw(r.guard,t)(n,i,s)??r.target??r.actions)}var FY=class{constructor(t,n){var i,s,r,a,u;De(this,"status","Not Started"),De(this,"state"),De(this,"initialState"),De(this,"initialContext"),De(this,"id"),De(this,"type","machine"),De(this,"activityEvents",new Map),De(this,"delayedEvents",new Map),De(this,"stateListeners",new Set),De(this,"doneListeners",new Set),De(this,"contextWatchers",new Set),De(this,"removeStateListener",si),De(this,"parent"),De(this,"children",new Map),De(this,"guardMap"),De(this,"actionMap"),De(this,"delayMap"),De(this,"activityMap"),De(this,"sync"),De(this,"options"),De(this,"config"),De(this,"_created",()=>{var l;const o=ks("machine.created");this.executeActions((l=this.config)==null?void 0:l.created,o)}),De(this,"start",o=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=Pt(this.state,()=>{this.stateListeners.forEach(p=>{p(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(ks("machine.start"),to(this.config.activities),"machine.start"),this.executeActions(this.config.entry,ks("machine.start"));const l=ks("machine.init"),c=Ce(o)?o.value:o,d=Ce(o)?o.context:void 0;d&&this.setContext(d);const h={target:c??this.config.initial},f=this.getNextStateInfo(h,l);return this.initialState=f,this.performStateChangeEffects(this.state.value,f,l),this}),De(this,"setupContextWatchers",()=>{const{watch:o}=this.config;if(!o)return;let l=_e(this.state.context);const c=Pt(this.state.context,()=>{var h;const d=_e(this.state.context);for(const[f,p]of Object.entries(o))(((h=this.options.compareFns)==null?void 0:h[f])??Object.is)(l[f],d[f])||this.executeActions(p,this.state.event);l=d});this.contextWatchers.add(c)}),De(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,ks("machine.stop")),this.executeActions(this.config.exit,ks("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),De(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),De(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(o=>o()),this.contextWatchers.clear()}),De(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(o=>{o.forEach(l=>l())}),this.delayedEvents.clear()}),De(this,"stopActivities",o=>{var l,c;o?((l=this.activityEvents.get(o))==null||l.forEach(d=>d()),(c=this.activityEvents.get(o))==null||c.clear(),this.activityEvents.delete(o)):(this.activityEvents.forEach(d=>{d.forEach(h=>h()),d.clear()}),this.activityEvents.clear())}),De(this,"sendChild",(o,l)=>{const c=ks(o),d=$t(l,this.contextSnapshot),h=this.children.get(d);h||He(`[@zag-js/core] Cannot send '${c.type}' event to unknown child`),h.send(c)}),De(this,"stopChild",o=>{this.children.has(o)||He(`[@zag-js/core > stop-child] Cannot stop unknown child ${o}`),this.children.get(o).stop(),this.children.delete(o)}),De(this,"removeChild",o=>{this.children.delete(o)}),De(this,"stopChildren",()=>{this.children.forEach(o=>o.stop()),this.children.clear()}),De(this,"setParent",o=>{this.parent=o}),De(this,"spawn",(o,l)=>{const c=$t(o);return l&&(c.id=l),c.type="machine.actor",c.setParent(this),this.children.set(c.id,ee(c)),c.onDone(()=>{this.removeChild(c.id)}).start(),ee(Ke(c))}),De(this,"stopActivity",o=>{var c;if(!this.state.value)return;const l=this.activityEvents.get(this.state.value);(c=l==null?void 0:l.get(o))==null||c(),l==null||l.delete(o)}),De(this,"addActivityCleanup",(o,l,c)=>{var d;o&&(this.activityEvents.has(o)?(d=this.activityEvents.get(o))==null||d.set(l,c):this.activityEvents.set(o,new Map([[l,c]])))}),De(this,"setState",o=>{this.state.previousValue=this.state.value,this.state.value=o;const l=this.getStateNode(o);o==null?bi(this.state.tags):this.state.tags=to(l==null?void 0:l.tags)}),De(this,"setContext",o=>{o&&jw(this.state.context,Te(o))}),De(this,"setOptions",o=>{const l=Te(o);this.actionMap={...this.actionMap,...l.actions},this.delayMap={...this.delayMap,...l.delays},this.activityMap={...this.activityMap,...l.activities},this.guardMap={...this.guardMap,...l.guards}}),De(this,"getStateNode",o=>{var l;if(o)return(l=this.config.states)==null?void 0:l[o]}),De(this,"getNextStateInfo",(o,l)=>{const c=this.determineTransition(o,l),d=!(c!=null&&c.target),h=(c==null?void 0:c.target)??this.state.value,f=this.state.value!==h,p=this.getStateNode(h),m={reenter:!d&&!f&&!(c!=null&&c.internal),transition:c,stateNode:p,target:h,changed:f};return this.log("NextState:",`[${l.type}]`,this.state.value,"---->",m.target),m}),De(this,"getAfterActions",(o,l)=>{let c;const d=this.state.value;return{entry:()=>{c=globalThis.setTimeout(()=>{const h=this.getNextStateInfo(o,this.state.event);this.performStateChangeEffects(d,h,this.state.event)},l)},exit:()=>{globalThis.clearTimeout(c)}}}),De(this,"getDelayedEventActions",o=>{const l=this.getStateNode(o),c=this.state.event;if(!l||!l.after)return;const d=[],h=[];if(et(l.after)){const f=this.determineTransition(l.after,c);if(!f)return;if(!wn(f,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(f)}`);const g=Cc(f.delay,this.delayMap)(this.contextSnapshot,c),m=this.getAfterActions(f,g);return d.push(m.entry),h.push(m.exit),{entries:d,exits:h}}if(Ce(l.after))for(const f in l.after){const p=l.after[f],m=Cc(f,this.delayMap)(this.contextSnapshot,c),y=this.getAfterActions(p,m);d.push(y.entry),h.push(y.exit)}return{entries:d,exits:h}}),De(this,"executeActions",(o,l)=>{var d;const c=dg(o,this.guardMap)(this.contextSnapshot,l,this.guardMeta);for(const h of to(c)){const f=q(h)?(d=this.actionMap)==null?void 0:d[h]:h;it(q(h)&&!f,`[@zag-js/core > execute-actions] No implementation found for action: \`${h}\``),f==null||f(this.state.context,l,this.meta)}}),De(this,"executeActivities",(o,l,c)=>{var d;for(const h of l){const f=q(h)?(d=this.activityMap)==null?void 0:d[h]:h;if(!f){it(`[@zag-js/core > execute-activity] No implementation found for activity: \`${h}\``);continue}const p=f(this.state.context,o,this.meta);if(p){const g=q(h)?h:h.name||Rt();this.addActivityCleanup(c??this.state.value,g,p)}}}),De(this,"createEveryActivities",(o,l)=>{if(o)if(et(o)){const c=to(o).find(p=>{const g=p.delay,y=Cc(g,this.delayMap)(this.contextSnapshot,this.state.event);return Gw(p.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??y!=null});if(!c)return;const h=Cc(c.delay,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const p=globalThis.setInterval(()=>{this.executeActions(c.actions,this.state.event)},h);return()=>{globalThis.clearInterval(p)}})}else for(const c in o){const d=o==null?void 0:o[c],f=Cc(c,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const g=globalThis.setInterval(()=>{this.executeActions(d,this.state.event)},f);return()=>{globalThis.clearInterval(g)}})}}),De(this,"setEvent",o=>{this.state.previousEvent=this.state.event,this.state.event=Ke(ks(o))}),De(this,"performExitEffects",(o,l)=>{const c=this.state.value;if(c==="")return;const d=o?this.getStateNode(o):void 0;this.stopActivities(c);const h=dg(d==null?void 0:d.exit,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=to(h),p=this.delayedEvents.get(c);p&&f.push(...p),this.executeActions(f,l),this.delayedEvents.delete(c)}),De(this,"performEntryEffects",(o,l)=>{const c=this.getStateNode(o),d=to(c==null?void 0:c.activities);this.createEveryActivities(c==null?void 0:c.every,g=>{d.unshift(g)}),d.length>0&&this.executeActivities(l,d);const h=dg(c==null?void 0:c.entry,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=to(h),p=this.getDelayedEventActions(o);c!=null&&c.after&&p&&(this.delayedEvents.set(o,p==null?void 0:p.exits),f.push(...p.entries)),this.executeActions(f,l),(c==null?void 0:c.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(g=>{g(this.stateSnapshot)}),this.stop())}),De(this,"performTransitionEffects",(o,l)=>{const c=this.determineTransition(o,l);this.executeActions(c==null?void 0:c.actions,l)}),De(this,"performStateChangeEffects",(o,l,c)=>{this.setEvent(c);const d=l.changed||l.reenter;d&&this.performExitEffects(o,c),this.performTransitionEffects(l.transition,c),this.setState(l.target),d&&this.performEntryEffects(l.target,c)}),De(this,"determineTransition",(o,l)=>{const c=LY(o,this.guardMap);return c==null?void 0:c(this.contextSnapshot,l,this.guardMeta)}),De(this,"sendParent",o=>{var c;this.parent||He("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const l=ks(o);(c=this.parent)==null||c.send(l)}),De(this,"log",(...o)=>{}),De(this,"send",o=>{const l=ks(o);this.transition(this.state.value,l)}),De(this,"transition",(o,l)=>{var p,g;const c=q(o)?this.getStateNode(o):o==null?void 0:o.stateNode,d=ks(l);if(!c&&!this.config.on){const m=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${o}, \`event\`: ${d.type}`;it(m);return}const h=((p=c==null?void 0:c.on)==null?void 0:p[d.type])??((g=this.config.on)==null?void 0:g[d.type]),f=this.getNextStateInfo(h,d);return this.performStateChangeEffects(this.state.value,f,d),f.stateNode}),De(this,"subscribe",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),()=>{this.stateListeners.delete(o)})),De(this,"onDone",o=>(this.doneListeners.add(o),this)),De(this,"onTransition",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),this)),this.config=v_(t),this.options=v_(n??{}),this.id=this.config.id??`machine-${Rt()}`,this.guardMap=((i=this.options)==null?void 0:i.guards)??{},this.actionMap=((s=this.options)==null?void 0:s.actions)??{},this.delayMap=((r=this.options)==null?void 0:r.delays)??{},this.activityMap=((a=this.options)==null?void 0:a.activities)??{},this.sync=((u=this.options)==null?void 0:u.sync)??!1,this.state=RY(this.config),this.initialContext=_e(this.state.context)}get stateSnapshot(){return ee(_e(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const t=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return t.stateSnapshot},get initialContext(){return t.initialContext},get initialState(){var n;return((n=t.initialState)==null?void 0:n.target)??""}}}get meta(){var t;return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:((t=this.initialState)==null?void 0:t.target)??"",getState:()=>this.stateSnapshot,getAction:n=>this.actionMap[n],getGuard:n=>this.guardMap[n]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){const t=this.getState();return{value:t.value,tags:t.tags}}},VY=(e,t)=>new FY(e,t),BY=Dn("combobox").parts("root","clearTrigger","content","control","input","item","itemGroup","itemGroupLabel","itemIndicator","itemText","label","list","positioner","trigger"),wi=BY.build(),Ww=e=>Ke(new qu(e));Ww.empty=()=>Ke(new qu({items:[]}));var Se=$i({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`combobox:${e.id}`},getLabelId:e=>{var t;return((t=e.ids)==null?void 0:t.label)??`combobox:${e.id}:label`},getControlId:e=>{var t;return((t=e.ids)==null?void 0:t.control)??`combobox:${e.id}:control`},getInputId:e=>{var t;return((t=e.ids)==null?void 0:t.input)??`combobox:${e.id}:input`},getContentId:e=>{var t;return((t=e.ids)==null?void 0:t.content)??`combobox:${e.id}:content`},getPositionerId:e=>{var t;return((t=e.ids)==null?void 0:t.positioner)??`combobox:${e.id}:popper`},getTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.trigger)??`combobox:${e.id}:toggle-btn`},getClearTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.clearTrigger)??`combobox:${e.id}:clear-btn`},getItemGroupId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.itemGroup)==null?void 0:i.call(n,t))??`combobox:${e.id}:optgroup:${t}`},getItemGroupLabelId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.itemGroupLabel)==null?void 0:i.call(n,t))??`combobox:${e.id}:optgroup-label:${t}`},getItemId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.item)==null?void 0:i.call(n,t))??`combobox:${e.id}:option:${t}`},getContentEl:e=>Se.getById(e,Se.getContentId(e)),getInputEl:e=>Se.getById(e,Se.getInputId(e)),getPositionerEl:e=>Se.getById(e,Se.getPositionerId(e)),getControlEl:e=>Se.getById(e,Se.getControlId(e)),getTriggerEl:e=>Se.getById(e,Se.getTriggerId(e)),getClearTriggerEl:e=>Se.getById(e,Se.getClearTriggerId(e)),getHighlightedItemEl:e=>{const t=e.highlightedValue;if(t==null)return;const n=`[role=option][data-value="${CSS.escape(t)}"`;return _x(Se.getContentEl(e),n)},focusInputEl:e=>{const t=Se.getInputEl(e);Se.isActiveElement(e,t)||t==null||t.focus({preventScroll:!0})},focusTriggerEl:e=>{const t=Se.getTriggerEl(e);Se.isActiveElement(e,t)||t==null||t.focus({preventScroll:!0})}});function HY(e,t,n){const i=e.context.translations,s=e.context.collection,r=e.context.disabled,a=e.context.isInteractive,u=e.context.invalid,o=e.context.readOnly,l=e.hasTag("open"),c=e.hasTag("focused"),d=e.context.composite,h=e.context.highlightedValue,f=Ju({...e.context.positioning,placement:e.context.currentPlacement});function p(g){const{item:m}=g,y=s.getItemDisabled(m),b=s.getItemValue(m);return{value:b,disabled:!!(y||y),highlighted:h===b,selected:e.context.value.includes(b)}}return{focused:c,open:l,inputValue:e.context.inputValue,highlightedValue:h,highlightedItem:e.context.highlightedItem,value:e.context.value,valueAsString:e.context.valueAsString,hasSelectedItems:e.context.hasSelectedItems,selectedItems:e.context.selectedItems,collection:e.context.collection,multiple:!!e.context.multiple,disabled:!!r,reposition(g={}){t({type:"POSITIONING.SET",options:g})},setCollection(g){t({type:"COLLECTION.SET",value:g})},setHighlightValue(g){t({type:"HIGHLIGHTED_VALUE.SET",value:g})},selectValue(g){t({type:"ITEM.SELECT",value:g})},setValue(g){t({type:"VALUE.SET",value:g})},setInputValue(g){t({type:"INPUT_VALUE.SET",value:g})},clearValue(g){g!=null?t({type:"ITEM.CLEAR",value:g}):t("VALUE.CLEAR")},focus(){var g;(g=Se.getInputEl(e.context))==null||g.focus()},setOpen(g){g!==l&&t(g?"OPEN":"CLOSE")},getRootProps(){return n.element({...wi.root.attrs,dir:e.context.dir,id:Se.getRootId(e.context),"data-invalid":H(u),"data-readonly":H(o)})},getLabelProps(){return n.label({...wi.label.attrs,dir:e.context.dir,htmlFor:Se.getInputId(e.context),id:Se.getLabelId(e.context),"data-readonly":H(o),"data-disabled":H(r),"data-invalid":H(u),"data-focus":H(c),onClick(g){var m;d||(g.preventDefault(),(m=Se.getTriggerEl(e.context))==null||m.focus({preventScroll:!0}))}})},getControlProps(){return n.element({...wi.control.attrs,dir:e.context.dir,id:Se.getControlId(e.context),"data-state":l?"open":"closed","data-focus":H(c),"data-disabled":H(r),"data-invalid":H(u)})},getPositionerProps(){return n.element({...wi.positioner.attrs,dir:e.context.dir,id:Se.getPositionerId(e.context),style:f.floating})},getInputProps(){return n.input({...wi.input.attrs,dir:e.context.dir,"aria-invalid":_o(u),"data-invalid":H(u),name:e.context.name,form:e.context.form,disabled:r,autoFocus:e.context.autoFocus,required:e.context.required,autoComplete:"off",autoCorrect:"off",autoCapitalize:"none",spellCheck:"false",readOnly:o,placeholder:e.context.placeholder,id:Se.getInputId(e.context),type:"text",role:"combobox",defaultValue:e.context.inputValue,"aria-autocomplete":e.context.autoComplete?"both":"list","aria-controls":Se.getContentId(e.context),"aria-expanded":l,"data-state":l?"open":"closed","aria-activedescendant":h?Se.getItemId(e.context,h):void 0,onClick(g){g.defaultPrevented||e.context.openOnClick&&a&&t("INPUT.CLICK")},onFocus(){r||t("INPUT.FOCUS")},onBlur(){r||t("INPUT.BLUR")},onChange(g){t({type:"INPUT.CHANGE",value:g.currentTarget.value})},onKeyDown(g){if(g.defaultPrevented||!a||g.ctrlKey||g.shiftKey||px(g))return;const m=e.context.openOnKeyPress,y=g.ctrlKey||g.metaKey||g.shiftKey,b=!0,E={ArrowDown(M){!m&&!l||(t({type:M.altKey?"OPEN":"INPUT.ARROW_DOWN",keypress:b}),M.preventDefault())},ArrowUp(){!m&&!l||(t({type:g.altKey?"CLOSE":"INPUT.ARROW_UP",keypress:b}),g.preventDefault())},Home(M){y||(t({type:"INPUT.HOME",keypress:b}),l&&M.preventDefault())},End(M){y||(t({type:"INPUT.END",keypress:b}),l&&M.preventDefault())},Enter(M){t({type:"INPUT.ENTER",keypress:b}),l&&M.preventDefault();const R=Se.getHighlightedItemEl(e.context);Mx(R)},Escape(){t({type:"INPUT.ESCAPE",keypress:b}),g.preventDefault()}},_=js(g,e.context),I=E[_];I==null||I(g)}})},getTriggerProps(g={}){return n.button({...wi.trigger.attrs,dir:e.context.dir,id:Se.getTriggerId(e.context),"aria-haspopup":d?"listbox":"dialog",type:"button",tabIndex:g.focusable?void 0:-1,"aria-label":i.triggerLabel,"aria-expanded":l,"data-state":l?"open":"closed","aria-controls":l?Se.getContentId(e.context):void 0,disabled:r,"data-invalid":H(u),"data-focusable":H(g.focusable),"data-readonly":H(o),"data-disabled":H(r),onFocus(){g.focusable&&t({type:"INPUT.FOCUS",src:"trigger"})},onClick(m){m.defaultPrevented||a&&$l(m)&&t("TRIGGER.CLICK")},onPointerDown(m){a&&m.pointerType!=="touch"&&(m.preventDefault(),queueMicrotask(()=>{var y;(y=Se.getInputEl(e.context))==null||y.focus({preventScroll:!0})}))},onKeyDown(m){if(m.defaultPrevented||d)return;const y={ArrowDown(){t({type:"INPUT.ARROW_DOWN",src:"trigger"})},ArrowUp(){t({type:"INPUT.ARROW_UP",src:"trigger"})}},b=js(m,e.context),E=y[b];E&&(E(m),m.preventDefault())}})},getContentProps(){return n.element({...wi.content.attrs,dir:e.context.dir,id:Se.getContentId(e.context),role:d?"listbox":"dialog",tabIndex:-1,hidden:!l,"data-state":l?"open":"closed","data-placement":e.context.currentPlacement,"aria-labelledby":Se.getLabelId(e.context),"aria-multiselectable":e.context.multiple&&d?!0:void 0,onPointerDown(g){g.preventDefault()}})},getListProps(){return n.element({...wi.list.attrs,role:d?void 0:"listbox","aria-labelledby":Se.getLabelId(e.context),"aria-multiselectable":e.context.multiple&&!d?!0:void 0})},getClearTriggerProps(){return n.button({...wi.clearTrigger.attrs,dir:e.context.dir,id:Se.getClearTriggerId(e.context),type:"button",tabIndex:-1,disabled:r,"data-invalid":H(u),"aria-label":i.clearTriggerLabel,"aria-controls":Se.getInputId(e.context),hidden:!e.context.value.length,onPointerDown(g){g.preventDefault()},onClick(g){g.defaultPrevented||a&&t({type:"VALUE.CLEAR",src:"clear-trigger"})}})},getItemState:p,getItemProps(g){const m=p(g),y=m.value;return n.element({...wi.item.attrs,dir:e.context.dir,id:Se.getItemId(e.context,y),role:"option",tabIndex:-1,"data-highlighted":H(m.highlighted),"data-state":m.selected?"checked":"unchecked","aria-selected":_o(m.highlighted),"aria-disabled":_o(m.disabled),"data-disabled":H(m.disabled),"data-value":m.value,onPointerMove(){m.disabled||m.highlighted||t({type:"ITEM.POINTER_MOVE",value:y})},onPointerLeave(){g.persistFocus||m.disabled||!e.previousEvent.type.includes("POINTER")||t({type:"ITEM.POINTER_LEAVE",value:y})},onClick(b){sm(b)||im(b)||Jv(b)||m.disabled||t({type:"ITEM.CLICK",src:"click",value:y})}})},getItemTextProps(g){const m=p(g);return n.element({...wi.itemText.attrs,dir:e.context.dir,"data-state":m.selected?"checked":"unchecked","data-disabled":H(m.disabled),"data-highlighted":H(m.highlighted)})},getItemIndicatorProps(g){const m=p(g);return n.element({"aria-hidden":!0,...wi.itemIndicator.attrs,dir:e.context.dir,"data-state":m.selected?"checked":"unchecked",hidden:!m.selected})},getItemGroupProps(g){const{id:m}=g;return n.element({...wi.itemGroup.attrs,dir:e.context.dir,id:Se.getItemGroupId(e.context,m),"aria-labelledby":Se.getItemGroupLabelId(e.context,m)})},getItemGroupLabelProps(g){const{htmlFor:m}=g;return n.element({...wi.itemGroupLabel.attrs,dir:e.context.dir,id:Se.getItemGroupLabelId(e.context,m),role:"group"})}}}var{and:Pn,not:Bi}=NY;function jY(e){const t=Te(e);return VY({id:"combobox",initial:t.open?"suggesting":"idle",context:{loopFocus:!0,openOnClick:!1,value:[],highlightedValue:null,inputValue:"",allowCustomValue:!1,closeOnSelect:!t.multiple,inputBehavior:"none",selectionBehavior:"replace",openOnKeyPress:!0,openOnChange:!0,composite:!0,readOnly:!1,disabled:!1,...t,highlightedItem:null,selectedItems:[],valueAsString:"",collection:t.collection??Ww.empty(),positioning:{placement:"bottom",sameWidth:!0,...t.positioning},translations:{triggerLabel:"Toggle suggestions",clearTriggerLabel:"Clear value",...t.translations}},created:["syncInitialValues","syncSelectionBehavior"],computed:{isInputValueEmpty:n=>n.inputValue.length===0,isInteractive:n=>!(n.readOnly||n.disabled),autoComplete:n=>n.inputBehavior==="autocomplete",autoHighlight:n=>n.inputBehavior==="autohighlight",hasSelectedItems:n=>n.value.length>0},watch:{value:["syncSelectedItems"],inputValue:["syncInputValue"],highlightedValue:["syncHighlightedItem","autofillInputValue"],multiple:["syncSelectionBehavior"],open:["toggleVisibility"]},on:{"HIGHLIGHTED_VALUE.SET":{actions:["setHighlightedItem"]},"ITEM.SELECT":{actions:["selectItem"]},"ITEM.CLEAR":{actions:["clearItem"]},"VALUE.SET":{actions:["setSelectedItems"]},"INPUT_VALUE.SET":{actions:"setInputValue"},"COLLECTION.SET":{actions:["setCollection"]},"POSITIONING.SET":{actions:["reposition"]}},states:{idle:{tags:["idle","closed"],entry:["scrollContentToTop","clearHighlightedItem"],on:{"CONTROLLED.OPEN":{target:"interacting"},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]}],"INPUT.CLICK":[{guard:"isOpenControlled",actions:["highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightFirstSelectedItem","invokeOnOpen"]}],"INPUT.FOCUS":{target:"focused"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"interacting",actions:["invokeOnOpen"]}],"VALUE.CLEAR":{target:"focused",actions:["clearInputValue","clearSelectedItems","setInitialFocus"]}}},focused:{tags:["focused","closed"],entry:["scrollContentToTop","clearHighlightedItem"],on:{"CONTROLLED.OPEN":[{guard:"isChangeEvent",target:"suggesting"},{target:"interacting"}],"INPUT.CHANGE":[{guard:Pn("isOpenControlled","openOnChange"),actions:["setInputValue","invokeOnOpen","highlightFirstItemIfNeeded"]},{guard:"openOnChange",target:"suggesting",actions:["setInputValue","invokeOnOpen","highlightFirstItemIfNeeded"]},{actions:"setInputValue"}],"LAYER.INTERACT_OUTSIDE":{target:"idle"},"INPUT.ESCAPE":{guard:Pn("isCustomValue",Bi("allowCustomValue")),actions:"revertInputValue"},"INPUT.BLUR":{target:"idle"},"INPUT.CLICK":[{guard:"isOpenControlled",actions:["highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightFirstSelectedItem","invokeOnOpen"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]}],"INPUT.ARROW_DOWN":[{guard:Pn("isOpenControlled","autoComplete"),actions:["invokeOnOpen"]},{guard:"autoComplete",target:"interacting",actions:["invokeOnOpen"]},{guard:"isOpenControlled",actions:["highlightFirstOrSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightFirstOrSelectedItem","invokeOnOpen"]}],"INPUT.ARROW_UP":[{guard:"autoComplete",target:"interacting",actions:"invokeOnOpen"},{guard:"autoComplete",target:"interacting",actions:"invokeOnOpen"},{target:"interacting",actions:["highlightLastOrSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightLastOrSelectedItem","invokeOnOpen"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"interacting",actions:["invokeOnOpen"]}],"VALUE.CLEAR":{actions:["clearInputValue","clearSelectedItems"]}}},interacting:{tags:["open","focused"],entry:["setInitialFocus"],activities:["scrollToHighlightedItem","trackDismissableLayer","computePlacement","hideOtherElements"],on:{"CONTROLLED.CLOSE":[{guard:"restoreFocus",target:"focused",actions:["setFinalFocus"]},{target:"idle"}],"INPUT.HOME":{actions:["highlightFirstItem"]},"INPUT.END":{actions:["highlightLastItem"]},"INPUT.ARROW_DOWN":[{guard:Pn("autoComplete","isLastItemHighlighted"),actions:["clearHighlightedItem","scrollContentToTop"]},{actions:["highlightNextItem"]}],"INPUT.ARROW_UP":[{guard:Pn("autoComplete","isFirstItemHighlighted"),actions:"clearHighlightedItem"},{actions:"highlightPrevItem"}],"INPUT.ENTER":[{guard:Pn("isOpenControlled","isCustomValue",Bi("hasHighlightedItem"),Bi("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:Pn("isCustomValue",Bi("hasHighlightedItem"),Bi("allowCustomValue")),target:"focused",actions:["revertInputValue","invokeOnClose"]},{guard:Pn("isOpenControlled","closeOnSelect"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","setFinalFocus"]},{actions:["selectHighlightedItem"]}],"INPUT.CHANGE":[{guard:"autoComplete",target:"suggesting",actions:["setInputValue","invokeOnOpen"]},{target:"suggesting",actions:["clearHighlightedItem","setInputValue","invokeOnOpen"]}],"ITEM.POINTER_MOVE":{actions:["setHighlightedItem"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedItem"]},"ITEM.CLICK":[{guard:Pn("isOpenControlled","closeOnSelect"),actions:["selectItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectItem","invokeOnClose","setFinalFocus"]},{actions:["selectItem"]}],"LAYER.ESCAPE":[{guard:Pn("isOpenControlled","autoComplete"),actions:["syncInputValue","invokeOnClose"]},{guard:"autoComplete",target:"focused",actions:["syncInputValue","invokeOnClose"]},{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"focused",actions:["invokeOnClose","setFinalFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"focused",actions:"invokeOnClose"}],"LAYER.INTERACT_OUTSIDE":[{guard:Pn("isOpenControlled","isCustomValue",Bi("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:Pn("isCustomValue",Bi("allowCustomValue")),target:"idle",actions:["revertInputValue","invokeOnClose"]},{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"idle",actions:"invokeOnClose"}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","setFinalFocus"]}],"VALUE.CLEAR":[{guard:"isOpenControlled",actions:["clearInputValue","clearSelectedItems","invokeOnClose"]},{target:"focused",actions:["clearInputValue","clearSelectedItems","invokeOnClose","setFinalFocus"]}]}},suggesting:{tags:["open","focused"],activities:["trackDismissableLayer","scrollToHighlightedItem","computePlacement","trackChildNodes","hideOtherElements"],entry:["setInitialFocus"],on:{"CONTROLLED.CLOSE":[{guard:"restoreFocus",target:"focused",actions:["setFinalFocus"]},{target:"idle"}],CHILDREN_CHANGE:{actions:["highlightFirstItem"]},"INPUT.ARROW_DOWN":{target:"interacting",actions:["highlightNextItem"]},"INPUT.ARROW_UP":{target:"interacting",actions:["highlightPrevItem"]},"INPUT.HOME":{target:"interacting",actions:["highlightFirstItem"]},"INPUT.END":{target:"interacting",actions:["highlightLastItem"]},"INPUT.ENTER":[{guard:Pn("isOpenControlled","isCustomValue",Bi("hasHighlightedItem"),Bi("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:Pn("isCustomValue",Bi("hasHighlightedItem"),Bi("allowCustomValue")),target:"focused",actions:["revertInputValue","invokeOnClose"]},{guard:Pn("isOpenControlled","closeOnSelect"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","setFinalFocus"]},{actions:["selectHighlightedItem"]}],"INPUT.CHANGE":[{guard:"autoHighlight",actions:["setInputValue"]},{actions:["setInputValue"]}],"LAYER.ESCAPE":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose"]}],"ITEM.POINTER_MOVE":{target:"interacting",actions:["setHighlightedItem"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedItem"]},"LAYER.INTERACT_OUTSIDE":[{guard:Pn("isOpenControlled","isCustomValue",Bi("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:Pn("isCustomValue",Bi("allowCustomValue")),target:"idle",actions:["revertInputValue","invokeOnClose"]},{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose"]}],"ITEM.CLICK":[{guard:Pn("isOpenControlled","closeOnSelect"),actions:["selectItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectItem","invokeOnClose","setFinalFocus"]},{actions:["selectItem"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","setFinalFocus"]}],"VALUE.CLEAR":[{guard:"isOpenControlled",actions:["clearInputValue","clearSelectedItems","invokeOnClose"]},{target:"focused",actions:["clearInputValue","clearSelectedItems","invokeOnClose","setFinalFocus"]}]}}}},{guards:{isInputValueEmpty:n=>n.isInputValueEmpty,autoComplete:n=>n.autoComplete&&!n.multiple,autoHighlight:n=>n.autoHighlight,isFirstItemHighlighted:n=>n.collection.firstValue===n.highlightedValue,isLastItemHighlighted:n=>n.collection.lastValue===n.highlightedValue,isCustomValue:n=>n.inputValue!==n.valueAsString,allowCustomValue:n=>!!n.allowCustomValue,hasHighlightedItem:n=>n.highlightedValue!=null,closeOnSelect:n=>!!n.closeOnSelect,isOpenControlled:n=>!!n["open.controlled"],openOnChange:(n,i)=>{var s;return FN(n.openOnChange)?n.openOnChange:!!((s=n.openOnChange)!=null&&s.call(n,{inputValue:i.value}))},restoreFocus:(n,i)=>i.restoreFocus==null?!0:!!i.restoreFocus,isChangeEvent:(n,i)=>{var s;return((s=i.previousEvent)==null?void 0:s.type)==="INPUT.CHANGE"}},activities:{trackDismissableLayer(n,i,{send:s}){return n.disableLayer?void 0:Ul(()=>Se.getContentEl(n),{defer:!0,exclude:()=>[Se.getInputEl(n),Se.getTriggerEl(n),Se.getClearTriggerEl(n)],onFocusOutside:n.onFocusOutside,onPointerDownOutside:n.onPointerDownOutside,onInteractOutside:n.onInteractOutside,onEscapeKeyDown(a){a.preventDefault(),a.stopPropagation(),s("LAYER.ESCAPE")},onDismiss(){s({type:"LAYER.INTERACT_OUTSIDE",restoreFocus:!1})}})},hideOtherElements(n){return Wv([Se.getInputEl(n),Se.getContentEl(n),Se.getTriggerEl(n)])},computePlacement(n){const i=()=>Se.getControlEl(n),s=()=>Se.getPositionerEl(n);return n.currentPlacement=n.positioning.placement,Rr(i,s,{...n.positioning,defer:!0,onComplete(r){n.currentPlacement=r.placement}})},trackChildNodes(n,i,{send:s}){return n.autoHighlight?hN(()=>Se.getContentEl(n),{callback:()=>s("CHILDREN_CHANGE"),defer:!0}):void 0},scrollToHighlightedItem(n,i,{getState:s}){const r=Se.getInputEl(n);let a=[];const u=c=>{if(s().event.type.includes("POINTER")||!n.highlightedValue)return;const f=Se.getHighlightedItemEl(n),p=Se.getContentEl(n);if(n.scrollToIndexFn){const m=n.collection.indexOf(n.highlightedValue);n.scrollToIndexFn({index:m,immediate:c});return}const g=Je(()=>{Gv(f,{rootEl:p,block:"nearest"})});a.push(g)},o=Je(()=>u(!0));a.push(o);const l=kf(r,{attributes:["aria-activedescendant"],callback:()=>u(!1)});return a.push(l),()=>{a.forEach(c=>c())}}},actions:{reposition(n,i){Rr(()=>Se.getControlEl(n),()=>Se.getPositionerEl(n),{...n.positioning,...i.options,defer:!0,listeners:!1,onComplete(a){n.currentPlacement=a.placement}})},setHighlightedItem(n,i){i.value!=null&&_n.highlightedValue(n,i.value)},clearHighlightedItem(n){_n.highlightedValue(n,null,!0)},selectHighlightedItem(n){_n.value(n,n.highlightedValue)},selectItem(n,i){i.value!=null&&_n.value(n,i.value)},clearItem(n,i){if(i.value==null)return;const s=n.value.filter(r=>r!==i.value);_n.value(n,s)},setInitialFocus(n){Je(()=>{Se.focusInputEl(n)})},setFinalFocus(n){Je(()=>{const i=Se.getTriggerEl(n);(i==null?void 0:i.dataset.focusable)==null?Se.focusInputEl(n):Se.focusTriggerEl(n)})},syncInputValue(n){const i=Se.getInputEl(n);i&&(i.value=n.inputValue,queueMicrotask(()=>{const{selectionStart:s,selectionEnd:r}=i;Math.abs((r??0)-(s??0))===0&&s===0&&i.setSelectionRange(i.value.length,i.value.length)}))},setInputValue(n,i){_n.inputValue(n,i.value)},clearInputValue(n){_n.inputValue(n,"")},revertInputValue(n){const i=fh(n.selectionBehavior,{replace:n.hasSelectedItems?n.valueAsString:"",preserve:n.inputValue,clear:""});_n.inputValue(n,i)},syncInitialValues(n){const i=n.collection.findMany(n.value),s=n.collection.stringifyMany(n.value);n.highlightedItem=n.collection.find(n.highlightedValue),n.selectedItems=i,n.valueAsString=s,!(n.inputValue.trim()||n.multiple)&&(n.inputValue=fh(n.selectionBehavior,{preserve:n.inputValue||s,replace:s,clear:""}))},syncSelectionBehavior(n){n.multiple&&(n.selectionBehavior="clear")},setSelectedItems(n,i){et(i.value)&&_n.value(n,i.value)},clearSelectedItems(n){_n.value(n,[])},scrollContentToTop(n){if(n.scrollToIndexFn)n.scrollToIndexFn({index:0,immediate:!0});else{const i=Se.getContentEl(n);if(!i)return;i.scrollTop=0}},invokeOnOpen(n){var i;(i=n.onOpenChange)==null||i.call(n,{open:!0})},invokeOnClose(n){var i;(i=n.onOpenChange)==null||i.call(n,{open:!1})},highlightFirstItem(n){Je(()=>{const i=n.collection.firstValue;_n.highlightedValue(n,i,!0)})},highlightFirstItemIfNeeded(n){n.autoHighlight&&Je(()=>{const i=n.collection.firstValue;_n.highlightedValue(n,i)})},highlightLastItem(n){Je(()=>{const i=n.collection.lastValue;_n.highlightedValue(n,i)})},highlightNextItem(n){let i=null;n.highlightedValue?(i=n.collection.getNextValue(n.highlightedValue),!i&&n.loopFocus&&(i=n.collection.firstValue)):i=n.collection.firstValue,_n.highlightedValue(n,i)},highlightPrevItem(n){let i=null;n.highlightedValue?(i=n.collection.getPreviousValue(n.highlightedValue),!i&&n.loopFocus&&(i=n.collection.lastValue)):i=n.collection.lastValue,_n.highlightedValue(n,i)},highlightFirstSelectedItem(n){Je(()=>{const[i]=n.collection.sort(n.value);_n.highlightedValue(n,i)})},highlightFirstOrSelectedItem(n){Je(()=>{let i=null;n.hasSelectedItems?i=n.collection.sort(n.value)[0]:i=n.collection.firstValue,_n.highlightedValue(n,i)})},highlightLastOrSelectedItem(n){Je(()=>{let i=null;n.hasSelectedItems?i=n.collection.sort(n.value)[0]:i=n.collection.lastValue,_n.highlightedValue(n,i)})},autofillInputValue(n,i){const s=Se.getInputEl(n);if(!n.autoComplete||!s||!i.keypress)return;const r=n.collection.stringify(n.highlightedValue);Je(()=>{s.value=r||n.inputValue})},setCollection(n,i){n.collection=i.value},syncSelectedItems(n){$h.valueChange(n)},syncHighlightedItem(n){$h.highlightChange(n)},toggleVisibility(n,i,{send:s}){s({type:n.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:i})}}})}var $h={valueChange:e=>{const t=e.selectedItems;e.selectedItems=e.value.map(s=>{const r=t.find(a=>e.collection.getItemValue(a)===s);return r||e.collection.find(s)});const n=e.collection.stringifyItems(e.selectedItems);e.valueAsString=n;let i;e.getSelectionValue?i=e.getSelectionValue({inputValue:e.inputValue,selectedItems:Array.from(e.selectedItems),valueAsString:n}):i=fh(e.selectionBehavior,{replace:e.valueAsString,preserve:e.inputValue,clear:""}),_n.inputValue(e,i)},highlightChange:e=>{e.highlightedItem=e.collection.find(e.highlightedValue)}},wd={valueChange:e=>{var t;$h.valueChange(e),(t=e.onValueChange)==null||t.call(e,{value:Array.from(e.value),items:Array.from(e.selectedItems)})},highlightChange:e=>{var t;$h.highlightChange(e),(t=e.onHighlightChange)==null||t.call(e,{highlightedValue:e.highlightedValue,highlightedItem:e.highlightedItem})},inputChange:e=>{var t;(t=e.onInputValueChange)==null||t.call(e,{inputValue:e.inputValue})}},_n={value:(e,t,n=!1)=>{if(!dn(e.value,t)&&!(t==null&&!n)){if(t==null&&n){e.value=[],wd.valueChange(e);return}et(t)?e.value=t:t!=null&&(e.value=e.multiple?xx(e.value,t):[t]),wd.valueChange(e)}},highlightedValue:(e,t,n=!1)=>{dn(e.highlightedValue,t)||!t&&!n||(e.highlightedValue=t||null,wd.highlightChange(e))},inputValue:(e,t)=>{dn(e.inputValue,t)||(e.inputValue=t,wd.inputChange(e))}};const zw=(e,t)=>{const n=qn(),i=es(),s=Ri(Ni),r=Jn(),a=K(()=>({id:n,ids:{label:r==null?void 0:r.value.ids.label,input:r==null?void 0:r.value.ids.control},disabled:r==null?void 0:r.value.disabled,readOnly:r==null?void 0:r.value.readOnly,required:r==null?void 0:r.value.required,invalid:r==null?void 0:r.value.invalid,dir:s.value.dir,open:e.defaultOpen,"open.controlled":e.open!==void 0,value:e.modelValue??e.defaultValue,getRootNode:i==null?void 0:i.value.getRootNode,onFocusOutside:c=>t==null?void 0:t("focusOutside",c),onHighlightChange:c=>t==null?void 0:t("highlightChange",c),onInputValueChange:c=>t==null?void 0:t("inputValueChange",c),onInteractOutside:c=>t==null?void 0:t("interactOutside",c),onPointerDownOutside:c=>t==null?void 0:t("pointerDownOutside",c),onOpenChange:c=>{t==null||t("openChange",c),t==null||t("update:open",c.open)},onValueChange:c=>{t==null||t("valueChange",c),t==null||t("update:modelValue",c.value)},...ts(e)})),[u,o,l]=Ci(jY(a.value),{context:K(()=>Ox(a.value,["collection"]))});return Kt(()=>e.collection,c=>{l.setContext({collection:c})}),K(()=>HY(u.value,o,Mi))},[Kw,Li]=vt("ComboboxContext"),[UY,GY]=vt("ComboboxItemContext"),WY=$({__name:"combobox-clear-trigger",props:{asChild:{type:Boolean}},setup(e){const t=Li();return G(),(n,i)=>(C(),N(v(J).button,z(v(t).getClearTriggerProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),zY=$({__name:"combobox-content",props:{asChild:{type:Boolean}},setup(e){const t=Li(),n=Gl(),i=K(()=>Ho(t.value.getContentProps(),n.value.presenceProps));return G(),(s,r)=>v(n).unmounted?nt("",!0):(C(),N(v(J).div,z({key:0},i.value,{"as-child":s.asChild}),{default:S(()=>[B(s.$slots,"default")]),_:3},16,["as-child"]))}}),KY=$({__name:"combobox-context",setup(e){const t=Li();return(n,i)=>B(n.$slots,"default",hn(on(v(t))))}}),qY=$({__name:"combobox-control",props:{asChild:{type:Boolean}},setup(e){const t=Li();return G(),(n,i)=>(C(),N(v(J).div,z(v(t).getControlProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),YY=$({__name:"combobox-input",props:{asChild:{type:Boolean}},setup(e){const t=Li(),n=Jn();return G(),(i,s)=>{var r;return C(),N(v(J).input,z({"aria-describedby":(r=v(n))==null?void 0:r.ariaDescribedby},v(t).getInputProps(),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["aria-describedby","as-child"])}}}),JY=$({__name:"combobox-item-context",setup(e){const t=GY();return(n,i)=>B(n.$slots,"default",hn(on(v(t))))}}),[XY,ZY]=vt("ComboboxItemGroupPropsContext"),QY=$({__name:"combobox-item-group-label",props:{asChild:{type:Boolean}},setup(e){const t=Li(),n=ZY();return G(),(i,s)=>(C(),N(v(J).div,z(v(t).getItemGroupLabelProps({htmlFor:v(n).id}),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["as-child"]))}}),eJ=$({__name:"combobox-item-group",props:{id:{},asChild:{type:Boolean}},setup(e){const t=e,n=Li(),i=t.id??qn();return XY({id:i}),G(),(s,r)=>(C(),N(v(J).div,z(v(n).getItemGroupProps({id:v(i)}),{"as-child":s.asChild}),{default:S(()=>[B(s.$slots,"default")]),_:3},16,["as-child"]))}}),[tJ,qw]=vt("ComboboxItemPropsContext"),nJ=$({__name:"combobox-item-indicator",props:{asChild:{type:Boolean}},setup(e){const t=Li(),n=qw();return G(),(i,s)=>(C(),N(v(J).div,z(v(t).getItemIndicatorProps(v(n)),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["as-child"]))}}),iJ=$({__name:"combobox-item-text",props:{asChild:{type:Boolean}},setup(e){const t=Li(),n=qw();return G(),(i,s)=>(C(),N(v(J).span,z(v(t).getItemTextProps(v(n)),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["as-child"]))}}),sJ=$({__name:"combobox-item",props:{persistFocus:{type:Boolean},item:{},asChild:{type:Boolean}},setup(e){const t=e,n=Li();return tJ(t),UY(K(()=>n.value.getItemState(t))),G(),(i,s)=>(C(),N(v(J).div,z(v(n).getItemProps(t),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["as-child"]))}}),rJ=$({__name:"combobox-label",props:{asChild:{type:Boolean}},setup(e){const t=Li();return G(),(n,i)=>(C(),N(v(J).label,z(v(t).getLabelProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),oJ=$({__name:"combobox-list",props:{asChild:{type:Boolean}},setup(e){const t=Li();return G(),(n,i)=>(C(),N(v(J).div,z(v(t).getListProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),aJ=$({__name:"combobox-positioner",props:{asChild:{type:Boolean}},setup(e){const t=Li(),n=Uo(),i=Fa(K(()=>({...n.value,present:t.value.open})));return Va(i),G(),(s,r)=>v(i).unmounted?nt("",!0):(C(),N(v(J).div,z({key:0},v(t).getPositionerProps(),{"as-child":s.asChild}),{default:S(()=>[B(s.$slots,"default")]),_:3},16,["as-child"]))}}),lJ=$({__name:"combobox-root-provider",props:{value:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,n=K(()=>t.value);return Kw(n),Di(K(()=>({lazyMount:t.lazyMount,unmountOnExit:t.unmountOnExit}))),G(),(i,s)=>(C(),N(v(J).div,z(n.value.getRootProps(),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["as-child"]))}}),cJ=$({__name:"combobox-root",props:On({allowCustomValue:{type:Boolean},autoFocus:{type:Boolean},closeOnSelect:{type:Boolean},composite:{type:Boolean},defaultOpen:{type:Boolean},defaultValue:{},disableLayer:{type:Boolean},disabled:{type:Boolean},form:{},getSelectionValue:{type:Function},highlightedValue:{},id:{},ids:{},inputBehavior:{},inputValue:{},invalid:{type:Boolean},collection:{},loopFocus:{type:Boolean},modelValue:{},multiple:{type:Boolean},name:{},open:{type:Boolean},openOnChange:{type:[Boolean,Function]},openOnClick:{type:Boolean},openOnKeyPress:{type:Boolean},placeholder:{},positioning:{},readOnly:{type:Boolean},required:{type:Boolean},scrollToIndexFn:{type:Function},selectionBehavior:{},translations:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},{allowCustomValue:void 0,autoFocus:void 0,closeOnSelect:void 0,composite:void 0,defaultOpen:void 0,disabled:void 0,disableLayer:void 0,invalid:void 0,loopFocus:void 0,multiple:void 0,open:void 0,openOnChange:void 0,openOnClick:void 0,openOnKeyPress:void 0,readOnly:void 0,required:void 0}),emits:["focusOutside","highlightChange","inputValueChange","interactOutside","openChange","pointerDownOutside","valueChange","update:modelValue","update:open"],setup(e,{emit:t}){const n=e,s=zw(n,t);return Kw(s),Di(K(()=>({lazyMount:n.lazyMount,unmountOnExit:n.unmountOnExit}))),G(),(r,a)=>(C(),N(v(J).div,z(v(s).getRootProps(),{"as-child":r.asChild}),{default:S(()=>[B(r.$slots,"default")]),_:3},16,["as-child"]))}}),uJ=$({__name:"combobox-trigger",props:{focusable:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,n=Li();return(i,s)=>(C(),N(v(J).button,z(v(n).getTriggerProps(t),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["as-child"]))}}),il=Object.freeze(Object.defineProperty({__proto__:null,ClearTrigger:WY,Content:zY,Context:KY,Control:qY,Input:YY,Item:sJ,ItemContext:JY,ItemGroup:eJ,ItemGroupLabel:QY,ItemIndicator:nJ,ItemText:iJ,Label:rJ,List:oJ,Positioner:aJ,Root:cJ,RootProvider:lJ,Trigger:uJ},Symbol.toStringTag,{value:"Module"})),dJ={class:"flex justify-between items-center"},hJ=["href"],fJ={key:0},pJ={key:1,class:"flex flex-col h-full overflow-hidden"},gJ=$({__name:"LinkPicker",props:Vn({label:null},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=vn(e,"modelValue"),n=Xe("link"),i=Xe(),s=zw({collection:rw({items:[]}),openOnClick:!0,openOnKeyPress:!1,allowCustomValue:!0}),r=Xe("");ii(()=>{a()});function a(){if(!t.value)return;if(!t.value.startsWith("visual://")){n.value="link",s.value.setInputValue(t.value),i.value=t.value;return}const f=t.value.match(/^visual:\/\/([^:]+):([^\/]+)\/(.*)?$/);f&&(n.value=f[1],s.value.setInputValue(decodeURIComponent(f[2])),i.value=u(f[3],f[1]==="cms_pages"?"page/":""))}function u(f,p=""){return new URL(p+f,new URL(window.ThemeEditor.storefrontUrl).origin).href}function o(f){t.value="visual://categories:"+encodeURIComponent(f.name)+"/"+f.slug,s.value.setInputValue(f.name),n.value="categories",i.value=u(f.slug),s.value.setOpen(!1)}function l(f){t.value="visual://products:"+encodeURIComponent(f.name)+"/"+f.url_key,s.value.setInputValue(f.name),n.value="products",i.value=u(f.url_key),s.value.setOpen(!1)}function c(f){t.value="visual://cms_pages:"+encodeURIComponent(f.page_title)+"/"+f.url_key,s.value.setInputValue(f.page_title),n.value="cms_pages",i.value=u(f.url_key,"page/"),s.value.setOpen(!1)}function d(f){try{const p=new URL(f.target.value);n.value="link",t.value=p.href,i.value=p.href,s.value.setInputValue(p.href)}catch{a()}}function h(){s.value.setInputValue(""),n.value="link",i.value="",t.value=""}return(f,p)=>{const g=wY,m=zf,y=Vw,b=Ay,E=SY,_=jl,I=Kf,M=Nw,R=Bw,X=Hw;return C(),te("div",null,[O(v(il).RootProvider,{value:v(s),class:"gap-2 flex flex-col"},{default:S(()=>[F("div",dJ,[e.label?(C(),N(v(il).Label,{key:0,class:"text-sm font-medium"},{default:S(()=>[qe(ue(e.label),1)]),_:1})):nt("",!0),v(i)?(C(),te("a",{key:1,href:v(i),target:"_blank"},[O(g,{class:"w-4 h-4"})],8,hJ)):nt("",!0)]),O(v(il).Control,{class:"flex border px-3 h-10 gap-3 text-sm w-full cursor-pointer rounded outline-0 items-center appearance-none justify-between focus-within:shadow focus-within:ring focus-within:ring-gray-700"},{default:S(()=>[v(n)==="categories"?(C(),N(m,{key:0,class:"w-4 h-4 flex-none transform rotate-90"})):v(n)==="products"?(C(),N(y,{key:1,class:"w-4 h-4 flex-none transform rotate-90"})):v(n)==="cms_pages"?(C(),N(b,{key:2,class:"w-4 h-4 flex-none"})):(C(),N(E,{key:3,class:"w-4 h-4 flex-none"})),O(v(il).Input,{class:"outline-none flex-1 w-0",onInput:p[0]||(p[0]=D=>v(s).setOpen(!1)),onBlur:d}),t.value?(C(),te("button",{key:4,class:"flex-none text-gray-700 hover:bg-gray-200 p-1 rounded-lg",onClick:h},[O(_,{clip:"w-4 h-4"})])):nt("",!0)]),_:1}),O(v(il).Positioner,{class:"w-[var(--reference-width)] !z-10"},{default:S(()=>[O(v(il).Content,{class:"bg-white rounded-lg shadow gap-1 flex flex-col max-h-96 border data-[state=open]:animate-fade-in"},{default:S(()=>[v(r)?(C(),te("div",pJ,[F("button",{class:"h-9 flex-none bg-gray-200 flex gap-3 w-full items-center rounded-t-lg text-left px-3",onClick:p[4]||(p[4]=D=>r.value="")},[O(I,{class:"w-4 h-4"}),qe(" "+ue(f.$t("Back")),1)]),v(r)==="categories"?(C(),N(M,{key:0,class:"h-full flex-1","onUpdate:modelValue":o})):v(r)==="products"?(C(),N(R,{key:1,class:"h-full flex-1","onUpdate:modelValue":l})):v(r)==="cms_pages"?(C(),N(X,{key:2,class:"h-full flex-1","onUpdate:modelValue":c})):nt("",!0)])):(C(),te("div",fJ,[F("button",{class:"appearance-none w-full h-9 px-3 flex gap-3 items-center hover:bg-gray-200",onClick:p[1]||(p[1]=Ki(D=>r.value="categories",["prevent"]))},[O(m,{class:"w-4 h-4 transform rotate-90"}),qe(" "+ue(f.$t("Categories")),1)]),F("button",{class:"appearance-none w-full h-9 px-3 flex gap-3 items-center hover:bg-gray-200",onClick:p[2]||(p[2]=Ki(D=>r.value="products",["prevent"]))},[O(y,{class:"w-4 h-4 transform rotate-90"}),qe(" "+ue(f.$t("Products")),1)]),F("button",{class:"appearance-none w-full h-9 px-3 flex gap-3 items-center hover:bg-gray-200",onClick:p[3]||(p[3]=Ki(D=>r.value="cms_pages",["prevent"]))},[O(b,{class:"w-4 h-4 flex-none text-gray-700"}),qe(" "+ue(f.$t("Cms Pages")),1)])]))]),_:1})]),_:1})]),_:1},8,["value"])])}}}),mJ={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function vJ(e,t){return C(),te("svg",mJ,t[0]||(t[0]=[F("path",{fill:"currentColor",d:"M8 4h13v2H8zM5 3v3h1v1H3V6h1V4H3V3zM3 14v-2.5h2V11H3v-1h3v2.5H4v.5h2v1zm2 5.5H3v-1h2V18H3v-1h3v4H3v-1h2zM8 11h13v2H8zm0 7h13v2H8z"},null,-1)]))}const yJ=Et({name:"ri-list-ordered",render:vJ}),bJ={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function EJ(e,t){return C(),te("svg",bJ,t[0]||(t[0]=[F("path",{fill:"currentColor",d:"M8 4h13v2H8zM4.5 6.5a1.5 1.5 0 1 1 0-3a1.5 1.5 0 0 1 0 3m0 7a1.5 1.5 0 1 1 0-3a1.5 1.5 0 0 1 0 3m0 6.9a1.5 1.5 0 1 1 0-3a1.5 1.5 0 0 1 0 3M8 11h13v2H8zm0 7h13v2H8z"},null,-1)]))}const _J=Et({name:"ri-list-unordered",render:EJ}),CJ={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function SJ(e,t){return C(),te("svg",CJ,t[0]||(t[0]=[F("path",{fill:"currentColor",d:"M17 11V4h2v17h-2v-8H7v8H5V4h2v7z"},null,-1)]))}const xJ=Et({name:"ri-heading",render:SJ}),TJ={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function wJ(e,t){return C(),te("svg",TJ,t[0]||(t[0]=[F("path",{fill:"currentColor",d:"M8 3v9a4 4 0 0 0 8 0V3h2v9a6 6 0 0 1-12 0V3zM4 20h16v2H4z"},null,-1)]))}const IJ=Et({name:"ri-underline",render:wJ}),OJ={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function kJ(e,t){return C(),te("svg",OJ,t[0]||(t[0]=[F("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M5.248 20.246H9.05m0 0h3.696m-3.696 0l5.893-16.502m0 0h-3.697m3.697 0h3.803"},null,-1)]))}const AJ=Et({name:"heroicons-italic",render:kJ}),PJ={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function $J(e,t){return C(),te("svg",PJ,t[0]||(t[0]=[F("path",{fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"2",d:"M6.75 3.744h-.753v8.25h7.125a4.125 4.125 0 0 0 0-8.25zm0 0v.38m0 16.122h6.747a4.5 4.5 0 0 0 0-9.001h-7.5v9zm0 0v-.37m0-15.751h6a3.75 3.75 0 1 1 0 7.5h-6m0-7.5v7.5m0 0v8.25m0-8.25h6.375a4.125 4.125 0 0 1 0 8.25H6.75m.747-15.38h4.875a3.375 3.375 0 0 1 0 6.75H7.497zm0 7.5h5.25a3.75 3.75 0 0 1 0 7.5h-5.25z"},null,-1)]))}const MJ=Et({name:"heroicons-bold",render:$J});function Gn(e){this.content=e}Gn.prototype={constructor:Gn,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var i=n&&n!=e?this.remove(n):this,s=i.find(e),r=i.content.slice();return s==-1?r.push(n||e,t):(r[s+1]=t,n&&(r[s]=n)),new Gn(r)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new Gn(n)},addToStart:function(e,t){return new Gn([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new Gn(n)},addBefore:function(e,t,n){var i=this.remove(t),s=i.content.slice(),r=i.find(e);return s.splice(r==-1?s.length:r,0,t,n),new Gn(s)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=Gn.from(e),e.size?new Gn(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=Gn.from(e),e.size?new Gn(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=Gn.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};Gn.from=function(e){if(e instanceof Gn)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new Gn(t)};function Yw(e,t,n){for(let i=0;;i++){if(i==e.childCount||i==t.childCount)return e.childCount==t.childCount?null:n;let s=e.child(i),r=t.child(i);if(s==r){n+=s.nodeSize;continue}if(!s.sameMarkup(r))return n;if(s.isText&&s.text!=r.text){for(let a=0;s.text[a]==r.text[a];a++)n++;return n}if(s.content.size||r.content.size){let a=Yw(s.content,r.content,n+1);if(a!=null)return a}n+=s.nodeSize}}function Jw(e,t,n,i){for(let s=e.childCount,r=t.childCount;;){if(s==0||r==0)return s==r?null:{a:n,b:i};let a=e.child(--s),u=t.child(--r),o=a.nodeSize;if(a==u){n-=o,i-=o;continue}if(!a.sameMarkup(u))return{a:n,b:i};if(a.isText&&a.text!=u.text){let l=0,c=Math.min(a.text.length,u.text.length);for(;l<c&&a.text[a.text.length-l-1]==u.text[u.text.length-l-1];)l++,n--,i--;return{a:n,b:i}}if(a.content.size||u.content.size){let l=Jw(a.content,u.content,n-1,i-1);if(l)return l}n-=o,i-=o}}class le{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let i=0;i<t.length;i++)this.size+=t[i].nodeSize}nodesBetween(t,n,i,s=0,r){for(let a=0,u=0;u<n;a++){let o=this.content[a],l=u+o.nodeSize;if(l>t&&i(o,s+u,r||null,a)!==!1&&o.content.size){let c=u+1;o.nodesBetween(Math.max(0,t-c),Math.min(o.content.size,n-c),i,s+c)}u=l}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,i,s){let r="",a=!0;return this.nodesBetween(t,n,(u,o)=>{let l=u.isText?u.text.slice(Math.max(t,o)-o,n-o):u.isLeaf?s?typeof s=="function"?s(u):s:u.type.spec.leafText?u.type.spec.leafText(u):"":"";u.isBlock&&(u.isLeaf&&l||u.isTextblock)&&i&&(a?a=!1:r+=i),r+=l},0),r}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,i=t.firstChild,s=this.content.slice(),r=0;for(n.isText&&n.sameMarkup(i)&&(s[s.length-1]=n.withText(n.text+i.text),r=1);r<t.content.length;r++)s.push(t.content[r]);return new le(s,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let i=[],s=0;if(n>t)for(let r=0,a=0;a<n;r++){let u=this.content[r],o=a+u.nodeSize;o>t&&((a<t||o>n)&&(u.isText?u=u.cut(Math.max(0,t-a),Math.min(u.text.length,n-a)):u=u.cut(Math.max(0,t-a-1),Math.min(u.content.size,n-a-1))),i.push(u),s+=u.nodeSize),a=o}return new le(i,s)}cutByIndex(t,n){return t==n?le.empty:t==0&&n==this.content.length?this:new le(this.content.slice(t,n))}replaceChild(t,n){let i=this.content[t];if(i==n)return this;let s=this.content.slice(),r=this.size+n.nodeSize-i.nodeSize;return s[t]=n,new le(s,r)}addToStart(t){return new le([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new le(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,i=0;n<this.content.length;n++){let s=this.content[n];t(s,i,n),i+=s.nodeSize}}findDiffStart(t,n=0){return Yw(this,t,n)}findDiffEnd(t,n=this.size,i=t.size){return Jw(this,t,n,i)}findIndex(t,n=-1){if(t==0)return Id(0,t);if(t==this.size)return Id(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let i=0,s=0;;i++){let r=this.child(i),a=s+r.nodeSize;if(a>=t)return a==t||n>0?Id(i+1,a):Id(i,s);s=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return le.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new le(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return le.empty;let n,i=0;for(let s=0;s<t.length;s++){let r=t[s];i+=r.nodeSize,s&&r.isText&&t[s-1].sameMarkup(r)?(n||(n=t.slice(0,s)),n[n.length-1]=r.withText(n[n.length-1].text+r.text)):n&&n.push(r)}return new le(n||t,i)}static from(t){if(!t)return le.empty;if(t instanceof le)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new le([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}le.empty=new le([],0);const hg={index:0,offset:0};function Id(e,t){return hg.index=e,hg.offset=t,hg}function Mh(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++)if(!Mh(e[i],t[i]))return!1}else{for(let i in e)if(!(i in t)||!Mh(e[i],t[i]))return!1;for(let i in t)if(!(i in e))return!1}return!0}let Ut=class Am{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,i=!1;for(let s=0;s<t.length;s++){let r=t[s];if(this.eq(r))return t;if(this.type.excludes(r.type))n||(n=t.slice(0,s));else{if(r.type.excludes(this.type))return t;!i&&r.type.rank>this.type.rank&&(n||(n=t.slice(0,s)),n.push(this),i=!0),n&&n.push(r)}}return n||(n=t.slice()),i||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&Mh(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let i=t.marks[n.type];if(!i)throw new RangeError(`There is no mark type ${n.type} in this schema`);let s=i.create(n.attrs);return i.checkAttrs(s.attrs),s}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let i=0;i<t.length;i++)if(!t[i].eq(n[i]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return Am.none;if(t instanceof Am)return[t];let n=t.slice();return n.sort((i,s)=>i.type.rank-s.type.rank),n}};Ut.none=[];class Nh extends Error{}class ye{constructor(t,n,i){this.content=t,this.openStart=n,this.openEnd=i}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let i=Zw(this.content,t+this.openStart,n);return i&&new ye(i,this.openStart,this.openEnd)}removeBetween(t,n){return new ye(Xw(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return ye.empty;let i=n.openStart||0,s=n.openEnd||0;if(typeof i!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ye(le.fromJSON(t,n.content),i,s)}static maxOpen(t,n=!0){let i=0,s=0;for(let r=t.firstChild;r&&!r.isLeaf&&(n||!r.type.spec.isolating);r=r.firstChild)i++;for(let r=t.lastChild;r&&!r.isLeaf&&(n||!r.type.spec.isolating);r=r.lastChild)s++;return new ye(t,i,s)}}ye.empty=new ye(le.empty,0,0);function Xw(e,t,n){let{index:i,offset:s}=e.findIndex(t),r=e.maybeChild(i),{index:a,offset:u}=e.findIndex(n);if(s==t||r.isText){if(u!=n&&!e.child(a).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(i!=a)throw new RangeError("Removing non-flat range");return e.replaceChild(i,r.copy(Xw(r.content,t-s-1,n-s-1)))}function Zw(e,t,n,i){let{index:s,offset:r}=e.findIndex(t),a=e.maybeChild(s);if(r==t||a.isText)return e.cut(0,t).append(n).append(e.cut(t));let u=Zw(a.content,t-r-1,n);return u&&e.replaceChild(s,a.copy(u))}function NJ(e,t,n){if(n.openStart>e.depth)throw new Nh("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new Nh("Inconsistent open depths");return Qw(e,t,n,0)}function Qw(e,t,n,i){let s=e.index(i),r=e.node(i);if(s==t.index(i)&&i<e.depth-n.openStart){let a=Qw(e,t,n,i+1);return r.copy(r.content.replaceChild(s,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==i&&t.depth==i){let a=e.parent,u=a.content;return _a(a,u.cut(0,e.parentOffset).append(n.content).append(u.cut(t.parentOffset)))}else{let{start:a,end:u}=RJ(n,e);return _a(r,tI(e,a,u,t,i))}else return _a(r,Rh(e,t,i))}function eI(e,t){if(!t.type.compatibleContent(e.type))throw new Nh("Cannot join "+t.type.name+" onto "+e.type.name)}function Pm(e,t,n){let i=e.node(n);return eI(i,t.node(n)),i}function Ea(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function nu(e,t,n,i){let s=(t||e).node(n),r=0,a=t?t.index(n):s.childCount;e&&(r=e.index(n),e.depth>n?r++:e.textOffset&&(Ea(e.nodeAfter,i),r++));for(let u=r;u<a;u++)Ea(s.child(u),i);t&&t.depth==n&&t.textOffset&&Ea(t.nodeBefore,i)}function _a(e,t){return e.type.checkContent(t),e.copy(t)}function tI(e,t,n,i,s){let r=e.depth>s&&Pm(e,t,s+1),a=i.depth>s&&Pm(n,i,s+1),u=[];return nu(null,e,s,u),r&&a&&t.index(s)==n.index(s)?(eI(r,a),Ea(_a(r,tI(e,t,n,i,s+1)),u)):(r&&Ea(_a(r,Rh(e,t,s+1)),u),nu(t,n,s,u),a&&Ea(_a(a,Rh(n,i,s+1)),u)),nu(i,null,s,u),new le(u)}function Rh(e,t,n){let i=[];if(nu(null,e,n,i),e.depth>n){let s=Pm(e,t,n+1);Ea(_a(s,Rh(e,t,n+1)),i)}return nu(t,null,n,i),new le(i)}function RJ(e,t){let n=t.depth-e.openStart,s=t.node(n).copy(e.content);for(let r=n-1;r>=0;r--)s=t.node(r).copy(le.from(s));return{start:s.resolveNoCache(e.openStart+n),end:s.resolveNoCache(s.content.size-e.openEnd-n)}}class Su{constructor(t,n,i){this.pos=t,this.path=n,this.parentOffset=i,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let i=this.pos-this.path[this.path.length-1],s=t.child(n);return i?t.child(n).cut(i):s}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let i=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let r=0;r<t;r++)s+=i.child(r).nodeSize;return s}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return Ut.none;if(this.textOffset)return t.child(n).marks;let i=t.maybeChild(n-1),s=t.maybeChild(n);if(!i){let u=i;i=s,s=u}let r=i.marks;for(var a=0;a<r.length;a++)r[a].type.spec.inclusive===!1&&(!s||!r[a].isInSet(s.marks))&&(r=r[a--].removeFromSet(r));return r}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let i=n.marks,s=t.parent.maybeChild(t.index());for(var r=0;r<i.length;r++)i[r].type.spec.inclusive===!1&&(!s||!i[r].isInSet(s.marks))&&(i=i[r--].removeFromSet(i));return i}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let i=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);i>=0;i--)if(t.pos<=this.end(i)&&(!n||n(this.node(i))))return new Dh(this,t,i);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let i=[],s=0,r=n;for(let a=t;;){let{index:u,offset:o}=a.content.findIndex(r),l=r-o;if(i.push(a,u,s+o),!l||(a=a.child(u),a.isText))break;r=l-1,s+=o+1}return new Su(n,i,r)}static resolveCached(t,n){let i=y_.get(t);if(i)for(let r=0;r<i.elts.length;r++){let a=i.elts[r];if(a.pos==n)return a}else y_.set(t,i=new DJ);let s=i.elts[i.i]=Su.resolve(t,n);return i.i=(i.i+1)%LJ,s}}class DJ{constructor(){this.elts=[],this.i=0}}const LJ=12,y_=new WeakMap;class Dh{constructor(t,n,i){this.$from=t,this.$to=n,this.depth=i}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const FJ=Object.create(null);let Ca=class $m{constructor(t,n,i,s=Ut.none){this.type=t,this.attrs=n,this.marks=s,this.content=i||le.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,i,s=0){this.content.nodesBetween(t,n,i,s,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,i,s){return this.content.textBetween(t,n,i,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,i){return this.type==t&&Mh(this.attrs,n||t.defaultAttrs||FJ)&&Ut.sameSet(this.marks,i||Ut.none)}copy(t=null){return t==this.content?this:new $m(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new $m(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,i=!1){if(t==n)return ye.empty;let s=this.resolve(t),r=this.resolve(n),a=i?0:s.sharedDepth(n),u=s.start(a),l=s.node(a).content.cut(s.pos-u,r.pos-u);return new ye(l,s.depth-a,r.depth-a)}replace(t,n,i){return NJ(this.resolve(t),this.resolve(n),i)}nodeAt(t){for(let n=this;;){let{index:i,offset:s}=n.content.findIndex(t);if(n=n.maybeChild(i),!n)return null;if(s==t||n.isText)return n;t-=s+1}}childAfter(t){let{index:n,offset:i}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:i}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:i}=this.content.findIndex(t);if(i<t)return{node:this.content.child(n),index:n,offset:i};let s=this.content.child(n-1);return{node:s,index:n-1,offset:i-s.nodeSize}}resolve(t){return Su.resolveCached(this,t)}resolveNoCache(t){return Su.resolve(this,t)}rangeHasMark(t,n,i){let s=!1;return n>t&&this.nodesBetween(t,n,r=>(i.isInSet(r.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),nI(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,i=le.empty,s=0,r=i.childCount){let a=this.contentMatchAt(t).matchFragment(i,s,r),u=a&&a.matchFragment(this.content,n);if(!u||!u.validEnd)return!1;for(let o=s;o<r;o++)if(!this.type.allowsMarks(i.child(o).marks))return!1;return!0}canReplaceWith(t,n,i,s){if(s&&!this.type.allowsMarks(s))return!1;let r=this.contentMatchAt(t).matchType(i),a=r&&r.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=Ut.none;for(let n=0;n<this.marks.length;n++){let i=this.marks[n];i.type.checkAttrs(i.attrs),t=i.addToSet(t)}if(!Ut.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let i;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");i=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,i)}let s=le.fromJSON(t,n.content),r=t.nodeType(n.type).create(n.attrs,s,i);return r.type.checkAttrs(r.attrs),r}};Ca.prototype.text=void 0;class Lh extends Ca{constructor(t,n,i,s){if(super(t,n,null,s),!i)throw new RangeError("Empty text nodes are not allowed");this.text=i}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):nI(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new Lh(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new Lh(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function nI(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class Na{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let i=new VJ(t,n);if(i.next==null)return Na.empty;let s=iI(i);i.next&&i.err("Unexpected trailing text");let r=zJ(WJ(s));return KJ(r,i),r}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,i=t.childCount){let s=this;for(let r=n;s&&r<i;r++)s=s.matchType(t.child(r).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let i=0;i<t.next.length;i++)if(this.next[n].type==t.next[i].type)return!0;return!1}fillBefore(t,n=!1,i=0){let s=[this];function r(a,u){let o=a.matchFragment(t,i);if(o&&(!n||o.validEnd))return le.from(u.map(l=>l.createAndFill()));for(let l=0;l<a.next.length;l++){let{type:c,next:d}=a.next[l];if(!(c.isText||c.hasRequiredAttrs())&&s.indexOf(d)==-1){s.push(d);let h=r(d,u.concat(c));if(h)return h}}return null}return r(this,[])}findWrapping(t){for(let i=0;i<this.wrapCache.length;i+=2)if(this.wrapCache[i]==t)return this.wrapCache[i+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),i=[{match:this,type:null,via:null}];for(;i.length;){let s=i.shift(),r=s.match;if(r.matchType(t)){let a=[];for(let u=s;u.type;u=u.via)a.push(u.type);return a.reverse()}for(let a=0;a<r.next.length;a++){let{type:u,next:o}=r.next[a];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in n)&&(!s.type||o.validEnd)&&(i.push({match:u.contentMatch,type:u,via:s}),n[u.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(i){t.push(i);for(let s=0;s<i.next.length;s++)t.indexOf(i.next[s].next)==-1&&n(i.next[s].next)}return n(this),t.map((i,s)=>{let r=s+(i.validEnd?"*":" ")+" ";for(let a=0;a<i.next.length;a++)r+=(a?", ":"")+i.next[a].type.name+"->"+t.indexOf(i.next[a].next);return r}).join(`
`)}}Na.empty=new Na(!0);class VJ{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function iI(e){let t=[];do t.push(BJ(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function BJ(e){let t=[];do t.push(HJ(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function HJ(e){let t=GJ(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=jJ(e,t);else break;return t}function b_(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function jJ(e,t){let n=b_(e),i=n;return e.eat(",")&&(e.next!="}"?i=b_(e):i=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:i,expr:t}}function UJ(e,t){let n=e.nodeTypes,i=n[t];if(i)return[i];let s=[];for(let r in n){let a=n[r];a.isInGroup(t)&&s.push(a)}return s.length==0&&e.err("No node type or group '"+t+"' found"),s}function GJ(e){if(e.eat("(")){let t=iI(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=UJ(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function WJ(e){let t=[[]];return s(r(e,0),n()),t;function n(){return t.push([])-1}function i(a,u,o){let l={term:o,to:u};return t[a].push(l),l}function s(a,u){a.forEach(o=>o.to=u)}function r(a,u){if(a.type=="choice")return a.exprs.reduce((o,l)=>o.concat(r(l,u)),[]);if(a.type=="seq")for(let o=0;;o++){let l=r(a.exprs[o],u);if(o==a.exprs.length-1)return l;s(l,u=n())}else if(a.type=="star"){let o=n();return i(u,o),s(r(a.expr,o),o),[i(o)]}else if(a.type=="plus"){let o=n();return s(r(a.expr,u),o),s(r(a.expr,o),o),[i(o)]}else{if(a.type=="opt")return[i(u)].concat(r(a.expr,u));if(a.type=="range"){let o=u;for(let l=0;l<a.min;l++){let c=n();s(r(a.expr,o),c),o=c}if(a.max==-1)s(r(a.expr,o),o);else for(let l=a.min;l<a.max;l++){let c=n();i(o,c),s(r(a.expr,o),c),o=c}return[i(o)]}else{if(a.type=="name")return[i(u,void 0,a.value)];throw new Error("Unknown expr type")}}}}function sI(e,t){return t-e}function E_(e,t){let n=[];return i(t),n.sort(sI);function i(s){let r=e[s];if(r.length==1&&!r[0].term)return i(r[0].to);n.push(s);for(let a=0;a<r.length;a++){let{term:u,to:o}=r[a];!u&&n.indexOf(o)==-1&&i(o)}}}function zJ(e){let t=Object.create(null);return n(E_(e,0));function n(i){let s=[];i.forEach(a=>{e[a].forEach(({term:u,to:o})=>{if(!u)return;let l;for(let c=0;c<s.length;c++)s[c][0]==u&&(l=s[c][1]);E_(e,o).forEach(c=>{l||s.push([u,l=[]]),l.indexOf(c)==-1&&l.push(c)})})});let r=t[i.join(",")]=new Na(i.indexOf(e.length-1)>-1);for(let a=0;a<s.length;a++){let u=s[a][1].sort(sI);r.next.push({type:s[a][0],next:t[u.join(",")]||n(u)})}return r}}function KJ(e,t){for(let n=0,i=[e];n<i.length;n++){let s=i[n],r=!s.validEnd,a=[];for(let u=0;u<s.next.length;u++){let{type:o,next:l}=s.next[u];a.push(o.name),r&&!(o.isText||o.hasRequiredAttrs())&&(r=!1),i.indexOf(l)==-1&&i.push(l)}r&&t.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function rI(e){let t=Object.create(null);for(let n in e){let i=e[n];if(!i.hasDefault)return null;t[n]=i.default}return t}function oI(e,t){let n=Object.create(null);for(let i in e){let s=t&&t[i];if(s===void 0){let r=e[i];if(r.hasDefault)s=r.default;else throw new RangeError("No value supplied for attribute "+i)}n[i]=s}return n}function aI(e,t,n,i){for(let s in t)if(!(s in e))throw new RangeError(`Unsupported attribute ${s} for ${n} of type ${s}`);for(let s in e){let r=e[s];r.validate&&r.validate(t[s])}}function lI(e,t){let n=Object.create(null);if(t)for(let i in t)n[i]=new YJ(e,i,t[i]);return n}let __=class cI{constructor(t,n,i){this.name=t,this.schema=n,this.spec=i,this.markSet=null,this.groups=i.group?i.group.split(" "):[],this.attrs=lI(t,i.attrs),this.defaultAttrs=rI(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(i.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Na.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:oI(this.attrs,t)}create(t=null,n,i){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Ca(this,this.computeAttrs(t),le.from(n),Ut.setFrom(i))}createChecked(t=null,n,i){return n=le.from(n),this.checkContent(n),new Ca(this,this.computeAttrs(t),n,Ut.setFrom(i))}createAndFill(t=null,n,i){if(t=this.computeAttrs(t),n=le.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let s=this.contentMatch.matchFragment(n),r=s&&s.fillBefore(le.empty,!0);return r?new Ca(this,t,n.append(r),Ut.setFrom(i)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let i=0;i<t.childCount;i++)if(!this.allowsMarks(t.child(i).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){aI(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let i=0;i<t.length;i++)this.allowsMarkType(t[i].type)?n&&n.push(t[i]):n||(n=t.slice(0,i));return n?n.length?n:Ut.none:t}static compile(t,n){let i=Object.create(null);t.forEach((r,a)=>i[r]=new cI(r,n,a));let s=n.spec.topNode||"doc";if(!i[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!i.text)throw new RangeError("Every schema needs a 'text' type");for(let r in i.text.attrs)throw new RangeError("The text node type should not have attributes");return i}};function qJ(e,t,n){let i=n.split("|");return s=>{let r=s===null?"null":typeof s;if(i.indexOf(r)<0)throw new RangeError(`Expected value of type ${i} for attribute ${t} on type ${e}, got ${r}`)}}class YJ{constructor(t,n,i){this.hasDefault=Object.prototype.hasOwnProperty.call(i,"default"),this.default=i.default,this.validate=typeof i.validate=="string"?qJ(t,n,i.validate):i.validate}get isRequired(){return!this.hasDefault}}class qf{constructor(t,n,i,s){this.name=t,this.rank=n,this.schema=i,this.spec=s,this.attrs=lI(t,s.attrs),this.excluded=null;let r=rI(this.attrs);this.instance=r?new Ut(this,r):null}create(t=null){return!t&&this.instance?this.instance:new Ut(this,oI(this.attrs,t))}static compile(t,n){let i=Object.create(null),s=0;return t.forEach((r,a)=>i[r]=new qf(r,s++,n,a)),i}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){aI(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class uI{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let s in t)n[s]=t[s];n.nodes=Gn.from(t.nodes),n.marks=Gn.from(t.marks||{}),this.nodes=__.compile(this.spec.nodes,this),this.marks=qf.compile(this.spec.marks,this);let i=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let r=this.nodes[s],a=r.spec.content||"",u=r.spec.marks;if(r.contentMatch=i[a]||(i[a]=Na.parse(a,this.nodes)),r.inlineContent=r.contentMatch.inlineContent,r.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!r.isInline||!r.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=r}r.markSet=u=="_"?null:u?C_(this,u.split(" ")):u==""||!r.inlineContent?[]:null}for(let s in this.marks){let r=this.marks[s],a=r.spec.excludes;r.excluded=a==null?[r]:a==""?[]:C_(this,a.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,i,s){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof __){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,i,s)}text(t,n){let i=this.nodes.text;return new Lh(i,i.defaultAttrs,t,Ut.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeFromJSON(t){return Ca.fromJSON(this,t)}markFromJSON(t){return Ut.fromJSON(this,t)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}}function C_(e,t){let n=[];for(let i=0;i<t.length;i++){let s=t[i],r=e.marks[s],a=r;if(r)n.push(r);else for(let u in e.marks){let o=e.marks[u];(s=="_"||o.spec.group&&o.spec.group.split(" ").indexOf(s)>-1)&&n.push(a=o)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[i]+"'")}return n}function JJ(e){return e.tag!=null}function XJ(e){return e.style!=null}let iu=class Mm{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let i=this.matchedStyles=[];n.forEach(s=>{if(JJ(s))this.tags.push(s);else if(XJ(s)){let r=/[^=]*/.exec(s.style)[0];i.indexOf(r)<0&&i.push(r),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let r=t.nodes[s.node];return r.contentMatch.matchType(r)})}parse(t,n={}){let i=new x_(this,n,!1);return i.addAll(t,Ut.none,n.from,n.to),i.finish()}parseSlice(t,n={}){let i=new x_(this,n,!0);return i.addAll(t,Ut.none,n.from,n.to),ye.maxOpen(i.finish())}matchTag(t,n,i){for(let s=i?this.tags.indexOf(i)+1:0;s<this.tags.length;s++){let r=this.tags[s];if(eX(t,r.tag)&&(r.namespace===void 0||t.namespaceURI==r.namespace)&&(!r.context||n.matchesContext(r.context))){if(r.getAttrs){let a=r.getAttrs(t);if(a===!1)continue;r.attrs=a||void 0}return r}}}matchStyle(t,n,i,s){for(let r=s?this.styles.indexOf(s)+1:0;r<this.styles.length;r++){let a=this.styles[r],u=a.style;if(!(u.indexOf(t)!=0||a.context&&!i.matchesContext(a.context)||u.length>t.length&&(u.charCodeAt(t.length)!=61||u.slice(t.length+1)!=n))){if(a.getAttrs){let o=a.getAttrs(n);if(o===!1)continue;a.attrs=o||void 0}return a}}}static schemaRules(t){let n=[];function i(s){let r=s.priority==null?50:s.priority,a=0;for(;a<n.length;a++){let u=n[a];if((u.priority==null?50:u.priority)<r)break}n.splice(a,0,s)}for(let s in t.marks){let r=t.marks[s].spec.parseDOM;r&&r.forEach(a=>{i(a=T_(a)),a.mark||a.ignore||a.clearMark||(a.mark=s)})}for(let s in t.nodes){let r=t.nodes[s].spec.parseDOM;r&&r.forEach(a=>{i(a=T_(a)),a.node||a.ignore||a.mark||(a.node=s)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new Mm(t,Mm.schemaRules(t)))}};const dI={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ZJ={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},hI={ol:!0,ul:!0},Fh=1,Vh=2,su=4;function S_(e,t,n){return t!=null?(t?Fh:0)|(t==="full"?Vh:0):e&&e.whitespace=="pre"?Fh|Vh:n&~su}class Od{constructor(t,n,i,s,r,a){this.type=t,this.attrs=n,this.marks=i,this.solid=s,this.options=a,this.content=[],this.activeMarks=Ut.none,this.match=r||(a&su?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(le.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let i=this.type.contentMatch,s;return(s=i.findWrapping(t.type))?(this.match=i,s):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&Fh)){let i=this.content[this.content.length-1],s;if(i&&i.isText&&(s=/[ \t\r\n\u000c]+$/.exec(i.text))){let r=i;i.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=r.withText(r.text.slice(0,r.text.length-s[0].length))}}let n=le.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(le.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!dI.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class x_{constructor(t,n,i){this.parser=t,this.options=n,this.isOpen=i,this.open=0;let s=n.topNode,r,a=S_(null,n.preserveWhitespace,0)|(i?su:0);s?r=new Od(s.type,s.attrs,Ut.none,!0,n.topMatch||s.type.contentMatch,a):i?r=new Od(null,null,Ut.none,!0,null,a):r=new Od(t.schema.topNodeType,null,Ut.none,!0,null,a),this.nodes=[r],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,n){t.nodeType==3?this.addTextNode(t,n):t.nodeType==1&&this.addElement(t,n)}addTextNode(t,n){let i=t.nodeValue,s=this.top;if(s.options&Vh||s.inlineContext(t)||/[^ \t\r\n\u000c]/.test(i)){if(s.options&Fh)s.options&Vh?i=i.replace(/\r\n?/g,`
`):i=i.replace(/\r?\n|\r/g," ");else if(i=i.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(i)&&this.open==this.nodes.length-1){let r=s.content[s.content.length-1],a=t.previousSibling;(!r||a&&a.nodeName=="BR"||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(i=i.slice(1))}i&&this.insertNode(this.parser.schema.text(i),n),this.findInText(t)}else this.findInside(t)}addElement(t,n,i){let s=t.nodeName.toLowerCase(),r;hI.hasOwnProperty(s)&&this.parser.normalizeLists&&QJ(t);let a=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(r=this.parser.matchTag(t,this,i));if(a?a.ignore:ZJ.hasOwnProperty(s))this.findInside(t),this.ignoreFallback(t,n);else if(!a||a.skip||a.closeParent){a&&a.closeParent?this.open=Math.max(0,this.open-1):a&&a.skip.nodeType&&(t=a.skip);let u,o=this.top,l=this.needsBlock;if(dI.hasOwnProperty(s))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),u=!0,o.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,n);return}let c=a&&a.skip?n:this.readStyles(t,n);c&&this.addAll(t,c),u&&this.sync(o),this.needsBlock=l}else{let u=this.readStyles(t,n);u&&this.addElementByRule(t,a,u,a.consuming===!1?r:void 0)}}leafFallback(t,n){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),n)}ignoreFallback(t,n){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(t,n){let i=t.style;if(i&&i.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let r=this.parser.matchedStyles[s],a=i.getPropertyValue(r);if(a)for(let u=void 0;;){let o=this.parser.matchStyle(r,a,this,u);if(!o)break;if(o.ignore)return null;if(o.clearMark?n=n.filter(l=>!o.clearMark(l)):n=n.concat(this.parser.schema.marks[o.mark].create(o.attrs)),o.consuming===!1)u=o;else break}}return n}addElementByRule(t,n,i,s){let r,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),i)||this.leafFallback(t,i);else{let o=this.enter(a,n.attrs||null,i,n.preserveWhitespace);o&&(r=!0,i=o)}else{let o=this.parser.schema.marks[n.mark];i=i.concat(o.create(n.attrs))}let u=this.top;if(a&&a.isLeaf)this.findInside(t);else if(s)this.addElement(t,i,s);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(o=>this.insertNode(o,i));else{let o=t;typeof n.contentElement=="string"?o=t.querySelector(n.contentElement):typeof n.contentElement=="function"?o=n.contentElement(t):n.contentElement&&(o=n.contentElement),this.findAround(t,o,!0),this.addAll(o,i),this.findAround(t,o,!1)}r&&this.sync(u)&&this.open--}addAll(t,n,i,s){let r=i||0;for(let a=i?t.childNodes[i]:t.firstChild,u=s==null?null:t.childNodes[s];a!=u;a=a.nextSibling,++r)this.findAtPoint(t,r),this.addDOM(a,n);this.findAtPoint(t,r)}findPlace(t,n){let i,s;for(let r=this.open;r>=0;r--){let a=this.nodes[r],u=a.findWrapping(t);if(u&&(!i||i.length>u.length)&&(i=u,s=a,!u.length)||a.solid)break}if(!i)return null;this.sync(s);for(let r=0;r<i.length;r++)n=this.enterInner(i[r],null,n,!1);return n}insertNode(t,n){if(t.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let i=this.findPlace(t,n);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(t.type));let r=Ut.none;for(let a of i.concat(t.marks))(s.type?s.type.allowsMarkType(a.type):w_(a.type,t.type))&&(r=a.addToSet(r));return s.content.push(t.mark(r)),!0}return!1}enter(t,n,i,s){let r=this.findPlace(t.create(n),i);return r&&(r=this.enterInner(t,n,i,!0,s)),r}enterInner(t,n,i,s=!1,r){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(t);let u=S_(t,r,a.options);a.options&su&&a.content.length==0&&(u|=su);let o=Ut.none;return i=i.filter(l=>(a.type?a.type.allowsMarkType(l.type):w_(l.type,t))?(o=l.addToSet(o),!1):!0),this.nodes.push(new Od(t,n,o,s,null,u)),this.open++,i}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(t){for(let n=this.open;n>=0;n--)if(this.nodes[n]==t)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let i=this.nodes[n].content;for(let s=i.length-1;s>=0;s--)t+=i[s].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let i=0;i<this.find.length;i++)this.find[i].node==t&&this.find[i].offset==n&&(this.find[i].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,i){if(t!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&t.nodeType==1&&t.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(i?2:4)&&(this.find[s].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),i=this.options.context,s=!this.isOpen&&(!i||i.parent.type==this.nodes[0].type),r=-(i?i.depth+1:0)+(s?0:1),a=(u,o)=>{for(;u>=0;u--){let l=n[u];if(l==""){if(u==n.length-1||u==0)continue;for(;o>=r;o--)if(a(u-1,o))return!0;return!1}else{let c=o>0||o==0&&s?this.nodes[o].type:i&&o>=r?i.node(o-r).type:null;if(!c||c.name!=l&&!c.isInGroup(l))return!1;o--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let i=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(i&&i.isTextblock&&i.defaultAttrs)return i}for(let n in this.parser.schema.nodes){let i=this.parser.schema.nodes[n];if(i.isTextblock&&i.defaultAttrs)return i}}}function QJ(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let i=t.nodeType==1?t.nodeName.toLowerCase():null;i&&hI.hasOwnProperty(i)&&n?(n.appendChild(t),t=n):i=="li"?n=t:i&&(n=null)}}function eX(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function T_(e){let t={};for(let n in e)t[n]=e[n];return t}function w_(e,t){let n=t.schema.nodes;for(let i in n){let s=n[i];if(!s.allowsMarkType(e))continue;let r=[],a=u=>{r.push(u);for(let o=0;o<u.edgeCount;o++){let{type:l,next:c}=u.edge(o);if(l==t||r.indexOf(c)<0&&a(c))return!0}};if(a(s.contentMatch))return!0}}class Ua{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},i){i||(i=fg(n).createDocumentFragment());let s=i,r=[];return t.forEach(a=>{if(r.length||a.marks.length){let u=0,o=0;for(;u<r.length&&o<a.marks.length;){let l=a.marks[o];if(!this.marks[l.type.name]){o++;continue}if(!l.eq(r[u][0])||l.type.spec.spanning===!1)break;u++,o++}for(;u<r.length;)s=r.pop()[1];for(;o<a.marks.length;){let l=a.marks[o++],c=this.serializeMark(l,a.isInline,n);c&&(r.push([l,s]),s.appendChild(c.dom),s=c.contentDOM||c.dom)}}s.appendChild(this.serializeNodeInner(a,n))}),i}serializeNodeInner(t,n){let{dom:i,contentDOM:s}=Zd(fg(n),this.nodes[t.type.name](t),null,t.attrs);if(s){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,s)}return i}serializeNode(t,n={}){let i=this.serializeNodeInner(t,n);for(let s=t.marks.length-1;s>=0;s--){let r=this.serializeMark(t.marks[s],t.isInline,n);r&&((r.contentDOM||r.dom).appendChild(i),i=r.dom)}return i}serializeMark(t,n,i={}){let s=this.marks[t.type.name];return s&&Zd(fg(i),s(t,n),null,t.attrs)}static renderSpec(t,n,i=null,s){return Zd(t,n,i,s)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new Ua(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=I_(t.nodes);return n.text||(n.text=i=>i.text),n}static marksFromSchema(t){return I_(t.marks)}}function I_(e){let t={};for(let n in e){let i=e[n].spec.toDOM;i&&(t[n]=i)}return t}function fg(e){return e.document||window.document}const O_=new WeakMap;function tX(e){let t=O_.get(e);return t===void 0&&O_.set(e,t=nX(e)),t}function nX(e){let t=null;function n(i){if(i&&typeof i=="object")if(Array.isArray(i))if(typeof i[0]=="string")t||(t=[]),t.push(i);else for(let s=0;s<i.length;s++)n(i[s]);else for(let s in i)n(i[s])}return n(e),t}function Zd(e,t,n,i){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let s=t[0],r;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(i&&(r=tX(i))&&r.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=s.indexOf(" ");a>0&&(n=s.slice(0,a),s=s.slice(a+1));let u,o=n?e.createElementNS(n,s):e.createElement(s),l=t[1],c=1;if(l&&typeof l=="object"&&l.nodeType==null&&!Array.isArray(l)){c=2;for(let d in l)if(l[d]!=null){let h=d.indexOf(" ");h>0?o.setAttributeNS(d.slice(0,h),d.slice(h+1),l[d]):o.setAttribute(d,l[d])}}for(let d=c;d<t.length;d++){let h=t[d];if(h===0){if(d<t.length-1||d>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:o,contentDOM:o}}else{let{dom:f,contentDOM:p}=Zd(e,h,n,i);if(o.appendChild(f),p){if(u)throw new RangeError("Multiple content holes");u=p}}}return{dom:o,contentDOM:u}}const fI=65535,pI=Math.pow(2,16);function iX(e,t){return e+t*pI}function k_(e){return e&fI}function sX(e){return(e-(e&fI))/pI}const gI=1,mI=2,Qd=4,vI=8;class Nm{constructor(t,n,i){this.pos=t,this.delInfo=n,this.recover=i}get deleted(){return(this.delInfo&vI)>0}get deletedBefore(){return(this.delInfo&(gI|Qd))>0}get deletedAfter(){return(this.delInfo&(mI|Qd))>0}get deletedAcross(){return(this.delInfo&Qd)>0}}class Wi{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&Wi.empty)return Wi.empty}recover(t){let n=0,i=k_(t);if(!this.inverted)for(let s=0;s<i;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[i*3]+n+sX(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,i){let s=0,r=this.inverted?2:1,a=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let o=this.ranges[u]-(this.inverted?s:0);if(o>t)break;let l=this.ranges[u+r],c=this.ranges[u+a],d=o+l;if(t<=d){let h=l?t==o?-1:t==d?1:n:n,f=o+s+(h<0?0:c);if(i)return f;let p=t==(n<0?o:d)?null:iX(u/3,t-o),g=t==o?mI:t==d?gI:Qd;return(n<0?t!=o:t!=d)&&(g|=vI),new Nm(f,g,p)}s+=c-l}return i?t+s:new Nm(t+s,0,null)}touches(t,n){let i=0,s=k_(n),r=this.inverted?2:1,a=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let o=this.ranges[u]-(this.inverted?i:0);if(o>t)break;let l=this.ranges[u+r],c=o+l;if(t<=c&&u==s*3)return!0;i+=this.ranges[u+a]-l}return!1}forEach(t){let n=this.inverted?2:1,i=this.inverted?1:2;for(let s=0,r=0;s<this.ranges.length;s+=3){let a=this.ranges[s],u=a-(this.inverted?r:0),o=a+(this.inverted?0:r),l=this.ranges[s+n],c=this.ranges[s+i];t(u,u+l,o,o+c),r+=c-l}}invert(){return new Wi(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?Wi.empty:new Wi(t<0?[0,-t,0]:[0,0,t])}}Wi.empty=new Wi([]);class ru{constructor(t=[],n,i=0,s=t.length){this.maps=t,this.mirror=n,this.from=i,this.to=s}slice(t=0,n=this.maps.length){return new ru(this.maps,this.mirror,t,n)}copy(){return new ru(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,n){this.to=this.maps.push(t),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(t){for(let n=0,i=this.maps.length;n<t.maps.length;n++){let s=t.getMirror(n);this.appendMap(t.maps[n],s!=null&&s<n?i+s:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,i=this.maps.length+t.maps.length;n>=0;n--){let s=t.getMirror(n);this.appendMap(t.maps[n].invert(),s!=null&&s>n?i-s-1:void 0)}}invert(){let t=new ru;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let i=this.from;i<this.to;i++)t=this.maps[i].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,i){let s=0;for(let r=this.from;r<this.to;r++){let a=this.maps[r],u=a.mapResult(t,n);if(u.recover!=null){let o=this.getMirror(r);if(o!=null&&o>r&&o<this.to){r=o,t=this.maps[o].recover(u.recover);continue}}s|=u.delInfo,t=u.pos}return i?t:new Nm(t,s,null)}}const pg=Object.create(null);class oi{getMap(){return Wi.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let i=pg[n.stepType];if(!i)throw new RangeError(`No step type ${n.stepType} defined`);return i.fromJSON(t,n)}static jsonID(t,n){if(t in pg)throw new RangeError("Duplicate use of step JSON ID "+t);return pg[t]=n,n.prototype.jsonID=t,n}}class En{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new En(t,null)}static fail(t){return new En(null,t)}static fromReplace(t,n,i,s){try{return En.ok(t.replace(n,i,s))}catch(r){if(r instanceof Nh)return En.fail(r.message);throw r}}}function $y(e,t,n){let i=[];for(let s=0;s<e.childCount;s++){let r=e.child(s);r.content.size&&(r=r.copy($y(r.content,t,r))),r.isInline&&(r=t(r,n,s)),i.push(r)}return le.fromArray(i)}class go extends oi{constructor(t,n,i){super(),this.from=t,this.to=n,this.mark=i}apply(t){let n=t.slice(this.from,this.to),i=t.resolve(this.from),s=i.node(i.sharedDepth(this.to)),r=new ye($y(n.content,(a,u)=>!a.isAtom||!u.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),s),n.openStart,n.openEnd);return En.fromReplace(t,this.from,this.to,r)}invert(){return new sr(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),i=t.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new go(n.pos,i.pos,this.mark)}merge(t){return t instanceof go&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new go(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new go(n.from,n.to,t.markFromJSON(n.mark))}}oi.jsonID("addMark",go);class sr extends oi{constructor(t,n,i){super(),this.from=t,this.to=n,this.mark=i}apply(t){let n=t.slice(this.from,this.to),i=new ye($y(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),t),n.openStart,n.openEnd);return En.fromReplace(t,this.from,this.to,i)}invert(){return new go(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),i=t.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new sr(n.pos,i.pos,this.mark)}merge(t){return t instanceof sr&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new sr(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new sr(n.from,n.to,t.markFromJSON(n.mark))}}oi.jsonID("removeMark",sr);class mo extends oi{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return En.fail("No node at mark step's position");let i=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return En.fromReplace(t,this.pos,this.pos+1,new ye(le.from(i),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let i=this.mark.addToSet(n.marks);if(i.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(i))return new mo(this.pos,n.marks[s]);return new mo(this.pos,this.mark)}}return new Rl(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new mo(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new mo(n.pos,t.markFromJSON(n.mark))}}oi.jsonID("addNodeMark",mo);class Rl extends oi{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return En.fail("No node at mark step's position");let i=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return En.fromReplace(t,this.pos,this.pos+1,new ye(le.from(i),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new mo(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Rl(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Rl(n.pos,t.markFromJSON(n.mark))}}oi.jsonID("removeNodeMark",Rl);class Nn extends oi{constructor(t,n,i,s=!1){super(),this.from=t,this.to=n,this.slice=i,this.structure=s}apply(t){return this.structure&&Rm(t,this.from,this.to)?En.fail("Structure replace would overwrite content"):En.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new Wi([this.from,this.to-this.from,this.slice.size])}invert(t){return new Nn(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),i=t.mapResult(this.to,-1);return n.deletedAcross&&i.deletedAcross?null:new Nn(n.pos,Math.max(n.pos,i.pos),this.slice)}merge(t){if(!(t instanceof Nn)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?ye.empty:new ye(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new Nn(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?ye.empty:new ye(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new Nn(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Nn(n.from,n.to,ye.fromJSON(t,n.slice),!!n.structure)}}oi.jsonID("replace",Nn);class Ln extends oi{constructor(t,n,i,s,r,a,u=!1){super(),this.from=t,this.to=n,this.gapFrom=i,this.gapTo=s,this.slice=r,this.insert=a,this.structure=u}apply(t){if(this.structure&&(Rm(t,this.from,this.gapFrom)||Rm(t,this.gapTo,this.to)))return En.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return En.fail("Gap is not a flat range");let i=this.slice.insertAt(this.insert,n.content);return i?En.fromReplace(t,this.from,this.to,i):En.fail("Content does not fit in gap")}getMap(){return new Wi([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new Ln(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),i=t.mapResult(this.to,-1),s=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),r=this.to==this.gapTo?i.pos:t.map(this.gapTo,1);return n.deletedAcross&&i.deletedAcross||s<n.pos||r>i.pos?null:new Ln(n.pos,i.pos,s,r,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ln(n.from,n.to,n.gapFrom,n.gapTo,ye.fromJSON(t,n.slice),n.insert,!!n.structure)}}oi.jsonID("replaceAround",Ln);function Rm(e,t,n){let i=e.resolve(t),s=n-t,r=i.depth;for(;s>0&&r>0&&i.indexAfter(r)==i.node(r).childCount;)r--,s--;if(s>0){let a=i.node(r).maybeChild(i.indexAfter(r));for(;s>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,s--}}return!1}function rX(e,t,n,i){let s=[],r=[],a,u;e.doc.nodesBetween(t,n,(o,l,c)=>{if(!o.isInline)return;let d=o.marks;if(!i.isInSet(d)&&c.type.allowsMarkType(i.type)){let h=Math.max(l,t),f=Math.min(l+o.nodeSize,n),p=i.addToSet(d);for(let g=0;g<d.length;g++)d[g].isInSet(p)||(a&&a.to==h&&a.mark.eq(d[g])?a.to=f:s.push(a=new sr(h,f,d[g])));u&&u.to==h?u.to=f:r.push(u=new go(h,f,i))}}),s.forEach(o=>e.step(o)),r.forEach(o=>e.step(o))}function oX(e,t,n,i){let s=[],r=0;e.doc.nodesBetween(t,n,(a,u)=>{if(!a.isInline)return;r++;let o=null;if(i instanceof qf){let l=a.marks,c;for(;c=i.isInSet(l);)(o||(o=[])).push(c),l=c.removeFromSet(l)}else i?i.isInSet(a.marks)&&(o=[i]):o=a.marks;if(o&&o.length){let l=Math.min(u+a.nodeSize,n);for(let c=0;c<o.length;c++){let d=o[c],h;for(let f=0;f<s.length;f++){let p=s[f];p.step==r-1&&d.eq(s[f].style)&&(h=p)}h?(h.to=l,h.step=r):s.push({style:d,from:Math.max(u,t),to:l,step:r})}}}),s.forEach(a=>e.step(new sr(a.from,a.to,a.style)))}function My(e,t,n,i=n.contentMatch,s=!0){let r=e.doc.nodeAt(t),a=[],u=t+1;for(let o=0;o<r.childCount;o++){let l=r.child(o),c=u+l.nodeSize,d=i.matchType(l.type);if(!d)a.push(new Nn(u,c,ye.empty));else{i=d;for(let h=0;h<l.marks.length;h++)n.allowsMarkType(l.marks[h].type)||e.step(new sr(u,c,l.marks[h]));if(s&&l.isText&&n.whitespace!="pre"){let h,f=/\r?\n|\r/g,p;for(;h=f.exec(l.text);)p||(p=new ye(le.from(n.schema.text(" ",n.allowedMarks(l.marks))),0,0)),a.push(new Nn(u+h.index,u+h.index+h[0].length,p))}}u=c}if(!i.validEnd){let o=i.fillBefore(le.empty,!0);e.replace(u,u,new ye(o,0,0))}for(let o=a.length-1;o>=0;o--)e.step(a[o])}function aX(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function ec(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let i=e.depth;;--i){let s=e.$from.node(i),r=e.$from.index(i),a=e.$to.indexAfter(i);if(i<e.depth&&s.canReplace(r,a,n))return i;if(i==0||s.type.spec.isolating||!aX(s,r,a))break}return null}function lX(e,t,n){let{$from:i,$to:s,depth:r}=t,a=i.before(r+1),u=s.after(r+1),o=a,l=u,c=le.empty,d=0;for(let p=r,g=!1;p>n;p--)g||i.index(p)>0?(g=!0,c=le.from(i.node(p).copy(c)),d++):o--;let h=le.empty,f=0;for(let p=r,g=!1;p>n;p--)g||s.after(p+1)<s.end(p)?(g=!0,h=le.from(s.node(p).copy(h)),f++):l++;e.step(new Ln(o,l,a,u,new ye(c.append(h),d,f),c.size-d,!0))}function Ny(e,t,n=null,i=e){let s=cX(e,t),r=s&&uX(i,t);return r?s.map(A_).concat({type:t,attrs:n}).concat(r.map(A_)):null}function A_(e){return{type:e,attrs:null}}function cX(e,t){let{parent:n,startIndex:i,endIndex:s}=e,r=n.contentMatchAt(i).findWrapping(t);if(!r)return null;let a=r.length?r[0]:t;return n.canReplaceWith(i,s,a)?r:null}function uX(e,t){let{parent:n,startIndex:i,endIndex:s}=e,r=n.child(i),a=t.contentMatch.findWrapping(r.type);if(!a)return null;let o=(a.length?a[a.length-1]:t).contentMatch;for(let l=i;o&&l<s;l++)o=o.matchType(n.child(l).type);return!o||!o.validEnd?null:a}function dX(e,t,n){let i=le.empty;for(let a=n.length-1;a>=0;a--){if(i.size){let u=n[a].type.contentMatch.matchFragment(i);if(!u||!u.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=le.from(n[a].type.create(n[a].attrs,i))}let s=t.start,r=t.end;e.step(new Ln(s,r,s,r,new ye(i,0,0),n.length,!0))}function hX(e,t,n,i,s){if(!i.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let r=e.steps.length;e.doc.nodesBetween(t,n,(a,u)=>{let o=typeof s=="function"?s(a):s;if(a.isTextblock&&!a.hasMarkup(i,o)&&fX(e.doc,e.mapping.slice(r).map(u),i)){let l=null;if(i.schema.linebreakReplacement){let f=i.whitespace=="pre",p=!!i.contentMatch.matchType(i.schema.linebreakReplacement);f&&!p?l=!1:!f&&p&&(l=!0)}l===!1&&bI(e,a,u,r),My(e,e.mapping.slice(r).map(u,1),i,void 0,l===null);let c=e.mapping.slice(r),d=c.map(u,1),h=c.map(u+a.nodeSize,1);return e.step(new Ln(d,h,d+1,h-1,new ye(le.from(i.create(o,null,a.marks)),0,0),1,!0)),l===!0&&yI(e,a,u,r),!1}})}function yI(e,t,n,i){t.forEach((s,r)=>{if(s.isText){let a,u=/\r?\n|\r/g;for(;a=u.exec(s.text);){let o=e.mapping.slice(i).map(n+1+r+a.index);e.replaceWith(o,o+1,t.type.schema.linebreakReplacement.create())}}})}function bI(e,t,n,i){t.forEach((s,r)=>{if(s.type==s.type.schema.linebreakReplacement){let a=e.mapping.slice(i).map(n+1+r);e.replaceWith(a,a+1,t.type.schema.text(`
`))}})}function fX(e,t,n){let i=e.resolve(t),s=i.index();return i.parent.canReplaceWith(s,s+1,n)}function pX(e,t,n,i,s){let r=e.doc.nodeAt(t);if(!r)throw new RangeError("No node at given position");n||(n=r.type);let a=n.create(i,null,s||r.marks);if(r.isLeaf)return e.replaceWith(t,t+r.nodeSize,a);if(!n.validContent(r.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new Ln(t,t+r.nodeSize,t+1,t+r.nodeSize-1,new ye(le.from(a),0,0),1,!0))}function Tl(e,t,n=1,i){let s=e.resolve(t),r=s.depth-n,a=i&&i[i.length-1]||s.parent;if(r<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!a.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let l=s.depth-1,c=n-2;l>r;l--,c--){let d=s.node(l),h=s.index(l);if(d.type.spec.isolating)return!1;let f=d.content.cutByIndex(h,d.childCount),p=i&&i[c+1];p&&(f=f.replaceChild(0,p.type.create(p.attrs)));let g=i&&i[c]||d;if(!d.canReplace(h+1,d.childCount)||!g.type.validContent(f))return!1}let u=s.indexAfter(r),o=i&&i[0];return s.node(r).canReplaceWith(u,u,o?o.type:s.node(r+1).type)}function gX(e,t,n=1,i){let s=e.doc.resolve(t),r=le.empty,a=le.empty;for(let u=s.depth,o=s.depth-n,l=n-1;u>o;u--,l--){r=le.from(s.node(u).copy(r));let c=i&&i[l];a=le.from(c?c.type.create(c.attrs,a):s.node(u).copy(a))}e.step(new Nn(t,t,new ye(r.append(a),n,n),!0))}function Wo(e,t){let n=e.resolve(t),i=n.index();return EI(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(i,i+1)}function mX(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:i}=e.type.schema;for(let s=0;s<t.childCount;s++){let r=t.child(s),a=r.type==i?e.type.schema.nodes.text:r.type;if(n=n.matchType(a),!n||!e.type.allowsMarks(r.marks))return!1}return n.validEnd}function EI(e,t){return!!(e&&t&&!e.isLeaf&&mX(e,t))}function Yf(e,t,n=-1){let i=e.resolve(t);for(let s=i.depth;;s--){let r,a,u=i.index(s);if(s==i.depth?(r=i.nodeBefore,a=i.nodeAfter):n>0?(r=i.node(s+1),u++,a=i.node(s).maybeChild(u)):(r=i.node(s).maybeChild(u-1),a=i.node(s+1)),r&&!r.isTextblock&&EI(r,a)&&i.node(s).canReplace(u,u+1))return t;if(s==0)break;t=n<0?i.before(s):i.after(s)}}function vX(e,t,n){let i=null,{linebreakReplacement:s}=e.doc.type.schema,r=e.doc.resolve(t-n),a=r.node().type;if(s&&a.inlineContent){let c=a.whitespace=="pre",d=!!a.contentMatch.matchType(s);c&&!d?i=!1:!c&&d&&(i=!0)}let u=e.steps.length;if(i===!1){let c=e.doc.resolve(t+n);bI(e,c.node(),c.before(),u)}a.inlineContent&&My(e,t+n-1,a,r.node().contentMatchAt(r.index()),i==null);let o=e.mapping.slice(u),l=o.map(t-n);if(e.step(new Nn(l,o.map(t+n,-1),ye.empty,!0)),i===!0){let c=e.doc.resolve(l);yI(e,c.node(),c.before(),e.steps.length)}return e}function yX(e,t,n){let i=e.resolve(t);if(i.parent.canReplaceWith(i.index(),i.index(),n))return t;if(i.parentOffset==0)for(let s=i.depth-1;s>=0;s--){let r=i.index(s);if(i.node(s).canReplaceWith(r,r,n))return i.before(s+1);if(r>0)return null}if(i.parentOffset==i.parent.content.size)for(let s=i.depth-1;s>=0;s--){let r=i.indexAfter(s);if(i.node(s).canReplaceWith(r,r,n))return i.after(s+1);if(r<i.node(s).childCount)return null}return null}function bX(e,t,n){let i=e.resolve(t);if(!n.content.size)return t;let s=n.content;for(let r=0;r<n.openStart;r++)s=s.firstChild.content;for(let r=1;r<=(n.openStart==0&&n.size?2:1);r++)for(let a=i.depth;a>=0;a--){let u=a==i.depth?0:i.pos<=(i.start(a+1)+i.end(a+1))/2?-1:1,o=i.index(a)+(u>0?1:0),l=i.node(a),c=!1;if(r==1)c=l.canReplace(o,o,s);else{let d=l.contentMatchAt(o).findWrapping(s.firstChild.type);c=d&&l.canReplaceWith(o,o,d[0])}if(c)return u==0?i.pos:u<0?i.before(a+1):i.after(a+1)}return null}function Jf(e,t,n=t,i=ye.empty){if(t==n&&!i.size)return null;let s=e.resolve(t),r=e.resolve(n);return _I(s,r,i)?new Nn(t,n,i):new EX(s,r,i).fit()}function _I(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class EX{constructor(t,n,i){this.$from=t,this.$to=n,this.unplaced=i,this.frontier=[],this.placed=le.empty;for(let s=0;s<=t.depth;s++){let r=t.node(s);this.frontier.push({type:r.type,match:r.contentMatchAt(t.indexAfter(s))})}for(let s=t.depth;s>0;s--)this.placed=le.from(t.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let l=this.findFittable();l?this.placeNodes(l):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,i=this.$from,s=this.close(t<0?this.$to:i.doc.resolve(t));if(!s)return null;let r=this.placed,a=i.depth,u=s.depth;for(;a&&u&&r.childCount==1;)r=r.firstChild.content,a--,u--;let o=new ye(r,a,u);return t>-1?new Ln(i.pos,t,this.$to.pos,this.$to.end(),o,n):o.size||i.pos!=this.$to.pos?new Nn(i.pos,s.pos,o):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,i=0,s=this.unplaced.openEnd;i<t;i++){let r=n.firstChild;if(n.childCount>1&&(s=0),r.type.spec.isolating&&s<=i){t=i;break}n=r.content}for(let n=1;n<=2;n++)for(let i=n==1?t:this.unplaced.openStart;i>=0;i--){let s,r=null;i?(r=gg(this.unplaced.content,i-1).firstChild,s=r.content):s=this.unplaced.content;let a=s.firstChild;for(let u=this.depth;u>=0;u--){let{type:o,match:l}=this.frontier[u],c,d=null;if(n==1&&(a?l.matchType(a.type)||(d=l.fillBefore(le.from(a),!1)):r&&o.compatibleContent(r.type)))return{sliceDepth:i,frontierDepth:u,parent:r,inject:d};if(n==2&&a&&(c=l.findWrapping(a.type)))return{sliceDepth:i,frontierDepth:u,parent:r,wrap:c};if(r&&l.matchType(r.type))break}}}openMore(){let{content:t,openStart:n,openEnd:i}=this.unplaced,s=gg(t,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new ye(t,n+1,Math.max(i,s.size+n>=t.size-i?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:i}=this.unplaced,s=gg(t,n);if(s.childCount<=1&&n>0){let r=t.size-n<=n+s.size;this.unplaced=new ye(Rc(t,n-1,1),n-1,r?n-1:i)}else this.unplaced=new ye(Rc(t,n,1),n,i)}placeNodes({sliceDepth:t,frontierDepth:n,parent:i,inject:s,wrap:r}){for(;this.depth>n;)this.closeFrontierNode();if(r)for(let g=0;g<r.length;g++)this.openFrontierNode(r[g]);let a=this.unplaced,u=i?i.content:a.content,o=a.openStart-t,l=0,c=[],{match:d,type:h}=this.frontier[n];if(s){for(let g=0;g<s.childCount;g++)c.push(s.child(g));d=d.matchFragment(s)}let f=u.size+t-(a.content.size-a.openEnd);for(;l<u.childCount;){let g=u.child(l),m=d.matchType(g.type);if(!m)break;l++,(l>1||o==0||g.content.size)&&(d=m,c.push(CI(g.mark(h.allowedMarks(g.marks)),l==1?o:0,l==u.childCount?f:-1)))}let p=l==u.childCount;p||(f=-1),this.placed=Dc(this.placed,n,le.from(c)),this.frontier[n].match=d,p&&f<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,m=u;g<f;g++){let y=m.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),m=y.content}this.unplaced=p?t==0?ye.empty:new ye(Rc(a.content,t-1,1),t-1,f<0?a.openEnd:t-1):new ye(Rc(a.content,t,l),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!mg(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:i}=this.$to,s=this.$to.after(i);for(;i>1&&s==this.$to.end(--i);)++s;return s}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:i,type:s}=this.frontier[n],r=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),a=mg(t,n,s,i,r);if(a){for(let u=n-1;u>=0;u--){let{match:o,type:l}=this.frontier[u],c=mg(t,u,l,o,!0);if(!c||c.childCount)continue e}return{depth:n,fit:a,move:r?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Dc(this.placed,n.depth,n.fit)),t=n.move;for(let i=n.depth+1;i<=t.depth;i++){let s=t.node(i),r=s.type.contentMatch.fillBefore(s.content,!0,t.index(i));this.openFrontierNode(s.type,s.attrs,r)}return t}openFrontierNode(t,n=null,i){let s=this.frontier[this.depth];s.match=s.match.matchType(t),this.placed=Dc(this.placed,this.depth,le.from(t.create(n,i))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(le.empty,!0);n.childCount&&(this.placed=Dc(this.placed,this.frontier.length,n))}}function Rc(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(Rc(e.firstChild.content,t-1,n)))}function Dc(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(Dc(e.lastChild.content,t-1,n)))}function gg(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function CI(e,t,n){if(t<=0)return e;let i=e.content;return t>1&&(i=i.replaceChild(0,CI(i.firstChild,t-1,i.childCount==1?n-1:0))),t>0&&(i=e.type.contentMatch.fillBefore(i).append(i),n<=0&&(i=i.append(e.type.contentMatch.matchFragment(i).fillBefore(le.empty,!0)))),e.copy(i)}function mg(e,t,n,i,s){let r=e.node(t),a=s?e.indexAfter(t):e.index(t);if(a==r.childCount&&!n.compatibleContent(r.type))return null;let u=i.fillBefore(r.content,!0,a);return u&&!_X(n,r.content,a)?u:null}function _X(e,t,n){for(let i=n;i<t.childCount;i++)if(!e.allowsMarks(t.child(i).marks))return!0;return!1}function CX(e){return e.spec.defining||e.spec.definingForContent}function SX(e,t,n,i){if(!i.size)return e.deleteRange(t,n);let s=e.doc.resolve(t),r=e.doc.resolve(n);if(_I(s,r,i))return e.step(new Nn(t,n,i));let a=xI(s,e.doc.resolve(n));a[a.length-1]==0&&a.pop();let u=-(s.depth+1);a.unshift(u);for(let h=s.depth,f=s.pos-1;h>0;h--,f--){let p=s.node(h).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;a.indexOf(h)>-1?u=h:s.before(h)==f&&a.splice(1,0,-h)}let o=a.indexOf(u),l=[],c=i.openStart;for(let h=i.content,f=0;;f++){let p=h.firstChild;if(l.push(p),f==i.openStart)break;h=p.content}for(let h=c-1;h>=0;h--){let f=l[h],p=CX(f.type);if(p&&!f.sameMarkup(s.node(Math.abs(u)-1)))c=h;else if(p||!f.type.isTextblock)break}for(let h=i.openStart;h>=0;h--){let f=(h+c+1)%(i.openStart+1),p=l[f];if(p)for(let g=0;g<a.length;g++){let m=a[(g+o)%a.length],y=!0;m<0&&(y=!1,m=-m);let b=s.node(m-1),E=s.index(m-1);if(b.canReplaceWith(E,E,p.type,p.marks))return e.replace(s.before(m),y?r.after(m):n,new ye(SI(i.content,0,i.openStart,f),f,i.openEnd))}}let d=e.steps.length;for(let h=a.length-1;h>=0&&(e.replace(t,n,i),!(e.steps.length>d));h--){let f=a[h];f<0||(t=s.before(f),n=r.after(f))}}function SI(e,t,n,i,s){if(t<n){let r=e.firstChild;e=e.replaceChild(0,r.copy(SI(r.content,t+1,n,i,r)))}if(t>i){let r=s.contentMatchAt(0),a=r.fillBefore(e).append(e);e=a.append(r.matchFragment(a).fillBefore(le.empty,!0))}return e}function xX(e,t,n,i){if(!i.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let s=yX(e.doc,t,i.type);s!=null&&(t=n=s)}e.replaceRange(t,n,new ye(le.from(i),0,0))}function TX(e,t,n){let i=e.doc.resolve(t),s=e.doc.resolve(n),r=xI(i,s);for(let a=0;a<r.length;a++){let u=r[a],o=a==r.length-1;if(o&&u==0||i.node(u).type.contentMatch.validEnd)return e.delete(i.start(u),s.end(u));if(u>0&&(o||i.node(u-1).canReplace(i.index(u-1),s.indexAfter(u-1))))return e.delete(i.before(u),s.after(u))}for(let a=1;a<=i.depth&&a<=s.depth;a++)if(t-i.start(a)==i.depth-a&&n>i.end(a)&&s.end(a)-n!=s.depth-a&&i.start(a-1)==s.start(a-1)&&i.node(a-1).canReplace(i.index(a-1),s.index(a-1)))return e.delete(i.before(a),n);e.delete(t,n)}function xI(e,t){let n=[],i=Math.min(e.depth,t.depth);for(let s=i;s>=0;s--){let r=e.start(s);if(r<e.pos-(e.depth-s)||t.end(s)>t.pos+(t.depth-s)||e.node(s).type.spec.isolating||t.node(s).type.spec.isolating)break;(r==t.start(s)||s==e.depth&&s==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&s&&t.start(s-1)==r-1)&&n.push(s)}return n}class wl extends oi{constructor(t,n,i){super(),this.pos=t,this.attr=n,this.value=i}apply(t){let n=t.nodeAt(this.pos);if(!n)return En.fail("No node at attribute step's position");let i=Object.create(null);for(let r in n.attrs)i[r]=n.attrs[r];i[this.attr]=this.value;let s=n.type.create(i,null,n.marks);return En.fromReplace(t,this.pos,this.pos+1,new ye(le.from(s),0,n.isLeaf?0:1))}getMap(){return Wi.empty}invert(t){return new wl(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new wl(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new wl(n.pos,n.attr,n.value)}}oi.jsonID("attr",wl);class xu extends oi{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let s in t.attrs)n[s]=t.attrs[s];n[this.attr]=this.value;let i=t.type.create(n,t.content,t.marks);return En.ok(i)}getMap(){return Wi.empty}invert(t){return new xu(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new xu(n.attr,n.value)}}oi.jsonID("docAttr",xu);let Dl=class extends Error{};Dl=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};Dl.prototype=Object.create(Error.prototype);Dl.prototype.constructor=Dl;Dl.prototype.name="TransformError";class wX{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new ru}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new Dl(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,i=ye.empty){let s=Jf(this.doc,t,n,i);return s&&this.step(s),this}replaceWith(t,n,i){return this.replace(t,n,new ye(le.from(i),0,0))}delete(t,n){return this.replace(t,n,ye.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,i){return SX(this,t,n,i),this}replaceRangeWith(t,n,i){return xX(this,t,n,i),this}deleteRange(t,n){return TX(this,t,n),this}lift(t,n){return lX(this,t,n),this}join(t,n=1){return vX(this,t,n),this}wrap(t,n){return dX(this,t,n),this}setBlockType(t,n=t,i,s=null){return hX(this,t,n,i,s),this}setNodeMarkup(t,n,i=null,s){return pX(this,t,n,i,s),this}setNodeAttribute(t,n,i){return this.step(new wl(t,n,i)),this}setDocAttribute(t,n){return this.step(new xu(t,n)),this}addNodeMark(t,n){return this.step(new mo(t,n)),this}removeNodeMark(t,n){if(!(n instanceof Ut)){let i=this.doc.nodeAt(t);if(!i)throw new RangeError("No node at position "+t);if(n=n.isInSet(i.marks),!n)return this}return this.step(new Rl(t,n)),this}split(t,n=1,i){return gX(this,t,n,i),this}addMark(t,n,i){return rX(this,t,n,i),this}removeMark(t,n,i){return oX(this,t,n,i),this}clearIncompatible(t,n,i){return My(this,t,n,i),this}}const vg=Object.create(null);class wt{constructor(t,n,i){this.$anchor=t,this.$head=n,this.ranges=i||[new IX(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=ye.empty){let i=n.content.lastChild,s=null;for(let u=0;u<n.openEnd;u++)s=i,i=i.lastChild;let r=t.steps.length,a=this.ranges;for(let u=0;u<a.length;u++){let{$from:o,$to:l}=a[u],c=t.mapping.slice(r);t.replaceRange(c.map(o.pos),c.map(l.pos),u?ye.empty:n),u==0&&M_(t,r,(i?i.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(t,n){let i=t.steps.length,s=this.ranges;for(let r=0;r<s.length;r++){let{$from:a,$to:u}=s[r],o=t.mapping.slice(i),l=o.map(a.pos),c=o.map(u.pos);r?t.deleteRange(l,c):(t.replaceRangeWith(l,c,n),M_(t,i,n.isInline?-1:1))}}static findFrom(t,n,i=!1){let s=t.parent.inlineContent?new yt(t):dl(t.node(0),t.parent,t.pos,t.index(),n,i);if(s)return s;for(let r=t.depth-1;r>=0;r--){let a=n<0?dl(t.node(0),t.node(r),t.before(r+1),t.index(r),n,i):dl(t.node(0),t.node(r),t.after(r+1),t.index(r)+1,n,i);if(a)return a}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new Bs(t.node(0))}static atStart(t){return dl(t,t,0,0,1)||new Bs(t)}static atEnd(t){return dl(t,t,t.content.size,t.childCount,-1)||new Bs(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let i=vg[n.type];if(!i)throw new RangeError(`No selection type ${n.type} defined`);return i.fromJSON(t,n)}static jsonID(t,n){if(t in vg)throw new RangeError("Duplicate use of selection JSON ID "+t);return vg[t]=n,n.prototype.jsonID=t,n}getBookmark(){return yt.between(this.$anchor,this.$head).getBookmark()}}wt.prototype.visible=!0;class IX{constructor(t,n){this.$from=t,this.$to=n}}let P_=!1;function $_(e){!P_&&!e.parent.inlineContent&&(P_=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class yt extends wt{constructor(t,n=t){$_(t),$_(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let i=t.resolve(n.map(this.head));if(!i.parent.inlineContent)return wt.near(i);let s=t.resolve(n.map(this.anchor));return new yt(s.parent.inlineContent?s:i,i)}replace(t,n=ye.empty){if(super.replace(t,n),n==ye.empty){let i=this.$from.marksAcross(this.$to);i&&t.ensureMarks(i)}}eq(t){return t instanceof yt&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new Xf(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new yt(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,i=n){let s=t.resolve(n);return new this(s,i==n?s:t.resolve(i))}static between(t,n,i){let s=t.pos-n.pos;if((!i||s)&&(i=s>=0?1:-1),!n.parent.inlineContent){let r=wt.findFrom(n,i,!0)||wt.findFrom(n,-i,!0);if(r)n=r.$head;else return wt.near(n,i)}return t.parent.inlineContent||(s==0?t=n:(t=(wt.findFrom(t,-i,!0)||wt.findFrom(t,i,!0)).$anchor,t.pos<n.pos!=s<0&&(t=n))),new yt(t,n)}}wt.jsonID("text",yt);class Xf{constructor(t,n){this.anchor=t,this.head=n}map(t){return new Xf(t.map(this.anchor),t.map(this.head))}resolve(t){return yt.between(t.resolve(this.anchor),t.resolve(this.head))}}class Qe extends wt{constructor(t){let n=t.nodeAfter,i=t.node(0).resolve(t.pos+n.nodeSize);super(t,i),this.node=n}map(t,n){let{deleted:i,pos:s}=n.mapResult(this.anchor),r=t.resolve(s);return i?wt.near(r):new Qe(r)}content(){return new ye(le.from(this.node),0,0)}eq(t){return t instanceof Qe&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Ry(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Qe(t.resolve(n.anchor))}static create(t,n){return new Qe(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}Qe.prototype.visible=!1;wt.jsonID("node",Qe);class Ry{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:i}=t.mapResult(this.anchor);return n?new Xf(i,i):new Ry(i)}resolve(t){let n=t.resolve(this.anchor),i=n.nodeAfter;return i&&Qe.isSelectable(i)?new Qe(n):wt.near(n)}}class Bs extends wt{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=ye.empty){if(n==ye.empty){t.delete(0,t.doc.content.size);let i=wt.atStart(t.doc);i.eq(t.selection)||t.setSelection(i)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new Bs(t)}map(t){return new Bs(t)}eq(t){return t instanceof Bs}getBookmark(){return OX}}wt.jsonID("all",Bs);const OX={map(){return this},resolve(e){return new Bs(e)}};function dl(e,t,n,i,s,r=!1){if(t.inlineContent)return yt.create(e,n);for(let a=i-(s>0?0:1);s>0?a<t.childCount:a>=0;a+=s){let u=t.child(a);if(u.isAtom){if(!r&&Qe.isSelectable(u))return Qe.create(e,n-(s<0?u.nodeSize:0))}else{let o=dl(e,u,n+s,s<0?u.childCount:0,s,r);if(o)return o}n+=u.nodeSize*s}return null}function M_(e,t,n){let i=e.steps.length-1;if(i<t)return;let s=e.steps[i];if(!(s instanceof Nn||s instanceof Ln))return;let r=e.mapping.maps[i],a;r.forEach((u,o,l,c)=>{a==null&&(a=c)}),e.setSelection(wt.near(e.doc.resolve(a),n))}const N_=1,kd=2,R_=4;class kX extends wX{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|N_)&~kd,this.storedMarks=null,this}get selectionSet(){return(this.updated&N_)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=kd,this}ensureMarks(t){return Ut.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&kd)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&~kd,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let i=this.selection;return n&&(t=t.mark(this.storedMarks||(i.empty?i.$from.marks():i.$from.marksAcross(i.$to)||Ut.none))),i.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,i){let s=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(s.text(t),!0):this.deleteSelection();{if(i==null&&(i=n),i=i??n,!t)return this.deleteRange(n,i);let r=this.storedMarks;if(!r){let a=this.doc.resolve(n);r=i==n?a.marks():a.marksAcross(this.doc.resolve(i))}return this.replaceRangeWith(n,i,s.text(t,r)),this.selection.empty||this.setSelection(wt.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=R_,this}get scrolledIntoView(){return(this.updated&R_)>0}}function D_(e,t){return!t||!e?e:e.bind(t)}class Lc{constructor(t,n,i){this.name=t,this.init=D_(n.init,i),this.apply=D_(n.apply,i)}}const AX=[new Lc("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new Lc("selection",{init(e,t){return e.selection||wt.atStart(t.doc)},apply(e){return e.selection}}),new Lc("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,i){return i.selection.$cursor?e.storedMarks:null}}),new Lc("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class yg{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=AX.slice(),n&&n.forEach(i=>{if(this.pluginsByKey[i.key])throw new RangeError("Adding different instances of a keyed plugin ("+i.key+")");this.plugins.push(i),this.pluginsByKey[i.key]=i,i.spec.state&&this.fields.push(new Lc(i.key,i.spec.state,i))})}}class ml{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let i=0;i<this.config.plugins.length;i++)if(i!=n){let s=this.config.plugins[i];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],i=this.applyInner(t),s=null;for(;;){let r=!1;for(let a=0;a<this.config.plugins.length;a++){let u=this.config.plugins[a];if(u.spec.appendTransaction){let o=s?s[a].n:0,l=s?s[a].state:this,c=o<n.length&&u.spec.appendTransaction.call(u,o?n.slice(o):n,l,i);if(c&&i.filterTransaction(c,a)){if(c.setMeta("appendedTransaction",t),!s){s=[];for(let d=0;d<this.config.plugins.length;d++)s.push(d<a?{state:i,n:n.length}:{state:this,n:0})}n.push(c),i=i.applyInner(c),r=!0}s&&(s[a]={state:i,n:n.length})}}if(!r)return{state:i,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new ml(this.config),i=this.config.fields;for(let s=0;s<i.length;s++){let r=i[s];n[r.name]=r.apply(t,this[r.name],this,n)}return n}get tr(){return new kX(this)}static create(t){let n=new yg(t.doc?t.doc.type.schema:t.schema,t.plugins),i=new ml(n);for(let s=0;s<n.fields.length;s++)i[n.fields[s].name]=n.fields[s].init(t,i);return i}reconfigure(t){let n=new yg(this.schema,t.plugins),i=n.fields,s=new ml(n);for(let r=0;r<i.length;r++){let a=i[r].name;s[a]=this.hasOwnProperty(a)?this[a]:i[r].init(t,s)}return s}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(i=>i.toJSON())),t&&typeof t=="object")for(let i in t){if(i=="doc"||i=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=t[i],r=s.spec.state;r&&r.toJSON&&(n[i]=r.toJSON.call(s,this[s.key]))}return n}static fromJSON(t,n,i){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let s=new yg(t.schema,t.plugins),r=new ml(s);return s.fields.forEach(a=>{if(a.name=="doc")r.doc=Ca.fromJSON(t.schema,n.doc);else if(a.name=="selection")r.selection=wt.fromJSON(r.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(r.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(i)for(let u in i){let o=i[u],l=o.spec.state;if(o.key==a.name&&l&&l.fromJSON&&Object.prototype.hasOwnProperty.call(n,u)){r[a.name]=l.fromJSON.call(o,t,n[u],r);return}}r[a.name]=a.init(t,r)}}),r}}function TI(e,t,n){for(let i in e){let s=e[i];s instanceof Function?s=s.bind(t):i=="handleDOMEvents"&&(s=TI(s,t,{})),n[i]=s}return n}class gr{constructor(t){this.spec=t,this.props={},t.props&&TI(t.props,this,this.props),this.key=t.key?t.key.key:wI("plugin")}getState(t){return t[this.key]}}const bg=Object.create(null);function wI(e){return e in bg?e+"$"+ ++bg[e]:(bg[e]=0,e+"$")}class Ga{constructor(t="key"){this.key=wI(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const zn=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},Tu=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let Dm=null;const Sr=function(e,t,n){let i=Dm||(Dm=document.createRange());return i.setEnd(e,n??e.nodeValue.length),i.setStart(e,t||0),i},PX=function(){Dm=null},Ra=function(e,t,n,i){return n&&(L_(e,t,n,i,-1)||L_(e,t,n,i,1))},$X=/^(img|br|input|textarea|hr)$/i;function L_(e,t,n,i,s){for(;;){if(e==n&&t==i)return!0;if(t==(s<0?0:ps(e))){let r=e.parentNode;if(!r||r.nodeType!=1||Xu(e)||$X.test(e.nodeName)||e.contentEditable=="false")return!1;t=zn(e)+(s<0?0:1),e=r}else if(e.nodeType==1){if(e=e.childNodes[t+(s<0?-1:0)],e.contentEditable=="false")return!1;t=s<0?ps(e):0}else return!1}}function ps(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function MX(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=ps(e)}else if(e.parentNode&&!Xu(e))t=zn(e),e=e.parentNode;else return null}}function NX(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!Xu(e))t=zn(e)+1,e=e.parentNode;else return null}}function RX(e,t,n){for(let i=t==0,s=t==ps(e);i||s;){if(e==n)return!0;let r=zn(e);if(e=e.parentNode,!e)return!1;i=i&&r==0,s=s&&r==ps(e)}}function Xu(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const Zf=function(e){return e.focusNode&&Ra(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function ha(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function DX(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function LX(e,t,n){if(e.caretPositionFromPoint)try{let i=e.caretPositionFromPoint(t,n);if(i)return{node:i.offsetNode,offset:Math.min(ps(i.offsetNode),i.offset)}}catch{}if(e.caretRangeFromPoint){let i=e.caretRangeFromPoint(t,n);if(i)return{node:i.startContainer,offset:Math.min(ps(i.startContainer),i.startOffset)}}}const cr=typeof navigator<"u"?navigator:null,F_=typeof document<"u"?document:null,zo=cr&&cr.userAgent||"",Lm=/Edge\/(\d+)/.exec(zo),II=/MSIE \d/.exec(zo),Fm=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(zo),Ai=!!(II||Fm||Lm),xo=II?document.documentMode:Fm?+Fm[1]:Lm?+Lm[1]:0,Ws=!Ai&&/gecko\/(\d+)/i.test(zo);Ws&&+(/Firefox\/(\d+)/.exec(zo)||[0,0])[1];const Vm=!Ai&&/Chrome\/(\d+)/.exec(zo),ti=!!Vm,OI=Vm?+Vm[1]:0,pi=!Ai&&!!cr&&/Apple Computer/.test(cr.vendor),Ll=pi&&(/Mobile\/\w+/.test(zo)||!!cr&&cr.maxTouchPoints>2),cs=Ll||(cr?/Mac/.test(cr.platform):!1),FX=cr?/Win/.test(cr.platform):!1,Ds=/Android \d/.test(zo),Zu=!!F_&&"webkitFontSmoothing"in F_.documentElement.style,VX=Zu?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function BX(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function br(e,t){return typeof e=="number"?e:e[t]}function HX(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,i=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*i}}function V_(e,t,n){let i=e.someProp("scrollThreshold")||0,s=e.someProp("scrollMargin")||5,r=e.dom.ownerDocument;for(let a=n||e.dom;a;a=Tu(a)){if(a.nodeType!=1)continue;let u=a,o=u==r.body,l=o?BX(r):HX(u),c=0,d=0;if(t.top<l.top+br(i,"top")?d=-(l.top-t.top+br(s,"top")):t.bottom>l.bottom-br(i,"bottom")&&(d=t.bottom-t.top>l.bottom-l.top?t.top+br(s,"top")-l.top:t.bottom-l.bottom+br(s,"bottom")),t.left<l.left+br(i,"left")?c=-(l.left-t.left+br(s,"left")):t.right>l.right-br(i,"right")&&(c=t.right-l.right+br(s,"right")),c||d)if(o)r.defaultView.scrollBy(c,d);else{let h=u.scrollLeft,f=u.scrollTop;d&&(u.scrollTop+=d),c&&(u.scrollLeft+=c);let p=u.scrollLeft-h,g=u.scrollTop-f;t={left:t.left-p,top:t.top-g,right:t.right-p,bottom:t.bottom-g}}if(o||/^(fixed|sticky)$/.test(getComputedStyle(a).position))break}}function jX(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),i,s;for(let r=(t.left+t.right)/2,a=n+1;a<Math.min(innerHeight,t.bottom);a+=5){let u=e.root.elementFromPoint(r,a);if(!u||u==e.dom||!e.dom.contains(u))continue;let o=u.getBoundingClientRect();if(o.top>=n-20){i=u,s=o.top;break}}return{refDOM:i,refTop:s,stack:kI(e.dom)}}function kI(e){let t=[],n=e.ownerDocument;for(let i=e;i&&(t.push({dom:i,top:i.scrollTop,left:i.scrollLeft}),e!=n);i=Tu(i));return t}function UX({refDOM:e,refTop:t,stack:n}){let i=e?e.getBoundingClientRect().top:0;AI(n,i==0?0:i-t)}function AI(e,t){for(let n=0;n<e.length;n++){let{dom:i,top:s,left:r}=e[n];i.scrollTop!=s+t&&(i.scrollTop=s+t),i.scrollLeft!=r&&(i.scrollLeft=r)}}let sl=null;function GX(e){if(e.setActive)return e.setActive();if(sl)return e.focus(sl);let t=kI(e);e.focus(sl==null?{get preventScroll(){return sl={preventScroll:!0},!0}}:void 0),sl||(sl=!1,AI(t,0))}function PI(e,t){let n,i=2e8,s,r=0,a=t.top,u=t.top,o,l;for(let c=e.firstChild,d=0;c;c=c.nextSibling,d++){let h;if(c.nodeType==1)h=c.getClientRects();else if(c.nodeType==3)h=Sr(c).getClientRects();else continue;for(let f=0;f<h.length;f++){let p=h[f];if(p.top<=a&&p.bottom>=u){a=Math.max(p.bottom,a),u=Math.min(p.top,u);let g=p.left>t.left?p.left-t.left:p.right<t.left?t.left-p.right:0;if(g<i){n=c,i=g,s=g&&n.nodeType==3?{left:p.right<t.left?p.right:p.left,top:t.top}:t,c.nodeType==1&&g&&(r=d+(t.left>=(p.left+p.right)/2?1:0));continue}}else p.top>t.top&&!o&&p.left<=t.left&&p.right>=t.left&&(o=c,l={left:Math.max(p.left,Math.min(p.right,t.left)),top:p.top});!n&&(t.left>=p.right&&t.top>=p.top||t.left>=p.left&&t.top>=p.bottom)&&(r=d+1)}}return!n&&o&&(n=o,s=l,i=0),n&&n.nodeType==3?WX(n,s):!n||i&&n.nodeType==1?{node:e,offset:r}:PI(n,s)}function WX(e,t){let n=e.nodeValue.length,i=document.createRange();for(let s=0;s<n;s++){i.setEnd(e,s+1),i.setStart(e,s);let r=no(i,1);if(r.top!=r.bottom&&Dy(t,r))return{node:e,offset:s+(t.left>=(r.left+r.right)/2?1:0)}}return{node:e,offset:0}}function Dy(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function zX(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function KX(e,t,n){let{node:i,offset:s}=PI(t,n),r=-1;if(i.nodeType==1&&!i.firstChild){let a=i.getBoundingClientRect();r=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return e.docView.posFromDOM(i,s,r)}function qX(e,t,n,i){let s=-1;for(let r=t,a=!1;r!=e.dom;){let u=e.docView.nearestDesc(r,!0);if(!u)return null;if(u.dom.nodeType==1&&(u.node.isBlock&&u.parent||!u.contentDOM)){let o=u.dom.getBoundingClientRect();if(u.node.isBlock&&u.parent&&(!a&&o.left>i.left||o.top>i.top?s=u.posBefore:(!a&&o.right<i.left||o.bottom<i.top)&&(s=u.posAfter),a=!0),!u.contentDOM&&s<0&&!u.node.isText)return(u.node.isBlock?i.top<(o.top+o.bottom)/2:i.left<(o.left+o.right)/2)?u.posBefore:u.posAfter}r=u.dom.parentNode}return s>-1?s:e.docView.posFromDOM(t,n,-1)}function $I(e,t,n){let i=e.childNodes.length;if(i&&n.top<n.bottom)for(let s=Math.max(0,Math.min(i-1,Math.floor(i*(t.top-n.top)/(n.bottom-n.top))-2)),r=s;;){let a=e.childNodes[r];if(a.nodeType==1){let u=a.getClientRects();for(let o=0;o<u.length;o++){let l=u[o];if(Dy(t,l))return $I(a,t,l)}}if((r=(r+1)%i)==s)break}return e}function YX(e,t){let n=e.dom.ownerDocument,i,s=0,r=LX(n,t.left,t.top);r&&({node:i,offset:s}=r);let a=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),u;if(!a||!e.dom.contains(a.nodeType!=1?a.parentNode:a)){let l=e.dom.getBoundingClientRect();if(!Dy(t,l)||(a=$I(e.dom,t,l),!a))return null}if(pi)for(let l=a;i&&l;l=Tu(l))l.draggable&&(i=void 0);if(a=zX(a,t),i){if(Ws&&i.nodeType==1&&(s=Math.min(s,i.childNodes.length),s<i.childNodes.length)){let c=i.childNodes[s],d;c.nodeName=="IMG"&&(d=c.getBoundingClientRect()).right<=t.left&&d.bottom>t.top&&s++}let l;Zu&&s&&i.nodeType==1&&(l=i.childNodes[s-1]).nodeType==1&&l.contentEditable=="false"&&l.getBoundingClientRect().top>=t.top&&s--,i==e.dom&&s==i.childNodes.length-1&&i.lastChild.nodeType==1&&t.top>i.lastChild.getBoundingClientRect().bottom?u=e.state.doc.content.size:(s==0||i.nodeType!=1||i.childNodes[s-1].nodeName!="BR")&&(u=qX(e,i,s,t))}u==null&&(u=KX(e,a,t));let o=e.docView.nearestDesc(a,!0);return{pos:u,inside:o?o.posAtStart-o.border:-1}}function B_(e){return e.top<e.bottom||e.left<e.right}function no(e,t){let n=e.getClientRects();if(n.length){let i=n[t<0?0:n.length-1];if(B_(i))return i}return Array.prototype.find.call(n,B_)||e.getBoundingClientRect()}const JX=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function MI(e,t,n){let{node:i,offset:s,atom:r}=e.docView.domFromPos(t,n<0?-1:1),a=Zu||Ws;if(i.nodeType==3)if(a&&(JX.test(i.nodeValue)||(n<0?!s:s==i.nodeValue.length))){let o=no(Sr(i,s,s),n);if(Ws&&s&&/\s/.test(i.nodeValue[s-1])&&s<i.nodeValue.length){let l=no(Sr(i,s-1,s-1),-1);if(l.top==o.top){let c=no(Sr(i,s,s+1),-1);if(c.top!=o.top)return Sc(c,c.left<l.left)}}return o}else{let o=s,l=s,c=n<0?1:-1;return n<0&&!s?(l++,c=-1):n>=0&&s==i.nodeValue.length?(o--,c=1):n<0?o--:l++,Sc(no(Sr(i,o,l),c),c<0)}if(!e.state.doc.resolve(t-(r||0)).parent.inlineContent){if(r==null&&s&&(n<0||s==ps(i))){let o=i.childNodes[s-1];if(o.nodeType==1)return Eg(o.getBoundingClientRect(),!1)}if(r==null&&s<ps(i)){let o=i.childNodes[s];if(o.nodeType==1)return Eg(o.getBoundingClientRect(),!0)}return Eg(i.getBoundingClientRect(),n>=0)}if(r==null&&s&&(n<0||s==ps(i))){let o=i.childNodes[s-1],l=o.nodeType==3?Sr(o,ps(o)-(a?0:1)):o.nodeType==1&&(o.nodeName!="BR"||!o.nextSibling)?o:null;if(l)return Sc(no(l,1),!1)}if(r==null&&s<ps(i)){let o=i.childNodes[s];for(;o.pmViewDesc&&o.pmViewDesc.ignoreForCoords;)o=o.nextSibling;let l=o?o.nodeType==3?Sr(o,0,a?0:1):o.nodeType==1?o:null:null;if(l)return Sc(no(l,-1),!0)}return Sc(no(i.nodeType==3?Sr(i):i,-n),n>=0)}function Sc(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function Eg(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function NI(e,t,n){let i=e.state,s=e.root.activeElement;i!=t&&e.updateState(t),s!=e.dom&&e.focus();try{return n()}finally{i!=t&&e.updateState(i),s!=e.dom&&s&&s.focus()}}function XX(e,t,n){let i=t.selection,s=n=="up"?i.$from:i.$to;return NI(e,t,()=>{let{node:r}=e.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let u=e.docView.nearestDesc(r,!0);if(!u)break;if(u.node.isBlock){r=u.contentDOM||u.dom;break}r=u.dom.parentNode}let a=MI(e,s.pos,1);for(let u=r.firstChild;u;u=u.nextSibling){let o;if(u.nodeType==1)o=u.getClientRects();else if(u.nodeType==3)o=Sr(u,0,u.nodeValue.length).getClientRects();else continue;for(let l=0;l<o.length;l++){let c=o[l];if(c.bottom>c.top+1&&(n=="up"?a.top-c.top>(c.bottom-a.top)*2:c.bottom-a.bottom>(a.bottom-c.top)*2))return!1}}return!0})}const ZX=/[\u0590-\u08ac]/;function QX(e,t,n){let{$head:i}=t.selection;if(!i.parent.isTextblock)return!1;let s=i.parentOffset,r=!s,a=s==i.parent.content.size,u=e.domSelection();return u?!ZX.test(i.parent.textContent)||!u.modify?n=="left"||n=="backward"?r:a:NI(e,t,()=>{let{focusNode:o,focusOffset:l,anchorNode:c,anchorOffset:d}=e.domSelectionRange(),h=u.caretBidiLevel;u.modify("move",n,"character");let f=i.depth?e.docView.domAfterPos(i.before()):e.dom,{focusNode:p,focusOffset:g}=e.domSelectionRange(),m=p&&!f.contains(p.nodeType==1?p:p.parentNode)||o==p&&l==g;try{u.collapse(c,d),o&&(o!=c||l!=d)&&u.extend&&u.extend(o,l)}catch{}return h!=null&&(u.caretBidiLevel=h),m}):i.pos==i.start()||i.pos==i.end()}let H_=null,j_=null,U_=!1;function eZ(e,t,n){return H_==t&&j_==n?U_:(H_=t,j_=n,U_=n=="up"||n=="down"?XX(e,t,n):QX(e,t,n))}const ms=0,G_=1,pa=2,ur=3;class Qu{constructor(t,n,i,s){this.parent=t,this.children=n,this.dom=i,this.contentDOM=s,this.dirty=ms,i.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,i){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,i=this.posAtStart;;n++){let s=this.children[n];if(s==t)return i;i+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,i){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(i<0){let r,a;if(t==this.contentDOM)r=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;r=t.previousSibling}for(;r&&!((a=r.pmViewDesc)&&a.parent==this);)r=r.previousSibling;return r?this.posBeforeChild(a)+a.size:this.posAtStart}else{let r,a;if(t==this.contentDOM)r=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;r=t.nextSibling}for(;r&&!((a=r.pmViewDesc)&&a.parent==this);)r=r.nextSibling;return r?this.posBeforeChild(a):this.posAtEnd}let s;if(t==this.dom&&this.contentDOM)s=n>zn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let r=t;;r=r.parentNode){if(r==this.dom){s=!1;break}if(r.previousSibling)break}if(s==null&&n==t.childNodes.length)for(let r=t;;r=r.parentNode){if(r==this.dom){s=!0;break}if(r.nextSibling)break}}return s??i>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let i=!0,s=t;s;s=s.parentNode){let r=this.getDesc(s),a;if(r&&(!n||r.node))if(i&&(a=r.nodeDOM)&&!(a.nodeType==1?a.contains(t.nodeType==1?t:t.parentNode):a==t))i=!1;else return r}}getDesc(t){let n=t.pmViewDesc;for(let i=n;i;i=i.parent)if(i==this)return n}posFromDOM(t,n,i){for(let s=t;s;s=s.parentNode){let r=this.getDesc(s);if(r)return r.localPosFromDOM(t,n,i)}return-1}descAt(t){for(let n=0,i=0;n<this.children.length;n++){let s=this.children[n],r=i+s.size;if(i==t&&r!=i){for(;!s.border&&s.children.length;)s=s.children[0];return s}if(t<r)return s.descAt(t-i-s.border);i=r}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let i=0,s=0;for(let r=0;i<this.children.length;i++){let a=this.children[i],u=r+a.size;if(u>t||a instanceof DI){s=t-r;break}r=u}if(s)return this.children[i].domFromPos(s-this.children[i].border,n);for(let r;i&&!(r=this.children[i-1]).size&&r instanceof RI&&r.side>=0;i--);if(n<=0){let r,a=!0;for(;r=i?this.children[i-1]:null,!(!r||r.dom.parentNode==this.contentDOM);i--,a=!1);return r&&n&&a&&!r.border&&!r.domAtom?r.domFromPos(r.size,n):{node:this.contentDOM,offset:r?zn(r.dom)+1:0}}else{let r,a=!0;for(;r=i<this.children.length?this.children[i]:null,!(!r||r.dom.parentNode==this.contentDOM);i++,a=!1);return r&&a&&!r.border&&!r.domAtom?r.domFromPos(0,n):{node:this.contentDOM,offset:r?zn(r.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,i=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,r=-1;for(let a=i,u=0;;u++){let o=this.children[u],l=a+o.size;if(s==-1&&t<=l){let c=a+o.border;if(t>=c&&n<=l-o.border&&o.node&&o.contentDOM&&this.contentDOM.contains(o.contentDOM))return o.parseRange(t,n,c);t=a;for(let d=u;d>0;d--){let h=this.children[d-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){s=zn(h.dom)+1;break}t-=h.size}s==-1&&(s=0)}if(s>-1&&(l>n||u==this.children.length-1)){n=l;for(let c=u+1;c<this.children.length;c++){let d=this.children[c];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){r=zn(d.dom);break}n+=d.size}r==-1&&(r=this.contentDOM.childNodes.length);break}a=l}return{node:this.contentDOM,from:t,to:n,fromOffset:s,toOffset:r}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:i}=this.domFromPos(t,0);if(n.nodeType!=1||i==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[i]}setSelection(t,n,i,s=!1){let r=Math.min(t,n),a=Math.max(t,n);for(let h=0,f=0;h<this.children.length;h++){let p=this.children[h],g=f+p.size;if(r>f&&a<g)return p.setSelection(t-f-p.border,n-f-p.border,i,s);f=g}let u=this.domFromPos(t,t?-1:1),o=n==t?u:this.domFromPos(n,n?-1:1),l=i.getSelection(),c=!1;if((Ws||pi)&&t==n){let{node:h,offset:f}=u;if(h.nodeType==3){if(c=!!(f&&h.nodeValue[f-1]==`
`),c&&f==h.nodeValue.length)for(let p=h,g;p;p=p.parentNode){if(g=p.nextSibling){g.nodeName=="BR"&&(u=o={node:g.parentNode,offset:zn(g)+1});break}let m=p.pmViewDesc;if(m&&m.node&&m.node.isBlock)break}}else{let p=h.childNodes[f-1];c=p&&(p.nodeName=="BR"||p.contentEditable=="false")}}if(Ws&&l.focusNode&&l.focusNode!=o.node&&l.focusNode.nodeType==1){let h=l.focusNode.childNodes[l.focusOffset];h&&h.contentEditable=="false"&&(s=!0)}if(!(s||c&&pi)&&Ra(u.node,u.offset,l.anchorNode,l.anchorOffset)&&Ra(o.node,o.offset,l.focusNode,l.focusOffset))return;let d=!1;if((l.extend||t==n)&&!c){l.collapse(u.node,u.offset);try{t!=n&&l.extend(o.node,o.offset),d=!0}catch{}}if(!d){if(t>n){let f=u;u=o,o=f}let h=document.createRange();h.setEnd(o.node,o.offset),h.setStart(u.node,u.offset),l.removeAllRanges(),l.addRange(h)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let i=0,s=0;s<this.children.length;s++){let r=this.children[s],a=i+r.size;if(i==a?t<=a&&n>=i:t<a&&n>i){let u=i+r.border,o=a-r.border;if(t>=u&&n<=o){this.dirty=t==i||n==a?pa:G_,t==u&&n==o&&(r.contentLost||r.dom.parentNode!=this.contentDOM)?r.dirty=ur:r.markDirty(t-u,n-u);return}else r.dirty=r.dom==r.contentDOM&&r.dom.parentNode==this.contentDOM&&!r.children.length?pa:ur}i=a}this.dirty=pa}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let i=t==1?pa:G_;n.dirty<i&&(n.dirty=i)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(t){return!1}}class RI extends Qu{constructor(t,n,i,s){let r,a=n.type.toDOM;if(typeof a=="function"&&(a=a(i,()=>{if(!r)return s;if(r.parent)return r.parent.posBeforeChild(r)})),!n.type.spec.raw){if(a.nodeType!=1){let u=document.createElement("span");u.appendChild(a),a=u}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(t,[],a,null),this.widget=n,this.widget=n,r=this}matchesWidget(t){return this.dirty==ms&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class tZ extends Qu{constructor(t,n,i,s){super(t,[],n,null),this.textDOM=i,this.text=s}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class Da extends Qu{constructor(t,n,i,s){super(t,[],i,s),this.mark=n}static create(t,n,i,s){let r=s.nodeViews[n.type.name],a=r&&r(n,s,i);return(!a||!a.dom)&&(a=Ua.renderSpec(document,n.type.spec.toDOM(n,i),null,n.attrs)),new Da(t,n,a.dom,a.contentDOM||a.dom)}parseRule(){return this.dirty&ur||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=ur&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=ms){let i=this.parent;for(;!i.node;)i=i.parent;i.dirty<this.dirty&&(i.dirty=this.dirty),this.dirty=ms}}slice(t,n,i){let s=Da.create(this.parent,this.mark,!0,i),r=this.children,a=this.size;n<a&&(r=Hm(r,n,a,i)),t>0&&(r=Hm(r,0,t,i));for(let u=0;u<r.length;u++)r[u].parent=s;return s.children=r,s}}class To extends Qu{constructor(t,n,i,s,r,a,u,o,l){super(t,[],r,a),this.node=n,this.outerDeco=i,this.innerDeco=s,this.nodeDOM=u}static create(t,n,i,s,r,a){let u=r.nodeViews[n.type.name],o,l=u&&u(n,r,()=>{if(!o)return a;if(o.parent)return o.parent.posBeforeChild(o)},i,s),c=l&&l.dom,d=l&&l.contentDOM;if(n.isText){if(!c)c=document.createTextNode(n.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:d}=Ua.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),n.type.spec.draggable&&(c.draggable=!0));let h=c;return c=VI(c,i,n),l?o=new nZ(t,n,i,s,c,d||null,h,l,r,a+1):n.isText?new Qf(t,n,i,s,c,h,r):new To(t,n,i,s,c,d||null,h,r,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let i=this.children[n];if(this.dom.contains(i.dom.parentNode)){t.contentElement=i.dom.parentNode;break}}t.contentElement||(t.getContent=()=>le.empty)}return t}matchesNode(t,n,i){return this.dirty==ms&&t.eq(this.node)&&Bh(n,this.outerDeco)&&i.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let i=this.node.inlineContent,s=n,r=t.composing?this.localCompositionInfo(t,n):null,a=r&&r.pos>-1?r:null,u=r&&r.pos<0,o=new sZ(this,a&&a.node,t);aZ(this.node,this.innerDeco,(l,c,d)=>{l.spec.marks?o.syncToMarks(l.spec.marks,i,t):l.type.side>=0&&!d&&o.syncToMarks(c==this.node.childCount?Ut.none:this.node.child(c).marks,i,t),o.placeWidget(l,t,s)},(l,c,d,h)=>{o.syncToMarks(l.marks,i,t);let f;o.findNodeMatch(l,c,d,h)||u&&t.state.selection.from>s&&t.state.selection.to<s+l.nodeSize&&(f=o.findIndexWithChild(r.node))>-1&&o.updateNodeAt(l,c,d,f,t)||o.updateNextNode(l,c,d,t,h,s)||o.addNode(l,c,d,t,s),s+=l.nodeSize}),o.syncToMarks([],i,t),this.node.isTextblock&&o.addTextblockHacks(),o.destroyRest(),(o.changed||this.dirty==pa)&&(a&&this.protectLocalComposition(t,a),LI(this.contentDOM,this.children,t),Ll&&lZ(this.dom))}localCompositionInfo(t,n){let{from:i,to:s}=t.state.selection;if(!(t.state.selection instanceof yt)||i<n||s>n+this.node.content.size)return null;let r=t.input.compositionNode;if(!r||!this.dom.contains(r.parentNode))return null;if(this.node.inlineContent){let a=r.nodeValue,u=cZ(this.node.content,a,i-n,s-n);return u<0?null:{node:r,pos:u,text:a}}else return{node:r,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:i,text:s}){if(this.getDesc(n))return;let r=n;for(;r.parentNode!=this.contentDOM;r=r.parentNode){for(;r.previousSibling;)r.parentNode.removeChild(r.previousSibling);for(;r.nextSibling;)r.parentNode.removeChild(r.nextSibling);r.pmViewDesc&&(r.pmViewDesc=void 0)}let a=new tZ(this,r,n,s);t.input.compositionNodes.push(a),this.children=Hm(this.children,i,i+s.length,t,a)}update(t,n,i,s){return this.dirty==ur||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,i,s),!0)}updateInner(t,n,i,s){this.updateOuterDeco(n),this.node=t,this.innerDeco=i,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=ms}updateOuterDeco(t){if(Bh(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,i=this.dom;this.dom=FI(this.dom,this.nodeDOM,Bm(this.outerDeco,this.node,n),Bm(t,this.node,n)),this.dom!=i&&(i.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function W_(e,t,n,i,s){VI(i,t,e);let r=new To(void 0,e,t,n,i,i,i,s,0);return r.contentDOM&&r.updateChildren(s,0),r}class Qf extends To{constructor(t,n,i,s,r,a,u){super(t,n,i,s,r,null,a,u,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,i,s){return this.dirty==ur||this.dirty!=ms&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=ms||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=t,this.dirty=ms,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,i){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,i)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,i){let s=this.node.cut(t,n),r=document.createTextNode(s.text);return new Qf(this.parent,s,this.outerDeco,this.innerDeco,r,r,i)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=ur)}get domAtom(){return!1}isText(t){return this.node.text==t}}class DI extends Qu{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==ms&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class nZ extends To{constructor(t,n,i,s,r,a,u,o,l,c){super(t,n,i,s,r,a,u,l,c),this.spec=o}update(t,n,i,s){if(this.dirty==ur)return!1;if(this.spec.update){let r=this.spec.update(t,n,i);return r&&this.updateInner(t,n,i,s),r}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,i,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,i,s){this.spec.setSelection?this.spec.setSelection(t,n,i):super.setSelection(t,n,i,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function LI(e,t,n){let i=e.firstChild,s=!1;for(let r=0;r<t.length;r++){let a=t[r],u=a.dom;if(u.parentNode==e){for(;u!=i;)i=z_(i),s=!0;i=i.nextSibling}else s=!0,e.insertBefore(u,i);if(a instanceof Da){let o=i?i.previousSibling:e.lastChild;LI(a.contentDOM,a.children,n),i=o?o.nextSibling:e.firstChild}}for(;i;)i=z_(i),s=!0;s&&n.trackWrites==e&&(n.trackWrites=null)}const ou=function(e){e&&(this.nodeName=e)};ou.prototype=Object.create(null);const ga=[new ou];function Bm(e,t,n){if(e.length==0)return ga;let i=n?ga[0]:new ou,s=[i];for(let r=0;r<e.length;r++){let a=e[r].type.attrs;if(a){a.nodeName&&s.push(i=new ou(a.nodeName));for(let u in a){let o=a[u];o!=null&&(n&&s.length==1&&s.push(i=new ou(t.isInline?"span":"div")),u=="class"?i.class=(i.class?i.class+" ":"")+o:u=="style"?i.style=(i.style?i.style+";":"")+o:u!="nodeName"&&(i[u]=o))}}}return s}function FI(e,t,n,i){if(n==ga&&i==ga)return t;let s=t;for(let r=0;r<i.length;r++){let a=i[r],u=n[r];if(r){let o;u&&u.nodeName==a.nodeName&&s!=e&&(o=s.parentNode)&&o.nodeName.toLowerCase()==a.nodeName||(o=document.createElement(a.nodeName),o.pmIsDeco=!0,o.appendChild(s),u=ga[0]),s=o}iZ(s,u||ga[0],a)}return s}function iZ(e,t,n){for(let i in t)i!="class"&&i!="style"&&i!="nodeName"&&!(i in n)&&e.removeAttribute(i);for(let i in n)i!="class"&&i!="style"&&i!="nodeName"&&n[i]!=t[i]&&e.setAttribute(i,n[i]);if(t.class!=n.class){let i=t.class?t.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let r=0;r<i.length;r++)s.indexOf(i[r])==-1&&e.classList.remove(i[r]);for(let r=0;r<s.length;r++)i.indexOf(s[r])==-1&&e.classList.add(s[r]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let i=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=i.exec(t.style);)e.style.removeProperty(s[1])}n.style&&(e.style.cssText+=n.style)}}function VI(e,t,n){return FI(e,e,ga,Bm(t,n,e.nodeType!=1))}function Bh(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function z_(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class sZ{constructor(t,n,i){this.lock=n,this.view=i,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=rZ(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let i=t;i<n;i++)this.top.children[i].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,i){let s=0,r=this.stack.length>>1,a=Math.min(r,t.length);for(;s<a&&(s==r-1?this.top:this.stack[s+1<<1]).matchesMark(t[s])&&t[s].type.spec.spanning!==!1;)s++;for(;s<r;)this.destroyRest(),this.top.dirty=ms,this.index=this.stack.pop(),this.top=this.stack.pop(),r--;for(;r<t.length;){this.stack.push(this.top,this.index+1);let u=-1;for(let o=this.index;o<Math.min(this.index+3,this.top.children.length);o++){let l=this.top.children[o];if(l.matchesMark(t[r])&&!this.isLocked(l.dom)){u=o;break}}if(u>-1)u>this.index&&(this.changed=!0,this.destroyBetween(this.index,u)),this.top=this.top.children[this.index];else{let o=Da.create(this.top,t[r],n,i);this.top.children.splice(this.index,0,o),this.top=o,this.changed=!0}this.index=0,r++}}findNodeMatch(t,n,i,s){let r=-1,a;if(s>=this.preMatch.index&&(a=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&a.matchesNode(t,n,i))r=this.top.children.indexOf(a,this.index);else for(let u=this.index,o=Math.min(this.top.children.length,u+5);u<o;u++){let l=this.top.children[u];if(l.matchesNode(t,n,i)&&!this.preMatch.matched.has(l)){r=u;break}}return r<0?!1:(this.destroyBetween(this.index,r),this.index++,!0)}updateNodeAt(t,n,i,s,r){let a=this.top.children[s];return a.dirty==ur&&a.dom==a.contentDOM&&(a.dirty=pa),a.update(t,n,i,r)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let i=t.pmViewDesc;if(i){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==i)return s}return-1}t=n}}updateNextNode(t,n,i,s,r,a){for(let u=this.index;u<this.top.children.length;u++){let o=this.top.children[u];if(o instanceof To){let l=this.preMatch.matched.get(o);if(l!=null&&l!=r)return!1;let c=o.dom,d,h=this.isLocked(c)&&!(t.isText&&o.node&&o.node.isText&&o.nodeDOM.nodeValue==t.text&&o.dirty!=ur&&Bh(n,o.outerDeco));if(!h&&o.update(t,n,i,s))return this.destroyBetween(this.index,u),o.dom!=c&&(this.changed=!0),this.index++,!0;if(!h&&(d=this.recreateWrapper(o,t,n,i,s,a)))return this.destroyBetween(this.index,u),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=pa,d.updateChildren(s,a+1),d.dirty=ms),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,i,s,r,a){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content)||!Bh(i,t.outerDeco)||!s.eq(t.innerDeco))return null;let u=To.create(this.top,n,i,s,r,a);if(u.contentDOM){u.children=t.children,t.children=[];for(let o of u.children)o.parent=u}return t.destroy(),u}addNode(t,n,i,s,r){let a=To.create(this.top,t,n,i,s,r);a.contentDOM&&a.updateChildren(s,r+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(t,n,i){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(t)&&(t==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let r=new RI(this.top,t,n,i);this.top.children.splice(this.index++,0,r),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof Da;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof Qf)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((pi||ti)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let i=document.createElement(t);t=="IMG"&&(i.className="ProseMirror-separator",i.alt=""),t=="BR"&&(i.className="ProseMirror-trailingBreak");let s=new DI(this.top,[],i,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function rZ(e,t){let n=t,i=n.children.length,s=e.childCount,r=new Map,a=[];e:for(;s>0;){let u;for(;;)if(i){let l=n.children[i-1];if(l instanceof Da)n=l,i=l.children.length;else{u=l,i--;break}}else{if(n==t)break e;i=n.parent.children.indexOf(n),n=n.parent}let o=u.node;if(o){if(o!=e.child(s-1))break;--s,r.set(u,s),a.push(u)}}return{index:s,matched:r,matches:a.reverse()}}function oZ(e,t){return e.type.side-t.type.side}function aZ(e,t,n,i){let s=t.locals(e),r=0;if(s.length==0){for(let l=0;l<e.childCount;l++){let c=e.child(l);i(c,s,t.forChild(r,c),l),r+=c.nodeSize}return}let a=0,u=[],o=null;for(let l=0;;){let c,d;for(;a<s.length&&s[a].to==r;){let m=s[a++];m.widget&&(c?(d||(d=[c])).push(m):c=m)}if(c)if(d){d.sort(oZ);for(let m=0;m<d.length;m++)n(d[m],l,!!o)}else n(c,l,!!o);let h,f;if(o)f=-1,h=o,o=null;else if(l<e.childCount)f=l,h=e.child(l++);else break;for(let m=0;m<u.length;m++)u[m].to<=r&&u.splice(m--,1);for(;a<s.length&&s[a].from<=r&&s[a].to>r;)u.push(s[a++]);let p=r+h.nodeSize;if(h.isText){let m=p;a<s.length&&s[a].from<m&&(m=s[a].from);for(let y=0;y<u.length;y++)u[y].to<m&&(m=u[y].to);m<p&&(o=h.cut(m-r),h=h.cut(0,m-r),p=m,f=-1)}else for(;a<s.length&&s[a].to<p;)a++;let g=h.isInline&&!h.isLeaf?u.filter(m=>!m.inline):u.slice();i(h,g,t.forChild(r,h),f),r=p}}function lZ(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function cZ(e,t,n,i){for(let s=0,r=0;s<e.childCount&&r<=i;){let a=e.child(s++),u=r;if(r+=a.nodeSize,!a.isText)continue;let o=a.text;for(;s<e.childCount;){let l=e.child(s++);if(r+=l.nodeSize,!l.isText)break;o+=l.text}if(r>=n){if(r>=i&&o.slice(i-t.length-u,i-u)==t)return i-t.length;let l=u<i?o.lastIndexOf(t,i-u-1):-1;if(l>=0&&l+t.length+u>=n)return u+l;if(n==i&&o.length>=i+t.length-u&&o.slice(i-u,i-u+t.length)==t)return i}}return-1}function Hm(e,t,n,i,s){let r=[];for(let a=0,u=0;a<e.length;a++){let o=e[a],l=u,c=u+=o.size;l>=n||c<=t?r.push(o):(l<t&&r.push(o.slice(0,t-l,i)),s&&(r.push(s),s=void 0),c>n&&r.push(o.slice(n-l,o.size,i)))}return r}function Ly(e,t=null){let n=e.domSelectionRange(),i=e.state.doc;if(!n.focusNode)return null;let s=e.docView.nearestDesc(n.focusNode),r=s&&s.size==0,a=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let u=i.resolve(a),o,l;if(Zf(n)){for(o=a;s&&!s.node;)s=s.parent;let d=s.node;if(s&&d.isAtom&&Qe.isSelectable(d)&&s.parent&&!(d.isInline&&RX(n.focusNode,n.focusOffset,s.dom))){let h=s.posBefore;l=new Qe(a==h?u:i.resolve(h))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let d=a,h=a;for(let f=0;f<n.rangeCount;f++){let p=n.getRangeAt(f);d=Math.min(d,e.docView.posFromDOM(p.startContainer,p.startOffset,1)),h=Math.max(h,e.docView.posFromDOM(p.endContainer,p.endOffset,-1))}if(d<0)return null;[o,a]=h==e.state.selection.anchor?[h,d]:[d,h],u=i.resolve(a)}else o=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(o<0)return null}let c=i.resolve(o);if(!l){let d=t=="pointer"||e.state.selection.head<u.pos&&!r?1:-1;l=Fy(e,c,u,d)}return l}function BI(e){return e.editable?e.hasFocus():jI(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Pr(e,t=!1){let n=e.state.selection;if(HI(e,n),!!BI(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&ti){let i=e.domSelectionRange(),s=e.domObserver.currentSelection;if(i.anchorNode&&s.anchorNode&&Ra(i.anchorNode,i.anchorOffset,s.anchorNode,s.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)dZ(e);else{let{anchor:i,head:s}=n,r,a;K_&&!(n instanceof yt)&&(n.$from.parent.inlineContent||(r=q_(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=q_(e,n.to))),e.docView.setSelection(i,s,e.root,t),K_&&(r&&Y_(r),a&&Y_(a)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&uZ(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const K_=pi||ti&&OI<63;function q_(e,t){let{node:n,offset:i}=e.docView.domFromPos(t,0),s=i<n.childNodes.length?n.childNodes[i]:null,r=i?n.childNodes[i-1]:null;if(pi&&s&&s.contentEditable=="false")return _g(s);if((!s||s.contentEditable=="false")&&(!r||r.contentEditable=="false")){if(s)return _g(s);if(r)return _g(r)}}function _g(e){return e.contentEditable="true",pi&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function Y_(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function uZ(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),i=n.anchorNode,s=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=i||n.anchorOffset!=s)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!BI(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function dZ(e){let t=e.domSelection(),n=document.createRange();if(!t)return;let i=e.cursorWrapper.dom,s=i.nodeName=="IMG";s?n.setStart(i.parentNode,zn(i)+1):n.setStart(i,0),n.collapse(!0),t.removeAllRanges(),t.addRange(n),!s&&!e.state.selection.visible&&Ai&&xo<=11&&(i.disabled=!0,i.disabled=!1)}function HI(e,t){if(t instanceof Qe){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(J_(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else J_(e)}function J_(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function Fy(e,t,n,i){return e.someProp("createSelectionBetween",s=>s(e,t,n))||yt.between(t,n,i)}function X_(e){return e.editable&&!e.hasFocus()?!1:jI(e)}function jI(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function hZ(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return Ra(t.node,t.offset,n.anchorNode,n.anchorOffset)}function jm(e,t){let{$anchor:n,$head:i}=e.selection,s=t>0?n.max(i):n.min(i),r=s.parent.inlineContent?s.depth?e.doc.resolve(t>0?s.after():s.before()):null:s;return r&&wt.findFrom(r,t)}function ho(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function Z_(e,t,n){let i=e.state.selection;if(i instanceof yt)if(n.indexOf("s")>-1){let{$head:s}=i,r=s.textOffset?null:t<0?s.nodeBefore:s.nodeAfter;if(!r||r.isText||!r.isLeaf)return!1;let a=e.state.doc.resolve(s.pos+r.nodeSize*(t<0?-1:1));return ho(e,new yt(i.$anchor,a))}else if(i.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let s=jm(e.state,t);return s&&s instanceof Qe?ho(e,s):!1}else if(!(cs&&n.indexOf("m")>-1)){let s=i.$head,r=s.textOffset?null:t<0?s.nodeBefore:s.nodeAfter,a;if(!r||r.isText)return!1;let u=t<0?s.pos-r.nodeSize:s.pos;return r.isAtom||(a=e.docView.descAt(u))&&!a.contentDOM?Qe.isSelectable(r)?ho(e,new Qe(t<0?e.state.doc.resolve(s.pos-r.nodeSize):s)):Zu?ho(e,new yt(e.state.doc.resolve(t<0?u:u+r.nodeSize))):!1:!1}}else return!1;else{if(i instanceof Qe&&i.node.isInline)return ho(e,new yt(t>0?i.$to:i.$from));{let s=jm(e.state,t);return s?ho(e,s):!1}}}function Hh(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function au(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function rl(e,t){return t<0?fZ(e):pZ(e)}function fZ(e){let t=e.domSelectionRange(),n=t.focusNode,i=t.focusOffset;if(!n)return;let s,r,a=!1;for(Ws&&n.nodeType==1&&i<Hh(n)&&au(n.childNodes[i],-1)&&(a=!0);;)if(i>0){if(n.nodeType!=1)break;{let u=n.childNodes[i-1];if(au(u,-1))s=n,r=--i;else if(u.nodeType==3)n=u,i=n.nodeValue.length;else break}}else{if(UI(n))break;{let u=n.previousSibling;for(;u&&au(u,-1);)s=n.parentNode,r=zn(u),u=u.previousSibling;if(u)n=u,i=Hh(n);else{if(n=n.parentNode,n==e.dom)break;i=0}}}a?Um(e,n,i):s&&Um(e,s,r)}function pZ(e){let t=e.domSelectionRange(),n=t.focusNode,i=t.focusOffset;if(!n)return;let s=Hh(n),r,a;for(;;)if(i<s){if(n.nodeType!=1)break;let u=n.childNodes[i];if(au(u,1))r=n,a=++i;else break}else{if(UI(n))break;{let u=n.nextSibling;for(;u&&au(u,1);)r=u.parentNode,a=zn(u)+1,u=u.nextSibling;if(u)n=u,i=0,s=Hh(n);else{if(n=n.parentNode,n==e.dom)break;i=s=0}}}r&&Um(e,r,a)}function UI(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function gZ(e,t){for(;e&&t==e.childNodes.length&&!Xu(e);)t=zn(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function mZ(e,t){for(;e&&!t&&!Xu(e);)t=zn(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function Um(e,t,n){if(t.nodeType!=3){let r,a;(a=gZ(t,n))?(t=a,n=0):(r=mZ(t,n))&&(t=r,n=r.nodeValue.length)}let i=e.domSelection();if(!i)return;if(Zf(i)){let r=document.createRange();r.setEnd(t,n),r.setStart(t,n),i.removeAllRanges(),i.addRange(r)}else i.extend&&i.extend(t,n);e.domObserver.setCurSelection();let{state:s}=e;setTimeout(()=>{e.state==s&&Pr(e)},50)}function Q_(e,t){let n=e.state.doc.resolve(t);if(!(ti||FX)&&n.parent.inlineContent){let s=e.coordsAtPos(t);if(t>n.start()){let r=e.coordsAtPos(t-1),a=(r.top+r.bottom)/2;if(a>s.top&&a<s.bottom&&Math.abs(r.left-s.left)>1)return r.left<s.left?"ltr":"rtl"}if(t<n.end()){let r=e.coordsAtPos(t+1),a=(r.top+r.bottom)/2;if(a>s.top&&a<s.bottom&&Math.abs(r.left-s.left)>1)return r.left>s.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function eC(e,t,n){let i=e.state.selection;if(i instanceof yt&&!i.empty||n.indexOf("s")>-1||cs&&n.indexOf("m")>-1)return!1;let{$from:s,$to:r}=i;if(!s.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let a=jm(e.state,t);if(a&&a instanceof Qe)return ho(e,a)}if(!s.parent.inlineContent){let a=t<0?s:r,u=i instanceof Bs?wt.near(a,t):wt.findFrom(a,t);return u?ho(e,u):!1}return!1}function tC(e,t){if(!(e.state.selection instanceof yt))return!0;let{$head:n,$anchor:i,empty:s}=e.state.selection;if(!n.sameParent(i))return!0;if(!s)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let r=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(r&&!r.isText){let a=e.state.tr;return t<0?a.delete(n.pos-r.nodeSize,n.pos):a.delete(n.pos,n.pos+r.nodeSize),e.dispatch(a),!0}return!1}function nC(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function vZ(e){if(!pi||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let i=t.firstChild;nC(e,i,"true"),setTimeout(()=>nC(e,i,"false"),20)}return!1}function yZ(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function bZ(e,t){let n=t.keyCode,i=yZ(t);if(n==8||cs&&n==72&&i=="c")return tC(e,-1)||rl(e,-1);if(n==46&&!t.shiftKey||cs&&n==68&&i=="c")return tC(e,1)||rl(e,1);if(n==13||n==27)return!0;if(n==37||cs&&n==66&&i=="c"){let s=n==37?Q_(e,e.state.selection.from)=="ltr"?-1:1:-1;return Z_(e,s,i)||rl(e,s)}else if(n==39||cs&&n==70&&i=="c"){let s=n==39?Q_(e,e.state.selection.from)=="ltr"?1:-1:1;return Z_(e,s,i)||rl(e,s)}else{if(n==38||cs&&n==80&&i=="c")return eC(e,-1,i)||rl(e,-1);if(n==40||cs&&n==78&&i=="c")return vZ(e)||eC(e,1,i)||rl(e,1);if(i==(cs?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function GI(e,t){e.someProp("transformCopied",f=>{t=f(t,e)});let n=[],{content:i,openStart:s,openEnd:r}=t;for(;s>1&&r>1&&i.childCount==1&&i.firstChild.childCount==1;){s--,r--;let f=i.firstChild;n.push(f.type.name,f.attrs!=f.type.defaultAttrs?f.attrs:null),i=f.content}let a=e.someProp("clipboardSerializer")||Ua.fromSchema(e.state.schema),u=JI(),o=u.createElement("div");o.appendChild(a.serializeFragment(i,{document:u}));let l=o.firstChild,c,d=0;for(;l&&l.nodeType==1&&(c=YI[l.nodeName.toLowerCase()]);){for(let f=c.length-1;f>=0;f--){let p=u.createElement(c[f]);for(;o.firstChild;)p.appendChild(o.firstChild);o.appendChild(p),d++}l=o.firstChild}l&&l.nodeType==1&&l.setAttribute("data-pm-slice",`${s} ${r}${d?` -${d}`:""} ${JSON.stringify(n)}`);let h=e.someProp("clipboardTextSerializer",f=>f(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:o,text:h,slice:t}}function WI(e,t,n,i,s){let r=s.parent.type.spec.code,a,u;if(!n&&!t)return null;let o=t&&(i||r||!n);if(o){if(e.someProp("transformPastedText",h=>{t=h(t,r||i,e)}),r)return t?new ye(le.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0):ye.empty;let d=e.someProp("clipboardTextParser",h=>h(t,s,i,e));if(d)u=d;else{let h=s.marks(),{schema:f}=e.state,p=Ua.fromSchema(f);a=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(g=>{let m=a.appendChild(document.createElement("p"));g&&m.appendChild(p.serializeNode(f.text(g,h)))})}}else e.someProp("transformPastedHTML",d=>{n=d(n,e)}),a=SZ(n),Zu&&xZ(a);let l=a&&a.querySelector("[data-pm-slice]"),c=l&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(l.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let d=+c[3];d>0;d--){let h=a.firstChild;for(;h&&h.nodeType!=1;)h=h.nextSibling;if(!h)break;a=h}if(u||(u=(e.someProp("clipboardParser")||e.someProp("domParser")||iu.fromSchema(e.state.schema)).parseSlice(a,{preserveWhitespace:!!(o||c),context:s,ruleFromNode(h){return h.nodeName=="BR"&&!h.nextSibling&&h.parentNode&&!EZ.test(h.parentNode.nodeName)?{ignore:!0}:null}})),c)u=TZ(iC(u,+c[1],+c[2]),c[4]);else if(u=ye.maxOpen(_Z(u.content,s),!0),u.openStart||u.openEnd){let d=0,h=0;for(let f=u.content.firstChild;d<u.openStart&&!f.type.spec.isolating;d++,f=f.firstChild);for(let f=u.content.lastChild;h<u.openEnd&&!f.type.spec.isolating;h++,f=f.lastChild);u=iC(u,d,h)}return e.someProp("transformPasted",d=>{u=d(u,e)}),u}const EZ=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function _Z(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let s=t.node(n).contentMatchAt(t.index(n)),r,a=[];if(e.forEach(u=>{if(!a)return;let o=s.findWrapping(u.type),l;if(!o)return a=null;if(l=a.length&&r.length&&KI(o,r,u,a[a.length-1],0))a[a.length-1]=l;else{a.length&&(a[a.length-1]=qI(a[a.length-1],r.length));let c=zI(u,o);a.push(c),s=s.matchType(c.type),r=o}}),a)return le.from(a)}return e}function zI(e,t,n=0){for(let i=t.length-1;i>=n;i--)e=t[i].create(null,le.from(e));return e}function KI(e,t,n,i,s){if(s<e.length&&s<t.length&&e[s]==t[s]){let r=KI(e,t,n,i.lastChild,s+1);if(r)return i.copy(i.content.replaceChild(i.childCount-1,r));if(i.contentMatchAt(i.childCount).matchType(s==e.length-1?n.type:e[s+1]))return i.copy(i.content.append(le.from(zI(n,e,s+1))))}}function qI(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,qI(e.lastChild,t-1)),i=e.contentMatchAt(e.childCount).fillBefore(le.empty,!0);return e.copy(n.append(i))}function Gm(e,t,n,i,s,r){let a=t<0?e.firstChild:e.lastChild,u=a.content;return e.childCount>1&&(r=0),s<i-1&&(u=Gm(u,t,n,i,s+1,r)),s>=n&&(u=t<0?a.contentMatchAt(0).fillBefore(u,r<=s).append(u):u.append(a.contentMatchAt(a.childCount).fillBefore(le.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,a.copy(u))}function iC(e,t,n){return t<e.openStart&&(e=new ye(Gm(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new ye(Gm(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const YI={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let sC=null;function JI(){return sC||(sC=document.implementation.createHTMLDocument("title"))}function CZ(e){let t=window.trustedTypes;return t?t.createPolicy("detachedDocument",{createHTML:n=>n}).createHTML(e):e}function SZ(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=JI().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(e),s;if((s=i&&YI[i[1].toLowerCase()])&&(e=s.map(r=>"<"+r+">").join("")+e+s.map(r=>"</"+r+">").reverse().join("")),n.innerHTML=CZ(e),s)for(let r=0;r<s.length;r++)n=n.querySelector(s[r])||n;return n}function xZ(e){let t=e.querySelectorAll(ti?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let i=t[n];i.childNodes.length==1&&i.textContent==" "&&i.parentNode&&i.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),i)}}function TZ(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,i;try{i=JSON.parse(t)}catch{return e}let{content:s,openStart:r,openEnd:a}=e;for(let u=i.length-2;u>=0;u-=2){let o=n.nodes[i[u]];if(!o||o.hasRequiredAttrs())break;s=le.from(o.create(i[u+1],s)),r++,a++}return new ye(s,r,a)}const gi={},mi={},wZ={touchstart:!0,touchmove:!0};class IZ{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function OZ(e){for(let t in gi){let n=gi[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=i=>{AZ(e,i)&&!Vy(e,i)&&(e.editable||!(i.type in mi))&&n(e,i)},wZ[t]?{passive:!0}:void 0)}pi&&e.dom.addEventListener("input",()=>null),Wm(e)}function vo(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function kZ(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function Wm(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=i=>Vy(e,i))})}function Vy(e,t){return e.someProp("handleDOMEvents",n=>{let i=n[t.type];return i?i(e,t)||t.defaultPrevented:!1})}function AZ(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function PZ(e,t){!Vy(e,t)&&gi[t.type]&&(e.editable||!(t.type in mi))&&gi[t.type](e,t)}mi.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!ZI(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(Ds&&ti&&n.keyCode==13)))if(e.domObserver.selectionChanged(e.domSelectionRange())?e.domObserver.flush():n.keyCode!=229&&e.domObserver.forceFlush(),Ll&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let i=Date.now();e.input.lastIOSEnter=i,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==i&&(e.someProp("handleKeyDown",s=>s(e,ha(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",i=>i(e,n))||bZ(e,n)?n.preventDefault():vo(e,"key")};mi.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};mi.keypress=(e,t)=>{let n=t;if(ZI(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||cs&&n.metaKey)return;if(e.someProp("handleKeyPress",s=>s(e,n))){n.preventDefault();return}let i=e.state.selection;if(!(i instanceof yt)||!i.$from.sameParent(i.$to)){let s=String.fromCharCode(n.charCode);!/[\r\n]/.test(s)&&!e.someProp("handleTextInput",r=>r(e,i.$from.pos,i.$to.pos,s))&&e.dispatch(e.state.tr.insertText(s).scrollIntoView()),n.preventDefault()}};function ep(e){return{left:e.clientX,top:e.clientY}}function $Z(e,t){let n=t.x-e.clientX,i=t.y-e.clientY;return n*n+i*i<100}function By(e,t,n,i,s){if(i==-1)return!1;let r=e.state.doc.resolve(i);for(let a=r.depth+1;a>0;a--)if(e.someProp(t,u=>a>r.depth?u(e,n,r.nodeAfter,r.before(a),s,!0):u(e,n,r.node(a),r.before(a),s,!1)))return!0;return!1}function Il(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let i=e.state.tr.setSelection(t);i.setMeta("pointer",!0),e.dispatch(i)}function MZ(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),i=n.nodeAfter;return i&&i.isAtom&&Qe.isSelectable(i)?(Il(e,new Qe(n)),!0):!1}function NZ(e,t){if(t==-1)return!1;let n=e.state.selection,i,s;n instanceof Qe&&(i=n.node);let r=e.state.doc.resolve(t);for(let a=r.depth+1;a>0;a--){let u=a>r.depth?r.nodeAfter:r.node(a);if(Qe.isSelectable(u)){i&&n.$from.depth>0&&a>=n.$from.depth&&r.before(n.$from.depth+1)==n.$from.pos?s=r.before(n.$from.depth):s=r.before(a);break}}return s!=null?(Il(e,Qe.create(e.state.doc,s)),!0):!1}function RZ(e,t,n,i,s){return By(e,"handleClickOn",t,n,i)||e.someProp("handleClick",r=>r(e,t,i))||(s?NZ(e,n):MZ(e,n))}function DZ(e,t,n,i){return By(e,"handleDoubleClickOn",t,n,i)||e.someProp("handleDoubleClick",s=>s(e,t,i))}function LZ(e,t,n,i){return By(e,"handleTripleClickOn",t,n,i)||e.someProp("handleTripleClick",s=>s(e,t,i))||FZ(e,n,i)}function FZ(e,t,n){if(n.button!=0)return!1;let i=e.state.doc;if(t==-1)return i.inlineContent?(Il(e,yt.create(i,0,i.content.size)),!0):!1;let s=i.resolve(t);for(let r=s.depth+1;r>0;r--){let a=r>s.depth?s.nodeAfter:s.node(r),u=s.before(r);if(a.inlineContent)Il(e,yt.create(i,u+1,u+1+a.content.size));else if(Qe.isSelectable(a))Il(e,Qe.create(i,u));else continue;return!0}}function Hy(e){return jh(e)}const XI=cs?"metaKey":"ctrlKey";gi.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let i=Hy(e),s=Date.now(),r="singleClick";s-e.input.lastClick.time<500&&$Z(n,e.input.lastClick)&&!n[XI]&&(e.input.lastClick.type=="singleClick"?r="doubleClick":e.input.lastClick.type=="doubleClick"&&(r="tripleClick")),e.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:r};let a=e.posAtCoords(ep(n));a&&(r=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new VZ(e,a,n,!!i)):(r=="doubleClick"?DZ:LZ)(e,a.pos,a.inside,n)?n.preventDefault():vo(e,"pointer"))};class VZ{constructor(t,n,i,s){this.view=t,this.pos=n,this.event=i,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!i[XI],this.allowDefault=i.shiftKey;let r,a;if(n.inside>-1)r=t.state.doc.nodeAt(n.inside),a=n.inside;else{let c=t.state.doc.resolve(n.pos);r=c.parent,a=c.depth?c.before():0}const u=s?null:i.target,o=u?t.docView.nearestDesc(u,!0):null;this.target=o&&o.dom.nodeType==1?o.dom:null;let{selection:l}=t.state;(i.button==0&&r.type.spec.draggable&&r.type.spec.selectable!==!1||l instanceof Qe&&l.from<=a&&l.to>a)&&(this.mightDrag={node:r,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Ws&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),vo(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Pr(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(ep(t))),this.updateAllowDefault(t),this.allowDefault||!n?vo(this.view,"pointer"):RZ(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||pi&&this.mightDrag&&!this.mightDrag.node.isAtom||ti&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Il(this.view,wt.near(this.view.state.doc.resolve(n.pos))),t.preventDefault()):vo(this.view,"pointer")}move(t){this.updateAllowDefault(t),vo(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}gi.touchstart=e=>{e.input.lastTouch=Date.now(),Hy(e),vo(e,"pointer")};gi.touchmove=e=>{e.input.lastTouch=Date.now(),vo(e,"pointer")};gi.contextmenu=e=>Hy(e);function ZI(e,t){return e.composing?!0:pi&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const BZ=Ds?5e3:-1;mi.compositionstart=mi.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof yt&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(i=>i.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||n.marks(),jh(e,!0),e.markCursor=null;else if(jh(e,!t.selection.empty),Ws&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let i=e.domSelectionRange();for(let s=i.focusNode,r=i.focusOffset;s&&s.nodeType==1&&r!=0;){let a=r<0?s.lastChild:s.childNodes[r-1];if(!a)break;if(a.nodeType==3){let u=e.domSelection();u&&u.collapse(a,a.nodeValue.length);break}else s=a,r=-1}}e.input.composing=!0}QI(e,BZ)};mi.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,QI(e,20))};function QI(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>jh(e),t))}function eO(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=jZ());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function HZ(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=MX(t.focusNode,t.focusOffset),i=NX(t.focusNode,t.focusOffset);if(n&&i&&n!=i){let s=i.pmViewDesc,r=e.domObserver.lastChangedTextNode;if(n==r||i==r)return r;if(!s||!s.isText(i.nodeValue))return i;if(e.input.compositionNode==i){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return i}}return n||i}function jZ(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function jh(e,t=!1){if(!(Ds&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),eO(e),t||e.docView&&e.docView.dirty){let n=Ly(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):(e.markCursor||t)&&!e.state.selection.empty?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function UZ(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let i=getSelection(),s=document.createRange();s.selectNodeContents(t),e.dom.blur(),i.removeAllRanges(),i.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const wu=Ai&&xo<15||Ll&&VX<604;gi.copy=mi.cut=(e,t)=>{let n=t,i=e.state.selection,s=n.type=="cut";if(i.empty)return;let r=wu?null:n.clipboardData,a=i.content(),{dom:u,text:o}=GI(e,a);r?(n.preventDefault(),r.clearData(),r.setData("text/html",u.innerHTML),r.setData("text/plain",o)):UZ(e,u),s&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function GZ(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function WZ(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,i=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus();let s=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),i.parentNode&&i.parentNode.removeChild(i),n?Iu(e,i.value,null,s,t):Iu(e,i.textContent,i.innerHTML,s,t)},50)}function Iu(e,t,n,i,s){let r=WI(e,t,n,i,e.state.selection.$from);if(e.someProp("handlePaste",o=>o(e,s,r||ye.empty)))return!0;if(!r)return!1;let a=GZ(r),u=a?e.state.tr.replaceSelectionWith(a,i):e.state.tr.replaceSelection(r);return e.dispatch(u.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function tO(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}mi.paste=(e,t)=>{let n=t;if(e.composing&&!Ds)return;let i=wu?null:n.clipboardData,s=e.input.shiftKey&&e.input.lastKeyCode!=45;i&&Iu(e,tO(i),i.getData("text/html"),s,n)?n.preventDefault():WZ(e,n)};class nO{constructor(t,n,i){this.slice=t,this.move=n,this.node=i}}const iO=cs?"altKey":"ctrlKey";gi.dragstart=(e,t)=>{let n=t,i=e.input.mouseDown;if(i&&i.done(),!n.dataTransfer)return;let s=e.state.selection,r=s.empty?null:e.posAtCoords(ep(n)),a;if(!(r&&r.pos>=s.from&&r.pos<=(s instanceof Qe?s.to-1:s.to))){if(i&&i.mightDrag)a=Qe.create(e.state.doc,i.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=e.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=e.docView&&(a=Qe.create(e.state.doc,d.posBefore))}}let u=(a||e.state.selection).content(),{dom:o,text:l,slice:c}=GI(e,u);(!n.dataTransfer.files.length||!ti||OI>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(wu?"Text":"text/html",o.innerHTML),n.dataTransfer.effectAllowed="copyMove",wu||n.dataTransfer.setData("text/plain",l),e.dragging=new nO(c,!n[iO],a)};gi.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};mi.dragover=mi.dragenter=(e,t)=>t.preventDefault();mi.drop=(e,t)=>{let n=t,i=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let s=e.posAtCoords(ep(n));if(!s)return;let r=e.state.doc.resolve(s.pos),a=i&&i.slice;a?e.someProp("transformPasted",p=>{a=p(a,e)}):a=WI(e,tO(n.dataTransfer),wu?null:n.dataTransfer.getData("text/html"),!1,r);let u=!!(i&&!n[iO]);if(e.someProp("handleDrop",p=>p(e,n,a||ye.empty,u))){n.preventDefault();return}if(!a)return;n.preventDefault();let o=a?bX(e.state.doc,r.pos,a):r.pos;o==null&&(o=r.pos);let l=e.state.tr;if(u){let{node:p}=i;p?p.replace(l):l.deleteSelection()}let c=l.mapping.map(o),d=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,h=l.doc;if(d?l.replaceRangeWith(c,c,a.content.firstChild):l.replaceRange(c,c,a),l.doc.eq(h))return;let f=l.doc.resolve(c);if(d&&Qe.isSelectable(a.content.firstChild)&&f.nodeAfter&&f.nodeAfter.sameMarkup(a.content.firstChild))l.setSelection(new Qe(f));else{let p=l.mapping.map(o);l.mapping.maps[l.mapping.maps.length-1].forEach((g,m,y,b)=>p=b),l.setSelection(Fy(e,f,l.doc.resolve(p)))}e.focus(),e.dispatch(l.setMeta("uiEvent","drop"))};gi.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Pr(e)},20))};gi.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};gi.beforeinput=(e,t)=>{if(ti&&Ds&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:i}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=i||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",r=>r(e,ha(8,"Backspace")))))return;let{$cursor:s}=e.state.selection;s&&s.pos>0&&e.dispatch(e.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let e in mi)gi[e]=mi[e];function Ou(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class Uh{constructor(t,n){this.toDOM=t,this.spec=n||Sa,this.side=this.spec.side||0}map(t,n,i,s){let{pos:r,deleted:a}=t.mapResult(n.from+s,this.side<0?-1:1);return a?null:new Ls(r-i,r-i,this)}valid(){return!0}eq(t){return this==t||t instanceof Uh&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Ou(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class wo{constructor(t,n){this.attrs=t,this.spec=n||Sa}map(t,n,i,s){let r=t.map(n.from+s,this.spec.inclusiveStart?-1:1)-i,a=t.map(n.to+s,this.spec.inclusiveEnd?1:-1)-i;return r>=a?null:new Ls(r,a,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof wo&&Ou(this.attrs,t.attrs)&&Ou(this.spec,t.spec)}static is(t){return t.type instanceof wo}destroy(){}}class jy{constructor(t,n){this.attrs=t,this.spec=n||Sa}map(t,n,i,s){let r=t.mapResult(n.from+s,1);if(r.deleted)return null;let a=t.mapResult(n.to+s,-1);return a.deleted||a.pos<=r.pos?null:new Ls(r.pos-i,a.pos-i,this)}valid(t,n){let{index:i,offset:s}=t.content.findIndex(n.from),r;return s==n.from&&!(r=t.child(i)).isText&&s+r.nodeSize==n.to}eq(t){return this==t||t instanceof jy&&Ou(this.attrs,t.attrs)&&Ou(this.spec,t.spec)}destroy(){}}class Ls{constructor(t,n,i){this.from=t,this.to=n,this.type=i}copy(t,n){return new Ls(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,i){return this.type.map(t,this,n,i)}static widget(t,n,i){return new Ls(t,t,new Uh(n,i))}static inline(t,n,i,s){return new Ls(t,n,new wo(i,s))}static node(t,n,i,s){return new Ls(t,n,new jy(i,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof wo}get widget(){return this.type instanceof Uh}}const hl=[],Sa={};class $n{constructor(t,n){this.local=t.length?t:hl,this.children=n.length?n:hl}static create(t,n){return n.length?Gh(n,t,0,Sa):Zn}find(t,n,i){let s=[];return this.findInner(t??0,n??1e9,s,0,i),s}findInner(t,n,i,s,r){for(let a=0;a<this.local.length;a++){let u=this.local[a];u.from<=n&&u.to>=t&&(!r||r(u.spec))&&i.push(u.copy(u.from+s,u.to+s))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>t){let u=this.children[a]+1;this.children[a+2].findInner(t-u,n-u,i,s+u,r)}}map(t,n,i){return this==Zn||t.maps.length==0?this:this.mapInner(t,n,0,0,i||Sa)}mapInner(t,n,i,s,r){let a;for(let u=0;u<this.local.length;u++){let o=this.local[u].map(t,i,s);o&&o.type.valid(n,o)?(a||(a=[])).push(o):r.onRemove&&r.onRemove(this.local[u].spec)}return this.children.length?zZ(this.children,a||[],t,n,i,s,r):a?new $n(a.sort(xa),hl):Zn}add(t,n){return n.length?this==Zn?$n.create(t,n):this.addInner(t,n,0):this}addInner(t,n,i){let s,r=0;t.forEach((u,o)=>{let l=o+i,c;if(c=rO(n,u,l)){for(s||(s=this.children.slice());r<s.length&&s[r]<o;)r+=3;s[r]==o?s[r+2]=s[r+2].addInner(u,c,l+1):s.splice(r,0,o,o+u.nodeSize,Gh(c,u,l+1,Sa)),r+=3}});let a=sO(r?oO(n):n,-i);for(let u=0;u<a.length;u++)a[u].type.valid(t,a[u])||a.splice(u--,1);return new $n(a.length?this.local.concat(a).sort(xa):this.local,s||this.children)}remove(t){return t.length==0||this==Zn?this:this.removeInner(t,0)}removeInner(t,n){let i=this.children,s=this.local;for(let r=0;r<i.length;r+=3){let a,u=i[r]+n,o=i[r+1]+n;for(let c=0,d;c<t.length;c++)(d=t[c])&&d.from>u&&d.to<o&&(t[c]=null,(a||(a=[])).push(d));if(!a)continue;i==this.children&&(i=this.children.slice());let l=i[r+2].removeInner(a,u+1);l!=Zn?i[r+2]=l:(i.splice(r,3),r-=3)}if(s.length){for(let r=0,a;r<t.length;r++)if(a=t[r])for(let u=0;u<s.length;u++)s[u].eq(a,n)&&(s==this.local&&(s=this.local.slice()),s.splice(u--,1))}return i==this.children&&s==this.local?this:s.length||i.length?new $n(s,i):Zn}forChild(t,n){if(this==Zn)return this;if(n.isLeaf)return $n.empty;let i,s;for(let u=0;u<this.children.length;u+=3)if(this.children[u]>=t){this.children[u]==t&&(i=this.children[u+2]);break}let r=t+1,a=r+n.content.size;for(let u=0;u<this.local.length;u++){let o=this.local[u];if(o.from<a&&o.to>r&&o.type instanceof wo){let l=Math.max(r,o.from)-r,c=Math.min(a,o.to)-r;l<c&&(s||(s=[])).push(o.copy(l,c))}}if(s){let u=new $n(s.sort(xa),hl);return i?new po([u,i]):u}return i||Zn}eq(t){if(this==t)return!0;if(!(t instanceof $n)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return Uy(this.localsInner(t))}localsInner(t){if(this==Zn)return hl;if(t.inlineContent||!this.local.some(wo.is))return this.local;let n=[];for(let i=0;i<this.local.length;i++)this.local[i].type instanceof wo||n.push(this.local[i]);return n}forEachSet(t){t(this)}}$n.empty=new $n([],[]);$n.removeOverlap=Uy;const Zn=$n.empty;class po{constructor(t){this.members=t}map(t,n){const i=this.members.map(s=>s.map(t,n,Sa));return po.from(i)}forChild(t,n){if(n.isLeaf)return $n.empty;let i=[];for(let s=0;s<this.members.length;s++){let r=this.members[s].forChild(t,n);r!=Zn&&(r instanceof po?i=i.concat(r.members):i.push(r))}return po.from(i)}eq(t){if(!(t instanceof po)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,i=!0;for(let s=0;s<this.members.length;s++){let r=this.members[s].localsInner(t);if(r.length)if(!n)n=r;else{i&&(n=n.slice(),i=!1);for(let a=0;a<r.length;a++)n.push(r[a])}}return n?Uy(i?n:n.sort(xa)):hl}static from(t){switch(t.length){case 0:return Zn;case 1:return t[0];default:return new po(t.every(n=>n instanceof $n)?t:t.reduce((n,i)=>n.concat(i instanceof $n?i:i.members),[]))}}forEachSet(t){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(t)}}function zZ(e,t,n,i,s,r,a){let u=e.slice();for(let l=0,c=r;l<n.maps.length;l++){let d=0;n.maps[l].forEach((h,f,p,g)=>{let m=g-p-(f-h);for(let y=0;y<u.length;y+=3){let b=u[y+1];if(b<0||h>b+c-d)continue;let E=u[y]+c-d;f>=E?u[y+1]=h<=E?-2:-1:h>=c&&m&&(u[y]+=m,u[y+1]+=m)}d+=m}),c=n.maps[l].map(c,-1)}let o=!1;for(let l=0;l<u.length;l+=3)if(u[l+1]<0){if(u[l+1]==-2){o=!0,u[l+1]=-1;continue}let c=n.map(e[l]+r),d=c-s;if(d<0||d>=i.content.size){o=!0;continue}let h=n.map(e[l+1]+r,-1),f=h-s,{index:p,offset:g}=i.content.findIndex(d),m=i.maybeChild(p);if(m&&g==d&&g+m.nodeSize==f){let y=u[l+2].mapInner(n,m,c+1,e[l]+r+1,a);y!=Zn?(u[l]=d,u[l+1]=f,u[l+2]=y):(u[l+1]=-2,o=!0)}else o=!0}if(o){let l=KZ(u,e,t,n,s,r,a),c=Gh(l,i,0,a);t=c.local;for(let d=0;d<u.length;d+=3)u[d+1]<0&&(u.splice(d,3),d-=3);for(let d=0,h=0;d<c.children.length;d+=3){let f=c.children[d];for(;h<u.length&&u[h]<f;)h+=3;u.splice(h,0,c.children[d],c.children[d+1],c.children[d+2])}}return new $n(t.sort(xa),u)}function sO(e,t){if(!t||!e.length)return e;let n=[];for(let i=0;i<e.length;i++){let s=e[i];n.push(new Ls(s.from+t,s.to+t,s.type))}return n}function KZ(e,t,n,i,s,r,a){function u(o,l){for(let c=0;c<o.local.length;c++){let d=o.local[c].map(i,s,l);d?n.push(d):a.onRemove&&a.onRemove(o.local[c].spec)}for(let c=0;c<o.children.length;c+=3)u(o.children[c+2],o.children[c]+l+1)}for(let o=0;o<e.length;o+=3)e[o+1]==-1&&u(e[o+2],t[o]+r+1);return n}function rO(e,t,n){if(t.isLeaf)return null;let i=n+t.nodeSize,s=null;for(let r=0,a;r<e.length;r++)(a=e[r])&&a.from>n&&a.to<i&&((s||(s=[])).push(a),e[r]=null);return s}function oO(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function Gh(e,t,n,i){let s=[],r=!1;t.forEach((u,o)=>{let l=rO(e,u,o+n);if(l){r=!0;let c=Gh(l,u,n+o+1,i);c!=Zn&&s.push(o,o+u.nodeSize,c)}});let a=sO(r?oO(e):e,-n).sort(xa);for(let u=0;u<a.length;u++)a[u].type.valid(t,a[u])||(i.onRemove&&i.onRemove(a[u].spec),a.splice(u--,1));return a.length||s.length?new $n(a,s):Zn}function xa(e,t){return e.from-t.from||e.to-t.to}function Uy(e){let t=e;for(let n=0;n<t.length-1;n++){let i=t[n];if(i.from!=i.to)for(let s=n+1;s<t.length;s++){let r=t[s];if(r.from==i.from){r.to!=i.to&&(t==e&&(t=e.slice()),t[s]=r.copy(r.from,i.to),rC(t,s+1,r.copy(i.to,r.to)));continue}else{r.from<i.to&&(t==e&&(t=e.slice()),t[n]=i.copy(i.from,r.from),rC(t,s,i.copy(r.from,i.to)));break}}}return t}function rC(e,t,n){for(;t<e.length&&xa(n,e[t])>0;)t++;e.splice(t,0,n)}function Cg(e){let t=[];return e.someProp("decorations",n=>{let i=n(e.state);i&&i!=Zn&&t.push(i)}),e.cursorWrapper&&t.push($n.create(e.state.doc,[e.cursorWrapper.deco])),po.from(t)}const qZ={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},YZ=Ai&&xo<=11;class JZ{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class XZ{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new JZ,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(i=>{for(let s=0;s<i.length;s++)this.queue.push(i[s]);Ai&&xo<=11&&i.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),YZ&&(this.onCharData=i=>{this.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,qZ)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(X_(this.view)){if(this.suppressingSelectionUpdates)return Pr(this.view);if(Ai&&xo<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&Ra(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,i;for(let r=t.focusNode;r;r=Tu(r))n.add(r);for(let r=t.anchorNode;r;r=Tu(r))if(n.has(r)){i=r;break}let s=i&&this.view.docView.nearestDesc(i);if(s&&s.ignoreMutation({type:"selection",target:i.nodeType==3?i.parentNode:i}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}selectionChanged(t){return!this.suppressingSelectionUpdates&&!this.currentSelection.eq(t)&&X_(this.view)&&!this.ignoreSelectionChange(t)}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let i=t.domSelectionRange(),s=this.selectionChanged(i),r=-1,a=-1,u=!1,o=[];if(t.editable)for(let c=0;c<n.length;c++){let d=this.registerMutation(n[c],o);d&&(r=r<0?d.from:Math.min(d.from,r),a=a<0?d.to:Math.max(d.to,a),d.typeOver&&(u=!0))}if(Ws&&o.length){let c=o.filter(d=>d.nodeName=="BR");if(c.length==2){let[d,h]=c;d.parentNode&&d.parentNode.parentNode==h.parentNode?h.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let h of c){let f=h.parentNode;f&&f.nodeName=="LI"&&(!d||eQ(t,d)!=f)&&h.remove()}}}let l=null;r<0&&s&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&Zf(i)&&(l=Ly(t))&&l.eq(wt.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Pr(t),this.currentSelection.set(i),t.scrollToSelection()):(r>-1||s)&&(r>-1&&(t.docView.markDirty(r,a),ZZ(t)),this.handleDOMChange(r,a,u,o),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(i)||Pr(t),this.currentSelection.set(i))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let i=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(i==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!i||i.ignoreMutation(t))return null;if(t.type=="childList"){for(let c=0;c<t.addedNodes.length;c++){let d=t.addedNodes[c];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(i.contentDOM&&i.contentDOM!=i.dom&&!i.contentDOM.contains(t.target))return{from:i.posBefore,to:i.posAfter};let s=t.previousSibling,r=t.nextSibling;if(Ai&&xo<=11&&t.addedNodes.length)for(let c=0;c<t.addedNodes.length;c++){let{previousSibling:d,nextSibling:h}=t.addedNodes[c];(!d||Array.prototype.indexOf.call(t.addedNodes,d)<0)&&(s=d),(!h||Array.prototype.indexOf.call(t.addedNodes,h)<0)&&(r=h)}let a=s&&s.parentNode==t.target?zn(s)+1:0,u=i.localPosFromDOM(t.target,a,-1),o=r&&r.parentNode==t.target?zn(r):t.target.childNodes.length,l=i.localPosFromDOM(t.target,o,1);return{from:u,to:l}}else return t.type=="attributes"?{from:i.posAtStart-i.border,to:i.posAtEnd+i.border}:(this.lastChangedTextNode=t.target,{from:i.posAtStart,to:i.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let oC=new WeakMap,aC=!1;function ZZ(e){if(!oC.has(e)&&(oC.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=Ws,aC)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),aC=!0}}function lC(e,t){let n=t.startContainer,i=t.startOffset,s=t.endContainer,r=t.endOffset,a=e.domAtPos(e.state.selection.anchor);return Ra(a.node,a.offset,s,r)&&([n,i,s,r]=[s,r,n,i]),{anchorNode:n,anchorOffset:i,focusNode:s,focusOffset:r}}function QZ(e,t){if(t.getComposedRanges){let s=t.getComposedRanges(e.root)[0];if(s)return lC(e,s)}let n;function i(s){s.preventDefault(),s.stopImmediatePropagation(),n=s.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",i,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",i,!0),n?lC(e,n):null}function eQ(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let i=e.docView.nearestDesc(n,!0);if(i&&i.node.isBlock)return n}return null}function tQ(e,t,n){let{node:i,fromOffset:s,toOffset:r,from:a,to:u}=e.docView.parseRange(t,n),o=e.domSelectionRange(),l,c=o.anchorNode;if(c&&e.dom.contains(c.nodeType==1?c:c.parentNode)&&(l=[{node:c,offset:o.anchorOffset}],Zf(o)||l.push({node:o.focusNode,offset:o.focusOffset})),ti&&e.input.lastKeyCode===8)for(let m=r;m>s;m--){let y=i.childNodes[m-1],b=y.pmViewDesc;if(y.nodeName=="BR"&&!b){r=m;break}if(!b||b.size)break}let d=e.state.doc,h=e.someProp("domParser")||iu.fromSchema(e.state.schema),f=d.resolve(a),p=null,g=h.parse(i,{topNode:f.parent,topMatch:f.parent.contentMatchAt(f.index()),topOpen:!0,from:s,to:r,preserveWhitespace:f.parent.type.whitespace=="pre"?"full":!0,findPositions:l,ruleFromNode:nQ,context:f});if(l&&l[0].pos!=null){let m=l[0].pos,y=l[1]&&l[1].pos;y==null&&(y=m),p={anchor:m+a,head:y+a}}return{doc:g,sel:p,from:a,to:u}}function nQ(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(pi&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||pi&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const iQ=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function sQ(e,t,n,i,s){let r=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let D=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,j=Ly(e,D);if(j&&!e.state.selection.eq(j)){if(ti&&Ds&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",ae=>ae(e,ha(13,"Enter"))))return;let se=e.state.tr.setSelection(j);D=="pointer"?se.setMeta("pointer",!0):D=="key"&&se.scrollIntoView(),r&&se.setMeta("composition",r),e.dispatch(se)}return}let a=e.state.doc.resolve(t),u=a.sharedDepth(n);t=a.before(u+1),n=e.state.doc.resolve(n).after(u+1);let o=e.state.selection,l=tQ(e,t,n),c=e.state.doc,d=c.slice(l.from,l.to),h,f;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(h=e.state.selection.to,f="end"):(h=e.state.selection.from,f="start"),e.input.lastKeyCode=null;let p=aQ(d.content,l.doc.content,l.from,h,f);if(p&&e.input.domChangeCount++,(Ll&&e.input.lastIOSEnter>Date.now()-225||Ds)&&s.some(D=>D.nodeType==1&&!iQ.test(D.nodeName))&&(!p||p.endA>=p.endB)&&e.someProp("handleKeyDown",D=>D(e,ha(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!p)if(i&&o instanceof yt&&!o.empty&&o.$head.sameParent(o.$anchor)&&!e.composing&&!(l.sel&&l.sel.anchor!=l.sel.head))p={start:o.from,endA:o.to,endB:o.to};else{if(l.sel){let D=cC(e,e.state.doc,l.sel);if(D&&!D.eq(e.state.selection)){let j=e.state.tr.setSelection(D);r&&j.setMeta("composition",r),e.dispatch(j)}}return}e.state.selection.from<e.state.selection.to&&p.start==p.endB&&e.state.selection instanceof yt&&(p.start>e.state.selection.from&&p.start<=e.state.selection.from+2&&e.state.selection.from>=l.from?p.start=e.state.selection.from:p.endA<e.state.selection.to&&p.endA>=e.state.selection.to-2&&e.state.selection.to<=l.to&&(p.endB+=e.state.selection.to-p.endA,p.endA=e.state.selection.to)),Ai&&xo<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>l.from&&l.doc.textBetween(p.start-l.from-1,p.start-l.from+1)=="  "&&(p.start--,p.endA--,p.endB--);let g=l.doc.resolveNoCache(p.start-l.from),m=l.doc.resolveNoCache(p.endB-l.from),y=c.resolve(p.start),b=g.sameParent(m)&&g.parent.inlineContent&&y.end()>=p.endA,E;if((Ll&&e.input.lastIOSEnter>Date.now()-225&&(!b||s.some(D=>D.nodeName=="DIV"||D.nodeName=="P"))||!b&&g.pos<l.doc.content.size&&!g.sameParent(m)&&(E=wt.findFrom(l.doc.resolve(g.pos+1),1,!0))&&E.head==m.pos)&&e.someProp("handleKeyDown",D=>D(e,ha(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>p.start&&oQ(c,p.start,p.endA,g,m)&&e.someProp("handleKeyDown",D=>D(e,ha(8,"Backspace")))){Ds&&ti&&e.domObserver.suppressSelectionUpdates();return}ti&&Ds&&p.endB==p.start&&(e.input.lastAndroidDelete=Date.now()),Ds&&!b&&g.start()!=m.start()&&m.parentOffset==0&&g.depth==m.depth&&l.sel&&l.sel.anchor==l.sel.head&&l.sel.head==p.endA&&(p.endB-=2,m=l.doc.resolveNoCache(p.endB-l.from),setTimeout(()=>{e.someProp("handleKeyDown",function(D){return D(e,ha(13,"Enter"))})},20));let _=p.start,I=p.endA,M,R,X;if(b){if(g.pos==m.pos)Ai&&xo<=11&&g.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>Pr(e),20)),M=e.state.tr.delete(_,I),R=c.resolve(p.start).marksAcross(c.resolve(p.endA));else if(p.endA==p.endB&&(X=rQ(g.parent.content.cut(g.parentOffset,m.parentOffset),y.parent.content.cut(y.parentOffset,p.endA-y.start()))))M=e.state.tr,X.type=="add"?M.addMark(_,I,X.mark):M.removeMark(_,I,X.mark);else if(g.parent.child(g.index()).isText&&g.index()==m.index()-(m.textOffset?0:1)){let D=g.parent.textBetween(g.parentOffset,m.parentOffset);if(e.someProp("handleTextInput",j=>j(e,_,I,D)))return;M=e.state.tr.insertText(D,_,I)}}if(M||(M=e.state.tr.replace(_,I,l.doc.slice(p.start-l.from,p.endB-l.from))),l.sel){let D=cC(e,M.doc,l.sel);D&&!(ti&&Ds&&e.composing&&D.empty&&(p.start!=p.endB||e.input.lastAndroidDelete<Date.now()-100)&&(D.head==_||D.head==M.mapping.map(I)-1)||Ai&&D.empty&&D.head==_)&&M.setSelection(D)}R&&M.ensureMarks(R),r&&M.setMeta("composition",r),e.dispatch(M.scrollIntoView())}function cC(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:Fy(e,t.resolve(n.anchor),t.resolve(n.head))}function rQ(e,t){let n=e.firstChild.marks,i=t.firstChild.marks,s=n,r=i,a,u,o;for(let c=0;c<i.length;c++)s=i[c].removeFromSet(s);for(let c=0;c<n.length;c++)r=n[c].removeFromSet(r);if(s.length==1&&r.length==0)u=s[0],a="add",o=c=>c.mark(u.addToSet(c.marks));else if(s.length==0&&r.length==1)u=r[0],a="remove",o=c=>c.mark(u.removeFromSet(c.marks));else return null;let l=[];for(let c=0;c<t.childCount;c++)l.push(o(t.child(c)));if(le.from(l).eq(e))return{mark:u,type:a}}function oQ(e,t,n,i,s){if(n-t<=s.pos-i.pos||Sg(i,!0,!1)<s.pos)return!1;let r=e.resolve(t);if(!i.parent.isTextblock){let u=r.nodeAfter;return u!=null&&n==t+u.nodeSize}if(r.parentOffset<r.parent.content.size||!r.parent.isTextblock)return!1;let a=e.resolve(Sg(r,!0,!0));return!a.parent.isTextblock||a.pos>n||Sg(a,!0,!1)<n?!1:i.parent.content.cut(i.parentOffset).eq(a.parent.content)}function Sg(e,t,n){let i=e.depth,s=t?e.end():e.pos;for(;i>0&&(t||e.indexAfter(i)==e.node(i).childCount);)i--,s++,t=!1;if(n){let r=e.node(i).maybeChild(e.indexAfter(i));for(;r&&!r.isLeaf;)r=r.firstChild,s++}return s}function aQ(e,t,n,i,s){let r=e.findDiffStart(t,n);if(r==null)return null;let{a,b:u}=e.findDiffEnd(t,n+e.size,n+t.size);if(s=="end"){let o=Math.max(0,r-Math.min(a,u));i-=a+o-r}if(a<r&&e.size<t.size){let o=i<=r&&i>=a?r-i:0;r-=o,r&&r<t.size&&uC(t.textBetween(r-1,r+1))&&(r+=o?1:-1),u=r+(u-a),a=r}else if(u<r){let o=i<=r&&i>=u?r-i:0;r-=o,r&&r<e.size&&uC(e.textBetween(r-1,r+1))&&(r+=o?1:-1),a=r+(a-u),u=r}return{start:r,endA:a,endB:u}}function uC(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class lQ{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new IZ,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(gC),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=fC(this),hC(this),this.nodeViews=pC(this),this.docView=W_(this.state.doc,dC(this),Cg(this),this.dom,this),this.domObserver=new XZ(this,(i,s,r,a)=>sQ(this,i,s,r,a)),this.domObserver.start(),OZ(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&Wm(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(gC),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let i in this._props)n[i]=this._props[i];n.state=this.state;for(let i in t)n[i]=t[i];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var i;let s=this.state,r=!1,a=!1;t.storedMarks&&this.composing&&(eO(this),a=!0),this.state=t;let u=s.plugins!=t.plugins||this._props.plugins!=n.plugins;if(u||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let f=pC(this);uQ(f,this.nodeViews)&&(this.nodeViews=f,r=!0)}(u||n.handleDOMEvents!=this._props.handleDOMEvents)&&Wm(this),this.editable=fC(this),hC(this);let o=Cg(this),l=dC(this),c=s.plugins!=t.plugins&&!s.doc.eq(t.doc)?"reset":t.scrollToSelection>s.scrollToSelection?"to selection":"preserve",d=r||!this.docView.matchesNode(t.doc,l,o);(d||!t.selection.eq(s.selection))&&(a=!0);let h=c=="preserve"&&a&&this.dom.style.overflowAnchor==null&&jX(this);if(a){this.domObserver.stop();let f=d&&(Ai||ti)&&!this.composing&&!s.selection.empty&&!t.selection.empty&&cQ(s.selection,t.selection);if(d){let p=ti?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=HZ(this)),(r||!this.docView.update(t.doc,l,o,this))&&(this.docView.updateOuterDeco(l),this.docView.destroy(),this.docView=W_(t.doc,l,o,this.dom,this)),p&&!this.trackWrites&&(f=!0)}f||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&hZ(this))?Pr(this,f):(HI(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((i=this.dragging)===null||i===void 0)&&i.node&&!s.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,s),c=="reset"?this.dom.scrollTop=0:c=="to selection"?this.scrollToSelection():h&&UX(h)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Qe){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&V_(this,n.getBoundingClientRect(),t)}else V_(this,this.coordsAtPos(this.state.selection.head,1),t)}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let i=this.directPlugins[n];i.spec.view&&this.pluginViews.push(i.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let i=this.state.plugins[n];i.spec.view&&this.pluginViews.push(i.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let i=this.pluginViews[n];i.update&&i.update(this,t)}}updateDraggedNode(t,n){let i=t.node,s=-1;if(this.state.doc.nodeAt(i.from)==i.node)s=i.from;else{let r=i.from+(this.state.doc.content.size-n.doc.content.size);(r>0&&this.state.doc.nodeAt(r))==i.node&&(s=r)}this.dragging=new nO(t.slice,t.move,s<0?void 0:Qe.create(this.state.doc,s))}someProp(t,n){let i=this._props&&this._props[t],s;if(i!=null&&(s=n?n(i):i))return s;for(let a=0;a<this.directPlugins.length;a++){let u=this.directPlugins[a].props[t];if(u!=null&&(s=n?n(u):u))return s}let r=this.state.plugins;if(r)for(let a=0;a<r.length;a++){let u=r[a].props[t];if(u!=null&&(s=n?n(u):u))return s}}hasFocus(){if(Ai){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&GX(this.dom),Pr(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return YX(this,t)}coordsAtPos(t,n=1){return MI(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,i=-1){let s=this.docView.posFromDOM(t,n,i);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(t,n){return eZ(this,n||this.state,t)}pasteHTML(t,n){return Iu(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return Iu(this,t,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(kZ(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Cg(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,PX())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return PZ(this,t)}dispatch(t){let n=this._props.dispatchTransaction;n?n.call(this,t):this.updateState(this.state.apply(t))}domSelectionRange(){let t=this.domSelection();return t?pi&&this.root.nodeType===11&&DX(this.dom.ownerDocument)==this.dom&&QZ(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function dC(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let i in n)i=="class"?t.class+=" "+n[i]:i=="style"?t.style=(t.style?t.style+";":"")+n[i]:!t[i]&&i!="contenteditable"&&i!="nodeName"&&(t[i]=String(n[i]))}),t.translate||(t.translate="no"),[Ls.node(0,e.state.doc.content.size,t)]}function hC(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:Ls.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function fC(e){return!e.someProp("editable",t=>t(e.state)===!1)}function cQ(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function pC(e){let t=Object.create(null);function n(i){for(let s in i)Object.prototype.hasOwnProperty.call(t,s)||(t[s]=i[s])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function uQ(e,t){let n=0,i=0;for(let s in e){if(e[s]!=t[s])return!0;n++}for(let s in t)i++;return n!=i}function gC(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var No={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Wh={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},dQ=typeof navigator<"u"&&/Mac/.test(navigator.platform),hQ=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Kn=0;Kn<10;Kn++)No[48+Kn]=No[96+Kn]=String(Kn);for(var Kn=1;Kn<=24;Kn++)No[Kn+111]="F"+Kn;for(var Kn=65;Kn<=90;Kn++)No[Kn]=String.fromCharCode(Kn+32),Wh[Kn]=String.fromCharCode(Kn);for(var xg in No)Wh.hasOwnProperty(xg)||(Wh[xg]=No[xg]);function fQ(e){var t=dQ&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||hQ&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?Wh:No)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const pQ=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function gQ(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let i,s,r,a;for(let u=0;u<t.length-1;u++){let o=t[u];if(/^(cmd|meta|m)$/i.test(o))a=!0;else if(/^a(lt)?$/i.test(o))i=!0;else if(/^(c|ctrl|control)$/i.test(o))s=!0;else if(/^s(hift)?$/i.test(o))r=!0;else if(/^mod$/i.test(o))pQ?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+o)}return i&&(n="Alt-"+n),s&&(n="Ctrl-"+n),a&&(n="Meta-"+n),r&&(n="Shift-"+n),n}function mQ(e){let t=Object.create(null);for(let n in e)t[gQ(n)]=e[n];return t}function Tg(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function vQ(e){return new gr({props:{handleKeyDown:yQ(e)}})}function yQ(e){let t=mQ(e);return function(n,i){let s=fQ(i),r,a=t[Tg(s,i)];if(a&&a(n.state,n.dispatch,n))return!0;if(s.length==1&&s!=" "){if(i.shiftKey){let u=t[Tg(s,i,!1)];if(u&&u(n.state,n.dispatch,n))return!0}if((i.shiftKey||i.altKey||i.metaKey||s.charCodeAt(0)>127)&&(r=No[i.keyCode])&&r!=s){let u=t[Tg(r,i)];if(u&&u(n.state,n.dispatch,n))return!0}}return!1}}const bQ=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function aO(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const EQ=(e,t,n)=>{let i=aO(e,n);if(!i)return!1;let s=Gy(i);if(!s){let a=i.blockRange(),u=a&&ec(a);return u==null?!1:(t&&t(e.tr.lift(a,u).scrollIntoView()),!0)}let r=s.nodeBefore;if(dO(e,s,t,-1))return!0;if(i.parent.content.size==0&&(Fl(r,"end")||Qe.isSelectable(r)))for(let a=i.depth;;a--){let u=Jf(e.doc,i.before(a),i.after(a),ye.empty);if(u&&u.slice.size<u.to-u.from){if(t){let o=e.tr.step(u);o.setSelection(Fl(r,"end")?wt.findFrom(o.doc.resolve(o.mapping.map(s.pos,-1)),-1):Qe.create(o.doc,s.pos-r.nodeSize)),t(o.scrollIntoView())}return!0}if(a==1||i.node(a-1).childCount>1)break}return r.isAtom&&s.depth==i.depth-1?(t&&t(e.tr.delete(s.pos-r.nodeSize,s.pos).scrollIntoView()),!0):!1},_Q=(e,t,n)=>{let i=aO(e,n);if(!i)return!1;let s=Gy(i);return s?lO(e,s,t):!1},CQ=(e,t,n)=>{let i=cO(e,n);if(!i)return!1;let s=Wy(i);return s?lO(e,s,t):!1};function lO(e,t,n){let i=t.nodeBefore,s=i,r=t.pos-1;for(;!s.isTextblock;r--){if(s.type.spec.isolating)return!1;let c=s.lastChild;if(!c)return!1;s=c}let a=t.nodeAfter,u=a,o=t.pos+1;for(;!u.isTextblock;o++){if(u.type.spec.isolating)return!1;let c=u.firstChild;if(!c)return!1;u=c}let l=Jf(e.doc,r,o,ye.empty);if(!l||l.from!=r||l instanceof Nn&&l.slice.size>=o-r)return!1;if(n){let c=e.tr.step(l);c.setSelection(yt.create(c.doc,r)),n(c.scrollIntoView())}return!0}function Fl(e,t,n=!1){for(let i=e;i;i=t=="start"?i.firstChild:i.lastChild){if(i.isTextblock)return!0;if(n&&i.childCount!=1)return!1}return!1}const SQ=(e,t,n)=>{let{$head:i,empty:s}=e.selection,r=i;if(!s)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):i.parentOffset>0)return!1;r=Gy(i)}let a=r&&r.nodeBefore;return!a||!Qe.isSelectable(a)?!1:(t&&t(e.tr.setSelection(Qe.create(e.doc,r.pos-a.nodeSize)).scrollIntoView()),!0)};function Gy(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function cO(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const xQ=(e,t,n)=>{let i=cO(e,n);if(!i)return!1;let s=Wy(i);if(!s)return!1;let r=s.nodeAfter;if(dO(e,s,t,1))return!0;if(i.parent.content.size==0&&(Fl(r,"start")||Qe.isSelectable(r))){let a=Jf(e.doc,i.before(),i.after(),ye.empty);if(a&&a.slice.size<a.to-a.from){if(t){let u=e.tr.step(a);u.setSelection(Fl(r,"start")?wt.findFrom(u.doc.resolve(u.mapping.map(s.pos)),1):Qe.create(u.doc,u.mapping.map(s.pos))),t(u.scrollIntoView())}return!0}}return r.isAtom&&s.depth==i.depth-1?(t&&t(e.tr.delete(s.pos,s.pos+r.nodeSize).scrollIntoView()),!0):!1},TQ=(e,t,n)=>{let{$head:i,empty:s}=e.selection,r=i;if(!s)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):i.parentOffset<i.parent.content.size)return!1;r=Wy(i)}let a=r&&r.nodeAfter;return!a||!Qe.isSelectable(a)?!1:(t&&t(e.tr.setSelection(Qe.create(e.doc,r.pos)).scrollIntoView()),!0)};function Wy(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const wQ=(e,t)=>{let n=e.selection,i=n instanceof Qe,s;if(i){if(n.node.isTextblock||!Wo(e.doc,n.from))return!1;s=n.from}else if(s=Yf(e.doc,n.from,-1),s==null)return!1;if(t){let r=e.tr.join(s);i&&r.setSelection(Qe.create(r.doc,s-e.doc.resolve(s).nodeBefore.nodeSize)),t(r.scrollIntoView())}return!0},IQ=(e,t)=>{let n=e.selection,i;if(n instanceof Qe){if(n.node.isTextblock||!Wo(e.doc,n.to))return!1;i=n.to}else if(i=Yf(e.doc,n.to,1),i==null)return!1;return t&&t(e.tr.join(i).scrollIntoView()),!0},OQ=(e,t)=>{let{$from:n,$to:i}=e.selection,s=n.blockRange(i),r=s&&ec(s);return r==null?!1:(t&&t(e.tr.lift(s,r).scrollIntoView()),!0)},kQ=(e,t)=>{let{$head:n,$anchor:i}=e.selection;return!n.parent.type.spec.code||!n.sameParent(i)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function uO(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const AQ=(e,t)=>{let{$head:n,$anchor:i}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(i))return!1;let s=n.node(-1),r=n.indexAfter(-1),a=uO(s.contentMatchAt(r));if(!a||!s.canReplaceWith(r,r,a))return!1;if(t){let u=n.after(),o=e.tr.replaceWith(u,u,a.createAndFill());o.setSelection(wt.near(o.doc.resolve(u),1)),t(o.scrollIntoView())}return!0},PQ=(e,t)=>{let n=e.selection,{$from:i,$to:s}=n;if(n instanceof Bs||i.parent.inlineContent||s.parent.inlineContent)return!1;let r=uO(s.parent.contentMatchAt(s.indexAfter()));if(!r||!r.isTextblock)return!1;if(t){let a=(!i.parentOffset&&s.index()<s.parent.childCount?i:s).pos,u=e.tr.insert(a,r.createAndFill());u.setSelection(yt.create(u.doc,a+1)),t(u.scrollIntoView())}return!0},$Q=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let r=n.before();if(Tl(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}let i=n.blockRange(),s=i&&ec(i);return s==null?!1:(t&&t(e.tr.lift(i,s).scrollIntoView()),!0)},MQ=(e,t)=>{let{$from:n,to:i}=e.selection,s,r=n.sharedDepth(i);return r==0?!1:(s=n.before(r),t&&t(e.tr.setSelection(Qe.create(e.doc,s))),!0)};function NQ(e,t,n){let i=t.nodeBefore,s=t.nodeAfter,r=t.index();return!i||!s||!i.type.compatibleContent(s.type)?!1:!i.content.size&&t.parent.canReplace(r-1,r)?(n&&n(e.tr.delete(t.pos-i.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(r,r+1)||!(s.isTextblock||Wo(e.doc,t.pos))?!1:(n&&n(e.tr.join(t.pos).scrollIntoView()),!0)}function dO(e,t,n,i){let s=t.nodeBefore,r=t.nodeAfter,a,u,o=s.type.spec.isolating||r.type.spec.isolating;if(!o&&NQ(e,t,n))return!0;let l=!o&&t.parent.canReplace(t.index(),t.index()+1);if(l&&(a=(u=s.contentMatchAt(s.childCount)).findWrapping(r.type))&&u.matchType(a[0]||r.type).validEnd){if(n){let f=t.pos+r.nodeSize,p=le.empty;for(let y=a.length-1;y>=0;y--)p=le.from(a[y].create(null,p));p=le.from(s.copy(p));let g=e.tr.step(new Ln(t.pos-1,f,t.pos,f,new ye(p,1,0),a.length,!0)),m=g.doc.resolve(f+2*a.length);m.nodeAfter&&m.nodeAfter.type==s.type&&Wo(g.doc,m.pos)&&g.join(m.pos),n(g.scrollIntoView())}return!0}let c=r.type.spec.isolating||i>0&&o?null:wt.findFrom(t,1),d=c&&c.$from.blockRange(c.$to),h=d&&ec(d);if(h!=null&&h>=t.depth)return n&&n(e.tr.lift(d,h).scrollIntoView()),!0;if(l&&Fl(r,"start",!0)&&Fl(s,"end")){let f=s,p=[];for(;p.push(f),!f.isTextblock;)f=f.lastChild;let g=r,m=1;for(;!g.isTextblock;g=g.firstChild)m++;if(f.canReplace(f.childCount,f.childCount,g.content)){if(n){let y=le.empty;for(let E=p.length-1;E>=0;E--)y=le.from(p[E].copy(y));let b=e.tr.step(new Ln(t.pos-p.length,t.pos+r.nodeSize,t.pos+m,t.pos+r.nodeSize-m,new ye(y,p.length,0),0,!0));n(b.scrollIntoView())}return!0}}return!1}function hO(e){return function(t,n){let i=t.selection,s=e<0?i.$from:i.$to,r=s.depth;for(;s.node(r).isInline;){if(!r)return!1;r--}return s.node(r).isTextblock?(n&&n(t.tr.setSelection(yt.create(t.doc,e<0?s.start(r):s.end(r)))),!0):!1}}const RQ=hO(-1),DQ=hO(1);function LQ(e,t=null){return function(n,i){let{$from:s,$to:r}=n.selection,a=s.blockRange(r),u=a&&Ny(a,e,t);return u?(i&&i(n.tr.wrap(a,u).scrollIntoView()),!0):!1}}function mC(e,t=null){return function(n,i){let s=!1;for(let r=0;r<n.selection.ranges.length&&!s;r++){let{$from:{pos:a},$to:{pos:u}}=n.selection.ranges[r];n.doc.nodesBetween(a,u,(o,l)=>{if(s)return!1;if(!(!o.isTextblock||o.hasMarkup(e,t)))if(o.type==e)s=!0;else{let c=n.doc.resolve(l),d=c.index();s=c.parent.canReplaceWith(d,d+1,e)}})}if(!s)return!1;if(i){let r=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:u},$to:{pos:o}}=n.selection.ranges[a];r.setBlockType(u,o,e,t)}i(r.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function FQ(e,t=null){return function(n,i){let{$from:s,$to:r}=n.selection,a=s.blockRange(r),u=!1,o=a;if(!a)return!1;if(a.depth>=2&&s.node(a.depth-1).type.compatibleContent(e)&&a.startIndex==0){if(s.index(a.depth-1)==0)return!1;let c=n.doc.resolve(a.start-2);o=new Dh(c,c,a.depth),a.endIndex<a.parent.childCount&&(a=new Dh(s,n.doc.resolve(r.end(a.depth)),a.depth)),u=!0}let l=Ny(o,e,t,a);return l?(i&&i(VQ(n.tr,a,l,u,e).scrollIntoView()),!0):!1}}function VQ(e,t,n,i,s){let r=le.empty;for(let c=n.length-1;c>=0;c--)r=le.from(n[c].type.create(n[c].attrs,r));e.step(new Ln(t.start-(i?2:0),t.end,t.start,t.end,new ye(r,0,0),n.length,!0));let a=0;for(let c=0;c<n.length;c++)n[c].type==s&&(a=c+1);let u=n.length-a,o=t.start+n.length-(i?2:0),l=t.parent;for(let c=t.startIndex,d=t.endIndex,h=!0;c<d;c++,h=!1)!h&&Tl(e.doc,o,u)&&(e.split(o,u),o+=2*u),o+=l.child(c).nodeSize;return e}function BQ(e){return function(t,n){let{$from:i,$to:s}=t.selection,r=i.blockRange(s,a=>a.childCount>0&&a.firstChild.type==e);return r?n?i.node(r.depth-1).type==e?HQ(t,n,e,r):jQ(t,n,r):!0:!1}}function HQ(e,t,n,i){let s=e.tr,r=i.end,a=i.$to.end(i.depth);r<a&&(s.step(new Ln(r-1,a,r,a,new ye(le.from(n.create(null,i.parent.copy())),1,0),1,!0)),i=new Dh(s.doc.resolve(i.$from.pos),s.doc.resolve(a),i.depth));const u=ec(i);if(u==null)return!1;s.lift(i,u);let o=s.mapping.map(r,-1)-1;return Wo(s.doc,o)&&s.join(o),t(s.scrollIntoView()),!0}function jQ(e,t,n){let i=e.tr,s=n.parent;for(let f=n.end,p=n.endIndex-1,g=n.startIndex;p>g;p--)f-=s.child(p).nodeSize,i.delete(f-1,f+1);let r=i.doc.resolve(n.start),a=r.nodeAfter;if(i.mapping.map(n.end)!=n.start+r.nodeAfter.nodeSize)return!1;let u=n.startIndex==0,o=n.endIndex==s.childCount,l=r.node(-1),c=r.index(-1);if(!l.canReplace(c+(u?0:1),c+1,a.content.append(o?le.empty:le.from(s))))return!1;let d=r.pos,h=d+a.nodeSize;return i.step(new Ln(d-(u?1:0),h+(o?1:0),d+1,h-1,new ye((u?le.empty:le.from(s.copy(le.empty))).append(o?le.empty:le.from(s.copy(le.empty))),u?0:1,o?0:1),u?0:1)),t(i.scrollIntoView()),!0}function UQ(e){return function(t,n){let{$from:i,$to:s}=t.selection,r=i.blockRange(s,l=>l.childCount>0&&l.firstChild.type==e);if(!r)return!1;let a=r.startIndex;if(a==0)return!1;let u=r.parent,o=u.child(a-1);if(o.type!=e)return!1;if(n){let l=o.lastChild&&o.lastChild.type==u.type,c=le.from(l?e.create():null),d=new ye(le.from(e.create(null,le.from(u.type.create(null,c)))),l?3:1,0),h=r.start,f=r.end;n(t.tr.step(new Ln(h-(l?3:1),f,h,f,d,1,!0)).scrollIntoView())}return!0}}function tp(e){const{state:t,transaction:n}=e;let{selection:i}=n,{doc:s}=n,{storedMarks:r}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return r},get selection(){return i},get doc(){return s},get tr(){return i=n.selection,s=n.doc,r=n.storedMarks,n}}}class np{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:n,state:i}=this,{view:s}=n,{tr:r}=i,a=this.buildProps(r);return Object.fromEntries(Object.entries(t).map(([u,o])=>[u,(...c)=>{const d=o(...c)(a);return!r.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(r),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,n=!0){const{rawCommands:i,editor:s,state:r}=this,{view:a}=s,u=[],o=!!t,l=t||r.tr,c=()=>(!o&&n&&!l.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(l),u.every(h=>h===!0)),d={...Object.fromEntries(Object.entries(i).map(([h,f])=>[h,(...g)=>{const m=this.buildProps(l,n),y=f(...g)(m);return u.push(y),d}])),run:c};return d}createCan(t){const{rawCommands:n,state:i}=this,s=!1,r=t||i.tr,a=this.buildProps(r,s);return{...Object.fromEntries(Object.entries(n).map(([o,l])=>[o,(...c)=>l(...c)({...a,dispatch:void 0})])),chain:()=>this.createChain(r,s)}}buildProps(t,n=!0){const{rawCommands:i,editor:s,state:r}=this,{view:a}=s,u={tr:t,editor:s,view:a,state:tp({state:r,transaction:t}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(t,n),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(i).map(([o,l])=>[o,(...c)=>l(...c)(u)]))}};return u}}class GQ{constructor(){this.callbacks={}}on(t,n){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(n),this}emit(t,...n){const i=this.callbacks[t];return i&&i.forEach(s=>s.apply(this,n)),this}off(t,n){const i=this.callbacks[t];return i&&(n?this.callbacks[t]=i.filter(s=>s!==n):delete this.callbacks[t]),this}removeAllListeners(){this.callbacks={}}}function xe(e,t,n){return e.config[t]===void 0&&e.parent?xe(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?xe(e.parent,t,n):null}):e.config[t]}function ip(e){const t=e.filter(s=>s.type==="extension"),n=e.filter(s=>s.type==="node"),i=e.filter(s=>s.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:i}}function fO(e){const t=[],{nodeExtensions:n,markExtensions:i}=ip(e),s=[...n,...i],r={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(a=>{const u={name:a.name,options:a.options,storage:a.storage,extensions:s},o=xe(a,"addGlobalAttributes",u);if(!o)return;o().forEach(c=>{c.types.forEach(d=>{Object.entries(c.attributes).forEach(([h,f])=>{t.push({type:d,name:h,attribute:{...r,...f}})})})})}),s.forEach(a=>{const u={name:a.name,options:a.options,storage:a.storage},o=xe(a,"addAttributes",u);if(!o)return;const l=o();Object.entries(l).forEach(([c,d])=>{const h={...r,...d};typeof(h==null?void 0:h.default)=="function"&&(h.default=h.default()),h!=null&&h.isRequired&&(h==null?void 0:h.default)===void 0&&delete h.default,t.push({type:a.name,name:c,attribute:h})})}),t}function Bn(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}function zs(...e){return e.filter(t=>!!t).reduce((t,n)=>{const i={...t};return Object.entries(n).forEach(([s,r])=>{if(!i[s]){i[s]=r;return}if(s==="class"){const u=r?r.split(" "):[],o=i[s]?i[s].split(" "):[],l=u.filter(c=>!o.includes(c));i[s]=[...o,...l].join(" ")}else if(s==="style"){const u=r?r.split(";").map(c=>c.trim()).filter(Boolean):[],o=i[s]?i[s].split(";").map(c=>c.trim()).filter(Boolean):[],l=new Map;o.forEach(c=>{const[d,h]=c.split(":").map(f=>f.trim());l.set(d,h)}),u.forEach(c=>{const[d,h]=c.split(":").map(f=>f.trim());l.set(d,h)}),i[s]=Array.from(l.entries()).map(([c,d])=>`${c}: ${d}`).join("; ")}else i[s]=r}),i},{})}function zm(e,t){return t.filter(n=>n.type===e.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(e.attrs)||{}:{[n.name]:e.attrs[n.name]}).reduce((n,i)=>zs(n,i),{})}function pO(e){return typeof e=="function"}function xt(e,t=void 0,...n){return pO(e)?t?e.bind(t)(...n):e(...n):e}function WQ(e={}){return Object.keys(e).length===0&&e.constructor===Object}function zQ(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function vC(e,t){return"style"in e?e:{...e,getAttrs:n=>{const i=e.getAttrs?e.getAttrs(n):e.attrs;if(i===!1)return!1;const s=t.reduce((r,a)=>{const u=a.attribute.parseHTML?a.attribute.parseHTML(n):zQ(n.getAttribute(a.name));return u==null?r:{...r,[a.name]:u}},{});return{...i,...s}}}}function yC(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>t==="attrs"&&WQ(n)?!1:n!=null))}function KQ(e,t){var n;const i=fO(e),{nodeExtensions:s,markExtensions:r}=ip(e),a=(n=s.find(l=>xe(l,"topNode")))===null||n===void 0?void 0:n.name,u=Object.fromEntries(s.map(l=>{const c=i.filter(y=>y.type===l.name),d={name:l.name,options:l.options,storage:l.storage,editor:t},h=e.reduce((y,b)=>{const E=xe(b,"extendNodeSchema",d);return{...y,...E?E(l):{}}},{}),f=yC({...h,content:xt(xe(l,"content",d)),marks:xt(xe(l,"marks",d)),group:xt(xe(l,"group",d)),inline:xt(xe(l,"inline",d)),atom:xt(xe(l,"atom",d)),selectable:xt(xe(l,"selectable",d)),draggable:xt(xe(l,"draggable",d)),code:xt(xe(l,"code",d)),whitespace:xt(xe(l,"whitespace",d)),defining:xt(xe(l,"defining",d)),isolating:xt(xe(l,"isolating",d)),attrs:Object.fromEntries(c.map(y=>{var b;return[y.name,{default:(b=y==null?void 0:y.attribute)===null||b===void 0?void 0:b.default}]}))}),p=xt(xe(l,"parseHTML",d));p&&(f.parseDOM=p.map(y=>vC(y,c)));const g=xe(l,"renderHTML",d);g&&(f.toDOM=y=>g({node:y,HTMLAttributes:zm(y,c)}));const m=xe(l,"renderText",d);return m&&(f.toText=m),[l.name,f]})),o=Object.fromEntries(r.map(l=>{const c=i.filter(m=>m.type===l.name),d={name:l.name,options:l.options,storage:l.storage,editor:t},h=e.reduce((m,y)=>{const b=xe(y,"extendMarkSchema",d);return{...m,...b?b(l):{}}},{}),f=yC({...h,inclusive:xt(xe(l,"inclusive",d)),excludes:xt(xe(l,"excludes",d)),group:xt(xe(l,"group",d)),spanning:xt(xe(l,"spanning",d)),code:xt(xe(l,"code",d)),attrs:Object.fromEntries(c.map(m=>{var y;return[m.name,{default:(y=m==null?void 0:m.attribute)===null||y===void 0?void 0:y.default}]}))}),p=xt(xe(l,"parseHTML",d));p&&(f.parseDOM=p.map(m=>vC(m,c)));const g=xe(l,"renderHTML",d);return g&&(f.toDOM=m=>g({mark:m,HTMLAttributes:zm(m,c)})),[l.name,f]}));return new uI({topNode:a,nodes:u,marks:o})}function wg(e,t){return t.nodes[e]||t.marks[e]||null}function bC(e,t){return Array.isArray(t)?t.some(n=>(typeof n=="string"?n:n.name)===e.name):t}const qQ=(e,t=500)=>{let n="";const i=e.parentOffset;return e.parent.nodesBetween(Math.max(0,i-t),i,(s,r,a,u)=>{var o,l;const c=((l=(o=s.type.spec).toText)===null||l===void 0?void 0:l.call(o,{node:s,pos:r,parent:a,index:u}))||s.textContent||"%leaf%";n+=s.isAtom&&!s.isText?c:c.slice(0,Math.max(0,i-r))}),n};function zy(e){return Object.prototype.toString.call(e)==="[object RegExp]"}class Ky{constructor(t){this.find=t.find,this.handler=t.handler}}const YQ=(e,t)=>{if(zy(t))return t.exec(e);const n=t(e);if(!n)return null;const i=[n.text];return i.index=n.index,i.input=e,i.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),i.push(n.replaceWith)),i};function Ad(e){var t;const{editor:n,from:i,to:s,text:r,rules:a,plugin:u}=e,{view:o}=n;if(o.composing)return!1;const l=o.state.doc.resolve(i);if(l.parent.type.spec.code||!((t=l.nodeBefore||l.nodeAfter)===null||t===void 0)&&t.marks.find(h=>h.type.spec.code))return!1;let c=!1;const d=qQ(l)+r;return a.forEach(h=>{if(c)return;const f=YQ(d,h.find);if(!f)return;const p=o.state.tr,g=tp({state:o.state,transaction:p}),m={from:i-(f[0].length-r.length),to:s},{commands:y,chain:b,can:E}=new np({editor:n,state:g});h.handler({state:g,range:m,match:f,commands:y,chain:b,can:E})===null||!p.steps.length||(p.setMeta(u,{transform:p,from:i,to:s,text:r}),o.dispatch(p),c=!0)}),c}function JQ(e){const{editor:t,rules:n}=e,i=new gr({state:{init(){return null},apply(s,r){const a=s.getMeta(i);if(a)return a;const u=s.getMeta("applyInputRules");return!!u&&setTimeout(()=>{const{from:l,text:c}=u,d=l+c.length;Ad({editor:t,from:l,to:d,text:c,rules:n,plugin:i})}),s.selectionSet||s.docChanged?null:r}},props:{handleTextInput(s,r,a,u){return Ad({editor:t,from:r,to:a,text:u,rules:n,plugin:i})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:r}=s.state.selection;r&&Ad({editor:t,from:r.pos,to:r.pos,text:"",rules:n,plugin:i})}),!1)},handleKeyDown(s,r){if(r.key!=="Enter")return!1;const{$cursor:a}=s.state.selection;return a?Ad({editor:t,from:a.pos,to:a.pos,text:`
`,rules:n,plugin:i}):!1}},isInputRules:!0});return i}function XQ(e){return Object.prototype.toString.call(e).slice(8,-1)}function Pd(e){return XQ(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function sp(e,t){const n={...e};return Pd(e)&&Pd(t)&&Object.keys(t).forEach(i=>{Pd(t[i])&&Pd(e[i])?n[i]=sp(e[i],t[i]):n[i]=t[i]}),n}class Ro{constructor(t={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=xt(xe(this,"addOptions",{name:this.name}))),this.storage=xt(xe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new Ro(t)}configure(t={}){const n=this.extend({...this.config,addOptions:()=>sp(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new Ro(t);return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=xt(xe(n,"addOptions",{name:n.name})),n.storage=xt(xe(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:t,mark:n}){const{tr:i}=t.state,s=t.state.selection.$from;if(s.pos===s.end()){const a=s.marks();if(!!!a.find(l=>(l==null?void 0:l.type.name)===n.name))return!1;const o=a.find(l=>(l==null?void 0:l.type.name)===n.name);return o&&i.removeStoredMark(o),i.insertText(" ",s.pos),t.view.dispatch(i),!0}return!1}}function ZQ(e){return typeof e=="number"}class QQ{constructor(t){this.find=t.find,this.handler=t.handler}}const eee=(e,t,n)=>{if(zy(t))return[...e.matchAll(t)];const i=t(e,n);return i?i.map(s=>{const r=[s.text];return r.index=s.index,r.input=e,r.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),r.push(s.replaceWith)),r}):[]};function tee(e){const{editor:t,state:n,from:i,to:s,rule:r,pasteEvent:a,dropEvent:u}=e,{commands:o,chain:l,can:c}=new np({editor:t,state:n}),d=[];return n.doc.nodesBetween(i,s,(f,p)=>{if(!f.isTextblock||f.type.spec.code)return;const g=Math.max(i,p),m=Math.min(s,p+f.content.size),y=f.textBetween(g-p,m-p,void 0,"￼");eee(y,r.find,a).forEach(E=>{if(E.index===void 0)return;const _=g+E.index+1,I=_+E[0].length,M={from:n.tr.mapping.map(_),to:n.tr.mapping.map(I)},R=r.handler({state:n,range:M,match:E,commands:o,chain:l,can:c,pasteEvent:a,dropEvent:u});d.push(R)})}),d.every(f=>f!==null)}const nee=e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=n.clipboardData)===null||t===void 0||t.setData("text/html",e),n};function iee(e){const{editor:t,rules:n}=e;let i=null,s=!1,r=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,u=typeof DragEvent<"u"?new DragEvent("drop"):null;const o=({state:c,from:d,to:h,rule:f,pasteEvt:p})=>{const g=c.tr,m=tp({state:c,transaction:g});if(!(!tee({editor:t,state:m,from:Math.max(d-1,0),to:h.b-1,rule:f,pasteEvent:p,dropEvent:u})||!g.steps.length))return u=typeof DragEvent<"u"?new DragEvent("drop"):null,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g};return n.map(c=>new gr({view(d){const h=f=>{var p;i=!((p=d.dom.parentElement)===null||p===void 0)&&p.contains(f.target)?d.dom.parentElement:null};return window.addEventListener("dragstart",h),{destroy(){window.removeEventListener("dragstart",h)}}},props:{handleDOMEvents:{drop:(d,h)=>(r=i===d.dom.parentElement,u=h,!1),paste:(d,h)=>{var f;const p=(f=h.clipboardData)===null||f===void 0?void 0:f.getData("text/html");return a=h,s=!!(p!=null&&p.includes("data-pm-slice")),!1}}},appendTransaction:(d,h,f)=>{const p=d[0],g=p.getMeta("uiEvent")==="paste"&&!s,m=p.getMeta("uiEvent")==="drop"&&!r,y=p.getMeta("applyPasteRules"),b=!!y;if(!g&&!m&&!b)return;if(b){const{from:I,text:M}=y,R=I+M.length,X=nee(M);return o({rule:c,state:f,from:I,to:{b:R},pasteEvt:X})}const E=h.doc.content.findDiffStart(f.doc.content),_=h.doc.content.findDiffEnd(f.doc.content);if(!(!ZQ(E)||!_||E===_.b))return o({rule:c,state:f,from:E,to:_,pasteEvt:a})}}))}function see(e){const t=e.filter((n,i)=>e.indexOf(n)!==i);return Array.from(new Set(t))}class vl{constructor(t,n){this.splittableMarks=[],this.editor=n,this.extensions=vl.resolve(t),this.schema=KQ(this.extensions,n),this.setupExtensions()}static resolve(t){const n=vl.sort(vl.flatten(t)),i=see(n.map(s=>s.name));return i.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${i.map(s=>`'${s}'`).join(", ")}]. This can lead to issues.`),n}static flatten(t){return t.map(n=>{const i={name:n.name,options:n.options,storage:n.storage},s=xe(n,"addExtensions",i);return s?[n,...this.flatten(s())]:n}).flat(10)}static sort(t){return t.sort((i,s)=>{const r=xe(i,"priority")||100,a=xe(s,"priority")||100;return r>a?-1:r<a?1:0})}get commands(){return this.extensions.reduce((t,n)=>{const i={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:wg(n.name,this.schema)},s=xe(n,"addCommands",i);return s?{...t,...s()}:t},{})}get plugins(){const{editor:t}=this,n=vl.sort([...this.extensions].reverse()),i=[],s=[],r=n.map(a=>{const u={name:a.name,options:a.options,storage:a.storage,editor:t,type:wg(a.name,this.schema)},o=[],l=xe(a,"addKeyboardShortcuts",u);let c={};if(a.type==="mark"&&xe(a,"exitable",u)&&(c.ArrowRight=()=>Ro.handleExit({editor:t,mark:a})),l){const g=Object.fromEntries(Object.entries(l()).map(([m,y])=>[m,()=>y({editor:t})]));c={...c,...g}}const d=vQ(c);o.push(d);const h=xe(a,"addInputRules",u);bC(a,t.options.enableInputRules)&&h&&i.push(...h());const f=xe(a,"addPasteRules",u);bC(a,t.options.enablePasteRules)&&f&&s.push(...f());const p=xe(a,"addProseMirrorPlugins",u);if(p){const g=p();o.push(...g)}return o}).flat();return[JQ({editor:t,rules:i}),...iee({editor:t,rules:s}),...r]}get attributes(){return fO(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:n}=ip(this.extensions);return Object.fromEntries(n.filter(i=>!!xe(i,"addNodeView")).map(i=>{const s=this.attributes.filter(o=>o.type===i.name),r={name:i.name,options:i.options,storage:i.storage,editor:t,type:Bn(i.name,this.schema)},a=xe(i,"addNodeView",r);if(!a)return[];const u=(o,l,c,d,h)=>{const f=zm(o,s);return a()({node:o,view:l,getPos:c,decorations:d,innerDecorations:h,editor:t,extension:i,HTMLAttributes:f})};return[i.name,u]}))}setupExtensions(){this.extensions.forEach(t=>{var n;this.editor.extensionStorage[t.name]=t.storage;const i={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:wg(t.name,this.schema)};t.type==="mark"&&(!((n=xt(xe(t,"keepOnSplit",i)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(t.name);const s=xe(t,"onBeforeCreate",i),r=xe(t,"onCreate",i),a=xe(t,"onUpdate",i),u=xe(t,"onSelectionUpdate",i),o=xe(t,"onTransaction",i),l=xe(t,"onFocus",i),c=xe(t,"onBlur",i),d=xe(t,"onDestroy",i);s&&this.editor.on("beforeCreate",s),r&&this.editor.on("create",r),a&&this.editor.on("update",a),u&&this.editor.on("selectionUpdate",u),o&&this.editor.on("transaction",o),l&&this.editor.on("focus",l),c&&this.editor.on("blur",c),d&&this.editor.on("destroy",d)})}}class Ks{constructor(t={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=xt(xe(this,"addOptions",{name:this.name}))),this.storage=xt(xe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new Ks(t)}configure(t={}){const n=this.extend({...this.config,addOptions:()=>sp(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new Ks({...this.config,...t});return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=xt(xe(n,"addOptions",{name:n.name})),n.storage=xt(xe(n,"addStorage",{name:n.name,options:n.options})),n}}function gO(e,t,n){const{from:i,to:s}=t,{blockSeparator:r=`

`,textSerializers:a={}}=n||{};let u="";return e.nodesBetween(i,s,(o,l,c,d)=>{var h;o.isBlock&&l>i&&(u+=r);const f=a==null?void 0:a[o.type.name];if(f)return c&&(u+=f({node:o,pos:l,parent:c,index:d,range:t})),!1;o.isText&&(u+=(h=o==null?void 0:o.text)===null||h===void 0?void 0:h.slice(Math.max(i,l)-l,s-l))}),u}function mO(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}const ree=Ks.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new gr({key:new Ga("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:i,selection:s}=t,{ranges:r}=s,a=Math.min(...r.map(c=>c.$from.pos)),u=Math.max(...r.map(c=>c.$to.pos)),o=mO(n);return gO(i,{from:a,to:u},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:o})}}})]}}),oee=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),aee=(e=!1)=>({commands:t})=>t.setContent("",e),lee=()=>({state:e,tr:t,dispatch:n})=>{const{selection:i}=t,{ranges:s}=i;return n&&s.forEach(({$from:r,$to:a})=>{e.doc.nodesBetween(r.pos,a.pos,(u,o)=>{if(u.type.isText)return;const{doc:l,mapping:c}=t,d=l.resolve(c.map(o)),h=l.resolve(c.map(o+u.nodeSize)),f=d.blockRange(h);if(!f)return;const p=ec(f);if(u.type.isTextblock){const{defaultType:g}=d.parent.contentMatchAt(d.index());t.setNodeMarkup(f.start,g)}(p||p===0)&&t.lift(f,p)})}),!0},cee=e=>t=>e(t),uee=()=>({state:e,dispatch:t})=>PQ(e,t),dee=(e,t)=>({editor:n,tr:i})=>{const{state:s}=n,r=s.doc.slice(e.from,e.to);i.deleteRange(e.from,e.to);const a=i.mapping.map(t);return i.insert(a,r.content),i.setSelection(new yt(i.doc.resolve(a-1))),!0},hee=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,i=n.$anchor.node();if(i.content.size>0)return!1;const s=e.selection.$anchor;for(let r=s.depth;r>0;r-=1)if(s.node(r).type===i.type){if(t){const u=s.before(r),o=s.after(r);e.delete(u,o).scrollIntoView()}return!0}return!1},fee=e=>({tr:t,state:n,dispatch:i})=>{const s=Bn(e,n.schema),r=t.selection.$anchor;for(let a=r.depth;a>0;a-=1)if(r.node(a).type===s){if(i){const o=r.before(a),l=r.after(a);t.delete(o,l).scrollIntoView()}return!0}return!1},pee=e=>({tr:t,dispatch:n})=>{const{from:i,to:s}=e;return n&&t.delete(i,s),!0},gee=()=>({state:e,dispatch:t})=>bQ(e,t),mee=()=>({commands:e})=>e.keyboardShortcut("Enter"),vee=()=>({state:e,dispatch:t})=>AQ(e,t);function zh(e,t,n={strict:!0}){const i=Object.keys(t);return i.length?i.every(s=>n.strict?t[s]===e[s]:zy(t[s])?t[s].test(e[s]):t[s]===e[s]):!0}function Km(e,t,n={}){return e.find(i=>i.type===t&&zh(i.attrs,n))}function yee(e,t,n={}){return!!Km(e,t,n)}function qy(e,t,n={}){if(!e||!t)return;let i=e.parent.childAfter(e.parentOffset);if(e.parentOffset===i.offset&&i.offset!==0&&(i=e.parent.childBefore(e.parentOffset)),!i.node)return;const s=Km([...i.node.marks],t,n);if(!s)return;let r=i.index,a=e.start()+i.offset,u=r+1,o=a+i.node.nodeSize;for(Km([...i.node.marks],t,n);r>0&&s.isInSet(e.parent.child(r-1).marks);)r-=1,a-=e.parent.child(r).nodeSize;for(;u<e.parent.childCount&&yee([...e.parent.child(u).marks],t,n);)o+=e.parent.child(u).nodeSize,u+=1;return{from:a,to:o}}function Ko(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}const bee=(e,t={})=>({tr:n,state:i,dispatch:s})=>{const r=Ko(e,i.schema),{doc:a,selection:u}=n,{$from:o,from:l,to:c}=u;if(s){const d=qy(o,r,t);if(d&&d.from<=l&&d.to>=c){const h=yt.create(a,d.from,d.to);n.setSelection(h)}}return!0},Eee=e=>t=>{const n=typeof e=="function"?e(t):e;for(let i=0;i<n.length;i+=1)if(n[i](t))return!0;return!1};function vO(e){return e instanceof yt}function ma(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function yO(e,t=null){if(!t)return null;const n=wt.atStart(e),i=wt.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return i;const s=n.from,r=i.to;return t==="all"?yt.create(e,ma(0,s,r),ma(e.content.size,s,r)):yt.create(e,ma(t,s,r),ma(t,s,r))}function Yy(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const _ee=(e=null,t={})=>({editor:n,view:i,tr:s,dispatch:r})=>{t={scrollIntoView:!0,...t};const a=()=>{Yy()&&i.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(i.focus(),t!=null&&t.scrollIntoView&&n.commands.scrollIntoView())})};if(i.hasFocus()&&e===null||e===!1)return!0;if(r&&e===null&&!vO(n.state.selection))return a(),!0;const u=yO(s.doc,e)||n.state.selection,o=n.state.selection.eq(u);return r&&(o||s.setSelection(u),o&&s.storedMarks&&s.setStoredMarks(s.storedMarks),a()),!0},Cee=(e,t)=>n=>e.every((i,s)=>t(i,{...n,index:s})),See=(e,t)=>({tr:n,commands:i})=>i.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),bO=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const i=t[n];i.nodeType===3&&i.nodeValue&&/^(\n\s\s|\n)$/.test(i.nodeValue)?e.removeChild(i):i.nodeType===1&&bO(i)}return e};function $d(e){const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return bO(n)}function Kh(e,t,n){n={slice:!0,parseOptions:{},...n};const i=typeof e=="object"&&e!==null,s=typeof e=="string";if(i)try{if(Array.isArray(e)&&e.length>0)return le.fromArray(e.map(u=>t.nodeFromJSON(u)));const a=t.nodeFromJSON(e);return n.errorOnInvalidContent&&a.check(),a}catch(r){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:r});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",r),Kh("",t,n)}if(s){if(n.errorOnInvalidContent){let a=!1,u="";const o=new uI({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:l=>(a=!0,u=typeof l=="string"?l:l.outerHTML,null)}]}})});if(n.slice?iu.fromSchema(o).parseSlice($d(e),n.parseOptions):iu.fromSchema(o).parse($d(e),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${u}`)})}const r=iu.fromSchema(t);return n.slice?r.parseSlice($d(e),n.parseOptions).content:r.parse($d(e),n.parseOptions)}return Kh("",t,n)}function xee(e,t,n){const i=e.steps.length-1;if(i<t)return;const s=e.steps[i];if(!(s instanceof Nn||s instanceof Ln))return;const r=e.mapping.maps[i];let a=0;r.forEach((u,o,l,c)=>{a===0&&(a=c)}),e.setSelection(wt.near(e.doc.resolve(a),n))}const Tee=e=>!("type"in e),wee=(e,t,n)=>({tr:i,dispatch:s,editor:r})=>{var a;if(s){n={parseOptions:{},updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let u;try{u=Kh(t,r.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:(a=n.errorOnInvalidContent)!==null&&a!==void 0?a:r.options.enableContentCheck})}catch(p){return r.emit("contentError",{editor:r,error:p,disableCollaboration:()=>{console.error("[tiptap error]: Unable to disable collaboration at this point in time")}}),!1}let{from:o,to:l}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},c=!0,d=!0;if((Tee(u)?u:[u]).forEach(p=>{p.check(),c=c?p.isText&&p.marks.length===0:!1,d=d?p.isBlock:!1}),o===l&&d){const{parent:p}=i.doc.resolve(o);p.isTextblock&&!p.type.spec.code&&!p.childCount&&(o-=1,l+=1)}let f;c?(Array.isArray(t)?f=t.map(p=>p.text||"").join(""):typeof t=="object"&&t&&t.text?f=t.text:f=t,i.insertText(f,o,l)):(f=u,i.replaceWith(o,l,f)),n.updateSelection&&xee(i,i.steps.length-1,-1),n.applyInputRules&&i.setMeta("applyInputRules",{from:o,text:f}),n.applyPasteRules&&i.setMeta("applyPasteRules",{from:o,text:f})}return!0},Iee=()=>({state:e,dispatch:t})=>wQ(e,t),Oee=()=>({state:e,dispatch:t})=>IQ(e,t),kee=()=>({state:e,dispatch:t})=>EQ(e,t),Aee=()=>({state:e,dispatch:t})=>xQ(e,t),Pee=()=>({state:e,dispatch:t,tr:n})=>{try{const i=Yf(e.doc,e.selection.$from.pos,-1);return i==null?!1:(n.join(i,2),t&&t(n),!0)}catch{return!1}},$ee=()=>({state:e,dispatch:t,tr:n})=>{try{const i=Yf(e.doc,e.selection.$from.pos,1);return i==null?!1:(n.join(i,2),t&&t(n),!0)}catch{return!1}},Mee=()=>({state:e,dispatch:t})=>_Q(e,t),Nee=()=>({state:e,dispatch:t})=>CQ(e,t);function EO(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Ree(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let i,s,r,a;for(let u=0;u<t.length-1;u+=1){const o=t[u];if(/^(cmd|meta|m)$/i.test(o))a=!0;else if(/^a(lt)?$/i.test(o))i=!0;else if(/^(c|ctrl|control)$/i.test(o))s=!0;else if(/^s(hift)?$/i.test(o))r=!0;else if(/^mod$/i.test(o))Yy()||EO()?a=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${o}`)}return i&&(n=`Alt-${n}`),s&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),r&&(n=`Shift-${n}`),n}const Dee=e=>({editor:t,view:n,tr:i,dispatch:s})=>{const r=Ree(e).split(/-(?!$)/),a=r.find(l=>!["Alt","Ctrl","Meta","Shift"].includes(l)),u=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:r.includes("Alt"),ctrlKey:r.includes("Ctrl"),metaKey:r.includes("Meta"),shiftKey:r.includes("Shift"),bubbles:!0,cancelable:!0}),o=t.captureTransaction(()=>{n.someProp("handleKeyDown",l=>l(n,u))});return o==null||o.steps.forEach(l=>{const c=l.map(i.mapping);c&&s&&i.maybeStep(c)}),!0};function ku(e,t,n={}){const{from:i,to:s,empty:r}=e.selection,a=t?Bn(t,e.schema):null,u=[];e.doc.nodesBetween(i,s,(d,h)=>{if(d.isText)return;const f=Math.max(i,h),p=Math.min(s,h+d.nodeSize);u.push({node:d,from:f,to:p})});const o=s-i,l=u.filter(d=>a?a.name===d.node.type.name:!0).filter(d=>zh(d.node.attrs,n,{strict:!1}));return r?!!l.length:l.reduce((d,h)=>d+h.to-h.from,0)>=o}const Lee=(e,t={})=>({state:n,dispatch:i})=>{const s=Bn(e,n.schema);return ku(n,s,t)?OQ(n,i):!1},Fee=()=>({state:e,dispatch:t})=>$Q(e,t),Vee=e=>({state:t,dispatch:n})=>{const i=Bn(e,t.schema);return BQ(i)(t,n)},Bee=()=>({state:e,dispatch:t})=>kQ(e,t);function rp(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function EC(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((i,s)=>(n.includes(s)||(i[s]=e[s]),i),{})}const Hee=(e,t)=>({tr:n,state:i,dispatch:s})=>{let r=null,a=null;const u=rp(typeof e=="string"?e:e.name,i.schema);return u?(u==="node"&&(r=Bn(e,i.schema)),u==="mark"&&(a=Ko(e,i.schema)),s&&n.selection.ranges.forEach(o=>{i.doc.nodesBetween(o.$from.pos,o.$to.pos,(l,c)=>{r&&r===l.type&&n.setNodeMarkup(c,void 0,EC(l.attrs,t)),a&&l.marks.length&&l.marks.forEach(d=>{a===d.type&&n.addMark(c,c+l.nodeSize,a.create(EC(d.attrs,t)))})})}),!0):!1},jee=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),Uee=()=>({tr:e,commands:t})=>t.setTextSelection({from:0,to:e.doc.content.size}),Gee=()=>({state:e,dispatch:t})=>SQ(e,t),Wee=()=>({state:e,dispatch:t})=>TQ(e,t),zee=()=>({state:e,dispatch:t})=>MQ(e,t),Kee=()=>({state:e,dispatch:t})=>DQ(e,t),qee=()=>({state:e,dispatch:t})=>RQ(e,t);function qm(e,t,n={},i={}){return Kh(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:i.errorOnInvalidContent})}const Yee=(e,t=!1,n={},i={})=>({editor:s,tr:r,dispatch:a,commands:u})=>{var o,l;const{doc:c}=r;if(n.preserveWhitespace!=="full"){const d=qm(e,s.schema,n,{errorOnInvalidContent:(o=i.errorOnInvalidContent)!==null&&o!==void 0?o:s.options.enableContentCheck});return a&&r.replaceWith(0,c.content.size,d).setMeta("preventUpdate",!t),!0}return a&&r.setMeta("preventUpdate",!t),u.insertContentAt({from:0,to:c.content.size},e,{parseOptions:n,errorOnInvalidContent:(l=i.errorOnInvalidContent)!==null&&l!==void 0?l:s.options.enableContentCheck})};function Jy(e,t){const n=Ko(t,e.schema),{from:i,to:s,empty:r}=e.selection,a=[];r?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(i,s,o=>{a.push(...o.marks)});const u=a.find(o=>o.type.name===n.name);return u?{...u.attrs}:{}}function Jee(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function Xee(e,t){for(let n=e.depth;n>0;n-=1){const i=e.node(n);if(t(i))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:i}}}function Xy(e){return t=>Xee(t.$from,e)}function Zee(e,t){const n=Ua.fromSchema(t).serializeFragment(e),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(n),s.innerHTML}function Qee(e,t){const n={from:0,to:e.content.size};return gO(e,n,t)}function ete(e,t){const n=Bn(t,e.schema),{from:i,to:s}=e.selection,r=[];e.doc.nodesBetween(i,s,u=>{r.push(u)});const a=r.reverse().find(u=>u.type.name===n.name);return a?{...a.attrs}:{}}function tte(e,t){const n=rp(typeof t=="string"?t:t.name,e.schema);return n==="node"?ete(e,t):n==="mark"?Jy(e,t):{}}function _O(e,t,n){const i=[];return e===t?n.resolve(e).marks().forEach(s=>{const r=n.resolve(e),a=qy(r,s.type);a&&i.push({mark:s,...a})}):n.nodesBetween(e,t,(s,r)=>{!s||(s==null?void 0:s.nodeSize)===void 0||i.push(...s.marks.map(a=>({from:r,to:r+s.nodeSize,mark:a})))}),i}function eh(e,t,n){return Object.fromEntries(Object.entries(n).filter(([i])=>{const s=e.find(r=>r.type===t&&r.name===i);return s?s.attribute.keepOnSplit:!1}))}function Ym(e,t,n={}){const{empty:i,ranges:s}=e.selection,r=t?Ko(t,e.schema):null;if(i)return!!(e.storedMarks||e.selection.$from.marks()).filter(d=>r?r.name===d.type.name:!0).find(d=>zh(d.attrs,n,{strict:!1}));let a=0;const u=[];if(s.forEach(({$from:d,$to:h})=>{const f=d.pos,p=h.pos;e.doc.nodesBetween(f,p,(g,m)=>{if(!g.isText&&!g.marks.length)return;const y=Math.max(f,m),b=Math.min(p,m+g.nodeSize),E=b-y;a+=E,u.push(...g.marks.map(_=>({mark:_,from:y,to:b})))})}),a===0)return!1;const o=u.filter(d=>r?r.name===d.mark.type.name:!0).filter(d=>zh(d.mark.attrs,n,{strict:!1})).reduce((d,h)=>d+h.to-h.from,0),l=u.filter(d=>r?d.mark.type!==r&&d.mark.type.excludes(r):!0).reduce((d,h)=>d+h.to-h.from,0);return(o>0?o+l:o)>=a}function nte(e,t,n={}){if(!t)return ku(e,null,n)||Ym(e,null,n);const i=rp(t,e.schema);return i==="node"?ku(e,t,n):i==="mark"?Ym(e,t,n):!1}function _C(e,t){const{nodeExtensions:n}=ip(t),i=n.find(a=>a.name===e);if(!i)return!1;const s={name:i.name,options:i.options,storage:i.storage},r=xt(xe(i,"group",s));return typeof r!="string"?!1:r.split(" ").includes("list")}function Zy(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var i;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((i=e.text)!==null&&i!==void 0?i:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let s=!0;return e.content.forEach(r=>{s!==!1&&(Zy(r,{ignoreWhitespace:n,checkChildren:t})||(s=!1))}),s}return!1}function ite(e,t,n){var i;const{selection:s}=t;let r=null;if(vO(s)&&(r=s.$cursor),r){const u=(i=e.storedMarks)!==null&&i!==void 0?i:r.marks();return!!n.isInSet(u)||!u.some(o=>o.type.excludes(n))}const{ranges:a}=s;return a.some(({$from:u,$to:o})=>{let l=u.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(u.pos,o.pos,(c,d,h)=>{if(l)return!1;if(c.isInline){const f=!h||h.type.allowsMarkType(n),p=!!n.isInSet(c.marks)||!c.marks.some(g=>g.type.excludes(n));l=f&&p}return!l}),l})}const ste=(e,t={})=>({tr:n,state:i,dispatch:s})=>{const{selection:r}=n,{empty:a,ranges:u}=r,o=Ko(e,i.schema);if(s)if(a){const l=Jy(i,o);n.addStoredMark(o.create({...l,...t}))}else u.forEach(l=>{const c=l.$from.pos,d=l.$to.pos;i.doc.nodesBetween(c,d,(h,f)=>{const p=Math.max(f,c),g=Math.min(f+h.nodeSize,d);h.marks.find(y=>y.type===o)?h.marks.forEach(y=>{o===y.type&&n.addMark(p,g,o.create({...y.attrs,...t}))}):n.addMark(p,g,o.create(t))})});return ite(i,n,o)},rte=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),ote=(e,t={})=>({state:n,dispatch:i,chain:s})=>{const r=Bn(e,n.schema);return r.isTextblock?s().command(({commands:a})=>mC(r,t)(n)?!0:a.clearNodes()).command(({state:a})=>mC(r,t)(a,i)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},ate=e=>({tr:t,dispatch:n})=>{if(n){const{doc:i}=t,s=ma(e,0,i.content.size),r=Qe.create(i,s);t.setSelection(r)}return!0},lte=e=>({tr:t,dispatch:n})=>{if(n){const{doc:i}=t,{from:s,to:r}=typeof e=="number"?{from:e,to:e}:e,a=yt.atStart(i).from,u=yt.atEnd(i).to,o=ma(s,a,u),l=ma(r,a,u),c=yt.create(i,o,l);t.setSelection(c)}return!0},cte=e=>({state:t,dispatch:n})=>{const i=Bn(e,t.schema);return UQ(i)(t,n)};function CC(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const i=n.filter(s=>t==null?void 0:t.includes(s.type.name));e.tr.ensureMarks(i)}}const ute=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:i,editor:s})=>{const{selection:r,doc:a}=t,{$from:u,$to:o}=r,l=s.extensionManager.attributes,c=eh(l,u.node().type.name,u.node().attrs);if(r instanceof Qe&&r.node.isBlock)return!u.parentOffset||!Tl(a,u.pos)?!1:(i&&(e&&CC(n,s.extensionManager.splittableMarks),t.split(u.pos).scrollIntoView()),!0);if(!u.parent.isBlock)return!1;const d=o.parentOffset===o.parent.content.size,h=u.depth===0?void 0:Jee(u.node(-1).contentMatchAt(u.indexAfter(-1)));let f=d&&h?[{type:h,attrs:c}]:void 0,p=Tl(t.doc,t.mapping.map(u.pos),1,f);if(!f&&!p&&Tl(t.doc,t.mapping.map(u.pos),1,h?[{type:h}]:void 0)&&(p=!0,f=h?[{type:h,attrs:c}]:void 0),i){if(p&&(r instanceof yt&&t.deleteSelection(),t.split(t.mapping.map(u.pos),1,f),h&&!d&&!u.parentOffset&&u.parent.type!==h)){const g=t.mapping.map(u.before()),m=t.doc.resolve(g);u.node(-1).canReplaceWith(m.index(),m.index()+1,h)&&t.setNodeMarkup(t.mapping.map(u.before()),h)}e&&CC(n,s.extensionManager.splittableMarks),t.scrollIntoView()}return p},dte=(e,t={})=>({tr:n,state:i,dispatch:s,editor:r})=>{var a;const u=Bn(e,i.schema),{$from:o,$to:l}=i.selection,c=i.selection.node;if(c&&c.isBlock||o.depth<2||!o.sameParent(l))return!1;const d=o.node(-1);if(d.type!==u)return!1;const h=r.extensionManager.attributes;if(o.parent.content.size===0&&o.node(-1).childCount===o.indexAfter(-1)){if(o.depth===2||o.node(-3).type!==u||o.index(-2)!==o.node(-2).childCount-1)return!1;if(s){let y=le.empty;const b=o.index(-1)?1:o.index(-2)?2:3;for(let X=o.depth-b;X>=o.depth-3;X-=1)y=le.from(o.node(X).copy(y));const E=o.indexAfter(-1)<o.node(-2).childCount?1:o.indexAfter(-2)<o.node(-3).childCount?2:3,_={...eh(h,o.node().type.name,o.node().attrs),...t},I=((a=u.contentMatch.defaultType)===null||a===void 0?void 0:a.createAndFill(_))||void 0;y=y.append(le.from(u.createAndFill(null,I)||void 0));const M=o.before(o.depth-(b-1));n.replace(M,o.after(-E),new ye(y,4-b,0));let R=-1;n.doc.nodesBetween(M,n.doc.content.size,(X,D)=>{if(R>-1)return!1;X.isTextblock&&X.content.size===0&&(R=D+1)}),R>-1&&n.setSelection(yt.near(n.doc.resolve(R))),n.scrollIntoView()}return!0}const f=l.pos===o.end()?d.contentMatchAt(0).defaultType:null,p={...eh(h,d.type.name,d.attrs),...t},g={...eh(h,o.node().type.name,o.node().attrs),...t};n.delete(o.pos,l.pos);const m=f?[{type:u,attrs:p},{type:f,attrs:g}]:[{type:u,attrs:p}];if(!Tl(n.doc,o.pos,2))return!1;if(s){const{selection:y,storedMarks:b}=i,{splittableMarks:E}=r.extensionManager,_=b||y.$to.parentOffset&&y.$from.marks();if(n.split(o.pos,2,m).scrollIntoView(),!_||!s)return!0;const I=_.filter(M=>E.includes(M.type.name));n.ensureMarks(I)}return!0},Ig=(e,t)=>{const n=Xy(a=>a.type===t)(e.selection);if(!n)return!0;const i=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(i===void 0)return!0;const s=e.doc.nodeAt(i);return n.node.type===(s==null?void 0:s.type)&&Wo(e.doc,n.pos)&&e.join(n.pos),!0},Og=(e,t)=>{const n=Xy(a=>a.type===t)(e.selection);if(!n)return!0;const i=e.doc.resolve(n.start).after(n.depth);if(i===void 0)return!0;const s=e.doc.nodeAt(i);return n.node.type===(s==null?void 0:s.type)&&Wo(e.doc,i)&&e.join(i),!0},hte=(e,t,n,i={})=>({editor:s,tr:r,state:a,dispatch:u,chain:o,commands:l,can:c})=>{const{extensions:d,splittableMarks:h}=s.extensionManager,f=Bn(e,a.schema),p=Bn(t,a.schema),{selection:g,storedMarks:m}=a,{$from:y,$to:b}=g,E=y.blockRange(b),_=m||g.$to.parentOffset&&g.$from.marks();if(!E)return!1;const I=Xy(M=>_C(M.type.name,d))(g);if(E.depth>=1&&I&&E.depth-I.depth<=1){if(I.node.type===f)return l.liftListItem(p);if(_C(I.node.type.name,d)&&f.validContent(I.node.content)&&u)return o().command(()=>(r.setNodeMarkup(I.pos,f),!0)).command(()=>Ig(r,f)).command(()=>Og(r,f)).run()}return!n||!_||!u?o().command(()=>c().wrapInList(f,i)?!0:l.clearNodes()).wrapInList(f,i).command(()=>Ig(r,f)).command(()=>Og(r,f)).run():o().command(()=>{const M=c().wrapInList(f,i),R=_.filter(X=>h.includes(X.type.name));return r.ensureMarks(R),M?!0:l.clearNodes()}).wrapInList(f,i).command(()=>Ig(r,f)).command(()=>Og(r,f)).run()},fte=(e,t={},n={})=>({state:i,commands:s})=>{const{extendEmptyMarkRange:r=!1}=n,a=Ko(e,i.schema);return Ym(i,a,t)?s.unsetMark(a,{extendEmptyMarkRange:r}):s.setMark(a,t)},pte=(e,t,n={})=>({state:i,commands:s})=>{const r=Bn(e,i.schema),a=Bn(t,i.schema),u=ku(i,r,n);let o;return i.selection.$anchor.sameParent(i.selection.$head)&&(o=i.selection.$anchor.parent.attrs),u?s.setNode(a,o):s.setNode(r,{...o,...n})},gte=(e,t={})=>({state:n,commands:i})=>{const s=Bn(e,n.schema);return ku(n,s,t)?i.lift(s):i.wrapIn(s,t)},mte=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let i=0;i<n.length;i+=1){const s=n[i];let r;if(s.spec.isInputRules&&(r=s.getState(e))){if(t){const a=e.tr,u=r.transform;for(let o=u.steps.length-1;o>=0;o-=1)a.step(u.steps[o].invert(u.docs[o]));if(r.text){const o=a.doc.resolve(r.from).marks();a.replaceWith(r.from,r.to,e.schema.text(r.text,o))}else a.delete(r.from,r.to)}return!0}}return!1},vte=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:i,ranges:s}=n;return i||t&&s.forEach(r=>{e.removeMark(r.$from.pos,r.$to.pos)}),!0},yte=(e,t={})=>({tr:n,state:i,dispatch:s})=>{var r;const{extendEmptyMarkRange:a=!1}=t,{selection:u}=n,o=Ko(e,i.schema),{$from:l,empty:c,ranges:d}=u;if(!s)return!0;if(c&&a){let{from:h,to:f}=u;const p=(r=l.marks().find(m=>m.type===o))===null||r===void 0?void 0:r.attrs,g=qy(l,o,p);g&&(h=g.from,f=g.to),n.removeMark(h,f,o)}else d.forEach(h=>{n.removeMark(h.$from.pos,h.$to.pos,o)});return n.removeStoredMark(o),!0},bte=(e,t={})=>({tr:n,state:i,dispatch:s})=>{let r=null,a=null;const u=rp(typeof e=="string"?e:e.name,i.schema);return u?(u==="node"&&(r=Bn(e,i.schema)),u==="mark"&&(a=Ko(e,i.schema)),s&&n.selection.ranges.forEach(o=>{const l=o.$from.pos,c=o.$to.pos;i.doc.nodesBetween(l,c,(d,h)=>{r&&r===d.type&&n.setNodeMarkup(h,void 0,{...d.attrs,...t}),a&&d.marks.length&&d.marks.forEach(f=>{if(a===f.type){const p=Math.max(h,l),g=Math.min(h+d.nodeSize,c);n.addMark(p,g,a.create({...f.attrs,...t}))}})})}),!0):!1},Ete=(e,t={})=>({state:n,dispatch:i})=>{const s=Bn(e,n.schema);return LQ(s,t)(n,i)},_te=(e,t={})=>({state:n,dispatch:i})=>{const s=Bn(e,n.schema);return FQ(s,t)(n,i)};var Cte=Object.freeze({__proto__:null,blur:oee,clearContent:aee,clearNodes:lee,command:cee,createParagraphNear:uee,cut:dee,deleteCurrentNode:hee,deleteNode:fee,deleteRange:pee,deleteSelection:gee,enter:mee,exitCode:vee,extendMarkRange:bee,first:Eee,focus:_ee,forEach:Cee,insertContent:See,insertContentAt:wee,joinBackward:kee,joinDown:Oee,joinForward:Aee,joinItemBackward:Pee,joinItemForward:$ee,joinTextblockBackward:Mee,joinTextblockForward:Nee,joinUp:Iee,keyboardShortcut:Dee,lift:Lee,liftEmptyBlock:Fee,liftListItem:Vee,newlineInCode:Bee,resetAttributes:Hee,scrollIntoView:jee,selectAll:Uee,selectNodeBackward:Gee,selectNodeForward:Wee,selectParentNode:zee,selectTextblockEnd:Kee,selectTextblockStart:qee,setContent:Yee,setMark:ste,setMeta:rte,setNode:ote,setNodeSelection:ate,setTextSelection:lte,sinkListItem:cte,splitBlock:ute,splitListItem:dte,toggleList:hte,toggleMark:fte,toggleNode:pte,toggleWrap:gte,undoInputRule:mte,unsetAllMarks:vte,unsetMark:yte,updateAttributes:bte,wrapIn:Ete,wrapInList:_te});const Ste=Ks.create({name:"commands",addCommands(){return{...Cte}}}),xte=Ks.create({name:"drop",addProseMirrorPlugins(){return[new gr({key:new Ga("tiptapDrop"),props:{handleDrop:(e,t,n,i)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:i})}}})]}}),Tte=Ks.create({name:"editable",addProseMirrorPlugins(){return[new gr({key:new Ga("editable"),props:{editable:()=>this.editor.options.editable}})]}}),wte=Ks.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new gr({key:new Ga("focusEvents"),props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const i=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(i),!1},blur:(t,n)=>{e.isFocused=!1;const i=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(i),!1}}}})]}}),Ite=Ks.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:u})=>{const{selection:o,doc:l}=u,{empty:c,$anchor:d}=o,{pos:h,parent:f}=d,p=d.parent.isTextblock&&h>0?u.doc.resolve(h-1):d,g=p.parent.type.spec.isolating,m=d.pos-d.parentOffset,y=g&&p.parent.childCount===1?m===d.pos:wt.atStart(l).from===h;return!c||!f.type.isTextblock||f.textContent.length||!y||y&&d.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),i={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},s={...i},r={...i,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Yy()||EO()?r:s},addProseMirrorPlugins(){return[new gr({key:new Ga("clearDocument"),appendTransaction:(e,t,n)=>{const i=e.some(g=>g.docChanged)&&!t.doc.eq(n.doc),s=e.some(g=>g.getMeta("preventClearDocument"));if(!i||s)return;const{empty:r,from:a,to:u}=t.selection,o=wt.atStart(t.doc).from,l=wt.atEnd(t.doc).to;if(r||!(a===o&&u===l)||!Zy(n.doc))return;const h=n.tr,f=tp({state:n,transaction:h}),{commands:p}=new np({editor:this.editor,state:f});if(p.clearNodes(),!!h.steps.length)return h}})]}}),Ote=Ks.create({name:"paste",addProseMirrorPlugins(){return[new gr({key:new Ga("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),kte=Ks.create({name:"tabindex",addProseMirrorPlugins(){return[new gr({key:new Ga("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class fa{get name(){return this.node.type.name}constructor(t,n,i=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=i,this.resolvedPos=t,this.editor=n,this.currentNode=s}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!==null&&t!==void 0?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let n=this.from,i=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,i=this.to-1}this.editor.commands.insertContentAt({from:n,to:i},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new fa(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new fa(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new fa(t,this.editor)}get children(){const t=[];return this.node.content.forEach((n,i)=>{const s=n.isBlock&&!n.isTextblock,r=this.pos+i+1,a=this.resolvedPos.doc.resolve(r);if(!s&&a.depth<=this.depth)return;const u=new fa(a,this.editor,s,s?n:null);s&&(u.actualDepth=this.depth+1),t.push(new fa(a,this.editor,s,s?n:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,n={}){let i=null,s=this.parent;for(;s&&!i;){if(s.node.type.name===t)if(Object.keys(n).length>0){const r=s.node.attrs,a=Object.keys(n);for(let u=0;u<a.length;u+=1){const o=a[u];if(r[o]!==n[o])break}}else i=s;s=s.parent}return i}querySelector(t,n={}){return this.querySelectorAll(t,n,!0)[0]||null}querySelectorAll(t,n={},i=!1){let s=[];if(!this.children||this.children.length===0)return s;const r=Object.keys(n);return this.children.forEach(a=>{i&&s.length>0||(a.node.type.name===t&&r.every(o=>n[o]===a.node.attrs[o])&&s.push(a),!(i&&s.length>0)&&(s=s.concat(a.querySelectorAll(t,n,i))))}),s}setAttribute(t){const n=this.editor.state.selection;this.editor.chain().setTextSelection(this.from).updateAttributes(this.node.type.name,t).setTextSelection(n.from).run()}}const Ate=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function Pte(e,t,n){const i=document.querySelector("style[data-tiptap-style]");if(i!==null)return i;const s=document.createElement("style");return t&&s.setAttribute("nonce",t),s.setAttribute("data-tiptap-style",""),s.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(s),s}let $te=class extends GQ{constructor(t={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:i,moved:s})=>this.options.onDrop(n,i,s)),this.on("paste",({event:n,slice:i})=>this.options.onPaste(n,i)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=Pte(Ate,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,n=!0){this.setOptions({editable:t}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(t,n){const i=pO(n)?n(t,[...this.state.plugins]):[...this.state.plugins,t],s=this.state.reconfigure({plugins:i});return this.view.updateState(s),s}unregisterPlugin(t){if(this.isDestroyed)return;const n=typeof t=="string"?`${t}$`:t.key,i=this.state.reconfigure({plugins:this.state.plugins.filter(s=>!s.key.startsWith(n))});return this.view.updateState(i),i}createExtensionManager(){var t,n;const s=[...this.options.enableCoreExtensions?[Tte,ree.configure({blockSeparator:(n=(t=this.options.coreExtensionOptions)===null||t===void 0?void 0:t.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),Ste,wte,Ite,kte,xte,Ote].filter(r=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[r.name]!==!1:!0):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r==null?void 0:r.type));this.extensionManager=new vl(s,this)}createCommandManager(){this.commandManager=new np({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){let t;try{t=qm(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(r){if(!(r instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(r.message))throw r;this.emit("contentError",{editor:this,error:r,disableCollaboration:()=>{this.options.extensions=this.options.extensions.filter(a=>a.name!=="collaboration"),this.createExtensionManager()}}),t=qm(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const n=yO(t,this.options.autofocus);this.view=new lQ(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:ml.create({doc:t,selection:n||void 0})});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.createNodeViews(),this.prependClass();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(a=>{var u;return(u=this.capturedTransaction)===null||u===void 0?void 0:u.step(a)});return}const n=this.state.apply(t),i=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:t,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:t}),i&&this.emit("selectionUpdate",{editor:this,transaction:t});const s=t.getMeta("focus"),r=t.getMeta("blur");s&&this.emit("focus",{editor:this,event:s.event,transaction:t}),r&&this.emit("blur",{editor:this,event:r.event,transaction:t}),!(!t.docChanged||t.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:t})}getAttributes(t){return tte(this.state,t)}isActive(t,n){const i=typeof t=="string"?t:null,s=typeof t=="string"?n:t;return nte(this.state,i,s)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Zee(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:n=`

`,textSerializers:i={}}=t||{};return Qee(this.state.doc,{blockSeparator:n,textSerializers:{...mO(this.schema),...i}})}get isEmpty(){return Zy(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const t=this.view.dom;t&&t.editor&&delete t.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var t;return!(!((t=this.view)===null||t===void 0)&&t.docView)}$node(t,n){var i;return((i=this.$doc)===null||i===void 0?void 0:i.querySelector(t,n))||null}$nodes(t,n){var i;return((i=this.$doc)===null||i===void 0?void 0:i.querySelectorAll(t,n))||null}$pos(t){const n=this.state.doc.resolve(t);return new fa(n,this)}get $doc(){return this.$pos(0)}};function qh(e){return new Ky({find:e.find,handler:({state:t,range:n,match:i})=>{const s=xt(e.getAttributes,void 0,i);if(s===!1||s===null)return null;const{tr:r}=t,a=i[i.length-1],u=i[0];if(a){const o=u.search(/\S/),l=n.from+u.indexOf(a),c=l+a.length;if(_O(n.from,n.to,t.doc).filter(f=>f.mark.type.excluded.find(g=>g===e.type&&g!==f.mark.type)).filter(f=>f.to>l).length)return null;c<n.to&&r.delete(c,n.to),l>n.from&&r.delete(n.from+o,l);const h=n.from+o+a.length;r.addMark(n.from+o,h,e.type.create(s||{})),r.removeStoredMark(e.type)}}})}function Mte(e){return new Ky({find:e.find,handler:({state:t,range:n,match:i})=>{const s=t.doc.resolve(n.from),r=xt(e.getAttributes,void 0,i)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,r)}})}function Yh(e){return new Ky({find:e.find,handler:({state:t,range:n,match:i,chain:s})=>{const r=xt(e.getAttributes,void 0,i)||{},a=t.tr.delete(n.from,n.to),o=a.doc.resolve(n.from).blockRange(),l=o&&Ny(o,e.type,r);if(!l)return null;if(a.wrap(o,l),e.keepMarks&&e.editor){const{selection:d,storedMarks:h}=t,{splittableMarks:f}=e.editor.extensionManager,p=h||d.$to.parentOffset&&d.$from.marks();if(p){const g=p.filter(m=>f.includes(m.type.name));a.ensureMarks(g)}}if(e.keepAttributes){const d=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(d,r).run()}const c=a.doc.resolve(n.from-1).nodeBefore;c&&c.type===e.type&&Wo(a.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(i,c))&&a.join(n.from-1)}})}let Wa=class Jm{constructor(t={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=xt(xe(this,"addOptions",{name:this.name}))),this.storage=xt(xe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new Jm(t)}configure(t={}){const n=this.extend({...this.config,addOptions:()=>sp(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new Jm(t);return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=xt(xe(n,"addOptions",{name:n.name})),n.storage=xt(xe(n,"addStorage",{name:n.name,options:n.options})),n}};function Jh(e){return new QQ({find:e.find,handler:({state:t,range:n,match:i,pasteEvent:s})=>{const r=xt(e.getAttributes,void 0,i,s);if(r===!1||r===null)return null;const{tr:a}=t,u=i[i.length-1],o=i[0];let l=n.to;if(u){const c=o.search(/\S/),d=n.from+o.indexOf(u),h=d+u.length;if(_O(n.from,n.to,t.doc).filter(p=>p.mark.type.excluded.find(m=>m===e.type&&m!==p.mark.type)).filter(p=>p.to>d).length)return null;h<n.to&&a.delete(h,n.to),d>n.from&&a.delete(n.from+c,d),l=n.from+c+u.length,a.addMark(n.from+c,l,e.type.create(r||{})),a.removeStoredMark(e.type)}}})}function SC(e){return _v((t,n)=>({get(){return t(),e},set(i){e=i,requestAnimationFrame(()=>{requestAnimationFrame(()=>{n()})})}}))}class Nte extends $te{constructor(t={}){return super(t),this.contentComponent=null,this.appContext=null,this.reactiveState=SC(this.view.state),this.reactiveExtensionStorage=SC(this.extensionStorage),this.on("beforeTransaction",({nextState:n})=>{this.reactiveState.value=n,this.reactiveExtensionStorage.value=this.extensionStorage}),Et(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(t,n){const i=super.registerPlugin(t,n);return this.reactiveState&&(this.reactiveState.value=i),i}unregisterPlugin(t){const n=super.unregisterPlugin(t);return this.reactiveState&&n&&(this.reactiveState.value=n),n}}const Rte=$({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(e){const t=Xe(),n=vs();return kv(()=>{const i=e.editor;i&&i.options.element&&t.value&&wa(()=>{if(!t.value||!i.options.element.firstChild)return;const s=v(t.value);t.value.append(...i.options.element.childNodes),i.contentComponent=n.ctx._,n&&(i.appContext={...n.appContext,provides:n.provides}),i.setOptions({element:s}),i.createNodeViews()})}),Du(()=>{const i=e.editor;if(!i||(i.isDestroyed||i.view.setProps({nodeViews:{}}),i.contentComponent=null,i.appContext=null,!i.options.element.firstChild))return;const s=document.createElement("div");s.append(...i.options.element.childNodes),i.setOptions({element:s})}),{rootEl:t}},render(){return ka("div",{ref:e=>{this.rootEl=e}})}}),Dte=(e={})=>{const t=bo();return ii(()=>{t.value=new Nte(e)}),Du(()=>{var n;(n=t.value)===null||n===void 0||n.destroy()}),t},Lte=Wa.create({name:"doc",topNode:!0,content:"block+"}),Fte=Wa.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",zs(this.options.HTMLAttributes,e),0]},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Vte=Wa.create({name:"text",group:"inline"}),Bte=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Hte=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,jte=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,Ute=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Gte=Ro.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return["strong",zs(this.options.HTMLAttributes,e),0]},addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[qh({find:Bte,type:this.type}),qh({find:jte,type:this.type})]},addPasteRules(){return[Jh({find:Hte,type:this.type}),Jh({find:Ute,type:this.type})]}}),Wte=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,zte=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Kte=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,qte=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Yte=Ro.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",zs(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[qh({find:Wte,type:this.type}),qh({find:Kte,type:this.type})]},addPasteRules(){return[Jh({find:zte,type:this.type}),Jh({find:qte,type:this.type})]}}),Jte=Ro.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",zs(this.options.HTMLAttributes,e),0]},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),Xte=Wa.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,zs(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>Mte({find:new RegExp(`^(#{1,${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),Qy=Wa.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",zs(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Xh=Ro.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:e=>e.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["span",zs(this.options.HTMLAttributes,e),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:e,commands:t})=>{const n=Jy(e,this.type);return Object.entries(n).some(([,s])=>!!s)?!0:t.unsetMark(this.name)}}}}),xC=/^\s*([-+*])\s$/,Zte=Wa.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",zs(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Qy.name,this.editor.getAttributes(Xh.name)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=Yh({find:xC,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Yh({find:xC,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Xh.name),editor:this.editor})),[e]}}),TC=/^(\d+)\.\s$/,Qte=Wa.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:e=>e.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return t===1?["ol",zs(this.options.HTMLAttributes,n),0]:["ol",zs(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Qy.name,this.editor.getAttributes(Xh.name)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=Yh({find:TC,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Yh({find:TC,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(Xh.name)}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1],editor:this.editor})),[e]}});var ene=Object.defineProperty,tne=(e,t,n)=>t in e?ene(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Le=(e,t,n)=>tne(e,typeof t!="symbol"?t+"":t,n);function CO(e,...t){for(const n of t){const i=Te(n);for(const s in i)_i(n[s])?(e[s]||(e[s]={}),CO(e[s],n[s])):e[s]=n[s]}return e}function wC(e){return bn(e)}function As(e){return q(e)?{type:e}:e}function io(e){return e?et(e)?e.slice():[e]:[]}function SO(e){return Ce(e)&&e.predicate!=null}var nne=()=>!0;function eb(e,t,n,i){return s=>{var r;return q(s)?!!((r=e[s])!=null&&r.call(e,t,n,i)):We(s)?s(t,n,i):s.predicate(e)(t,n,i)}}function ine(...e){return{predicate:t=>(n,i,s)=>e.map(eb(t,n,i,s)).some(Boolean)}}function sne(...e){return{predicate:t=>(n,i,s)=>e.map(eb(t,n,i,s)).every(Boolean)}}function rne(e){return{predicate:t=>(n,i,s)=>!eb(t,n,i,s)(e)}}function one(...e){return(t,n,i)=>i.state.matches(...e)}var ane={or:ine,and:sne,not:rne,stateIn:one};function xO(e,t){return e=e??nne,(n,i,s)=>{if(q(e)){const r=t[e];return We(r)?r(n,i,s):r}return SO(e)?e.predicate(t)(n,i,s):e==null?void 0:e(n,i,s)}}function kg(e,t){return(n,i,s)=>SO(e)?e.predicate(t)(n,i,s):e}function lne(e){var r,a;const t=e.computed??ee({}),n=e.context??ee({}),i=e.initial?(a=(r=e.states)==null?void 0:r[e.initial])==null?void 0:a.tags:[],s=Yn({value:e.initial??"",previousValue:"",event:ee({}),previousEvent:ee({}),context:yi(n,t),done:!1,tags:i??[],hasTag(u){return this.tags.includes(u)},matches(...u){return u.includes(this.value)},can(u){return ee(this).nextEvents.includes(u)},get nextEvents(){var l,c;const u=((c=(l=e.states)==null?void 0:l[this.value])==null?void 0:c.on)??{},o=(e==null?void 0:e.on)??{};return Object.keys({...u,...o})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return ee(s)}function xc(e,t){return(n,i)=>{if(Ei(e))return e;if(We(e))return e(n,i);if(q(e)){const s=Number.parseFloat(e);if(!Number.isNaN(s))return s;if(t){const r=t==null?void 0:t[e];return He(r==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${e}\`. It doesn't exist in \`options.delays\``),We(r)?r(n,i):r}}}}function cne(e){return q(e)?{target:e}:e}function une(e,t){return(n,i,s)=>io(e).map(cne).find(r=>xO(r.guard,t)(n,i,s)??r.target??r.actions)}var dne=class{constructor(t,n){var i,s,r,a,u;Le(this,"status","Not Started"),Le(this,"state"),Le(this,"initialState"),Le(this,"initialContext"),Le(this,"id"),Le(this,"type","machine"),Le(this,"activityEvents",new Map),Le(this,"delayedEvents",new Map),Le(this,"stateListeners",new Set),Le(this,"doneListeners",new Set),Le(this,"contextWatchers",new Set),Le(this,"removeStateListener",si),Le(this,"parent"),Le(this,"children",new Map),Le(this,"guardMap"),Le(this,"actionMap"),Le(this,"delayMap"),Le(this,"activityMap"),Le(this,"sync"),Le(this,"options"),Le(this,"config"),Le(this,"_created",()=>{var l;const o=As("machine.created");this.executeActions((l=this.config)==null?void 0:l.created,o)}),Le(this,"start",o=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=Pt(this.state,()=>{this.stateListeners.forEach(p=>{p(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(As("machine.start"),io(this.config.activities),"machine.start"),this.executeActions(this.config.entry,As("machine.start"));const l=As("machine.init"),c=Ce(o)?o.value:o,d=Ce(o)?o.context:void 0;d&&this.setContext(d);const h={target:c??this.config.initial},f=this.getNextStateInfo(h,l);return this.initialState=f,this.performStateChangeEffects(this.state.value,f,l),this}),Le(this,"setupContextWatchers",()=>{const{watch:o}=this.config;if(!o)return;let l=_e(this.state.context);const c=Pt(this.state.context,()=>{var h;const d=_e(this.state.context);for(const[f,p]of Object.entries(o))(((h=this.options.compareFns)==null?void 0:h[f])??Object.is)(l[f],d[f])||this.executeActions(p,this.state.event);l=d});this.contextWatchers.add(c)}),Le(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,As("machine.stop")),this.executeActions(this.config.exit,As("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),Le(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),Le(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(o=>o()),this.contextWatchers.clear()}),Le(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(o=>{o.forEach(l=>l())}),this.delayedEvents.clear()}),Le(this,"stopActivities",o=>{var l,c;o?((l=this.activityEvents.get(o))==null||l.forEach(d=>d()),(c=this.activityEvents.get(o))==null||c.clear(),this.activityEvents.delete(o)):(this.activityEvents.forEach(d=>{d.forEach(h=>h()),d.clear()}),this.activityEvents.clear())}),Le(this,"sendChild",(o,l)=>{const c=As(o),d=$t(l,this.contextSnapshot),h=this.children.get(d);h||He(`[@zag-js/core] Cannot send '${c.type}' event to unknown child`),h.send(c)}),Le(this,"stopChild",o=>{this.children.has(o)||He(`[@zag-js/core > stop-child] Cannot stop unknown child ${o}`),this.children.get(o).stop(),this.children.delete(o)}),Le(this,"removeChild",o=>{this.children.delete(o)}),Le(this,"stopChildren",()=>{this.children.forEach(o=>o.stop()),this.children.clear()}),Le(this,"setParent",o=>{this.parent=o}),Le(this,"spawn",(o,l)=>{const c=$t(o);return l&&(c.id=l),c.type="machine.actor",c.setParent(this),this.children.set(c.id,ee(c)),c.onDone(()=>{this.removeChild(c.id)}).start(),ee(Ke(c))}),Le(this,"stopActivity",o=>{var c;if(!this.state.value)return;const l=this.activityEvents.get(this.state.value);(c=l==null?void 0:l.get(o))==null||c(),l==null||l.delete(o)}),Le(this,"addActivityCleanup",(o,l,c)=>{var d;o&&(this.activityEvents.has(o)?(d=this.activityEvents.get(o))==null||d.set(l,c):this.activityEvents.set(o,new Map([[l,c]])))}),Le(this,"setState",o=>{this.state.previousValue=this.state.value,this.state.value=o;const l=this.getStateNode(o);o==null?bi(this.state.tags):this.state.tags=io(l==null?void 0:l.tags)}),Le(this,"setContext",o=>{o&&CO(this.state.context,Te(o))}),Le(this,"setOptions",o=>{const l=Te(o);this.actionMap={...this.actionMap,...l.actions},this.delayMap={...this.delayMap,...l.delays},this.activityMap={...this.activityMap,...l.activities},this.guardMap={...this.guardMap,...l.guards}}),Le(this,"getStateNode",o=>{var l;if(o)return(l=this.config.states)==null?void 0:l[o]}),Le(this,"getNextStateInfo",(o,l)=>{const c=this.determineTransition(o,l),d=!(c!=null&&c.target),h=(c==null?void 0:c.target)??this.state.value,f=this.state.value!==h,p=this.getStateNode(h),m={reenter:!d&&!f&&!(c!=null&&c.internal),transition:c,stateNode:p,target:h,changed:f};return this.log("NextState:",`[${l.type}]`,this.state.value,"---->",m.target),m}),Le(this,"getAfterActions",(o,l)=>{let c;const d=this.state.value;return{entry:()=>{c=globalThis.setTimeout(()=>{const h=this.getNextStateInfo(o,this.state.event);this.performStateChangeEffects(d,h,this.state.event)},l)},exit:()=>{globalThis.clearTimeout(c)}}}),Le(this,"getDelayedEventActions",o=>{const l=this.getStateNode(o),c=this.state.event;if(!l||!l.after)return;const d=[],h=[];if(et(l.after)){const f=this.determineTransition(l.after,c);if(!f)return;if(!wn(f,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(f)}`);const g=xc(f.delay,this.delayMap)(this.contextSnapshot,c),m=this.getAfterActions(f,g);return d.push(m.entry),h.push(m.exit),{entries:d,exits:h}}if(Ce(l.after))for(const f in l.after){const p=l.after[f],m=xc(f,this.delayMap)(this.contextSnapshot,c),y=this.getAfterActions(p,m);d.push(y.entry),h.push(y.exit)}return{entries:d,exits:h}}),Le(this,"executeActions",(o,l)=>{var d;const c=kg(o,this.guardMap)(this.contextSnapshot,l,this.guardMeta);for(const h of io(c)){const f=q(h)?(d=this.actionMap)==null?void 0:d[h]:h;it(q(h)&&!f,`[@zag-js/core > execute-actions] No implementation found for action: \`${h}\``),f==null||f(this.state.context,l,this.meta)}}),Le(this,"executeActivities",(o,l,c)=>{var d;for(const h of l){const f=q(h)?(d=this.activityMap)==null?void 0:d[h]:h;if(!f){it(`[@zag-js/core > execute-activity] No implementation found for activity: \`${h}\``);continue}const p=f(this.state.context,o,this.meta);if(p){const g=q(h)?h:h.name||Rt();this.addActivityCleanup(c??this.state.value,g,p)}}}),Le(this,"createEveryActivities",(o,l)=>{if(o)if(et(o)){const c=io(o).find(p=>{const g=p.delay,y=xc(g,this.delayMap)(this.contextSnapshot,this.state.event);return xO(p.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??y!=null});if(!c)return;const h=xc(c.delay,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const p=globalThis.setInterval(()=>{this.executeActions(c.actions,this.state.event)},h);return()=>{globalThis.clearInterval(p)}})}else for(const c in o){const d=o==null?void 0:o[c],f=xc(c,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const g=globalThis.setInterval(()=>{this.executeActions(d,this.state.event)},f);return()=>{globalThis.clearInterval(g)}})}}),Le(this,"setEvent",o=>{this.state.previousEvent=this.state.event,this.state.event=Ke(As(o))}),Le(this,"performExitEffects",(o,l)=>{const c=this.state.value;if(c==="")return;const d=o?this.getStateNode(o):void 0;this.stopActivities(c);const h=kg(d==null?void 0:d.exit,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=io(h),p=this.delayedEvents.get(c);p&&f.push(...p),this.executeActions(f,l),this.delayedEvents.delete(c)}),Le(this,"performEntryEffects",(o,l)=>{const c=this.getStateNode(o),d=io(c==null?void 0:c.activities);this.createEveryActivities(c==null?void 0:c.every,g=>{d.unshift(g)}),d.length>0&&this.executeActivities(l,d);const h=kg(c==null?void 0:c.entry,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=io(h),p=this.getDelayedEventActions(o);c!=null&&c.after&&p&&(this.delayedEvents.set(o,p==null?void 0:p.exits),f.push(...p.entries)),this.executeActions(f,l),(c==null?void 0:c.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(g=>{g(this.stateSnapshot)}),this.stop())}),Le(this,"performTransitionEffects",(o,l)=>{const c=this.determineTransition(o,l);this.executeActions(c==null?void 0:c.actions,l)}),Le(this,"performStateChangeEffects",(o,l,c)=>{this.setEvent(c);const d=l.changed||l.reenter;d&&this.performExitEffects(o,c),this.performTransitionEffects(l.transition,c),this.setState(l.target),d&&this.performEntryEffects(l.target,c)}),Le(this,"determineTransition",(o,l)=>{const c=une(o,this.guardMap);return c==null?void 0:c(this.contextSnapshot,l,this.guardMeta)}),Le(this,"sendParent",o=>{var c;this.parent||He("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const l=As(o);(c=this.parent)==null||c.send(l)}),Le(this,"log",(...o)=>{}),Le(this,"send",o=>{const l=As(o);this.transition(this.state.value,l)}),Le(this,"transition",(o,l)=>{var p,g;const c=q(o)?this.getStateNode(o):o==null?void 0:o.stateNode,d=As(l);if(!c&&!this.config.on){const m=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${o}, \`event\`: ${d.type}`;it(m);return}const h=((p=c==null?void 0:c.on)==null?void 0:p[d.type])??((g=this.config.on)==null?void 0:g[d.type]),f=this.getNextStateInfo(h,d);return this.performStateChangeEffects(this.state.value,f,d),f.stateNode}),Le(this,"subscribe",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),()=>{this.stateListeners.delete(o)})),Le(this,"onDone",o=>(this.doneListeners.add(o),this)),Le(this,"onTransition",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),this)),this.config=wC(t),this.options=wC(n??{}),this.id=this.config.id??`machine-${Rt()}`,this.guardMap=((i=this.options)==null?void 0:i.guards)??{},this.actionMap=((s=this.options)==null?void 0:s.actions)??{},this.delayMap=((r=this.options)==null?void 0:r.delays)??{},this.activityMap=((a=this.options)==null?void 0:a.activities)??{},this.sync=((u=this.options)==null?void 0:u.sync)??!1,this.state=lne(this.config),this.initialContext=_e(this.state.context)}get stateSnapshot(){return ee(_e(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const t=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return t.stateSnapshot},get initialContext(){return t.initialContext},get initialState(){var n;return((n=t.initialState)==null?void 0:n.target)??""}}}get meta(){var t;return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:((t=this.initialState)==null?void 0:t.target)??"",getState:()=>this.stateSnapshot,getAction:n=>this.actionMap[n],getGuard:n=>this.guardMap[n]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){const t=this.getState();return{value:t.value,tags:t.tags}}},hne=(e,t)=>new dne(e,t),fne=(...e)=>e.map(t=>{var n;return(n=t==null?void 0:t.trim)==null?void 0:n.call(t)}).filter(Boolean).join(" "),pne=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,IC=e=>{const t={};let n;for(;n=pne.exec(e);)t[n[1]]=n[2];return t},gne=(e,t)=>{if(q(e)){if(q(t))return`${e};${t}`;e=IC(e)}else q(t)&&(t=IC(t));return Object.assign({},e??{},t??{})};function mne(...e){let t={};for(let n of e){for(let i in t){if(i.startsWith("on")&&typeof t[i]=="function"&&typeof n[i]=="function"){t[i]=Eu(n[i],t[i]);continue}if(i==="className"||i==="class"){t[i]=fne(t[i],n[i]);continue}if(i==="style"){t[i]=gne(t[i],n[i]);continue}t[i]=n[i]!==void 0?n[i]:t[i]}for(let i in n)t[i]===void 0&&(t[i]=n[i])}return t}var Fc=(e,t)=>({x:e,y:t});function vne(e){const{x:t,y:n,width:i,height:s}=e,r=t+i/2,a=n+s/2;return{x:t,y:n,width:i,height:s,minX:t,minY:n,maxX:t+i,maxY:n+s,midX:r,midY:a,center:Fc(r,a)}}function yne(e){const t=Fc(e.minX,e.minY),n=Fc(e.maxX,e.minY),i=Fc(e.maxX,e.maxY),s=Fc(e.minX,e.maxY);return{top:t,right:n,bottom:i,left:s}}function bne(e,t){const n=vne(e),{top:i,right:s,left:r,bottom:a}=yne(n),[u]=t.split("-");return{top:[r,i,s,a],right:[i,s,a,r],bottom:[i,r,a,s],left:[s,i,r,a]}[u]}function Ene(e,t){const{x:n,y:i}=t;let s=!1;for(let r=0,a=e.length-1;r<e.length;a=r++){const u=e[r].x,o=e[r].y,l=e[a].x,c=e[a].y;o>i!=c>i&&n<(l-u)*(i-o)/(c-o)+u&&(s=!s)}return s}var _ne=Dn("menu").parts("arrow","arrowTip","content","contextTrigger","indicator","item","itemGroup","itemGroupLabel","itemIndicator","itemText","positioner","separator","trigger","triggerItem"),li=_ne.build(),Ge=$i({getTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.trigger)??`menu:${e.id}:trigger`},getContextTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.contextTrigger)??`menu:${e.id}:ctx-trigger`},getContentId:e=>{var t;return((t=e.ids)==null?void 0:t.content)??`menu:${e.id}:content`},getArrowId:e=>{var t;return((t=e.ids)==null?void 0:t.arrow)??`menu:${e.id}:arrow`},getPositionerId:e=>{var t;return((t=e.ids)==null?void 0:t.positioner)??`menu:${e.id}:popper`},getGroupId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.group)==null?void 0:i.call(n,t))??`menu:${e.id}:group:${t}`},getGroupLabelId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.groupLabel)==null?void 0:i.call(n,t))??`menu:${e.id}:group-label:${t}`},getContentEl:e=>Ge.getById(e,Ge.getContentId(e)),getPositionerEl:e=>Ge.getById(e,Ge.getPositionerId(e)),getTriggerEl:e=>Ge.getById(e,Ge.getTriggerId(e)),getHighlightedItemEl:e=>e.highlightedValue?Ge.getById(e,e.highlightedValue):null,getArrowEl:e=>Ge.getById(e,Ge.getArrowId(e)),getElements:e=>{const n=`[role^="menuitem"][data-ownedby=${CSS.escape(Ge.getContentId(e))}]:not([data-disabled])`;return Tr(Ge.getContentEl(e),n)},getFirstEl:e=>zv(Ge.getElements(e)),getLastEl:e=>Kv(Ge.getElements(e)),getNextEl:(e,t)=>Vv(Ge.getElements(e),e.highlightedValue,t??e.loopFocus),getPrevEl:(e,t)=>Bv(Ge.getElements(e),e.highlightedValue,t??e.loopFocus),getElemByKey:(e,t)=>vu(Ge.getElements(e),{state:e.typeaheadState,key:t,activeId:e.highlightedValue}),isTargetDisabled:e=>Xi(e)&&(e.dataset.disabled===""||e.hasAttribute("disabled")),isTriggerItem:e=>{var t;return!!((t=e==null?void 0:e.getAttribute("role"))!=null&&t.startsWith("menuitem"))&&!!(e!=null&&e.hasAttribute("aria-controls"))},getOptionFromItemEl(e){return{id:e.id,name:e.dataset.name,value:e.dataset.value,valueText:e.dataset.valueText,type:e.dataset.type}}});function Cne(e,t,n){const i=e.context.isSubmenu,s=e.context.isTypingAhead,r=e.context.composite,a=e.hasTag("open"),u=Ju({...e.context.positioning,placement:e.context.anchorPoint?"bottom":e.context.currentPlacement});function o(h){return{disabled:!!h.disabled,highlighted:e.context.highlightedValue===h.value}}function l(h){const f=h.valueText??h.value;return{...h,id:h.value,valueText:f}}function c(h){return{...o(l(h)),checked:!!h.checked}}function d(h){const{value:f,closeOnSelect:p,valueText:g}=h,m=o(h);return n.element({...li.item.attrs,id:f,role:"menuitem","aria-disabled":m.disabled,"data-disabled":H(m.disabled),"data-ownedby":Ge.getContentId(e.context),"data-highlighted":H(m.highlighted),"data-valuetext":g,onDragStart(y){y.currentTarget.matches("a[href]")&&y.preventDefault()},onPointerMove(y){if(m.disabled||y.pointerType!=="mouse")return;const b=y.currentTarget;m.highlighted||t({type:"ITEM_POINTERMOVE",id:f,target:b,closeOnSelect:p})},onPointerLeave(y){if(m.disabled||y.pointerType!=="mouse"||!e.previousEvent.type.includes("POINTER"))return;const E=y.currentTarget;t({type:"ITEM_POINTERLEAVE",id:f,target:E,closeOnSelect:p})},onPointerDown(y){if(m.disabled)return;const b=y.currentTarget;t({type:"ITEM_POINTERDOWN",target:b,id:f,closeOnSelect:p})},onClick(y){if(sm(y)||im(y)||m.disabled)return;const b=y.currentTarget;t({type:"ITEM_CLICK",target:b,id:f,closeOnSelect:p})}})}return{highlightedValue:e.context.highlightedValue,open:a,setOpen(h){h!==a&&t(h?"OPEN":"CLOSE")},setHighlightedValue(h){t({type:"HIGHLIGHTED.SET",id:h})},setParent(h){t({type:"PARENT.SET",value:h,id:h.state.context.id})},setChild(h){t({type:"CHILD.SET",value:h,id:h.state.context.id})},reposition(h={}){t({type:"POSITIONING.SET",options:h})},getContextTriggerProps(){return n.element({...li.contextTrigger.attrs,dir:e.context.dir,id:Ge.getContextTriggerId(e.context),onPointerDown(h){if(h.pointerType==="mouse")return;const f=Ar(h);t({type:"CONTEXT_MENU_START",point:f})},onPointerCancel(h){h.pointerType!=="mouse"&&t("CONTEXT_MENU_CANCEL")},onPointerMove(h){h.pointerType!=="mouse"&&t("CONTEXT_MENU_CANCEL")},onPointerUp(h){h.pointerType!=="mouse"&&t("CONTEXT_MENU_CANCEL")},onContextMenu(h){const f=Ar(h);t({type:"CONTEXT_MENU",point:f}),h.preventDefault()},style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",userSelect:"none"}})},getTriggerItemProps(h){return mne(d({value:h.getTriggerProps().id}),h.getTriggerProps())},getTriggerProps(){return n.button({...i?li.triggerItem.attrs:li.trigger.attrs,"data-placement":e.context.currentPlacement,type:"button",dir:e.context.dir,id:Ge.getTriggerId(e.context),"data-uid":e.context.id,"aria-haspopup":r?"menu":"dialog","aria-controls":Ge.getContentId(e.context),"aria-expanded":a||void 0,"data-state":a?"open":"closed",onPointerMove(h){h.pointerType!=="mouse"||Ge.isTargetDisabled(h.currentTarget)||!i||t({type:"TRIGGER_POINTERMOVE",target:h.currentTarget})},onPointerLeave(h){if(Ge.isTargetDisabled(h.currentTarget)||h.pointerType!=="mouse"||!i)return;const f=Ar(h);t({type:"TRIGGER_POINTERLEAVE",target:h.currentTarget,point:f})},onPointerDown(h){Ge.isTargetDisabled(h.currentTarget)||Jv(h)||h.preventDefault()},onClick(h){h.defaultPrevented||Ge.isTargetDisabled(h.currentTarget)||t({type:"TRIGGER_CLICK",target:h.currentTarget})},onBlur(){t("TRIGGER_BLUR")},onFocus(){t("TRIGGER_FOCUS")},onKeyDown(h){if(h.defaultPrevented)return;const f={ArrowDown(){t("ARROW_DOWN")},ArrowUp(){t("ARROW_UP")},Enter(){t({type:"ARROW_DOWN",src:"enter"})},Space(){t({type:"ARROW_DOWN",src:"space"})}},p=js(h,e.context),g=f[p];g&&(h.preventDefault(),g(h))}})},getIndicatorProps(){return n.element({...li.indicator.attrs,dir:e.context.dir,"data-state":a?"open":"closed"})},getPositionerProps(){return n.element({...li.positioner.attrs,dir:e.context.dir,id:Ge.getPositionerId(e.context),style:u.floating})},getArrowProps(){return n.element({id:Ge.getArrowId(e.context),...li.arrow.attrs,dir:e.context.dir,style:u.arrow})},getArrowTipProps(){return n.element({...li.arrowTip.attrs,dir:e.context.dir,style:u.arrowTip})},getContentProps(){return n.element({...li.content.attrs,id:Ge.getContentId(e.context),"aria-label":e.context["aria-label"],hidden:!a,"data-state":a?"open":"closed",role:r?"menu":"dialog",tabIndex:0,dir:e.context.dir,"aria-activedescendant":e.context.highlightedValue??void 0,"aria-labelledby":Ge.getTriggerId(e.context),"data-placement":e.context.currentPlacement,onPointerEnter(h){h.pointerType==="mouse"&&t("MENU_POINTERENTER")},onKeyDown(h){if(h.defaultPrevented||!mu(h))return;const f=Qi(h);if(!((f==null?void 0:f.closest("[role=menu]"))===h.currentTarget||f===h.currentTarget))return;if(h.key==="Tab"&&!yx(h)){h.preventDefault();return}const g=Ge.getHighlightedItemEl(e.context),m={ArrowDown(){t("ARROW_DOWN")},ArrowUp(){t("ARROW_UP")},ArrowLeft(){t("ARROW_LEFT")},ArrowRight(){t("ARROW_RIGHT")},Enter(){t("ENTER"),Mx(g)},Space(E){var _;s?t({type:"TYPEAHEAD",key:E.key}):(_=m.Enter)==null||_.call(m,E)},Home(){t("HOME")},End(){t("END")}},y=js(h,{dir:e.context.dir}),b=m[y];if(b){b(h),h.stopPropagation(),h.preventDefault();return}e.context.typeahead&&tR(h)&&(Ml(h)||Uv(f)||(t({type:"TYPEAHEAD",key:h.key}),h.preventDefault()))}})},getSeparatorProps(){return n.element({...li.separator.attrs,role:"separator",dir:e.context.dir,"aria-orientation":"horizontal"})},getItemState:o,getItemProps:d,getOptionItemState:c,getOptionItemProps(h){const{type:f,disabled:p,onCheckedChange:g,closeOnSelect:m}=h,y=l(h),b=c(h);return{...d(y),...n.element({"data-type":f,...li.item.attrs,dir:e.context.dir,"data-value":y.value,role:`menuitem${f}`,"aria-checked":!!b.checked,"data-state":b.checked?"checked":"unchecked",onClick(E){if(p||sm(E)||im(E))return;const _=E.currentTarget;t({type:"ITEM_CLICK",target:_,option:y,closeOnSelect:m}),g==null||g(!b.checked)}})}},getItemIndicatorProps(h){const f=c(h);return n.element({...li.itemIndicator.attrs,dir:e.context.dir,"data-disabled":H(f.disabled),"data-highlighted":H(f.highlighted),"data-state":f.checked?"checked":"unchecked",hidden:!f.checked})},getItemTextProps(h){const f=c(h);return n.element({...li.itemText.attrs,dir:e.context.dir,"data-disabled":H(f.disabled),"data-highlighted":H(f.highlighted),"data-state":f.checked?"checked":"unchecked"})},getItemGroupLabelProps(h){return n.element({id:Ge.getGroupLabelId(e.context,h.htmlFor),dir:e.context.dir,...li.itemGroupLabel.attrs})},getItemGroupProps(h){return n.element({id:Ge.getGroupId(e.context,h.id),...li.itemGroup.attrs,dir:e.context.dir,"aria-labelledby":Ge.getGroupLabelId(e.context,h.id),role:"group"})}}}var{not:as,and:ol,or:Sne}=ane;function xne(e){const t=Te(e);return hne({id:"menu",initial:t.open?"open":"idle",context:{highlightedValue:null,loopFocus:!1,anchorPoint:null,closeOnSelect:!0,typeahead:!0,composite:!0,...t,positioning:{placement:"bottom-start",gutter:8,...t.positioning},intentPolygon:null,parent:null,lastHighlightedValue:null,children:ee(Ke({})),suspendPointer:!1,restoreFocus:!0,typeaheadState:vu.defaultOptions},computed:{isSubmenu:n=>n.parent!==null,isRtl:n=>n.dir==="rtl",isTypingAhead:n=>n.typeaheadState.keysSoFar!==""},watch:{isSubmenu:"setSubmenuPlacement",anchorPoint:"reposition",open:"toggleVisibility"},on:{"PARENT.SET":{actions:"setParentMenu"},"CHILD.SET":{actions:"setChildMenu"},OPEN:[{guard:"isOpenControlled",actions:"invokeOnOpen"},{target:"open",actions:"invokeOnOpen"}],OPEN_AUTOFOCUS:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{internal:!0,target:"open",actions:["highlightFirstItem","invokeOnOpen"]}],CLOSE:[{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"closed",actions:"invokeOnClose"}],"HIGHLIGHTED.RESTORE":{actions:"restoreHighlightedItem"},"HIGHLIGHTED.SET":{actions:"setHighlightedItem"}},states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":"open","CONTROLLED.CLOSE":"closed",CONTEXT_MENU_START:{target:"opening:contextmenu",actions:"setAnchorPoint"},CONTEXT_MENU:[{guard:"isOpenControlled",actions:["setAnchorPoint","invokeOnOpen"]},{target:"open",actions:["setAnchorPoint","invokeOnOpen"]}],TRIGGER_CLICK:[{guard:"isOpenControlled",actions:"invokeOnOpen"},{target:"open",actions:"invokeOnOpen"}],TRIGGER_FOCUS:{guard:as("isSubmenu"),target:"closed"},TRIGGER_POINTERMOVE:{guard:"isSubmenu",target:"opening"}}},"opening:contextmenu":{tags:["closed"],after:{LONG_PRESS_DELAY:[{guard:"isOpenControlled",actions:"invokeOnOpen"},{target:"open",actions:"invokeOnOpen"}]},on:{"CONTROLLED.OPEN":"open","CONTROLLED.CLOSE":"closed",CONTEXT_MENU_CANCEL:[{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"closed",actions:"invokeOnClose"}]}},opening:{tags:["closed"],after:{SUBMENU_OPEN_DELAY:[{guard:"isOpenControlled",actions:"invokeOnOpen"},{target:"open",actions:"invokeOnOpen"}]},on:{"CONTROLLED.OPEN":"open","CONTROLLED.CLOSE":"closed",BLUR:[{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"closed",actions:"invokeOnClose"}],TRIGGER_POINTERLEAVE:[{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"closed",actions:"invokeOnClose"}]}},closing:{tags:["open"],activities:["trackPointerMove","trackInteractOutside"],after:{SUBMENU_CLOSE_DELAY:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["focusParentMenu","restoreParentHiglightedItem","invokeOnClose"]}]},on:{"CONTROLLED.OPEN":"open","CONTROLLED.CLOSE":{target:"closed",actions:["focusParentMenu","restoreParentHiglightedItem"]},MENU_POINTERENTER:{target:"open",actions:"clearIntentPolygon"},POINTER_MOVED_AWAY_FROM_SUBMENU:[{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"closed",actions:["focusParentMenu","restoreParentHiglightedItem"]}]}},closed:{tags:["closed"],entry:["clearHighlightedItem","focusTrigger","resumePointer"],on:{"CONTROLLED.OPEN":[{guard:Sne("isOpenAutoFocusEvent","isArrowDownEvent"),target:"open",actions:"highlightFirstItem"},{guard:"isArrowUpEvent",target:"open",actions:"highlightLastItem"},{target:"open"}],CONTEXT_MENU_START:{target:"opening:contextmenu",actions:"setAnchorPoint"},CONTEXT_MENU:[{guard:"isOpenControlled",actions:["setAnchorPoint","invokeOnOpen"]},{target:"open",actions:["setAnchorPoint","invokeOnOpen"]}],TRIGGER_CLICK:[{guard:"isOpenControlled",actions:"invokeOnOpen"},{target:"open",actions:"invokeOnOpen"}],TRIGGER_POINTERMOVE:{guard:"isTriggerItem",target:"opening"},TRIGGER_BLUR:"idle",ARROW_DOWN:[{guard:"isOpenControlled",actions:"invokeOnOpen"},{target:"open",actions:["highlightFirstItem","invokeOnOpen"]}],ARROW_UP:[{guard:"isOpenControlled",actions:"invokeOnOpen"},{target:"open",actions:["highlightLastItem","invokeOnOpen"]}]}},open:{tags:["open"],activities:["trackInteractOutside","trackPositioning","scrollToHighlightedItem"],entry:["focusMenu","resumePointer"],on:{"CONTROLLED.CLOSE":[{target:"closed",guard:"isArrowLeftEvent",actions:["focusParentMenu"]},{target:"closed"}],TRIGGER_CLICK:[{guard:ol(as("isTriggerItem"),"isOpenControlled"),actions:"invokeOnClose"},{guard:as("isTriggerItem"),target:"closed",actions:"invokeOnClose"}],ARROW_UP:{actions:["highlightPrevItem","focusMenu"]},ARROW_DOWN:{actions:["highlightNextItem","focusMenu"]},ARROW_LEFT:[{guard:ol("isSubmenu","isOpenControlled"),actions:"invokeOnClose"},{guard:"isSubmenu",target:"closed",actions:["focusParentMenu","invokeOnClose"]}],HOME:{actions:["highlightFirstItem","focusMenu"]},END:{actions:["highlightLastItem","focusMenu"]},ARROW_RIGHT:{guard:"isTriggerItemHighlighted",actions:"openSubmenu"},ENTER:[{guard:"isTriggerItemHighlighted",actions:"openSubmenu"},{actions:"clickHighlightedItem"}],ITEM_POINTERMOVE:[{guard:as("suspendPointer"),actions:["setHighlightedItem","focusMenu"]},{actions:"setLastHighlightedItem"}],ITEM_POINTERLEAVE:{guard:ol(as("suspendPointer"),as("isTriggerItem")),actions:"clearHighlightedItem"},ITEM_CLICK:[{guard:ol(as("isTriggerItemHighlighted"),as("isHighlightedItemEditable"),"closeOnSelect","isOpenControlled"),actions:["invokeOnSelect","setOptionState","closeRootMenu","invokeOnClose"]},{guard:ol(as("isTriggerItemHighlighted"),as("isHighlightedItemEditable"),"closeOnSelect"),target:"closed",actions:["invokeOnSelect","setOptionState","closeRootMenu","invokeOnClose"]},{guard:ol(as("isTriggerItemHighlighted"),as("isHighlightedItemEditable")),actions:["invokeOnSelect","setOptionState"]},{actions:"setHighlightedItem"}],TRIGGER_POINTERLEAVE:{target:"closing",actions:"setIntentPolygon"},ITEM_POINTERDOWN:{actions:"setHighlightedItem"},TYPEAHEAD:{actions:"highlightMatchedItem"},FOCUS_MENU:{actions:"focusMenu"},"POSITIONING.SET":{actions:"reposition"}}}}},{delays:{LONG_PRESS_DELAY:700,SUBMENU_OPEN_DELAY:100,SUBMENU_CLOSE_DELAY:100},guards:{closeOnSelect:(n,i)=>!!((i==null?void 0:i.closeOnSelect)??n.closeOnSelect),isTriggerItem:(n,i)=>Ge.isTriggerItem(i.target),isTriggerItemHighlighted:(n,i)=>{const s=i.target??Ge.getHighlightedItemEl(n);return!!(s!=null&&s.hasAttribute("aria-controls"))},isSubmenu:n=>n.isSubmenu,suspendPointer:n=>n.suspendPointer,isHighlightedItemEditable:n=>Uv(Ge.getHighlightedItemEl(n)),isWithinPolygon:(n,i)=>n.intentPolygon?Ene(n.intentPolygon,i.point):!1,isOpenControlled:n=>!!n["open.controlled"],isArrowLeftEvent:(n,i)=>{var s;return((s=i.previousEvent)==null?void 0:s.type)==="ARROW_LEFT"},isArrowUpEvent:(n,i)=>{var s;return((s=i.previousEvent)==null?void 0:s.type)==="ARROW_UP"},isArrowDownEvent:(n,i)=>{var s;return((s=i.previousEvent)==null?void 0:s.type)==="ARROW_DOWN"},isOpenAutoFocusEvent:(n,i)=>{var s;return((s=i.previousEvent)==null?void 0:s.type)==="OPEN_AUTOFOCUS"}},activities:{trackPositioning(n){if(n.anchorPoint)return;n.currentPlacement=n.positioning.placement;const i=()=>Ge.getPositionerEl(n);return Rr(Ge.getTriggerEl(n),i,{...n.positioning,defer:!0,onComplete(s){n.currentPlacement=s.placement}})},trackInteractOutside(n,i,{send:s}){return Ul(()=>Ge.getContentEl(n),{defer:!0,exclude:[Ge.getTriggerEl(n)],onInteractOutside:n.onInteractOutside,onFocusOutside:n.onFocusOutside,onEscapeKeyDown(a){var u;(u=n.onEscapeKeyDown)==null||u.call(n,a),n.isSubmenu&&a.preventDefault(),OC(n)},onPointerDownOutside(a){var u;n.restoreFocus=!a.detail.focusable,(u=n.onPointerDownOutside)==null||u.call(n,a)},onDismiss(){s({type:"CLOSE",src:"interact-outside"})}})},trackPointerMove(n,i,{guards:s,send:r}){const{isWithinPolygon:a}=s;n.parent.state.context.suspendPointer=!0;const u=Ge.getDoc(n);return gn(u,"pointermove",o=>{const l={x:o.clientX,y:o.clientY};a(n,{point:l})||(r("POINTER_MOVED_AWAY_FROM_SUBMENU"),n.parent.state.context.suspendPointer=!1)})},scrollToHighlightedItem(n,i,{getState:s}){const r=()=>{if(s().event.type.startsWith("ITEM_POINTER"))return;const o=Ge.getHighlightedItemEl(n),l=Ge.getContentEl(n);Gv(o,{rootEl:l,block:"nearest"})};return Je(()=>r()),kf(()=>Ge.getContentEl(n),{defer:!0,attributes:["aria-activedescendant"],callback:r})}},actions:{setAnchorPoint(n,i){n.anchorPoint=i.point},setSubmenuPlacement(n){n.isSubmenu&&(n.positioning.placement=n.isRtl?"left-start":"right-start",n.positioning.gutter=0)},reposition(n,i){const s=()=>Ge.getPositionerEl(n),r=n.anchorPoint?()=>({width:0,height:0,...n.anchorPoint}):void 0;Rr(Ge.getTriggerEl(n),s,{...n.positioning,defer:!0,getAnchorRect:r,...i.options??{},listeners:!1,onComplete(a){n.currentPlacement=a.placement}})},setOptionState(n,i){if(!i.option)return;const{checked:s,onCheckedChange:r,type:a}=i.option;a==="radio"?r==null||r(!0):a==="checkbox"&&(r==null||r(!s))},clickHighlightedItem(n,i){const s=Ge.getHighlightedItemEl(n);!s||s.dataset.disabled||queueMicrotask(()=>s.click())},setIntentPolygon(n,i){const s=Ge.getContentEl(n),r=n.currentPlacement;if(!s||!r)return;const a=s.getBoundingClientRect(),u=bne(a,r);if(!u)return;const l=Uz(r)==="right"?-5:5;n.intentPolygon=[{...i.point,x:i.point.x+l},...u]},clearIntentPolygon(n){n.intentPolygon=null},resumePointer(n){n.parent&&(n.parent.state.context.suspendPointer=!1)},setHighlightedItem(n,i){jr.highlighted(n,i.id)},clearHighlightedItem(n){jr.highlighted(n,null)},focusMenu(n){Je(()=>{const i=Ge.getContentEl(n),s=bu({root:i,enabled:!$r(i,Ge.getActiveElement(n)),filter(r){var a;return!((a=r.role)!=null&&a.startsWith("menuitem"))}});s==null||s.focus({preventScroll:!0})})},highlightFirstItem(n){(Ge.getContentEl(n)?queueMicrotask:Je)(()=>{const s=Ge.getFirstEl(n);s&&jr.highlighted(n,s.id)})},highlightLastItem(n){(Ge.getContentEl(n)?queueMicrotask:Je)(()=>{const s=Ge.getLastEl(n);s&&jr.highlighted(n,s.id)})},highlightNextItem(n,i){const s=Ge.getNextEl(n,i.loop);jr.highlighted(n,(s==null?void 0:s.id)??null)},highlightPrevItem(n,i){const s=Ge.getPrevEl(n,i.loop);jr.highlighted(n,(s==null?void 0:s.id)??null)},invokeOnSelect(n){var i;n.highlightedValue&&((i=n.onSelect)==null||i.call(n,{value:n.highlightedValue}))},focusTrigger(n){n.isSubmenu||n.anchorPoint||!n.restoreFocus||queueMicrotask(()=>{var i;return(i=Ge.getTriggerEl(n))==null?void 0:i.focus({preventScroll:!0})})},highlightMatchedItem(n,i){const s=Ge.getElemByKey(n,i.key);s&&jr.highlighted(n,s.id)},setParentMenu(n,i){n.parent=Ke(i.value)},setChildMenu(n,i){n.children[i.id]=Ke(i.value)},closeRootMenu(n){OC(n)},openSubmenu(n){const i=Ge.getHighlightedItemEl(n),s=i==null?void 0:i.getAttribute("data-uid"),r=s?n.children[s]:null;r==null||r.send("OPEN_AUTOFOCUS")},focusParentMenu(n){var i;(i=n.parent)==null||i.send("FOCUS_MENU")},setLastHighlightedItem(n,i){n.lastHighlightedValue=i.id},restoreHighlightedItem(n){n.lastHighlightedValue&&(jr.highlighted(n,n.lastHighlightedValue),n.lastHighlightedValue=null)},restoreParentHiglightedItem(n){var i;(i=n.parent)==null||i.send("HIGHLIGHTED.RESTORE")},invokeOnOpen(n){var i;(i=n.onOpenChange)==null||i.call(n,{open:!0})},invokeOnClose(n){var i;(i=n.onOpenChange)==null||i.call(n,{open:!1})},toggleVisibility(n,i,{send:s}){s({type:n.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:i})}}})}function OC(e){let t=e.parent;for(;t&&t.state.context.isSubmenu;)t=t.state.context.parent;t==null||t.send("CLOSE")}var jr={highlighted(e,t){var n;dn(e.highlightedValue,t)||(e.highlightedValue=t,(n=e.onHighlightChange)==null||n.call(e,{highlightedValue:t}))}};tn()(["anchorPoint","aria-label","closeOnSelect","dir","getRootNode","highlightedValue","id","ids","loopFocus","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","onEscapeKeyDown","onSelect","onHighlightChange","open","open.controlled","positioning","typeahead","composite"]);tn()(["closeOnSelect","disabled","value","valueText"]);tn()(["htmlFor"]);tn()(["id"]);tn()(["disabled","valueText","closeOnSelect","type","value","checked","onCheckedChange"]);const Tne=(e,t)=>{const n=qn(),i=es(),s=Ri(Ni),r=K(()=>({id:n,dir:s.value.dir,open:e.open??e.defaultOpen,"open.controlled":e.open!==void 0,getRootNode:i==null?void 0:i.value.getRootNode,onOpenChange:c=>{t==null||t("openChange",c),t==null||t("update:open",c.open)},onEscapeKeyDown:c=>t==null?void 0:t("escapeKeyDown",c),onFocusOutside:c=>t==null?void 0:t("focusOutside",c),onHighlightChange:c=>t==null?void 0:t("highlightChange",c),onInteractOutside:c=>t==null?void 0:t("interactOutside",c),onPointerDownOutside:c=>t==null?void 0:t("pointerDownOutside",c),onSelect:c=>t==null?void 0:t("select",c),...ts(e)})),[a,u,o]=Ci(xne(r.value),{context:r});return{api:K(()=>Cne(a.value,u,Mi)),machine:o}},[TO,kn]=vt("MenuContext"),[tb,wne]=vt("MenuItemContext"),Ine=$({__name:"menu-arrow-tip",props:{asChild:{type:Boolean}},setup(e){const t=kn();return G(),(n,i)=>(C(),N(v(J).div,z(v(t).getArrowTipProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),One=$({__name:"menu-arrow",props:{asChild:{type:Boolean}},setup(e){const t=kn();return G(),(n,i)=>(C(),N(v(J).div,z(v(t).getArrowProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),[wO,IO]=vt("MenuOptionItemPropsContext"),kne=$({__name:"menu-checkbox-item",props:On({checked:{type:Boolean},value:{},disabled:{type:Boolean},valueText:{},closeOnSelect:{type:Boolean},asChild:{type:Boolean}},{checked:void 0,disabled:void 0,closeOnSelect:void 0}),emits:["update:checked"],setup(e,{emit:t}){const n=e,i=t,s=kn(),r=K(()=>({...n,type:"checkbox",onCheckedChange:u=>i("update:checked",u)})),a=K(()=>s.value.getOptionItemState(r.value));return tb(a),wO(r),G(),(u,o)=>(C(),N(v(J).div,z(v(s).getOptionItemProps(r.value),{"as-child":u.asChild}),{default:S(()=>[B(u.$slots,"default")]),_:3},16,["as-child"]))}}),Ane=$({__name:"menu-content",props:{asChild:{type:Boolean}},setup(e){const t=kn(),n=Gl(),i=K(()=>Ho(t.value.getContentProps(),n.value.presenceProps));return G(),(s,r)=>v(n).unmounted?nt("",!0):(C(),N(v(J).div,z({key:0},i.value,{"as-child":s.asChild}),{default:S(()=>[B(s.$slots,"default")]),_:3},16,["as-child"]))}}),Pne=$({__name:"menu-context-trigger",props:{asChild:{type:Boolean}},setup(e){const t=kn();return G(),(n,i)=>(C(),N(v(J).button,z(v(t).getContextTriggerProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),$ne=$({__name:"menu-context",setup(e){const t=kn();return(n,i)=>B(n.$slots,"default",hn(on(v(t))))}}),Mne=$({__name:"menu-indicator",props:{asChild:{type:Boolean}},setup(e){const t=kn();return G(),(n,i)=>(C(),N(v(J).div,z(v(t).getIndicatorProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),Nne=$({__name:"menu-item-context",setup(e){const t=wne();return(n,i)=>B(n.$slots,"default",hn(on(v(t))))}}),[OO,kO]=vt("MenuItemGroupContext"),Rne=$({__name:"menu-item-group-label",props:{asChild:{type:Boolean}},setup(e){const t=kn(),n=kO();return G(),(i,s)=>(C(),N(v(J).div,z(v(t).getItemGroupLabelProps({htmlFor:v(n).id}),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["as-child"]))}}),Dne=$({__name:"menu-item-group",props:{id:{},asChild:{type:Boolean}},setup(e){const t=e,n=kn(),i=t.id??qn(),s=K(()=>({id:i}));return OO(s),G(),(r,a)=>(C(),N(v(J).div,z(v(n).getItemGroupProps(s.value),{"as-child":r.asChild}),{default:S(()=>[B(r.$slots,"default")]),_:3},16,["as-child"]))}}),Lne=$({__name:"menu-item-indicator",props:{asChild:{type:Boolean}},setup(e){const t=kn(),n=IO();return G(),(i,s)=>(C(),N(v(J).div,z(v(t).getItemIndicatorProps(v(n)),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["as-child"]))}}),Fne=$({__name:"menu-item-text",props:{asChild:{type:Boolean}},setup(e){const t=kn(),n=IO();return G(),(i,s)=>(C(),N(v(J).div,z(v(t).getItemTextProps(v(n)),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["as-child"]))}}),Vne=$({__name:"menu-item",props:On({value:{},disabled:{type:Boolean},valueText:{},closeOnSelect:{type:Boolean},asChild:{type:Boolean}},{disabled:void 0,closeOnSelect:void 0}),setup(e){const t=e,n=kn();return tb(K(()=>n.value.getItemState(t))),G(),(i,s)=>(C(),N(v(J).div,z(v(n).getItemProps(t),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["as-child"]))}}),Bne=$({__name:"menu-positioner",props:{asChild:{type:Boolean}},setup(e){const t=kn(),n=Uo(),i=Fa(K(()=>({...n.value,present:t.value.open})));return Va(i),G(),(s,r)=>v(i).unmounted?nt("",!0):(C(),N(v(J).div,z({key:0},v(t).getPositionerProps(),{"as-child":s.asChild}),{default:S(()=>[B(s.$slots,"default")]),_:3},16,["as-child"]))}}),Hne=$({__name:"menu-radio-item-group",props:{id:{},modelValue:{},asChild:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,i=t,s=kn(),r=n.id??qn(),a=K(()=>({id:r,value:n.modelValue,onValueChange:u=>i("update:modelValue",u.value)}));return OO(a),G(),(u,o)=>(C(),N(v(J).div,z(v(s).getItemGroupProps(a.value),{"as-child":u.asChild}),{default:S(()=>[B(u.$slots,"default")]),_:3},16,["as-child"]))}}),jne=$({__name:"menu-radio-item",props:On({value:{},disabled:{type:Boolean},valueText:{},closeOnSelect:{type:Boolean},asChild:{type:Boolean}},{disabled:void 0,closeOnSelect:void 0}),setup(e){const t=e,n=kn(),i=kO(),s=K(()=>({...t,checked:i.value.value===t.value,type:"radio",onCheckedChange:()=>{var a,u;return(u=(a=i.value).onValueChange)==null?void 0:u.call(a,{value:t.value})}})),r=K(()=>n.value.getOptionItemState(s.value));return tb(r),wO(s),G(),(a,u)=>(C(),N(v(J).div,z(v(n).getOptionItemProps(s.value),{"as-child":a.asChild}),{default:S(()=>[B(a.$slots,"default")]),_:3},16,["as-child"]))}}),[AO,PO]=vt("MenuMachineContext"),[$O,Une]=vt("MenuTriggerItemContext"),Gne=$({__name:"menu-root-provider",props:{value:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,{value:{machine:n,api:i}}=t,s=kn(),r=PO();return ii(()=>{r&&(s.value.setChild(n),i.value.setParent(r))}),$O(K(()=>s.value.getTriggerItemProps(i.value))),AO(n),TO(i),Di(K(()=>({lazyMount:t.lazyMount,unmountOnExit:t.unmountOnExit}))),G(),(a,u)=>B(a.$slots,"default")}}),Wne=$({__name:"menu-root",props:On({anchorPoint:{},"aria-label":{},closeOnSelect:{type:Boolean},composite:{type:Boolean},defaultOpen:{type:Boolean},highlightedValue:{},id:{},ids:{},loopFocus:{type:Boolean},open:{type:Boolean},positioning:{},typeahead:{type:Boolean},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},{closeOnSelect:void 0,composite:void 0,defaultOpen:void 0,loopFocus:void 0,open:void 0,typeahead:void 0}),emits:["escapeKeyDown","focusOutside","highlightChange","interactOutside","openChange","pointerDownOutside","select","update:open"],setup(e,{emit:t}){const n=e,i=t,{api:s,machine:r}=Tne(n,i),a=kn(),u=PO();return ii(()=>{u&&(a.value.setChild(r),s.value.setParent(u))}),$O(K(()=>a.value.getTriggerItemProps(s.value))),AO(r),TO(s),Di(K(()=>({lazyMount:n.lazyMount,unmountOnExit:n.unmountOnExit}))),G(),(o,l)=>B(o.$slots,"default")}}),zne=$({__name:"menu-separator",props:{asChild:{type:Boolean}},setup(e){const t=kn();return G(),(n,i)=>(C(),N(v(J).hr,z(v(t).getSeparatorProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),Kne=$({__name:"menu-trigger-item",props:{asChild:{type:Boolean}},setup(e){const t=Une();return G(),(n,i)=>(C(),N(v(J).div,z(v(t),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),qne=$({__name:"menu-trigger",props:{asChild:{type:Boolean}},setup(e){const t=kn();return G(),(n,i)=>(C(),N(v(J).button,z(v(t).getTriggerProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),pt=Object.freeze(Object.defineProperty({__proto__:null,Arrow:One,ArrowTip:Ine,CheckboxItem:kne,Content:Ane,Context:$ne,ContextTrigger:Pne,Indicator:Mne,Item:Vne,ItemContext:Nne,ItemGroup:Dne,ItemGroupLabel:Rne,ItemIndicator:Lne,ItemText:Fne,Positioner:Bne,RadioItem:jne,RadioItemGroup:Hne,Root:Wne,RootProvider:Gne,Separator:zne,Trigger:qne,TriggerItem:Kne},Symbol.toStringTag,{value:"Module"})),Yne={class:"flex flex-col gap-2"},Jne={key:0,class:"text-sm font-medium"},Xne={key:1,class:"border rounded-lg"},Zne={class:"h-10 px-3 flex gap-2 items-center border-b bg-gray-200 [&>button]:p-1 [&>button]:rounded-md [&>button:hover]:bg-gray-300"},Qne={class:"focus-within:ring focus-within:ring-gray-700 rounded-b overflow-hidden [&>div]:overflow-y-auto [&>div]:max-h-48"},MO=$({__name:"RichtextEditor",props:Vn({label:null,inline:{type:Boolean}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=vn(e,"modelValue"),n=Dte({content:t.value,extensions:[Lte,Fte,Vte,Gte,Yte,Jte,Xte,Zte,Qte,Qy],injectCSS:!1,editorProps:{attributes:{class:"p-3 prose prose-sm prose-gray focus:outline-none"}},onUpdate({editor:i}){t.value=i.getHTML()}});return Kt(t,i=>{n.value&&n.value.getHTML()!==i&&n.value.commands.setContent(i)}),Tv(()=>{var i;(i=n.value)==null||i.destroy()}),(i,s)=>{const r=MJ,a=AJ,u=IJ,o=xJ,l=Fr,c=_J,d=yJ;return C(),te("div",Yne,[e.label?(C(),te("label",Jne,ue(e.label),1)):nt("",!0),v(n)?(C(),te("section",Xne,[F("header",Zne,[F("button",{title:"Bold",onClick:s[0]||(s[0]=h=>v(n).chain().focus().toggleBold().run()),class:sn({"bg-gray-300 text-blue-500":v(n).isActive("bold")})},[O(r,{class:"w-4 h-4"})],2),F("button",{title:"Italic",onClick:s[1]||(s[1]=h=>v(n).chain().focus().toggleItalic().run()),class:sn({"bg-gray-300 text-blue-500":v(n).isActive("italic")})},[O(a,{class:"w-4 h-4"})],2),F("button",{title:"Underline",onClick:s[2]||(s[2]=h=>v(n).chain().focus().toggleUnderline().run()),class:sn({"bg-gray-300 text-blue-500":v(n).isActive("underline")})},[O(u,{class:"w-4 h-4"})],2),e.inline?nt("",!0):(C(),te(Ye,{key:0},[O(v(pt).Root,null,{default:S(()=>[O(v(pt).Trigger,{class:"flex outline-none items-center"},{default:S(()=>[O(o,{class:"w-4 h-4"}),O(l,{class:"w-3 h-3"})]),_:1}),O(v(pt).Positioner,null,{default:S(()=>[O(v(pt).Content,{class:"shadow-sm rounded-md bg-white border outline-none overflow-hidden"},{default:S(()=>[O(v(pt).ItemGroup,null,{default:S(()=>[O(v(pt).ItemGroupLabel,{class:"bg-zinc-300 px-3 py-2"},{default:S(()=>s[11]||(s[11]=[qe("Headings")])),_:1}),O(v(pt).Item,{value:"h1",class:"text-2xl flex items-center px-3 py-2 gap-2 cursor-pointer font-bold hover:bg-gray-100",onClick:s[3]||(s[3]=h=>v(n).chain().focus().toggleHeading({level:1}).run())},{default:S(()=>[qe(ue(i.$t("Heading 1")),1)]),_:1}),O(v(pt).Item,{value:"h2",class:"text-xl flex items-center px-3 py-2 gap-2 font-semibold cursor-pointer hover:bg-gray-100",onClick:s[4]||(s[4]=h=>v(n).chain().focus().toggleHeading({level:2}).run())},{default:S(()=>[qe(ue(i.$t("Heading 2")),1)]),_:1}),O(v(pt).Item,{value:"h2",class:"text-lg flex items-center px-3 py-2 gap-2 font-medium cursor-pointer hover:bg-gray-100",onClick:s[5]||(s[5]=h=>v(n).chain().focus().toggleHeading({level:3}).run())},{default:S(()=>[qe(ue(i.$t("Heading 3")),1)]),_:1}),O(v(pt).Item,{value:"h2",class:"text-md flex items-center px-3 py-2 gap-2 font-medium cursor-pointer hover:bg-gray-100",onClick:s[6]||(s[6]=h=>v(n).chain().focus().toggleHeading({level:4}).run())},{default:S(()=>[qe(ue(i.$t("Heading 4")),1)]),_:1}),O(v(pt).Item,{value:"h2",class:"text-sm flex items-center px-3 py-2 gap-2 font-medium cursor-pointer hover:bg-gray-100",onClick:s[7]||(s[7]=h=>v(n).chain().focus().toggleHeading({level:5}).run())},{default:S(()=>[qe(ue(i.$t("Heading 5")),1)]),_:1}),O(v(pt).Item,{value:"h2",class:"text-xs flex items-center px-3 py-2 gap-2 font-medium cursor-pointer hover:bg-gray-100",onClick:s[8]||(s[8]=h=>v(n).chain().focus().toggleHeading({level:6}).run())},{default:S(()=>[qe(ue(i.$t("Heading 6")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),F("button",{title:"Bullet list",onClick:s[9]||(s[9]=h=>v(n).chain().focus().toggleBulletList().run()),class:sn({"bg-gray-300 text-blue-500":v(n).isActive("bulletList")})},[O(c,{class:"w-4 h-4"})],2),F("button",{title:"Numbered list",onClick:s[10]||(s[10]=h=>v(n).chain().focus().toggleOrderedList().run()),class:sn({"bg-gray-300 text-blue-500":v(n).isActive("orderedList")})},[O(d,{class:"w-4 h-4"})],2)],64))]),F("div",Qne,[O(v(Rte),{editor:v(n)},null,8,["editor"])])])):nt("",!0)])}}}),eie={class:"mb-4 last:mb-0"},tie={key:0,class:"text-xs leading-3"},nie=MO,iie={components:{TextSetting:XU,TextareaSetting:ZU,CheckboxSetting:dy,NumberSetting:BG,RadioSetting:T8,RangeSetting:OW,SelectSetting:$7,ColorSetting:rK,ImageSetting:qK,CategorySetting:Bq,ProductSetting:iY,CmsPageSetting:yY,LinkSetting:gJ,RichtextSetting:MO,InlineRichtextSetting:nie}},nb=$({...iie,__name:"Setting",props:{setting:null,value:null},emits:["input"],setup(e,{emit:t}){const n=e,i=t;return Si(),(s,r)=>(C(),te("div",eie,[(C(),N(i1(e.setting.component),z(e.setting,{"model-value":n.value,"onUpdate:modelValue":r[0]||(r[0]=a=>i("input",a))}),null,16,["model-value"])),e.setting.info?(C(),te("small",tie,ue(e.setting.info),1)):nt("",!0)]))}}),sie={class:""},rie=["data-disabled"],oie={class:"handle flex-none py-1 px-1 rounded-md hover:bg-zinc-200 cursor-move"},aie={class:"w-0 flex-1 truncate text-xs capitalize"},lie=$({__name:"Block",props:{block:null},emits:["remove","toggle"],setup(e,{emit:t}){const n=La(),i=Ef(),s=t,r=e;function a(){n.push({name:"/[section].[block]",params:{block:r.block.id,section:i.params.section}})}function u(o){const c=new DOMParser().parseFromString(o,"text/html").body.textContent;return c==="undefined"?o:c}return(o,l)=>{const c=q1,d=Cf,h=K1,f=z1;return C(),te("div",sie,[F("div",{class:"flex rounded border border-zinc-100 hover:bg-zinc-100 cursor-pointer active:ring-inset active:ring-2 active:ring-gray-700 data-[disabled=true]:text-zinc-500","data-disabled":e.block.disabled},[F("button",oie,[O(c,{class:"inline w-4"})]),F("div",{onClick:a,class:"group mx-2 py-1 pr-1 text-sm flex-1 flex items-center max-w-full"},[F("div",aie,ue(e.block.settings.title||e.block.settings.heading||u(e.block.settings.text)||e.block.name),1),F("button",{onClick:l[0]||(l[0]=Ki(p=>s("remove"),["stop"])),class:"flex-none invisible group-hover:visible py-[1px] px-[2px] rounded-md hover:bg-zinc-200"},[O(d,{class:"inline w-4"})]),F("button",{onClick:l[1]||(l[1]=Ki(p=>s("toggle"),["stop"])),class:"flex-none invisible group-hover:visible py-[1px] px-[2px] rounded-md hover:bg-zinc-200 ml-1"},[e.block.disabled?(C(),N(f,{key:1,class:"inline w-4"})):(C(),N(h,{key:0,class:"inline w-4"}))])])],8,rie)])}}}),cie=$({__name:"BlocksGroup",props:{blocks:null,order:null},emits:["reorder","toggleBlock","removeBlock"],setup(e,{emit:t}){const n=e,i=t,s=xv("sortable");return ii(()=>{new rt(s.value,{animation:150,ghostClass:"sortable-ghost",onEnd({newIndex:r,oldIndex:a}){const u=[...n.order],o=u.splice(a,1)[0];u.splice(r,0,o),i("reorder",u)}})}),(r,a)=>{const u=lie;return C(),te("div",{ref_key:"sortable",ref:s,class:"space-y-1"},[(C(!0),te(Ye,null,zt(e.blocks,o=>(C(),N(u,{key:o.id,block:o,onToggle:l=>i("toggleBlock",o.id),onRemove:l=>i("removeBlock",o.id)},null,8,["block","onToggle","onRemove"]))),128))],512)}}});var uie=Object.defineProperty,die=(e,t,n)=>t in e?uie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fe=(e,t,n)=>die(e,typeof t!="symbol"?t+"":t,n);function NO(e,...t){for(const n of t){const i=Te(n);for(const s in i)_i(n[s])?(e[s]||(e[s]={}),NO(e[s],n[s])):e[s]=n[s]}return e}function kC(e){return bn(e)}function Ps(e){return q(e)?{type:e}:e}function so(e){return e?et(e)?e.slice():[e]:[]}function RO(e){return Ce(e)&&e.predicate!=null}var hie=()=>!0;function ib(e,t,n,i){return s=>{var r;return q(s)?!!((r=e[s])!=null&&r.call(e,t,n,i)):We(s)?s(t,n,i):s.predicate(e)(t,n,i)}}function fie(...e){return{predicate:t=>(n,i,s)=>e.map(ib(t,n,i,s)).some(Boolean)}}function pie(...e){return{predicate:t=>(n,i,s)=>e.map(ib(t,n,i,s)).every(Boolean)}}function gie(e){return{predicate:t=>(n,i,s)=>!ib(t,n,i,s)(e)}}function mie(...e){return(t,n,i)=>i.state.matches(...e)}var vie={or:fie,and:pie,not:gie,stateIn:mie};function DO(e,t){return e=e??hie,(n,i,s)=>{if(q(e)){const r=t[e];return We(r)?r(n,i,s):r}return RO(e)?e.predicate(t)(n,i,s):e==null?void 0:e(n,i,s)}}function Ag(e,t){return(n,i,s)=>RO(e)?e.predicate(t)(n,i,s):e}function yie(e){var r,a;const t=e.computed??ee({}),n=e.context??ee({}),i=e.initial?(a=(r=e.states)==null?void 0:r[e.initial])==null?void 0:a.tags:[],s=Yn({value:e.initial??"",previousValue:"",event:ee({}),previousEvent:ee({}),context:yi(n,t),done:!1,tags:i??[],hasTag(u){return this.tags.includes(u)},matches(...u){return u.includes(this.value)},can(u){return ee(this).nextEvents.includes(u)},get nextEvents(){var l,c;const u=((c=(l=e.states)==null?void 0:l[this.value])==null?void 0:c.on)??{},o=(e==null?void 0:e.on)??{};return Object.keys({...u,...o})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return ee(s)}function Tc(e,t){return(n,i)=>{if(Ei(e))return e;if(We(e))return e(n,i);if(q(e)){const s=Number.parseFloat(e);if(!Number.isNaN(s))return s;if(t){const r=t==null?void 0:t[e];return He(r==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${e}\`. It doesn't exist in \`options.delays\``),We(r)?r(n,i):r}}}}function bie(e){return q(e)?{target:e}:e}function Eie(e,t){return(n,i,s)=>so(e).map(bie).find(r=>DO(r.guard,t)(n,i,s)??r.target??r.actions)}var _ie=class{constructor(t,n){var i,s,r,a,u;Fe(this,"status","Not Started"),Fe(this,"state"),Fe(this,"initialState"),Fe(this,"initialContext"),Fe(this,"id"),Fe(this,"type","machine"),Fe(this,"activityEvents",new Map),Fe(this,"delayedEvents",new Map),Fe(this,"stateListeners",new Set),Fe(this,"doneListeners",new Set),Fe(this,"contextWatchers",new Set),Fe(this,"removeStateListener",si),Fe(this,"parent"),Fe(this,"children",new Map),Fe(this,"guardMap"),Fe(this,"actionMap"),Fe(this,"delayMap"),Fe(this,"activityMap"),Fe(this,"sync"),Fe(this,"options"),Fe(this,"config"),Fe(this,"_created",()=>{var l;const o=Ps("machine.created");this.executeActions((l=this.config)==null?void 0:l.created,o)}),Fe(this,"start",o=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=Pt(this.state,()=>{this.stateListeners.forEach(p=>{p(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(Ps("machine.start"),so(this.config.activities),"machine.start"),this.executeActions(this.config.entry,Ps("machine.start"));const l=Ps("machine.init"),c=Ce(o)?o.value:o,d=Ce(o)?o.context:void 0;d&&this.setContext(d);const h={target:c??this.config.initial},f=this.getNextStateInfo(h,l);return this.initialState=f,this.performStateChangeEffects(this.state.value,f,l),this}),Fe(this,"setupContextWatchers",()=>{const{watch:o}=this.config;if(!o)return;let l=_e(this.state.context);const c=Pt(this.state.context,()=>{var h;const d=_e(this.state.context);for(const[f,p]of Object.entries(o))(((h=this.options.compareFns)==null?void 0:h[f])??Object.is)(l[f],d[f])||this.executeActions(p,this.state.event);l=d});this.contextWatchers.add(c)}),Fe(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,Ps("machine.stop")),this.executeActions(this.config.exit,Ps("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),Fe(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),Fe(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(o=>o()),this.contextWatchers.clear()}),Fe(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(o=>{o.forEach(l=>l())}),this.delayedEvents.clear()}),Fe(this,"stopActivities",o=>{var l,c;o?((l=this.activityEvents.get(o))==null||l.forEach(d=>d()),(c=this.activityEvents.get(o))==null||c.clear(),this.activityEvents.delete(o)):(this.activityEvents.forEach(d=>{d.forEach(h=>h()),d.clear()}),this.activityEvents.clear())}),Fe(this,"sendChild",(o,l)=>{const c=Ps(o),d=$t(l,this.contextSnapshot),h=this.children.get(d);h||He(`[@zag-js/core] Cannot send '${c.type}' event to unknown child`),h.send(c)}),Fe(this,"stopChild",o=>{this.children.has(o)||He(`[@zag-js/core > stop-child] Cannot stop unknown child ${o}`),this.children.get(o).stop(),this.children.delete(o)}),Fe(this,"removeChild",o=>{this.children.delete(o)}),Fe(this,"stopChildren",()=>{this.children.forEach(o=>o.stop()),this.children.clear()}),Fe(this,"setParent",o=>{this.parent=o}),Fe(this,"spawn",(o,l)=>{const c=$t(o);return l&&(c.id=l),c.type="machine.actor",c.setParent(this),this.children.set(c.id,ee(c)),c.onDone(()=>{this.removeChild(c.id)}).start(),ee(Ke(c))}),Fe(this,"stopActivity",o=>{var c;if(!this.state.value)return;const l=this.activityEvents.get(this.state.value);(c=l==null?void 0:l.get(o))==null||c(),l==null||l.delete(o)}),Fe(this,"addActivityCleanup",(o,l,c)=>{var d;o&&(this.activityEvents.has(o)?(d=this.activityEvents.get(o))==null||d.set(l,c):this.activityEvents.set(o,new Map([[l,c]])))}),Fe(this,"setState",o=>{this.state.previousValue=this.state.value,this.state.value=o;const l=this.getStateNode(o);o==null?bi(this.state.tags):this.state.tags=so(l==null?void 0:l.tags)}),Fe(this,"setContext",o=>{o&&NO(this.state.context,Te(o))}),Fe(this,"setOptions",o=>{const l=Te(o);this.actionMap={...this.actionMap,...l.actions},this.delayMap={...this.delayMap,...l.delays},this.activityMap={...this.activityMap,...l.activities},this.guardMap={...this.guardMap,...l.guards}}),Fe(this,"getStateNode",o=>{var l;if(o)return(l=this.config.states)==null?void 0:l[o]}),Fe(this,"getNextStateInfo",(o,l)=>{const c=this.determineTransition(o,l),d=!(c!=null&&c.target),h=(c==null?void 0:c.target)??this.state.value,f=this.state.value!==h,p=this.getStateNode(h),m={reenter:!d&&!f&&!(c!=null&&c.internal),transition:c,stateNode:p,target:h,changed:f};return this.log("NextState:",`[${l.type}]`,this.state.value,"---->",m.target),m}),Fe(this,"getAfterActions",(o,l)=>{let c;const d=this.state.value;return{entry:()=>{c=globalThis.setTimeout(()=>{const h=this.getNextStateInfo(o,this.state.event);this.performStateChangeEffects(d,h,this.state.event)},l)},exit:()=>{globalThis.clearTimeout(c)}}}),Fe(this,"getDelayedEventActions",o=>{const l=this.getStateNode(o),c=this.state.event;if(!l||!l.after)return;const d=[],h=[];if(et(l.after)){const f=this.determineTransition(l.after,c);if(!f)return;if(!wn(f,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(f)}`);const g=Tc(f.delay,this.delayMap)(this.contextSnapshot,c),m=this.getAfterActions(f,g);return d.push(m.entry),h.push(m.exit),{entries:d,exits:h}}if(Ce(l.after))for(const f in l.after){const p=l.after[f],m=Tc(f,this.delayMap)(this.contextSnapshot,c),y=this.getAfterActions(p,m);d.push(y.entry),h.push(y.exit)}return{entries:d,exits:h}}),Fe(this,"executeActions",(o,l)=>{var d;const c=Ag(o,this.guardMap)(this.contextSnapshot,l,this.guardMeta);for(const h of so(c)){const f=q(h)?(d=this.actionMap)==null?void 0:d[h]:h;it(q(h)&&!f,`[@zag-js/core > execute-actions] No implementation found for action: \`${h}\``),f==null||f(this.state.context,l,this.meta)}}),Fe(this,"executeActivities",(o,l,c)=>{var d;for(const h of l){const f=q(h)?(d=this.activityMap)==null?void 0:d[h]:h;if(!f){it(`[@zag-js/core > execute-activity] No implementation found for activity: \`${h}\``);continue}const p=f(this.state.context,o,this.meta);if(p){const g=q(h)?h:h.name||Rt();this.addActivityCleanup(c??this.state.value,g,p)}}}),Fe(this,"createEveryActivities",(o,l)=>{if(o)if(et(o)){const c=so(o).find(p=>{const g=p.delay,y=Tc(g,this.delayMap)(this.contextSnapshot,this.state.event);return DO(p.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??y!=null});if(!c)return;const h=Tc(c.delay,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const p=globalThis.setInterval(()=>{this.executeActions(c.actions,this.state.event)},h);return()=>{globalThis.clearInterval(p)}})}else for(const c in o){const d=o==null?void 0:o[c],f=Tc(c,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const g=globalThis.setInterval(()=>{this.executeActions(d,this.state.event)},f);return()=>{globalThis.clearInterval(g)}})}}),Fe(this,"setEvent",o=>{this.state.previousEvent=this.state.event,this.state.event=Ke(Ps(o))}),Fe(this,"performExitEffects",(o,l)=>{const c=this.state.value;if(c==="")return;const d=o?this.getStateNode(o):void 0;this.stopActivities(c);const h=Ag(d==null?void 0:d.exit,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=so(h),p=this.delayedEvents.get(c);p&&f.push(...p),this.executeActions(f,l),this.delayedEvents.delete(c)}),Fe(this,"performEntryEffects",(o,l)=>{const c=this.getStateNode(o),d=so(c==null?void 0:c.activities);this.createEveryActivities(c==null?void 0:c.every,g=>{d.unshift(g)}),d.length>0&&this.executeActivities(l,d);const h=Ag(c==null?void 0:c.entry,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=so(h),p=this.getDelayedEventActions(o);c!=null&&c.after&&p&&(this.delayedEvents.set(o,p==null?void 0:p.exits),f.push(...p.entries)),this.executeActions(f,l),(c==null?void 0:c.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(g=>{g(this.stateSnapshot)}),this.stop())}),Fe(this,"performTransitionEffects",(o,l)=>{const c=this.determineTransition(o,l);this.executeActions(c==null?void 0:c.actions,l)}),Fe(this,"performStateChangeEffects",(o,l,c)=>{this.setEvent(c);const d=l.changed||l.reenter;d&&this.performExitEffects(o,c),this.performTransitionEffects(l.transition,c),this.setState(l.target),d&&this.performEntryEffects(l.target,c)}),Fe(this,"determineTransition",(o,l)=>{const c=Eie(o,this.guardMap);return c==null?void 0:c(this.contextSnapshot,l,this.guardMeta)}),Fe(this,"sendParent",o=>{var c;this.parent||He("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const l=Ps(o);(c=this.parent)==null||c.send(l)}),Fe(this,"log",(...o)=>{}),Fe(this,"send",o=>{const l=Ps(o);this.transition(this.state.value,l)}),Fe(this,"transition",(o,l)=>{var p,g;const c=q(o)?this.getStateNode(o):o==null?void 0:o.stateNode,d=Ps(l);if(!c&&!this.config.on){const m=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${o}, \`event\`: ${d.type}`;it(m);return}const h=((p=c==null?void 0:c.on)==null?void 0:p[d.type])??((g=this.config.on)==null?void 0:g[d.type]),f=this.getNextStateInfo(h,d);return this.performStateChangeEffects(this.state.value,f,d),f.stateNode}),Fe(this,"subscribe",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),()=>{this.stateListeners.delete(o)})),Fe(this,"onDone",o=>(this.doneListeners.add(o),this)),Fe(this,"onTransition",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),this)),this.config=kC(t),this.options=kC(n??{}),this.id=this.config.id??`machine-${Rt()}`,this.guardMap=((i=this.options)==null?void 0:i.guards)??{},this.actionMap=((s=this.options)==null?void 0:s.actions)??{},this.delayMap=((r=this.options)==null?void 0:r.delays)??{},this.activityMap=((a=this.options)==null?void 0:a.activities)??{},this.sync=((u=this.options)==null?void 0:u.sync)??!1,this.state=yie(this.config),this.initialContext=_e(this.state.context)}get stateSnapshot(){return ee(_e(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const t=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return t.stateSnapshot},get initialContext(){return t.initialContext},get initialState(){var n;return((n=t.initialState)==null?void 0:n.target)??""}}}get meta(){var t;return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:((t=this.initialState)==null?void 0:t.target)??"",getState:()=>this.stateSnapshot,getAction:n=>this.actionMap[n],getGuard:n=>this.guardMap[n]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){const t=this.getState();return{value:t.value,tags:t.tags}}},Cie=(e,t)=>new _ie(e,t),Sie=Dn("accordion").parts("root","item","itemTrigger","itemContent","itemIndicator"),wc=Sie.build(),pn=$i({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`accordion:${e.id}`},getItemId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.item)==null?void 0:i.call(n,t))??`accordion:${e.id}:item:${t}`},getItemContentId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.itemContent)==null?void 0:i.call(n,t))??`accordion:${e.id}:content:${t}`},getItemTriggerId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.itemTrigger)==null?void 0:i.call(n,t))??`accordion:${e.id}:trigger:${t}`},getRootEl:e=>pn.getById(e,pn.getRootId(e)),getTriggerEls:e=>{const n=`[aria-controls][data-ownedby='${CSS.escape(pn.getRootId(e))}']:not([disabled])`;return Tr(pn.getRootEl(e),n)},getFirstTriggerEl:e=>zv(pn.getTriggerEls(e)),getLastTriggerEl:e=>Kv(pn.getTriggerEls(e)),getNextTriggerEl:(e,t)=>Vv(pn.getTriggerEls(e),pn.getItemTriggerId(e,t)),getPrevTriggerEl:(e,t)=>Bv(pn.getTriggerEls(e),pn.getItemTriggerId(e,t))});function xie(e,t,n){const i=e.context.focusedValue,s=e.context.value,r=e.context.multiple;function a(o){let l=o;r&&l.length>1&&(l=[l[0]]),t({type:"VALUE.SET",value:l})}function u(o){return{expanded:s.includes(o.value),focused:i===o.value,disabled:!!(o.disabled??e.context.disabled)}}return{focusedValue:i,value:s,setValue:a,getItemState:u,getRootProps(){return n.element({...wc.root.attrs,dir:e.context.dir,id:pn.getRootId(e.context),"data-orientation":e.context.orientation})},getItemProps(o){const l=u(o);return n.element({...wc.item.attrs,dir:e.context.dir,id:pn.getItemId(e.context,o.value),"data-state":l.expanded?"open":"closed","data-focus":H(l.focused),"data-disabled":H(l.disabled),"data-orientation":e.context.orientation})},getItemContentProps(o){const l=u(o);return n.element({...wc.itemContent.attrs,dir:e.context.dir,role:"region",id:pn.getItemContentId(e.context,o.value),"aria-labelledby":pn.getItemTriggerId(e.context,o.value),hidden:!l.expanded,"data-state":l.expanded?"open":"closed","data-disabled":H(l.disabled),"data-focus":H(l.focused),"data-orientation":e.context.orientation})},getItemIndicatorProps(o){const l=u(o);return n.element({...wc.itemIndicator.attrs,dir:e.context.dir,"aria-hidden":!0,"data-state":l.expanded?"open":"closed","data-disabled":H(l.disabled),"data-focus":H(l.focused),"data-orientation":e.context.orientation})},getItemTriggerProps(o){const{value:l}=o,c=u(o);return n.button({...wc.itemTrigger.attrs,type:"button",dir:e.context.dir,id:pn.getItemTriggerId(e.context,l),"aria-controls":pn.getItemContentId(e.context,l),"aria-expanded":c.expanded,disabled:c.disabled,"data-orientation":e.context.orientation,"aria-disabled":c.disabled,"data-state":c.expanded?"open":"closed","data-ownedby":pn.getRootId(e.context),onFocus(){c.disabled||t({type:"TRIGGER.FOCUS",value:l})},onBlur(){c.disabled||t("TRIGGER.BLUR")},onClick(d){c.disabled||(wf()&&d.currentTarget.focus(),t({type:"TRIGGER.CLICK",value:l}))},onKeyDown(d){if(d.defaultPrevented||c.disabled)return;const h={ArrowDown(){e.context.isHorizontal||t({type:"GOTO.NEXT",value:l})},ArrowUp(){e.context.isHorizontal||t({type:"GOTO.PREV",value:l})},ArrowRight(){e.context.isHorizontal&&t({type:"GOTO.NEXT",value:l})},ArrowLeft(){e.context.isHorizontal&&t({type:"GOTO.PREV",value:l})},Home(){t({type:"GOTO.FIRST",value:l})},End(){t({type:"GOTO.LAST",value:l})}},f=js(d,{dir:e.context.dir,orientation:e.context.orientation}),p=h[f];p&&(p(d),d.preventDefault())}})}}}var{and:Tie,not:wie}=vie;function Iie(e){const t=Te(e);return Cie({id:"accordion",initial:"idle",context:{focusedValue:null,value:[],collapsible:!1,multiple:!1,orientation:"vertical",...t},watch:{value:"coarseValue",multiple:"coarseValue"},created:"coarseValue",computed:{isHorizontal:n=>n.orientation==="horizontal"},on:{"VALUE.SET":{actions:["setValue"]}},states:{idle:{on:{"TRIGGER.FOCUS":{target:"focused",actions:"setFocusedValue"}}},focused:{on:{"GOTO.NEXT":{actions:"focusNextTrigger"},"GOTO.PREV":{actions:"focusPrevTrigger"},"TRIGGER.CLICK":[{guard:Tie("isExpanded","canToggle"),actions:["collapse"]},{guard:wie("isExpanded"),actions:["expand"]}],"GOTO.FIRST":{actions:"focusFirstTrigger"},"GOTO.LAST":{actions:"focusLastTrigger"},"TRIGGER.BLUR":{target:"idle",actions:"clearFocusedValue"}}}}},{guards:{canToggle:n=>!!n.collapsible||!!n.multiple,isExpanded:(n,i)=>n.value.includes(i.value)},actions:{collapse(n,i){const s=n.multiple?Yv(n.value,i.value):[];Ic.value(n,n.multiple?s:[])},expand(n,i){const s=n.multiple?qv(n.value,i.value):[i.value];Ic.value(n,s)},focusFirstTrigger(n){var i;(i=pn.getFirstTriggerEl(n))==null||i.focus()},focusLastTrigger(n){var i;(i=pn.getLastTriggerEl(n))==null||i.focus()},focusNextTrigger(n){if(!n.focusedValue)return;const i=pn.getNextTriggerEl(n,n.focusedValue);i==null||i.focus()},focusPrevTrigger(n){if(!n.focusedValue)return;const i=pn.getPrevTriggerEl(n,n.focusedValue);i==null||i.focus()},setFocusedValue(n,i){Ic.focusedValue(n,i.value)},clearFocusedValue(n){Ic.focusedValue(n,null)},setValue(n,i){Ic.value(n,i.value)},coarseValue(n){!n.multiple&&n.value.length>1&&(it("The value of accordion should be a single value when multiple is false."),n.value=[n.value[0]])}}})}var AC={change(e){var t;(t=e.onValueChange)==null||t.call(e,{value:Array.from(e.value)})},focusChange(e){var t;(t=e.onFocusChange)==null||t.call(e,{value:e.focusedValue})}},Ic={value(e,t){dn(e.value,t)||(e.value=t,AC.change(e))},focusedValue(e,t){dn(e.focusedValue,t)||(e.focusedValue=t,AC.focusChange(e))}};tn()(["collapsible","dir","disabled","getRootNode","id","ids","multiple","onFocusChange","onValueChange","orientation","value"]);tn()(["value","disabled"]);const Oie=(e,t)=>{const n=qn(),i=es(),s=Ri(Ni),r=K(()=>({id:n,dir:s.value.dir,value:e.modelValue??e.defaultValue,getRootNode:i==null?void 0:i.value.getRootNode,onFocusChange:o=>t==null?void 0:t("focusChange",o),onValueChange:o=>{t==null||t("valueChange",o),t==null||t("update:modelValue",o.value)},...ts(e)})),[a,u]=Ci(Iie(r.value),{context:r});return K(()=>xie(a.value,u,Mi))},[LO,ed]=vt("AccordionContext"),[kie,Aie]=vt("AccordionItemContext"),Pie=$({__name:"accordion-context",setup(e){const t=ed();return(n,i)=>B(n.$slots,"default",hn(on(v(t))))}}),[FO,op]=vt("CollapsibleContext"),$ie=$({__name:"collapsible-content",props:{asChild:{type:Boolean}},setup(e){const t=op();return G(),(n,i)=>v(t).unmounted?nt("",!0):(C(),N(v(J).div,z({key:0},v(t).getContentProps(),{"as-child":n.asChild}),{default:S(()=>[B(n.$slots,"default")]),_:3},16,["as-child"]))}}),Mie=$({__name:"collapsible-context",setup(e){const t=op();return(n,i)=>B(n.$slots,"default",hn(on(v(t))))}}),Nie=$({__name:"collapsible-root-provider",props:{value:{},asChild:{type:Boolean}},setup(e){const t=e,n=K(()=>t.value);return FO(n),G(),(i,s)=>(C(),N(v(J).div,z(n.value.getRootProps(),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["as-child"]))}});var Rie=Object.defineProperty,Die=(e,t,n)=>t in e?Rie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ve=(e,t,n)=>Die(e,typeof t!="symbol"?t+"":t,n);function VO(e,...t){for(const n of t){const i=Te(n);for(const s in i)_i(n[s])?(e[s]||(e[s]={}),VO(e[s],n[s])):e[s]=n[s]}return e}function PC(e){return bn(e)}function $s(e){return q(e)?{type:e}:e}function ro(e){return e?et(e)?e.slice():[e]:[]}function BO(e){return Ce(e)&&e.predicate!=null}var Lie=()=>!0;function HO(e,t){return e=e??Lie,(n,i,s)=>{if(q(e)){const r=t[e];return We(r)?r(n,i,s):r}return BO(e)?e.predicate(t)(n,i,s):e==null?void 0:e(n,i,s)}}function Pg(e,t){return(n,i,s)=>BO(e)?e.predicate(t)(n,i,s):e}function Fie(e){var r,a;const t=e.computed??ee({}),n=e.context??ee({}),i=e.initial?(a=(r=e.states)==null?void 0:r[e.initial])==null?void 0:a.tags:[],s=Yn({value:e.initial??"",previousValue:"",event:ee({}),previousEvent:ee({}),context:yi(n,t),done:!1,tags:i??[],hasTag(u){return this.tags.includes(u)},matches(...u){return u.includes(this.value)},can(u){return ee(this).nextEvents.includes(u)},get nextEvents(){var l,c;const u=((c=(l=e.states)==null?void 0:l[this.value])==null?void 0:c.on)??{},o=(e==null?void 0:e.on)??{};return Object.keys({...u,...o})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return ee(s)}function Oc(e,t){return(n,i)=>{if(Ei(e))return e;if(We(e))return e(n,i);if(q(e)){const s=Number.parseFloat(e);if(!Number.isNaN(s))return s;if(t){const r=t==null?void 0:t[e];return He(r==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${e}\`. It doesn't exist in \`options.delays\``),We(r)?r(n,i):r}}}}function Vie(e){return q(e)?{target:e}:e}function Bie(e,t){return(n,i,s)=>ro(e).map(Vie).find(r=>HO(r.guard,t)(n,i,s)??r.target??r.actions)}var Hie=class{constructor(t,n){var i,s,r,a,u;Ve(this,"status","Not Started"),Ve(this,"state"),Ve(this,"initialState"),Ve(this,"initialContext"),Ve(this,"id"),Ve(this,"type","machine"),Ve(this,"activityEvents",new Map),Ve(this,"delayedEvents",new Map),Ve(this,"stateListeners",new Set),Ve(this,"doneListeners",new Set),Ve(this,"contextWatchers",new Set),Ve(this,"removeStateListener",si),Ve(this,"parent"),Ve(this,"children",new Map),Ve(this,"guardMap"),Ve(this,"actionMap"),Ve(this,"delayMap"),Ve(this,"activityMap"),Ve(this,"sync"),Ve(this,"options"),Ve(this,"config"),Ve(this,"_created",()=>{var l;const o=$s("machine.created");this.executeActions((l=this.config)==null?void 0:l.created,o)}),Ve(this,"start",o=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=Pt(this.state,()=>{this.stateListeners.forEach(p=>{p(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities($s("machine.start"),ro(this.config.activities),"machine.start"),this.executeActions(this.config.entry,$s("machine.start"));const l=$s("machine.init"),c=Ce(o)?o.value:o,d=Ce(o)?o.context:void 0;d&&this.setContext(d);const h={target:c??this.config.initial},f=this.getNextStateInfo(h,l);return this.initialState=f,this.performStateChangeEffects(this.state.value,f,l),this}),Ve(this,"setupContextWatchers",()=>{const{watch:o}=this.config;if(!o)return;let l=_e(this.state.context);const c=Pt(this.state.context,()=>{var h;const d=_e(this.state.context);for(const[f,p]of Object.entries(o))(((h=this.options.compareFns)==null?void 0:h[f])??Object.is)(l[f],d[f])||this.executeActions(p,this.state.event);l=d});this.contextWatchers.add(c)}),Ve(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,$s("machine.stop")),this.executeActions(this.config.exit,$s("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),Ve(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),Ve(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(o=>o()),this.contextWatchers.clear()}),Ve(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(o=>{o.forEach(l=>l())}),this.delayedEvents.clear()}),Ve(this,"stopActivities",o=>{var l,c;o?((l=this.activityEvents.get(o))==null||l.forEach(d=>d()),(c=this.activityEvents.get(o))==null||c.clear(),this.activityEvents.delete(o)):(this.activityEvents.forEach(d=>{d.forEach(h=>h()),d.clear()}),this.activityEvents.clear())}),Ve(this,"sendChild",(o,l)=>{const c=$s(o),d=$t(l,this.contextSnapshot),h=this.children.get(d);h||He(`[@zag-js/core] Cannot send '${c.type}' event to unknown child`),h.send(c)}),Ve(this,"stopChild",o=>{this.children.has(o)||He(`[@zag-js/core > stop-child] Cannot stop unknown child ${o}`),this.children.get(o).stop(),this.children.delete(o)}),Ve(this,"removeChild",o=>{this.children.delete(o)}),Ve(this,"stopChildren",()=>{this.children.forEach(o=>o.stop()),this.children.clear()}),Ve(this,"setParent",o=>{this.parent=o}),Ve(this,"spawn",(o,l)=>{const c=$t(o);return l&&(c.id=l),c.type="machine.actor",c.setParent(this),this.children.set(c.id,ee(c)),c.onDone(()=>{this.removeChild(c.id)}).start(),ee(Ke(c))}),Ve(this,"stopActivity",o=>{var c;if(!this.state.value)return;const l=this.activityEvents.get(this.state.value);(c=l==null?void 0:l.get(o))==null||c(),l==null||l.delete(o)}),Ve(this,"addActivityCleanup",(o,l,c)=>{var d;o&&(this.activityEvents.has(o)?(d=this.activityEvents.get(o))==null||d.set(l,c):this.activityEvents.set(o,new Map([[l,c]])))}),Ve(this,"setState",o=>{this.state.previousValue=this.state.value,this.state.value=o;const l=this.getStateNode(o);o==null?bi(this.state.tags):this.state.tags=ro(l==null?void 0:l.tags)}),Ve(this,"setContext",o=>{o&&VO(this.state.context,Te(o))}),Ve(this,"setOptions",o=>{const l=Te(o);this.actionMap={...this.actionMap,...l.actions},this.delayMap={...this.delayMap,...l.delays},this.activityMap={...this.activityMap,...l.activities},this.guardMap={...this.guardMap,...l.guards}}),Ve(this,"getStateNode",o=>{var l;if(o)return(l=this.config.states)==null?void 0:l[o]}),Ve(this,"getNextStateInfo",(o,l)=>{const c=this.determineTransition(o,l),d=!(c!=null&&c.target),h=(c==null?void 0:c.target)??this.state.value,f=this.state.value!==h,p=this.getStateNode(h),m={reenter:!d&&!f&&!(c!=null&&c.internal),transition:c,stateNode:p,target:h,changed:f};return this.log("NextState:",`[${l.type}]`,this.state.value,"---->",m.target),m}),Ve(this,"getAfterActions",(o,l)=>{let c;const d=this.state.value;return{entry:()=>{c=globalThis.setTimeout(()=>{const h=this.getNextStateInfo(o,this.state.event);this.performStateChangeEffects(d,h,this.state.event)},l)},exit:()=>{globalThis.clearTimeout(c)}}}),Ve(this,"getDelayedEventActions",o=>{const l=this.getStateNode(o),c=this.state.event;if(!l||!l.after)return;const d=[],h=[];if(et(l.after)){const f=this.determineTransition(l.after,c);if(!f)return;if(!wn(f,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(f)}`);const g=Oc(f.delay,this.delayMap)(this.contextSnapshot,c),m=this.getAfterActions(f,g);return d.push(m.entry),h.push(m.exit),{entries:d,exits:h}}if(Ce(l.after))for(const f in l.after){const p=l.after[f],m=Oc(f,this.delayMap)(this.contextSnapshot,c),y=this.getAfterActions(p,m);d.push(y.entry),h.push(y.exit)}return{entries:d,exits:h}}),Ve(this,"executeActions",(o,l)=>{var d;const c=Pg(o,this.guardMap)(this.contextSnapshot,l,this.guardMeta);for(const h of ro(c)){const f=q(h)?(d=this.actionMap)==null?void 0:d[h]:h;it(q(h)&&!f,`[@zag-js/core > execute-actions] No implementation found for action: \`${h}\``),f==null||f(this.state.context,l,this.meta)}}),Ve(this,"executeActivities",(o,l,c)=>{var d;for(const h of l){const f=q(h)?(d=this.activityMap)==null?void 0:d[h]:h;if(!f){it(`[@zag-js/core > execute-activity] No implementation found for activity: \`${h}\``);continue}const p=f(this.state.context,o,this.meta);if(p){const g=q(h)?h:h.name||Rt();this.addActivityCleanup(c??this.state.value,g,p)}}}),Ve(this,"createEveryActivities",(o,l)=>{if(o)if(et(o)){const c=ro(o).find(p=>{const g=p.delay,y=Oc(g,this.delayMap)(this.contextSnapshot,this.state.event);return HO(p.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??y!=null});if(!c)return;const h=Oc(c.delay,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const p=globalThis.setInterval(()=>{this.executeActions(c.actions,this.state.event)},h);return()=>{globalThis.clearInterval(p)}})}else for(const c in o){const d=o==null?void 0:o[c],f=Oc(c,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const g=globalThis.setInterval(()=>{this.executeActions(d,this.state.event)},f);return()=>{globalThis.clearInterval(g)}})}}),Ve(this,"setEvent",o=>{this.state.previousEvent=this.state.event,this.state.event=Ke($s(o))}),Ve(this,"performExitEffects",(o,l)=>{const c=this.state.value;if(c==="")return;const d=o?this.getStateNode(o):void 0;this.stopActivities(c);const h=Pg(d==null?void 0:d.exit,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=ro(h),p=this.delayedEvents.get(c);p&&f.push(...p),this.executeActions(f,l),this.delayedEvents.delete(c)}),Ve(this,"performEntryEffects",(o,l)=>{const c=this.getStateNode(o),d=ro(c==null?void 0:c.activities);this.createEveryActivities(c==null?void 0:c.every,g=>{d.unshift(g)}),d.length>0&&this.executeActivities(l,d);const h=Pg(c==null?void 0:c.entry,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=ro(h),p=this.getDelayedEventActions(o);c!=null&&c.after&&p&&(this.delayedEvents.set(o,p==null?void 0:p.exits),f.push(...p.entries)),this.executeActions(f,l),(c==null?void 0:c.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(g=>{g(this.stateSnapshot)}),this.stop())}),Ve(this,"performTransitionEffects",(o,l)=>{const c=this.determineTransition(o,l);this.executeActions(c==null?void 0:c.actions,l)}),Ve(this,"performStateChangeEffects",(o,l,c)=>{this.setEvent(c);const d=l.changed||l.reenter;d&&this.performExitEffects(o,c),this.performTransitionEffects(l.transition,c),this.setState(l.target),d&&this.performEntryEffects(l.target,c)}),Ve(this,"determineTransition",(o,l)=>{const c=Bie(o,this.guardMap);return c==null?void 0:c(this.contextSnapshot,l,this.guardMeta)}),Ve(this,"sendParent",o=>{var c;this.parent||He("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const l=$s(o);(c=this.parent)==null||c.send(l)}),Ve(this,"log",(...o)=>{}),Ve(this,"send",o=>{const l=$s(o);this.transition(this.state.value,l)}),Ve(this,"transition",(o,l)=>{var p,g;const c=q(o)?this.getStateNode(o):o==null?void 0:o.stateNode,d=$s(l);if(!c&&!this.config.on){const m=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${o}, \`event\`: ${d.type}`;it(m);return}const h=((p=c==null?void 0:c.on)==null?void 0:p[d.type])??((g=this.config.on)==null?void 0:g[d.type]),f=this.getNextStateInfo(h,d);return this.performStateChangeEffects(this.state.value,f,d),f.stateNode}),Ve(this,"subscribe",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),()=>{this.stateListeners.delete(o)})),Ve(this,"onDone",o=>(this.doneListeners.add(o),this)),Ve(this,"onTransition",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),this)),this.config=PC(t),this.options=PC(n??{}),this.id=this.config.id??`machine-${Rt()}`,this.guardMap=((i=this.options)==null?void 0:i.guards)??{},this.actionMap=((s=this.options)==null?void 0:s.actions)??{},this.delayMap=((r=this.options)==null?void 0:r.delays)??{},this.activityMap=((a=this.options)==null?void 0:a.activities)??{},this.sync=((u=this.options)==null?void 0:u.sync)??!1,this.state=Fie(this.config),this.initialContext=_e(this.state.context)}get stateSnapshot(){return ee(_e(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const t=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return t.stateSnapshot},get initialContext(){return t.initialContext},get initialState(){var n;return((n=t.initialState)==null?void 0:n.target)??""}}}get meta(){var t;return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:((t=this.initialState)==null?void 0:t.target)??"",getState:()=>this.stateSnapshot,getAction:n=>this.actionMap[n],getGuard:n=>this.guardMap[n]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){const t=this.getState();return{value:t.value,tags:t.tags}}},jie=(e,t)=>new Hie(e,t),Uie=Dn("collapsible").parts("root","trigger","content"),$g=Uie.build(),ds=$i({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`collapsible:${e.id}`},getContentId:e=>{var t;return((t=e.ids)==null?void 0:t.content)??`collapsible:${e.id}:content`},getTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.trigger)??`collapsible:${e.id}:trigger`},getRootEl:e=>ds.getById(e,ds.getRootId(e)),getContentEl:e=>ds.getById(e,ds.getContentId(e)),getTriggerEl:e=>ds.getById(e,ds.getTriggerId(e))});function Gie(e,t,n){const i=e.matches("open","closing"),s=e.matches("open"),r=e.context.height,a=e.context.width,u=!!e.context.disabled,o=!e.context.initial&&s;return{disabled:u,visible:i,open:s,setOpen(l){l!==s&&t(l?"OPEN":"CLOSE")},getRootProps(){return n.element({...$g.root.attrs,"data-state":s?"open":"closed",dir:e.context.dir,id:ds.getRootId(e.context)})},getContentProps(){return n.element({...$g.content.attrs,"data-state":o?void 0:s?"open":"closed",id:ds.getContentId(e.context),"data-disabled":H(u),hidden:!i,style:{"--height":r!=null?`${r}px`:void 0,"--width":a!=null?`${a}px`:void 0}})},getTriggerProps(){return n.element({...$g.trigger.attrs,id:ds.getTriggerId(e.context),dir:e.context.dir,type:"button","data-state":s?"open":"closed","data-disabled":H(u),"aria-controls":ds.getContentId(e.context),"aria-expanded":i||!1,onClick(l){l.defaultPrevented||u||t({type:s?"CLOSE":"OPEN",src:"trigger.click"})}})}}}function Wie(e){const t=Te(e);return jie({id:"collapsible",initial:t.open?"open":"closed",context:{...t,height:0,width:0,initial:!1,stylesRef:null,unmountAnimationName:null},watch:{open:["setInitial","computeSize","toggleVisibility"]},exit:["clearInitial"],states:{closed:{tags:["closed"],on:{"CONTROLLED.OPEN":"open",OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitial","computeSize","invokeOnOpen"]}]}},closing:{tags:["open"],activities:["trackAnimationEvents"],on:{"CONTROLLED.CLOSE":"closed","CONTROLLED.OPEN":"open",OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitial","invokeOnOpen"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnExitComplete"]},{target:"closed",actions:["setInitial","computeSize","invokeOnExitComplete"]}],"ANIMATION.END":{target:"closed",actions:["invokeOnExitComplete"]}}},open:{tags:["open"],on:{"CONTROLLED.CLOSE":"closing",CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closing",actions:["setInitial","computeSize","invokeOnClose"]}]}}}},{guards:{isOpenControlled:n=>!!n["open.controlled"]},activities:{trackAnimationEvents(n,i,{send:s}){let r;const a=Je(()=>{const u=ds.getContentEl(n);if(!u)return;const o=sN(u).animationName;if(!o||o==="none"){s({type:"ANIMATION.END"});return}const c=d=>{const f=(u.ownerDocument.defaultView||window).getComputedStyle(u).animationName;Qi(d)===u&&f===n.unmountAnimationName&&s({type:"ANIMATION.END"})};u.addEventListener("animationend",c),r=()=>{u.removeEventListener("animationend",c)}});return()=>{a(),r==null||r()}}},actions:{setInitial(n){n.initial=!0},clearInitial(n){n.initial=!1},computeSize(n,i){var s;(s=n._rafCleanup)==null||s.call(n),n._rafCleanup=Je(()=>{const r=ds.getContentEl(n);if(!r)return;if(n.stylesRef||(n.stylesRef=Ke({animationName:r.style.animationName,animationDuration:r.style.animationDuration})),i.type==="CLOSE"||!n.open){const o=r.ownerDocument.defaultView||window;n.unmountAnimationName=o.getComputedStyle(r).animationName}const a=r.hidden;r.style.animationName="none",r.style.animationDuration="0s",r.hidden=!1;const u=r.getBoundingClientRect();n.height=u.height,n.width=u.width,n.initial&&(r.style.animationName=n.stylesRef.animationName,r.style.animationDuration=n.stylesRef.animationDuration),r.hidden=a})},invokeOnOpen:n=>{var i;(i=n.onOpenChange)==null||i.call(n,{open:!0})},invokeOnClose:n=>{var i;(i=n.onOpenChange)==null||i.call(n,{open:!1})},invokeOnExitComplete(n){var i;(i=n.onExitComplete)==null||i.call(n)},toggleVisibility:(n,i,{send:s})=>{s({type:n.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE"})}}})}tn()(["dir","disabled","getRootNode","id","ids","onExitComplete","onOpenChange","open.controlled","open"]);const zie=(e,t)=>{const n=qn(),i=es(),s=Ri(Ni),r=K(()=>({id:n,dir:s.value.dir,open:e.defaultOpen,"open.controlled":e.open!==void 0,getRootNode:i==null?void 0:i.value.getRootNode,onExitComplete:()=>t("exitComplete"),onOpenChange:c=>{t("openChange",c),t("update:open",c.open)},...ts(e)})),[a,u]=Ci(Wie(r.value),{context:r}),o=K(()=>Gie(a.value,u,Mi)),l=Xe(!1);return Kt(()=>o.value.visible,()=>{o.value.visible&&(l.value=!0)}),K(()=>({...o.value,unmounted:!o.value.visible&&!l.value&&e.lazyMount||e.unmountOnExit&&!o.value.visible&&l.value}))},Kie=$({__name:"collapsible-root",props:On({defaultOpen:{type:Boolean},disabled:{type:Boolean},id:{},ids:{},lazyMount:{type:Boolean},open:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},{defaultOpen:void 0,disabled:void 0,lazyMount:void 0,open:void 0,unmountOnExit:void 0}),emits:["exitComplete","openChange","update:open"],setup(e,{emit:t}){const s=zie(e,t);return FO(s),G(),(r,a)=>(C(),N(v(J).div,z(v(s).getRootProps(),{"as-child":r.asChild}),{default:S(()=>[B(r.$slots,"default")]),_:3},16,["as-child"]))}}),qie=$({__name:"collapsible-trigger",props:{asChild:{type:Boolean}},setup(e){const t=op();return G(),(n,i)=>(C(),N(v(J).button,hn(on(v(t).getTriggerProps())),{default:S(()=>[B(n.$slots,"default")]),_:3},16))}}),jO=Object.freeze(Object.defineProperty({__proto__:null,Content:$ie,Context:Mie,Root:Kie,RootProvider:Nie,Trigger:qie},Symbol.toStringTag,{value:"Module"})),[Yie,sb]=vt("AccordionItemPropsContext"),Jie=()=>(e,t)=>t.reduce((n,i)=>{const[s,r]=n,a=i;return r[a]!==void 0&&(s[a]=r[a]),delete r[a],[s,r]},[{},{...e}]),Xie=Jie(),Zie=$({__name:"accordion-item-content",props:{asChild:{type:Boolean}},setup(e){const t=ed(),n=sb(),i=K(()=>{const s=t.value.getItemContentProps(n),[,r]=Xie(s,["hidden","data-state"]);return r});return G(),(s,r)=>(C(),N(v(jO).Content,z(i.value,{"as-child":s.asChild}),{default:S(()=>[B(s.$slots,"default")]),_:3},16,["as-child"]))}}),Qie=$({__name:"accordion-item-context",setup(e){const t=Aie();return(n,i)=>B(n.$slots,"default",hn(on(v(t))))}}),ese=$({__name:"accordion-item-indicator",props:{asChild:{type:Boolean}},setup(e){const t=ed(),n=sb();return G(),(i,s)=>(C(),N(v(J).div,z(v(t).getItemIndicatorProps(v(n)),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["as-child"]))}}),tse=$({__name:"accordion-item-trigger",props:{asChild:{type:Boolean}},setup(e){const t=ed(),n=sb(),i=op(),s=K(()=>{const{"aria-controls":r,...a}=t.value.getItemTriggerProps(n);return{...a,...i.value.unmounted?{}:{"aria-controls":r}}});return G(),(r,a)=>(C(),N(v(J).button,z(s.value,{"as-child":r.asChild}),{default:S(()=>[B(r.$slots,"default")]),_:3},16,["as-child"]))}}),nse=$({__name:"accordion-item",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=ed(),n=e,i=K(()=>t.value.getItemState(n)),s=Uo(),r=K(()=>t.value.getItemContentProps(n));return kie(i),Yie(n),G(),(a,u)=>(C(),N(v(jO).Root,z(v(t).getItemProps(n),{open:i.value.expanded,"lazy-mount":v(s).lazyMount,"unmount-on-exit":v(s).unmountOnExit,ids:{content:r.value.id}}),{default:S(()=>[B(a.$slots,"default")]),_:3},16,["open","lazy-mount","unmount-on-exit","ids"]))}}),ise=$({__name:"accordion-root-provider",props:{value:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,n=K(()=>t.value);return LO(n),Di(K(()=>({lazyMount:t.lazyMount,unmountOnExit:t.unmountOnExit}))),G(),(i,s)=>(C(),N(v(J).div,z(n.value.getRootProps(),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["as-child"]))}}),sse=$({__name:"accordion-root",props:On({collapsible:{type:Boolean},defaultValue:{},disabled:{type:Boolean},id:{},ids:{},modelValue:{},multiple:{type:Boolean},orientation:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},{collapsible:void 0,disabled:void 0,multiple:void 0}),emits:["focusChange","valueChange","update:modelValue"],setup(e,{emit:t}){const n=e,s=Oie(n,t);return LO(s),Di(K(()=>({lazyMount:n.lazyMount,unmountOnExit:n.unmountOnExit}))),G(),(r,a)=>(C(),N(v(J).div,z(v(s).getRootProps(),{"as-child":r.asChild}),{default:S(()=>[B(r.$slots,"default")]),_:3},16,["as-child"]))}}),Sn=Object.freeze(Object.defineProperty({__proto__:null,Context:Pie,Item:nse,ItemContent:Zie,ItemContext:Qie,ItemIndicator:ese,ItemTrigger:tse,Root:sse,RootProvider:ise},Symbol.toStringTag,{value:"Module"}));function UO(e){const t=[];let n={name:"Settings",settings:[]};return e.forEach(i=>{if(i.type==="header"){n.settings.length>0&&t.push({...n}),n={name:i.label,settings:[]};return}n.settings.push(i)}),n.settings.length>0&&t.push({...n}),t}const rse={key:0,class:"flex flex-col h-full overflow-hidden relative w-full"},ose={class:"flex-none p-2 border-b"},ase={class:"flex items-center"},lse={class:"ml-2 truncate"},cse={key:0,class:"mt-2 text-sm"},use={class:"flex-1 overflow-y-auto"},dse={key:1,class:"p-2 text-sm"},hse={key:0,class:"flex-none border-t"},fse=$({__name:"[section]",setup(e){const t=La(),n=Ef(),i=Si(),s=K(()=>i.getSectionData(n.params.section)),r=K(()=>s.value?i.getSectionBySlug(s.value.type):null),a=K(()=>i.canRemoveSection(n.params.section)),u=K(()=>{var b;return UO(((b=r.value)==null?void 0:b.settings)||[])}),o=K(()=>s.value.blocks_order.map(b=>s.value.blocks[b])),l=K(()=>{var E;const b=((E=r.value)==null?void 0:E.blocks)||[];return o.value.length===0?b:b.filter(_=>{const I=o.value.filter(M=>M.type===_.type);return _.limit===void 0?!0:I.length<_.limit})});ii(()=>{i.selectSection(n.params.section)});function c(){t.back()}function d(){i.removeSection(n.params.section),c()}function h(b){return i.getThemeDataValue(`sectionsData.${s.value.id}.settings.${b}`)}function f(b,E){return i.updateThemeDataValue(`sectionsData.${s.value.id}.settings.${b}`,E)}function p(b){const E=r.value.blocks.find(_=>_.type===b);i.addBlockToSection(s.value.id,E)}function g(b){i.updateThemeDataValue(["sectionsData",s.value.id,"blocks_order"],b)}function m(b){i.toggleSectionBlock(s.value.id,b)}function y(b){i.removeSectionBlock(s.value.id,b)}return(b,E)=>{const _=Kf,I=Fr,M=cie,R=W1,X=nb,D=Cf;return v(r)?(C(),te("div",rse,[F("header",ose,[F("div",ase,[F("button",{class:"p-1 px-2 rounded hover:bg-gray-200 focus:outline-none",onClick:c},[O(_,{class:"inline w-4"})]),F("span",lse,ue(v(s).settings.heading||v(r).name),1)]),v(r).description?(C(),te("p",cse,ue(v(r).description),1)):nt("",!0)]),F("section",use,[O(v(Sn).Root,{multiple:"",defaultValue:["blocks","Settings"]},{default:S(()=>[v(r).blocks.length>0?(C(),N(v(Sn).Item,{key:0,value:"blocks"},{default:S(()=>[O(v(Sn).ItemTrigger,null,{default:S(()=>[qe(ue(b.$t("Blocks"))+" ",1),O(v(Sn).ItemIndicator,null,{default:S(()=>[O(I)]),_:1})]),_:1}),O(v(Sn).ItemContent,null,{default:S(()=>[O(M,{class:"-mt-2 mb-2",blocks:v(o),order:v(s).blocks_order,onReorder:g,onToggleBlock:m,onRemoveBlock:y},null,8,["blocks","order"]),v(l).length>0?(C(),N(v(pt).Root,{key:0,onSelect:E[0]||(E[0]=j=>p(j.value))},{default:S(()=>[O(v(pt).Trigger,{class:"w-full text-sm text-blue-600 rounded-lg cursor-pointer outline-0 inline-flex items-center gap-2 px-2 py-1 hover:bg-gray-200 focus:ring-1 focus:ring-gray-700"},{default:S(()=>[O(R,{class:"w-4 h-4 inline mr-1"}),qe(" "+ue(b.$t("Add Block")),1)]),_:1}),O(v(pt).Positioner,{class:"w-[var(--reference-width)] !z-10"},{default:S(()=>[O(v(pt).Content,{class:"flex flex-col outline-0 gap-1 p-1 bg-white shadow border rounded-lg data-[state=open]:animate-fade-in"},{default:S(()=>[(C(!0),te(Ye,null,zt(v(l),j=>(C(),N(v(pt).Item,{key:j.type,value:j.type,class:"outline-0 rounded cursor-pointer px-2 py-2 hover:bg-gray-200"},{default:S(()=>[qe(ue(j.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1})):nt("",!0)]),_:1})]),_:1})):nt("",!0),(C(!0),te(Ye,null,zt(v(u),j=>(C(),N(v(Sn).Item,{value:j.name,key:j.name},{default:S(()=>[O(v(Sn).ItemTrigger,null,{default:S(()=>[qe(ue(j.name)+" ",1),O(v(Sn).ItemIndicator,null,{default:S(()=>[O(I)]),_:1})]),_:2},1024),O(v(Sn).ItemContent,null,{default:S(()=>[(C(!0),te(Ye,null,zt(j.settings,se=>(C(),N(X,{key:se.id,value:h(se.id),setting:se,onInput:ae=>f(se.id,ae)},null,8,["value","setting","onInput"]))),128))]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1}),v(r).settings.length>0?(C(),te(Ye,{key:0},[],64)):(C(),te("p",dse,ue(b.$t("This section has no configuration")),1))]),v(a)?(C(),te("footer",hse,[F("button",{class:"flex items-center w-full text-left py-2 px-4 text-red-500 hover:bg-gray-100",onClick:d},[O(D,{class:"inline mr-2 w-4"}),qe(" "+ue(b.$t("Remove section")),1)])])):nt("",!0)])):nt("",!0)}}}),pse={key:0,class:"flex flex-col h-full overflow-hidden relative w-full"},gse={class:"flex-none p-2 border-b"},mse={class:"flex items-center"},vse={class:"ml-2 truncate"},yse={key:0,class:"mt-2 text-sm"},bse={class:"flex-1 overflow-y-auto"},Ese={key:1,class:"p-2 text-sm"},_se={class:"flex-none border-t"},Cse=$({__name:"[section].[block]",setup(e){const t=La(),n=Ef(),i=Si(),s=K(()=>i.getSectionBlockData(n.params.section,n.params.block)),r=K(()=>s.value?i.getSectionBlockByType(n.params.section,s.value.type):null),a=K(()=>{var d;return UO(((d=r.value)==null?void 0:d.settings)||[])});ii(()=>{i.selectSection(n.params.section)});function u(){t.back()}function o(d){return i.getThemeDataValue(["sectionsData",n.params.section,"blocks",n.params.block,"settings",d])}function l(d,h){return i.updateThemeDataValue(["sectionsData",n.params.section,"blocks",n.params.block,"settings",d],h)}function c(){i.removeSectionBlock(n.params.section,n.params.block),t.back()}return(d,h)=>{const f=Kf,p=Fr,g=nb,m=Cf;return v(r)?(C(),te("div",pse,[F("header",gse,[F("div",mse,[F("button",{class:"p-1 px-2 rounded hover:bg-gray-200 focus:outline-none",onClick:u},[O(f,{class:"inline w-4"})]),F("span",vse,ue(v(s).settings.title||v(s).settings.heading||v(r).name),1)]),v(r).description?(C(),te("p",yse,ue(v(r).description),1)):nt("",!0)]),F("section",bse,[O(v(Sn).Root,{multiple:"",defaultValue:["blocks","Settings"]},{default:S(()=>[(C(!0),te(Ye,null,zt(v(a),y=>(C(),N(v(Sn).Item,{value:y.name,key:y.name},{default:S(()=>[O(v(Sn).ItemTrigger,null,{default:S(()=>[qe(ue(y.name)+" ",1),O(v(Sn).ItemIndicator,null,{default:S(()=>[O(p)]),_:1})]),_:2},1024),O(v(Sn).ItemContent,null,{default:S(()=>[(C(!0),te(Ye,null,zt(y.settings,b=>(C(),N(g,{key:b.id,value:o(b.id),setting:b,onInput:E=>l(b.id,E)},null,8,["value","setting","onInput"]))),128))]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1}),v(r).settings.length>0?(C(),te(Ye,{key:0},[],64)):(C(),te("p",Ese,ue(d.$t("This block has no configuration")),1))]),F("footer",_se,[F("button",{class:"flex items-center w-full text-left py-2 px-4 text-red-500 hover:bg-gray-100",onClick:c},[O(m,{class:"inline mr-2 w-4"}),qe(" "+ue(d.$t("Remove block")),1)])])])):nt("",!0)}}}),Sse={class:"flex flex-col h-full overflow-hidden relative w-full"},xse={class:"flex-none p-2 border-b"},Tse={class:"flex items-center"},wse={class:"ml-2 truncate"},Ise={class:"flex-1 overflow-y-auto"},Ose=$({__name:"settings",setup(e){const t=La(),n=Si();function i(){t.back()}function s(a){return n.getThemeDataValue(["settings",a])}function r(a,u){return n.updateThemeDataValue(["settings",a],u)}return(a,u)=>{const o=Kf,l=Fr,c=nb;return C(),te("div",Sse,[F("header",xse,[F("div",Tse,[F("button",{class:"p-1 px-2 rounded hover:bg-gray-200 focus:outline-none",onClick:i},[O(o,{class:"inline w-4"})]),F("span",wse,ue(a.$t("Theme settings")),1)])]),F("section",Ise,[O(v(Sn).Root,{collapsible:""},{default:S(()=>[(C(!0),te(Ye,null,zt(v(n).settingsSchema,d=>(C(),N(v(Sn).Item,{value:d.name,key:d.name},{default:S(()=>[O(v(Sn).ItemTrigger,null,{default:S(()=>[qe(ue(d.name)+" ",1),O(v(Sn).ItemIndicator,null,{default:S(()=>[O(l)]),_:1})]),_:2},1024),O(v(Sn).ItemContent,null,{default:S(()=>[(C(!0),te(Ye,null,zt(d.settings,h=>(C(),N(c,{key:h.id,value:s(h.id),setting:h,onInput:f=>r(h.id,f)},null,8,["value","setting","onInput"]))),128))]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1})])])}}}),kse=[{path:"/",name:"/",component:VU},{path:"/:section",name:"/[section]",component:fse},{path:"/:section/:block",name:"/[section].[block]",component:Cse},{path:"/settings",name:"/settings",component:Ose}];/*!
  * shared v10.0.5
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const Zh=typeof window<"u",qo=(e,t=!1)=>t?Symbol.for(e):Symbol(e),Ase=(e,t,n)=>Pse({l:e,k:t,s:n}),Pse=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),mn=e=>typeof e=="number"&&isFinite(e),$se=e=>rb(e)==="[object Date]",Vl=e=>rb(e)==="[object RegExp]",ap=e=>mt(e)&&Object.keys(e).length===0,In=Object.assign,Mse=Object.create,Ht=(e=null)=>Mse(e);let $C;const va=()=>$C||($C=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Ht());function MC(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const Nse=Object.prototype.hasOwnProperty;function Fs(e,t){return Nse.call(e,t)}const un=Array.isArray,Jt=e=>typeof e=="function",ve=e=>typeof e=="string",kt=e=>typeof e=="boolean",At=e=>e!==null&&typeof e=="object",Rse=e=>At(e)&&Jt(e.then)&&Jt(e.catch),GO=Object.prototype.toString,rb=e=>GO.call(e),mt=e=>rb(e)==="[object Object]",Dse=e=>e==null?"":un(e)||mt(e)&&e.toString===GO?JSON.stringify(e,null,2):String(e);function ob(e,t=""){return e.reduce((n,i,s)=>s===0?n+i:n+t+i,"")}function Lse(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const Md=e=>!At(e)||un(e);function th(e,t){if(Md(e)||Md(t))throw new Error("Invalid value");const n=[{src:e,des:t}];for(;n.length;){const{src:i,des:s}=n.pop();Object.keys(i).forEach(r=>{r!=="__proto__"&&(At(i[r])&&!At(s[r])&&(s[r]=Array.isArray(i[r])?[]:Ht()),Md(s[r])||Md(i[r])?s[r]=i[r]:n.push({src:i[r],des:s[r]}))})}}/*!
  * message-compiler v10.0.5
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function Fse(e,t,n){return{line:e,column:t,offset:n}}function Xm(e,t,n){return{start:e,end:t}}const Vt={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16},Vse=17;function lp(e,t,n={}){const{domain:i,messages:s,args:r}=n,a=e,u=new SyntaxError(String(a));return u.code=e,t&&(u.location=t),u.domain=i,u}function Bse(e){throw e}const Er=" ",Hse="\r",di=`
`,jse="\u2028",Use="\u2029";function Gse(e){const t=e;let n=0,i=1,s=1,r=0;const a=R=>t[R]===Hse&&t[R+1]===di,u=R=>t[R]===di,o=R=>t[R]===Use,l=R=>t[R]===jse,c=R=>a(R)||u(R)||o(R)||l(R),d=()=>n,h=()=>i,f=()=>s,p=()=>r,g=R=>a(R)||o(R)||l(R)?di:t[R],m=()=>g(n),y=()=>g(n+r);function b(){return r=0,c(n)&&(i++,s=0),a(n)&&n++,n++,s++,t[n]}function E(){return a(n+r)&&r++,r++,t[n+r]}function _(){n=0,i=1,s=1,r=0}function I(R=0){r=R}function M(){const R=n+r;for(;R!==n;)b();r=0}return{index:d,line:h,column:f,peekOffset:p,charAt:g,currentChar:m,currentPeek:y,next:b,peek:E,reset:_,resetPeek:I,skipToPeek:M}}const Ur=void 0,Wse=".",NC="'",zse="tokenizer";function Kse(e,t={}){const n=t.location!==!1,i=Gse(e),s=()=>i.index(),r=()=>Fse(i.line(),i.column(),i.index()),a=r(),u=s(),o={currentType:13,offset:u,startLoc:a,endLoc:a,lastType:13,lastOffset:u,lastStartLoc:a,lastEndLoc:a,braceNest:0,inLinked:!1,text:""},l=()=>o,{onError:c}=t;function d(x,w,V,...k){const L=l();if(w.column+=V,w.offset+=V,c){const Z=n?Xm(L.startLoc,w):null,P=lp(x,Z,{domain:zse,args:k});c(P)}}function h(x,w,V){x.endLoc=r(),x.currentType=w;const k={type:w};return n&&(k.loc=Xm(x.startLoc,x.endLoc)),V!=null&&(k.value=V),k}const f=x=>h(x,13);function p(x,w){return x.currentChar()===w?(x.next(),w):(d(Vt.EXPECTED_TOKEN,r(),0,w),"")}function g(x){let w="";for(;x.currentPeek()===Er||x.currentPeek()===di;)w+=x.currentPeek(),x.peek();return w}function m(x){const w=g(x);return x.skipToPeek(),w}function y(x){if(x===Ur)return!1;const w=x.charCodeAt(0);return w>=97&&w<=122||w>=65&&w<=90||w===95}function b(x){if(x===Ur)return!1;const w=x.charCodeAt(0);return w>=48&&w<=57}function E(x,w){const{currentType:V}=w;if(V!==2)return!1;g(x);const k=y(x.currentPeek());return x.resetPeek(),k}function _(x,w){const{currentType:V}=w;if(V!==2)return!1;g(x);const k=x.currentPeek()==="-"?x.peek():x.currentPeek(),L=b(k);return x.resetPeek(),L}function I(x,w){const{currentType:V}=w;if(V!==2)return!1;g(x);const k=x.currentPeek()===NC;return x.resetPeek(),k}function M(x,w){const{currentType:V}=w;if(V!==7)return!1;g(x);const k=x.currentPeek()===".";return x.resetPeek(),k}function R(x,w){const{currentType:V}=w;if(V!==8)return!1;g(x);const k=y(x.currentPeek());return x.resetPeek(),k}function X(x,w){const{currentType:V}=w;if(!(V===7||V===11))return!1;g(x);const k=x.currentPeek()===":";return x.resetPeek(),k}function D(x,w){const{currentType:V}=w;if(V!==9)return!1;const k=()=>{const Z=x.currentPeek();return Z==="{"?y(x.peek()):Z==="@"||Z==="|"||Z===":"||Z==="."||Z===Er||!Z?!1:Z===di?(x.peek(),k()):se(x,!1)},L=k();return x.resetPeek(),L}function j(x){g(x);const w=x.currentPeek()==="|";return x.resetPeek(),w}function se(x,w=!0){const V=(L=!1,Z="")=>{const P=x.currentPeek();return P==="{"||P==="@"||!P?L:P==="|"?!(Z===Er||Z===di):P===Er?(x.peek(),V(!0,Er)):P===di?(x.peek(),V(!0,di)):!0},k=V();return w&&x.resetPeek(),k}function ae(x,w){const V=x.currentChar();return V===Ur?Ur:w(V)?(x.next(),V):null}function Y(x){const w=x.charCodeAt(0);return w>=97&&w<=122||w>=65&&w<=90||w>=48&&w<=57||w===95||w===36}function Q(x){return ae(x,Y)}function de(x){const w=x.charCodeAt(0);return w>=97&&w<=122||w>=65&&w<=90||w>=48&&w<=57||w===95||w===36||w===45}function ce(x){return ae(x,de)}function re(x){const w=x.charCodeAt(0);return w>=48&&w<=57}function he(x){return ae(x,re)}function je(x){const w=x.charCodeAt(0);return w>=48&&w<=57||w>=65&&w<=70||w>=97&&w<=102}function lt(x){return ae(x,je)}function ft(x){let w="",V="";for(;w=he(x);)V+=w;return V}function _t(x){let w="";for(;;){const V=x.currentChar();if(V==="{"||V==="}"||V==="@"||V==="|"||!V)break;if(V===Er||V===di)if(se(x))w+=V,x.next();else{if(j(x))break;w+=V,x.next()}else w+=V,x.next()}return w}function Bt(x){m(x);let w="",V="";for(;w=ce(x);)V+=w;return x.currentChar()===Ur&&d(Vt.UNTERMINATED_CLOSING_BRACE,r(),0),V}function gt(x){m(x);let w="";return x.currentChar()==="-"?(x.next(),w+=`-${ft(x)}`):w+=ft(x),x.currentChar()===Ur&&d(Vt.UNTERMINATED_CLOSING_BRACE,r(),0),w}function Zt(x){return x!==NC&&x!==di}function fn(x){m(x),p(x,"'");let w="",V="";for(;w=ae(x,Zt);)w==="\\"?V+=ne(x):V+=w;const k=x.currentChar();return k===di||k===Ur?(d(Vt.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,r(),0),k===di&&(x.next(),p(x,"'")),V):(p(x,"'"),V)}function ne(x){const w=x.currentChar();switch(w){case"\\":case"'":return x.next(),`\\${w}`;case"u":return me(x,w,4);case"U":return me(x,w,6);default:return d(Vt.UNKNOWN_ESCAPE_SEQUENCE,r(),0,w),""}}function me(x,w,V){p(x,w);let k="";for(let L=0;L<V;L++){const Z=lt(x);if(!Z){d(Vt.INVALID_UNICODE_ESCAPE_SEQUENCE,r(),0,`\\${w}${k}${x.currentChar()}`);break}k+=Z}return`\\${w}${k}`}function ge(x){return x!=="{"&&x!=="}"&&x!==Er&&x!==di}function Ee(x){m(x);let w="",V="";for(;w=ae(x,ge);)V+=w;return V}function It(x){let w="",V="";for(;w=Q(x);)V+=w;return V}function Dt(x){const w=V=>{const k=x.currentChar();return k==="{"||k==="@"||k==="|"||k==="("||k===")"||!k||k===Er?V:(V+=k,x.next(),w(V))};return w("")}function T(x){m(x);const w=p(x,"|");return m(x),w}function A(x,w){let V=null;switch(x.currentChar()){case"{":return w.braceNest>=1&&d(Vt.NOT_ALLOW_NEST_PLACEHOLDER,r(),0),x.next(),V=h(w,2,"{"),m(x),w.braceNest++,V;case"}":return w.braceNest>0&&w.currentType===2&&d(Vt.EMPTY_PLACEHOLDER,r(),0),x.next(),V=h(w,3,"}"),w.braceNest--,w.braceNest>0&&m(x),w.inLinked&&w.braceNest===0&&(w.inLinked=!1),V;case"@":return w.braceNest>0&&d(Vt.UNTERMINATED_CLOSING_BRACE,r(),0),V=W(x,w)||f(w),w.braceNest=0,V;default:{let L=!0,Z=!0,P=!0;if(j(x))return w.braceNest>0&&d(Vt.UNTERMINATED_CLOSING_BRACE,r(),0),V=h(w,1,T(x)),w.braceNest=0,w.inLinked=!1,V;if(w.braceNest>0&&(w.currentType===4||w.currentType===5||w.currentType===6))return d(Vt.UNTERMINATED_CLOSING_BRACE,r(),0),w.braceNest=0,oe(x,w);if(L=E(x,w))return V=h(w,4,Bt(x)),m(x),V;if(Z=_(x,w))return V=h(w,5,gt(x)),m(x),V;if(P=I(x,w))return V=h(w,6,fn(x)),m(x),V;if(!L&&!Z&&!P)return V=h(w,12,Ee(x)),d(Vt.INVALID_TOKEN_IN_PLACEHOLDER,r(),0,V.value),m(x),V;break}}return V}function W(x,w){const{currentType:V}=w;let k=null;const L=x.currentChar();switch((V===7||V===8||V===11||V===9)&&(L===di||L===Er)&&d(Vt.INVALID_LINKED_FORMAT,r(),0),L){case"@":return x.next(),k=h(w,7,"@"),w.inLinked=!0,k;case".":return m(x),x.next(),h(w,8,".");case":":return m(x),x.next(),h(w,9,":");default:return j(x)?(k=h(w,1,T(x)),w.braceNest=0,w.inLinked=!1,k):M(x,w)||X(x,w)?(m(x),W(x,w)):R(x,w)?(m(x),h(w,11,It(x))):D(x,w)?(m(x),L==="{"?A(x,w)||k:h(w,10,Dt(x))):(V===7&&d(Vt.INVALID_LINKED_FORMAT,r(),0),w.braceNest=0,w.inLinked=!1,oe(x,w))}}function oe(x,w){let V={type:13};if(w.braceNest>0)return A(x,w)||f(w);if(w.inLinked)return W(x,w)||f(w);switch(x.currentChar()){case"{":return A(x,w)||f(w);case"}":return d(Vt.UNBALANCED_CLOSING_BRACE,r(),0),x.next(),h(w,3,"}");case"@":return W(x,w)||f(w);default:{if(j(x))return V=h(w,1,T(x)),w.braceNest=0,w.inLinked=!1,V;if(se(x))return h(w,0,_t(x));break}}return V}function ie(){const{currentType:x,offset:w,startLoc:V,endLoc:k}=o;return o.lastType=x,o.lastOffset=w,o.lastStartLoc=V,o.lastEndLoc=k,o.offset=s(),o.startLoc=r(),i.currentChar()===Ur?h(o,13):oe(i,o)}return{nextToken:ie,currentOffset:s,currentPosition:r,context:l}}const qse="parser",Yse=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function Jse(e,t,n){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const i=parseInt(t||n,16);return i<=55295||i>=57344?String.fromCodePoint(i):"�"}}}function Xse(e={}){const t=e.location!==!1,{onError:n}=e;function i(y,b,E,_,...I){const M=y.currentPosition();if(M.offset+=_,M.column+=_,n){const R=t?Xm(E,M):null,X=lp(b,R,{domain:qse,args:I});n(X)}}function s(y,b,E){const _={type:y};return t&&(_.start=b,_.end=b,_.loc={start:E,end:E}),_}function r(y,b,E,_){t&&(y.end=b,y.loc&&(y.loc.end=E))}function a(y,b){const E=y.context(),_=s(3,E.offset,E.startLoc);return _.value=b,r(_,y.currentOffset(),y.currentPosition()),_}function u(y,b){const E=y.context(),{lastOffset:_,lastStartLoc:I}=E,M=s(5,_,I);return M.index=parseInt(b,10),y.nextToken(),r(M,y.currentOffset(),y.currentPosition()),M}function o(y,b){const E=y.context(),{lastOffset:_,lastStartLoc:I}=E,M=s(4,_,I);return M.key=b,y.nextToken(),r(M,y.currentOffset(),y.currentPosition()),M}function l(y,b){const E=y.context(),{lastOffset:_,lastStartLoc:I}=E,M=s(9,_,I);return M.value=b.replace(Yse,Jse),y.nextToken(),r(M,y.currentOffset(),y.currentPosition()),M}function c(y){const b=y.nextToken(),E=y.context(),{lastOffset:_,lastStartLoc:I}=E,M=s(8,_,I);return b.type!==11?(i(y,Vt.UNEXPECTED_EMPTY_LINKED_MODIFIER,E.lastStartLoc,0),M.value="",r(M,_,I),{nextConsumeToken:b,node:M}):(b.value==null&&i(y,Vt.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,er(b)),M.value=b.value||"",r(M,y.currentOffset(),y.currentPosition()),{node:M})}function d(y,b){const E=y.context(),_=s(7,E.offset,E.startLoc);return _.value=b,r(_,y.currentOffset(),y.currentPosition()),_}function h(y){const b=y.context(),E=s(6,b.offset,b.startLoc);let _=y.nextToken();if(_.type===8){const I=c(y);E.modifier=I.node,_=I.nextConsumeToken||y.nextToken()}switch(_.type!==9&&i(y,Vt.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,er(_)),_=y.nextToken(),_.type===2&&(_=y.nextToken()),_.type){case 10:_.value==null&&i(y,Vt.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,er(_)),E.key=d(y,_.value||"");break;case 4:_.value==null&&i(y,Vt.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,er(_)),E.key=o(y,_.value||"");break;case 5:_.value==null&&i(y,Vt.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,er(_)),E.key=u(y,_.value||"");break;case 6:_.value==null&&i(y,Vt.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,er(_)),E.key=l(y,_.value||"");break;default:{i(y,Vt.UNEXPECTED_EMPTY_LINKED_KEY,b.lastStartLoc,0);const I=y.context(),M=s(7,I.offset,I.startLoc);return M.value="",r(M,I.offset,I.startLoc),E.key=M,r(E,I.offset,I.startLoc),{nextConsumeToken:_,node:E}}}return r(E,y.currentOffset(),y.currentPosition()),{node:E}}function f(y){const b=y.context(),E=b.currentType===1?y.currentOffset():b.offset,_=b.currentType===1?b.endLoc:b.startLoc,I=s(2,E,_);I.items=[];let M=null;do{const D=M||y.nextToken();switch(M=null,D.type){case 0:D.value==null&&i(y,Vt.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,er(D)),I.items.push(a(y,D.value||""));break;case 5:D.value==null&&i(y,Vt.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,er(D)),I.items.push(u(y,D.value||""));break;case 4:D.value==null&&i(y,Vt.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,er(D)),I.items.push(o(y,D.value||""));break;case 6:D.value==null&&i(y,Vt.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,er(D)),I.items.push(l(y,D.value||""));break;case 7:{const j=h(y);I.items.push(j.node),M=j.nextConsumeToken||null;break}}}while(b.currentType!==13&&b.currentType!==1);const R=b.currentType===1?b.lastOffset:y.currentOffset(),X=b.currentType===1?b.lastEndLoc:y.currentPosition();return r(I,R,X),I}function p(y,b,E,_){const I=y.context();let M=_.items.length===0;const R=s(1,b,E);R.cases=[],R.cases.push(_);do{const X=f(y);M||(M=X.items.length===0),R.cases.push(X)}while(I.currentType!==13);return M&&i(y,Vt.MUST_HAVE_MESSAGES_IN_PLURAL,E,0),r(R,y.currentOffset(),y.currentPosition()),R}function g(y){const b=y.context(),{offset:E,startLoc:_}=b,I=f(y);return b.currentType===13?I:p(y,E,_,I)}function m(y){const b=Kse(y,In({},e)),E=b.context(),_=s(0,E.offset,E.startLoc);return t&&_.loc&&(_.loc.source=y),_.body=g(b),e.onCacheKey&&(_.cacheKey=e.onCacheKey(y)),E.currentType!==13&&i(b,Vt.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,y[E.offset]||""),r(_,b.currentOffset(),b.currentPosition()),_}return{parse:m}}function er(e){if(e.type===13)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"…":t}function Zse(e,t={}){const n={ast:e,helpers:new Set};return{context:()=>n,helper:r=>(n.helpers.add(r),r)}}function RC(e,t){for(let n=0;n<e.length;n++)ab(e[n],t)}function ab(e,t){switch(e.type){case 1:RC(e.cases,t),t.helper("plural");break;case 2:RC(e.items,t);break;case 6:{ab(e.key,t),t.helper("linked"),t.helper("type");break}case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function Qse(e,t={}){const n=Zse(e);n.helper("normalize"),e.body&&ab(e.body,n);const i=n.context();e.helpers=Array.from(i.helpers)}function ere(e){const t=e.body;return t.type===2?DC(t):t.cases.forEach(n=>DC(n)),e}function DC(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let n=0;n<e.items.length;n++){const i=e.items[n];if(!(i.type===3||i.type===9)||i.value==null)break;t.push(i.value)}if(t.length===e.items.length){e.static=ob(t);for(let n=0;n<e.items.length;n++){const i=e.items[n];(i.type===3||i.type===9)&&delete i.value}}}}function fl(e){switch(e.t=e.type,e.type){case 0:{const t=e;fl(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,n=t.cases;for(let i=0;i<n.length;i++)fl(n[i]);t.c=n,delete t.cases;break}case 2:{const t=e,n=t.items;for(let i=0;i<n.length;i++)fl(n[i]);t.i=n,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;fl(t.key),t.k=t.key,delete t.key,t.modifier&&(fl(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}}delete e.type}function tre(e,t){const{sourceMap:n,filename:i,breakLineCode:s,needIndent:r}=t,a=t.location!==!1,u={filename:i,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:s,needIndent:r,indentLevel:0};a&&e.loc&&(u.source=e.loc.source);const o=()=>u;function l(m,y){u.code+=m}function c(m,y=!0){const b=y?s:"";l(r?b+"  ".repeat(m):b)}function d(m=!0){const y=++u.indentLevel;m&&c(y)}function h(m=!0){const y=--u.indentLevel;m&&c(y)}function f(){c(u.indentLevel)}return{context:o,push:l,indent:d,deindent:h,newline:f,helper:m=>`_${m}`,needIndent:()=>u.needIndent}}function nre(e,t){const{helper:n}=e;e.push(`${n("linked")}(`),Bl(e,t.key),t.modifier?(e.push(", "),Bl(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function ire(e,t){const{helper:n,needIndent:i}=e;e.push(`${n("normalize")}([`),e.indent(i());const s=t.items.length;for(let r=0;r<s&&(Bl(e,t.items[r]),r!==s-1);r++)e.push(", ");e.deindent(i()),e.push("])")}function sre(e,t){const{helper:n,needIndent:i}=e;if(t.cases.length>1){e.push(`${n("plural")}([`),e.indent(i());const s=t.cases.length;for(let r=0;r<s&&(Bl(e,t.cases[r]),r!==s-1);r++)e.push(", ");e.deindent(i()),e.push("])")}}function rre(e,t){t.body?Bl(e,t.body):e.push("null")}function Bl(e,t){const{helper:n}=e;switch(t.type){case 0:rre(e,t);break;case 1:sre(e,t);break;case 2:ire(e,t);break;case 6:nre(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${n("interpolate")}(${n("list")}(${t.index}))`,t);break;case 4:e.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break}}const ore=(e,t={})=>{const n=ve(t.mode)?t.mode:"normal",i=ve(t.filename)?t.filename:"message.intl",s=!!t.sourceMap,r=t.breakLineCode!=null?t.breakLineCode:n==="arrow"?";":`
`,a=t.needIndent?t.needIndent:n!=="arrow",u=e.helpers||[],o=tre(e,{mode:n,filename:i,sourceMap:s,breakLineCode:r,needIndent:a});o.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),o.indent(a),u.length>0&&(o.push(`const { ${ob(u.map(d=>`${d}: _${d}`),", ")} } = ctx`),o.newline()),o.push("return "),Bl(o,e),o.deindent(a),o.push("}"),delete e.helpers;const{code:l,map:c}=o.context();return{ast:e,code:l,map:c?c.toJSON():void 0}};function are(e,t={}){const n=In({},t),i=!!n.jit,s=!!n.minify,r=n.optimize==null?!0:n.optimize,u=Xse(n).parse(e);return i?(r&&ere(u),s&&fl(u),{ast:u,code:""}):(Qse(u,n),ore(u,n))}/*!
  * core-base v10.0.5
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function lre(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(va().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(va().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function Mg(e){return n=>cre(n,e)}function cre(e,t){const n=dre(t);if(n==null)throw Au(0);if(lb(n)===1){const r=fre(n);return e.plural(r.reduce((a,u)=>[...a,LC(e,u)],[]))}else return LC(e,n)}const ure=["b","body"];function dre(e){return Yo(e,ure)}const hre=["c","cases"];function fre(e){return Yo(e,hre,[])}function LC(e,t){const n=gre(t);if(n!=null)return e.type==="text"?n:e.normalize([n]);{const i=vre(t).reduce((s,r)=>[...s,Zm(e,r)],[]);return e.normalize(i)}}const pre=["s","static"];function gre(e){return Yo(e,pre)}const mre=["i","items"];function vre(e){return Yo(e,mre,[])}function Zm(e,t){const n=lb(t);switch(n){case 3:return Nd(t,n);case 9:return Nd(t,n);case 4:{const i=t;if(Fs(i,"k")&&i.k)return e.interpolate(e.named(i.k));if(Fs(i,"key")&&i.key)return e.interpolate(e.named(i.key));throw Au(n)}case 5:{const i=t;if(Fs(i,"i")&&mn(i.i))return e.interpolate(e.list(i.i));if(Fs(i,"index")&&mn(i.index))return e.interpolate(e.list(i.index));throw Au(n)}case 6:{const i=t,s=_re(i),r=Sre(i);return e.linked(Zm(e,r),s?Zm(e,s):void 0,e.type)}case 7:return Nd(t,n);case 8:return Nd(t,n);default:throw new Error(`unhandled node on format message part: ${n}`)}}const yre=["t","type"];function lb(e){return Yo(e,yre)}const bre=["v","value"];function Nd(e,t){const n=Yo(e,bre);if(n)return n;throw Au(t)}const Ere=["m","modifier"];function _re(e){return Yo(e,Ere)}const Cre=["k","key"];function Sre(e){const t=Yo(e,Cre);if(t)return t;throw Au(6)}function Yo(e,t,n){for(let i=0;i<t.length;i++){const s=t[i];if(Fs(e,s)&&e[s]!=null)return e[s]}return n}function Au(e){return new Error(`unhandled node type: ${e}`)}const xre=e=>e;let Rd=Ht();function Hl(e){return At(e)&&lb(e)===0&&(Fs(e,"b")||Fs(e,"body"))}function Tre(e,t={}){let n=!1;const i=t.onError||Bse;return t.onError=s=>{n=!0,i(s)},{...are(e,t),detectError:n}}function wre(e,t){if(!__INTLIFY_DROP_MESSAGE_COMPILER__&&ve(e)){kt(t.warnHtmlMessage)&&t.warnHtmlMessage;const i=(t.onCacheKey||xre)(e),s=Rd[i];if(s)return s;const{ast:r,detectError:a}=Tre(e,{...t,location:!1,jit:!0}),u=Mg(r);return a?u:Rd[i]=u}else{const n=e.cacheKey;if(n){const i=Rd[n];return i||(Rd[n]=Mg(e))}else return Mg(e)}}let Pu=null;function Ire(e){Pu=e}function Ore(e,t,n){Pu&&Pu.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:n})}const kre=Are("function:translate");function Are(e){return t=>Pu&&Pu.emit(e,t)}const wr={INVALID_ARGUMENT:Vse,INVALID_DATE_ARGUMENT:18,INVALID_ISO_DATE_ARGUMENT:19,NOT_SUPPORT_NON_STRING_MESSAGE:20,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},Pre=24;function Ir(e){return lp(e,null,void 0)}function cb(e,t){return t.locale!=null?FC(t.locale):FC(e.locale)}let Ng;function FC(e){if(ve(e))return e;if(Jt(e)){if(e.resolvedOnce&&Ng!=null)return Ng;if(e.constructor.name==="Function"){const t=e();if(Rse(t))throw Ir(wr.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return Ng=t}else throw Ir(wr.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw Ir(wr.NOT_SUPPORT_LOCALE_TYPE)}function $re(e,t,n){return[...new Set([n,...un(t)?t:At(t)?Object.keys(t):ve(t)?[t]:[n]])]}function WO(e,t,n){const i=ve(n)?n:$u,s=e;s.__localeChainCache||(s.__localeChainCache=new Map);let r=s.__localeChainCache.get(i);if(!r){r=[];let a=[n];for(;un(a);)a=VC(r,a,t);const u=un(t)||!mt(t)?t:t.default?t.default:null;a=ve(u)?[u]:u,un(a)&&VC(r,a,!1),s.__localeChainCache.set(i,r)}return r}function VC(e,t,n){let i=!0;for(let s=0;s<t.length&&kt(i);s++){const r=t[s];ve(r)&&(i=Mre(e,t[s],n))}return i}function Mre(e,t,n){let i;const s=t.split("-");do{const r=s.join("-");i=Nre(e,r,n),s.splice(-1,1)}while(s.length&&i===!0);return i}function Nre(e,t,n){let i=!1;if(!e.includes(t)&&(i=!0,t)){i=t[t.length-1]!=="!";const s=t.replace(/!/g,"");e.push(s),(un(n)||mt(n))&&n[s]&&(i=n[s])}return i}const Jo=[];Jo[0]={w:[0],i:[3,0],"[":[4],o:[7]};Jo[1]={w:[1],".":[2],"[":[4],o:[7]};Jo[2]={w:[2],i:[3,0],0:[3,0]};Jo[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Jo[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Jo[5]={"'":[4,0],o:8,l:[5,0]};Jo[6]={'"':[4,0],o:8,l:[6,0]};const Rre=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function Dre(e){return Rre.test(e)}function Lre(e){const t=e.charCodeAt(0),n=e.charCodeAt(e.length-1);return t===n&&(t===34||t===39)?e.slice(1,-1):e}function Fre(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function Vre(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:Dre(t)?Lre(t):"*"+t}function Bre(e){const t=[];let n=-1,i=0,s=0,r,a,u,o,l,c,d;const h=[];h[0]=()=>{a===void 0?a=u:a+=u},h[1]=()=>{a!==void 0&&(t.push(a),a=void 0)},h[2]=()=>{h[0](),s++},h[3]=()=>{if(s>0)s--,i=4,h[0]();else{if(s=0,a===void 0||(a=Vre(a),a===!1))return!1;h[1]()}};function f(){const p=e[n+1];if(i===5&&p==="'"||i===6&&p==='"')return n++,u="\\"+p,h[0](),!0}for(;i!==null;)if(n++,r=e[n],!(r==="\\"&&f())){if(o=Fre(r),d=Jo[i],l=d[o]||d.l||8,l===8||(i=l[0],l[1]!==void 0&&(c=h[l[1]],c&&(u=r,c()===!1))))return;if(i===7)return t}}const BC=new Map;function Hre(e,t){return At(e)?e[t]:null}function jre(e,t){if(!At(e))return null;let n=BC.get(t);if(n||(n=Bre(t),n&&BC.set(t,n)),!n)return null;const i=n.length;let s=e,r=0;for(;r<i;){const a=s[n[r]];if(a===void 0||Jt(s))return null;s=a,r++}return s}const Ure="10.0.5",cp=-1,$u="en-US",HC="",jC=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function Gre(){return{upper:(e,t)=>t==="text"&&ve(e)?e.toUpperCase():t==="vnode"&&At(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&ve(e)?e.toLowerCase():t==="vnode"&&At(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&ve(e)?jC(e):t==="vnode"&&At(e)&&"__v_isVNode"in e?jC(e.children):e}}let zO;function Wre(e){zO=e}let KO;function zre(e){KO=e}let qO;function Kre(e){qO=e}let YO=null;const qre=e=>{YO=e},Yre=()=>YO;let JO=null;const UC=e=>{JO=e},Jre=()=>JO;let GC=0;function Xre(e={}){const t=Jt(e.onWarn)?e.onWarn:Lse,n=ve(e.version)?e.version:Ure,i=ve(e.locale)||Jt(e.locale)?e.locale:$u,s=Jt(i)?$u:i,r=un(e.fallbackLocale)||mt(e.fallbackLocale)||ve(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:s,a=mt(e.messages)?e.messages:Rg(s),u=mt(e.datetimeFormats)?e.datetimeFormats:Rg(s),o=mt(e.numberFormats)?e.numberFormats:Rg(s),l=In(Ht(),e.modifiers,Gre()),c=e.pluralRules||Ht(),d=Jt(e.missing)?e.missing:null,h=kt(e.missingWarn)||Vl(e.missingWarn)?e.missingWarn:!0,f=kt(e.fallbackWarn)||Vl(e.fallbackWarn)?e.fallbackWarn:!0,p=!!e.fallbackFormat,g=!!e.unresolving,m=Jt(e.postTranslation)?e.postTranslation:null,y=mt(e.processor)?e.processor:null,b=kt(e.warnHtmlMessage)?e.warnHtmlMessage:!0,E=!!e.escapeParameter,_=Jt(e.messageCompiler)?e.messageCompiler:zO,I=Jt(e.messageResolver)?e.messageResolver:KO||Hre,M=Jt(e.localeFallbacker)?e.localeFallbacker:qO||$re,R=At(e.fallbackContext)?e.fallbackContext:void 0,X=e,D=At(X.__datetimeFormatters)?X.__datetimeFormatters:new Map,j=At(X.__numberFormatters)?X.__numberFormatters:new Map,se=At(X.__meta)?X.__meta:{};GC++;const ae={version:n,cid:GC,locale:i,fallbackLocale:r,messages:a,modifiers:l,pluralRules:c,missing:d,missingWarn:h,fallbackWarn:f,fallbackFormat:p,unresolving:g,postTranslation:m,processor:y,warnHtmlMessage:b,escapeParameter:E,messageCompiler:_,messageResolver:I,localeFallbacker:M,fallbackContext:R,onWarn:t,__meta:se};return ae.datetimeFormats=u,ae.numberFormats=o,ae.__datetimeFormatters=D,ae.__numberFormatters=j,__INTLIFY_PROD_DEVTOOLS__&&Ore(ae,n,se),ae}const Rg=e=>({[e]:Ht()});function ub(e,t,n,i,s){const{missing:r,onWarn:a}=e;if(r!==null){const u=r(e,n,t,s);return ve(u)?u:t}else return t}function kc(e,t,n){const i=e;i.__localeChainCache=new Map,e.localeFallbacker(e,n,t)}function Zre(e,t){return e===t?!1:e.split("-")[0]===t.split("-")[0]}function Qre(e,t){const n=t.indexOf(e);if(n===-1)return!1;for(let i=n+1;i<t.length;i++)if(Zre(e,t[i]))return!0;return!1}function WC(e,...t){const{datetimeFormats:n,unresolving:i,fallbackLocale:s,onWarn:r,localeFallbacker:a}=e,{__datetimeFormatters:u}=e,[o,l,c,d]=Qm(...t),h=kt(c.missingWarn)?c.missingWarn:e.missingWarn;kt(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn;const f=!!c.part,p=cb(e,c),g=a(e,s,p);if(!ve(o)||o==="")return new Intl.DateTimeFormat(p,d).format(l);let m={},y,b=null;const E="datetime format";for(let M=0;M<g.length&&(y=g[M],m=n[y]||{},b=m[o],!mt(b));M++)ub(e,o,y,h,E);if(!mt(b)||!ve(y))return i?cp:o;let _=`${y}__${o}`;ap(d)||(_=`${_}__${JSON.stringify(d)}`);let I=u.get(_);return I||(I=new Intl.DateTimeFormat(y,In({},b,d)),u.set(_,I)),f?I.formatToParts(l):I.format(l)}const XO=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function Qm(...e){const[t,n,i,s]=e,r=Ht();let a=Ht(),u;if(ve(t)){const o=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!o)throw Ir(wr.INVALID_ISO_DATE_ARGUMENT);const l=o[3]?o[3].trim().startsWith("T")?`${o[1].trim()}${o[3].trim()}`:`${o[1].trim()}T${o[3].trim()}`:o[1].trim();u=new Date(l);try{u.toISOString()}catch{throw Ir(wr.INVALID_ISO_DATE_ARGUMENT)}}else if($se(t)){if(isNaN(t.getTime()))throw Ir(wr.INVALID_DATE_ARGUMENT);u=t}else if(mn(t))u=t;else throw Ir(wr.INVALID_ARGUMENT);return ve(n)?r.key=n:mt(n)&&Object.keys(n).forEach(o=>{XO.includes(o)?a[o]=n[o]:r[o]=n[o]}),ve(i)?r.locale=i:mt(i)&&(a=i),mt(s)&&(a=s),[r.key||"",u,r,a]}function zC(e,t,n){const i=e;for(const s in n){const r=`${t}__${s}`;i.__datetimeFormatters.has(r)&&i.__datetimeFormatters.delete(r)}}function KC(e,...t){const{numberFormats:n,unresolving:i,fallbackLocale:s,onWarn:r,localeFallbacker:a}=e,{__numberFormatters:u}=e,[o,l,c,d]=ev(...t),h=kt(c.missingWarn)?c.missingWarn:e.missingWarn;kt(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn;const f=!!c.part,p=cb(e,c),g=a(e,s,p);if(!ve(o)||o==="")return new Intl.NumberFormat(p,d).format(l);let m={},y,b=null;const E="number format";for(let M=0;M<g.length&&(y=g[M],m=n[y]||{},b=m[o],!mt(b));M++)ub(e,o,y,h,E);if(!mt(b)||!ve(y))return i?cp:o;let _=`${y}__${o}`;ap(d)||(_=`${_}__${JSON.stringify(d)}`);let I=u.get(_);return I||(I=new Intl.NumberFormat(y,In({},b,d)),u.set(_,I)),f?I.formatToParts(l):I.format(l)}const ZO=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function ev(...e){const[t,n,i,s]=e,r=Ht();let a=Ht();if(!mn(t))throw Ir(wr.INVALID_ARGUMENT);const u=t;return ve(n)?r.key=n:mt(n)&&Object.keys(n).forEach(o=>{ZO.includes(o)?a[o]=n[o]:r[o]=n[o]}),ve(i)?r.locale=i:mt(i)&&(a=i),mt(s)&&(a=s),[r.key||"",u,r,a]}function qC(e,t,n){const i=e;for(const s in n){const r=`${t}__${s}`;i.__numberFormatters.has(r)&&i.__numberFormatters.delete(r)}}const eoe=e=>e,toe=e=>"",noe="text",ioe=e=>e.length===0?"":ob(e),soe=Dse;function YC(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function roe(e){const t=mn(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(mn(e.named.count)||mn(e.named.n))?mn(e.named.count)?e.named.count:mn(e.named.n)?e.named.n:t:t}function ooe(e,t){t.count||(t.count=e),t.n||(t.n=e)}function aoe(e={}){const t=e.locale,n=roe(e),i=At(e.pluralRules)&&ve(t)&&Jt(e.pluralRules[t])?e.pluralRules[t]:YC,s=At(e.pluralRules)&&ve(t)&&Jt(e.pluralRules[t])?YC:void 0,r=y=>y[i(n,y.length,s)],a=e.list||[],u=y=>a[y],o=e.named||Ht();mn(e.pluralIndex)&&ooe(n,o);const l=y=>o[y];function c(y,b){const E=Jt(e.messages)?e.messages(y,!!b):At(e.messages)?e.messages[y]:!1;return E||(e.parent?e.parent.message(y):toe)}const d=y=>e.modifiers?e.modifiers[y]:eoe,h=mt(e.processor)&&Jt(e.processor.normalize)?e.processor.normalize:ioe,f=mt(e.processor)&&Jt(e.processor.interpolate)?e.processor.interpolate:soe,p=mt(e.processor)&&ve(e.processor.type)?e.processor.type:noe,m={list:u,named:l,plural:r,linked:(y,...b)=>{const[E,_]=b;let I="text",M="";b.length===1?At(E)?(M=E.modifier||M,I=E.type||I):ve(E)&&(M=E||M):b.length===2&&(ve(E)&&(M=E||M),ve(_)&&(I=_||I));const R=c(y,!0)(m),X=I==="vnode"&&un(R)&&M?R[0]:R;return M?d(M)(X,I):X},message:c,type:p,interpolate:f,normalize:h,values:In(Ht(),a,o)};return m}const JC=()=>"",hs=e=>Jt(e);function XC(e,...t){const{fallbackFormat:n,postTranslation:i,unresolving:s,messageCompiler:r,fallbackLocale:a,messages:u}=e,[o,l]=tv(...t),c=kt(l.missingWarn)?l.missingWarn:e.missingWarn,d=kt(l.fallbackWarn)?l.fallbackWarn:e.fallbackWarn,h=kt(l.escapeParameter)?l.escapeParameter:e.escapeParameter,f=!!l.resolvedMessage,p=ve(l.default)||kt(l.default)?kt(l.default)?r?o:()=>o:l.default:n?r?o:()=>o:null,g=n||p!=null&&(ve(p)||Jt(p)),m=cb(e,l);h&&loe(l);let[y,b,E]=f?[o,m,u[m]||Ht()]:QO(e,o,m,a,d,c),_=y,I=o;if(!f&&!(ve(_)||Hl(_)||hs(_))&&g&&(_=p,I=_),!f&&(!(ve(_)||Hl(_)||hs(_))||!ve(b)))return s?cp:o;let M=!1;const R=()=>{M=!0},X=hs(_)?_:ek(e,o,b,_,I,R);if(M)return _;const D=doe(e,b,E,l),j=aoe(D),se=coe(e,X,j),ae=i?i(se,o):se;if(__INTLIFY_PROD_DEVTOOLS__){const Y={timestamp:Date.now(),key:ve(o)?o:hs(_)?_.key:"",locale:b||(hs(_)?_.locale:""),format:ve(_)?_:hs(_)?_.source:"",message:ae};Y.meta=In({},e.__meta,Yre()||{}),kre(Y)}return ae}function loe(e){un(e.list)?e.list=e.list.map(t=>ve(t)?MC(t):t):At(e.named)&&Object.keys(e.named).forEach(t=>{ve(e.named[t])&&(e.named[t]=MC(e.named[t]))})}function QO(e,t,n,i,s,r){const{messages:a,onWarn:u,messageResolver:o,localeFallbacker:l}=e,c=l(e,i,n);let d=Ht(),h,f=null;const p="translate";for(let g=0;g<c.length&&(h=c[g],d=a[h]||Ht(),(f=o(d,t))===null&&(f=d[t]),!(ve(f)||Hl(f)||hs(f)));g++)if(!Qre(h,c)){const m=ub(e,t,h,r,p);m!==t&&(f=m)}return[f,h,d]}function ek(e,t,n,i,s,r){const{messageCompiler:a,warnHtmlMessage:u}=e;if(hs(i)){const l=i;return l.locale=l.locale||n,l.key=l.key||t,l}if(a==null){const l=()=>i;return l.locale=n,l.key=t,l}const o=a(i,uoe(e,n,s,i,u,r));return o.locale=n,o.key=t,o.source=i,o}function coe(e,t,n){return t(n)}function tv(...e){const[t,n,i]=e,s=Ht();if(!ve(t)&&!mn(t)&&!hs(t)&&!Hl(t))throw Ir(wr.INVALID_ARGUMENT);const r=mn(t)?String(t):(hs(t),t);return mn(n)?s.plural=n:ve(n)?s.default=n:mt(n)&&!ap(n)?s.named=n:un(n)&&(s.list=n),mn(i)?s.plural=i:ve(i)?s.default=i:mt(i)&&In(s,i),[r,s]}function uoe(e,t,n,i,s,r){return{locale:t,key:n,warnHtmlMessage:s,onError:a=>{throw r&&r(a),a},onCacheKey:a=>Ase(t,n,a)}}function doe(e,t,n,i){const{modifiers:s,pluralRules:r,messageResolver:a,fallbackLocale:u,fallbackWarn:o,missingWarn:l,fallbackContext:c}=e,h={locale:t,modifiers:s,pluralRules:r,messages:(f,p)=>{let g=a(n,f);if(g==null&&(c||p)){const[,,m]=QO(c||e,f,t,u,o,l);g=a(m,f)}if(ve(g)||Hl(g)){let m=!1;const b=ek(e,f,t,g,f,()=>{m=!0});return m?JC:b}else return hs(g)?g:JC}};return e.processor&&(h.processor=e.processor),i.list&&(h.list=i.list),i.named&&(h.named=i.named),mn(i.plural)&&(h.pluralIndex=i.plural),h}lre();/*!
  * vue-i18n v10.0.5
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const hoe="10.0.5";function foe(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(va().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(va().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(va().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(va().__INTLIFY_PROD_DEVTOOLS__=!1)}const vi={UNEXPECTED_RETURN_TYPE:Pre,INVALID_ARGUMENT:25,MUST_BE_CALL_SETUP_TOP:26,NOT_INSTALLED:27,REQUIRED_VALUE:28,INVALID_VALUE:29,CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:30,NOT_INSTALLED_WITH_PROVIDE:31,UNEXPECTED_ERROR:32,NOT_COMPATIBLE_LEGACY_VUE_I18N:33,NOT_AVAILABLE_COMPOSITION_IN_LEGACY:34};function Pi(e,...t){return lp(e,null,void 0)}const nv=qo("__translateVNode"),iv=qo("__datetimeParts"),sv=qo("__numberParts"),tk=qo("__setPluralRules"),nk=qo("__injectWithOption"),rv=qo("__dispose");function Mu(e){if(!At(e))return e;for(const t in e)if(Fs(e,t))if(!t.includes("."))At(e[t])&&Mu(e[t]);else{const n=t.split("."),i=n.length-1;let s=e,r=!1;for(let a=0;a<i;a++){if(n[a]in s||(s[n[a]]=Ht()),!At(s[n[a]])){r=!0;break}s=s[n[a]]}r||(s[n[i]]=e[t],delete e[t]),At(s[n[i]])&&Mu(s[n[i]])}return e}function db(e,t){const{messages:n,__i18n:i,messageResolver:s,flatJson:r}=t,a=mt(n)?n:un(i)?Ht():{[e]:Ht()};if(un(i)&&i.forEach(u=>{if("locale"in u&&"resource"in u){const{locale:o,resource:l}=u;o?(a[o]=a[o]||Ht(),th(l,a[o])):th(l,a)}else ve(u)&&th(JSON.parse(u),a)}),s==null&&r)for(const u in a)Fs(a,u)&&Mu(a[u]);return a}function ik(e){return e.type}function sk(e,t,n){let i=At(t.messages)?t.messages:Ht();"__i18nGlobal"in n&&(i=db(e.locale.value,{messages:i,__i18n:n.__i18nGlobal}));const s=Object.keys(i);s.length&&s.forEach(r=>{e.mergeLocaleMessage(r,i[r])});{if(At(t.datetimeFormats)){const r=Object.keys(t.datetimeFormats);r.length&&r.forEach(a=>{e.mergeDateTimeFormat(a,t.datetimeFormats[a])})}if(At(t.numberFormats)){const r=Object.keys(t.numberFormats);r.length&&r.forEach(a=>{e.mergeNumberFormat(a,t.numberFormats[a])})}}}function ZC(e){return O(Lu,null,e,0)}const QC="__INTLIFY_META__",eS=()=>[],poe=()=>!1;let tS=0;function nS(e){return(t,n,i,s)=>e(n,i,vs()||void 0,s)}const goe=()=>{const e=vs();let t=null;return e&&(t=ik(e)[QC])?{[QC]:t}:null};function hb(e={}){const{__root:t,__injectWithOption:n}=e,i=t===void 0,s=e.flatJson,r=Zh?Xe:bo;let a=kt(e.inheritLocale)?e.inheritLocale:!0;const u=r(t&&a?t.locale.value:ve(e.locale)?e.locale:$u),o=r(t&&a?t.fallbackLocale.value:ve(e.fallbackLocale)||un(e.fallbackLocale)||mt(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:u.value),l=r(db(u.value,e)),c=r(mt(e.datetimeFormats)?e.datetimeFormats:{[u.value]:{}}),d=r(mt(e.numberFormats)?e.numberFormats:{[u.value]:{}});let h=t?t.missingWarn:kt(e.missingWarn)||Vl(e.missingWarn)?e.missingWarn:!0,f=t?t.fallbackWarn:kt(e.fallbackWarn)||Vl(e.fallbackWarn)?e.fallbackWarn:!0,p=t?t.fallbackRoot:kt(e.fallbackRoot)?e.fallbackRoot:!0,g=!!e.fallbackFormat,m=Jt(e.missing)?e.missing:null,y=Jt(e.missing)?nS(e.missing):null,b=Jt(e.postTranslation)?e.postTranslation:null,E=t?t.warnHtmlMessage:kt(e.warnHtmlMessage)?e.warnHtmlMessage:!0,_=!!e.escapeParameter;const I=t?t.modifiers:mt(e.modifiers)?e.modifiers:{};let M=e.pluralRules||t&&t.pluralRules,R;R=(()=>{i&&UC(null);const P={version:hoe,locale:u.value,fallbackLocale:o.value,messages:l.value,modifiers:I,pluralRules:M,missing:y===null?void 0:y,missingWarn:h,fallbackWarn:f,fallbackFormat:g,unresolving:!0,postTranslation:b===null?void 0:b,warnHtmlMessage:E,escapeParameter:_,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};P.datetimeFormats=c.value,P.numberFormats=d.value,P.__datetimeFormatters=mt(R)?R.__datetimeFormatters:void 0,P.__numberFormatters=mt(R)?R.__numberFormatters:void 0;const U=Xre(P);return i&&UC(U),U})(),kc(R,u.value,o.value);function D(){return[u.value,o.value,l.value,c.value,d.value]}const j=K({get:()=>u.value,set:P=>{u.value=P,R.locale=u.value}}),se=K({get:()=>o.value,set:P=>{o.value=P,R.fallbackLocale=o.value,kc(R,u.value,P)}}),ae=K(()=>l.value),Y=K(()=>c.value),Q=K(()=>d.value);function de(){return Jt(b)?b:null}function ce(P){b=P,R.postTranslation=P}function re(){return m}function he(P){P!==null&&(y=nS(P)),m=P,R.missing=y}const je=(P,U,fe,Ue,Ct,St)=>{D();let an;try{__INTLIFY_PROD_DEVTOOLS__,i||(R.fallbackContext=t?Jre():void 0),an=P(R)}finally{__INTLIFY_PROD_DEVTOOLS__,i||(R.fallbackContext=void 0)}if(fe!=="translate exists"&&mn(an)&&an===cp||fe==="translate exists"&&!an){const[An,ns]=U();return t&&p?Ue(t):Ct(An)}else{if(St(an))return an;throw Pi(vi.UNEXPECTED_RETURN_TYPE)}};function lt(...P){return je(U=>Reflect.apply(XC,null,[U,...P]),()=>tv(...P),"translate",U=>Reflect.apply(U.t,U,[...P]),U=>U,U=>ve(U))}function ft(...P){const[U,fe,Ue]=P;if(Ue&&!At(Ue))throw Pi(vi.INVALID_ARGUMENT);return lt(U,fe,In({resolvedMessage:!0},Ue||{}))}function _t(...P){return je(U=>Reflect.apply(WC,null,[U,...P]),()=>Qm(...P),"datetime format",U=>Reflect.apply(U.d,U,[...P]),()=>HC,U=>ve(U))}function Bt(...P){return je(U=>Reflect.apply(KC,null,[U,...P]),()=>ev(...P),"number format",U=>Reflect.apply(U.n,U,[...P]),()=>HC,U=>ve(U))}function gt(P){return P.map(U=>ve(U)||mn(U)||kt(U)?ZC(String(U)):U)}const fn={normalize:gt,interpolate:P=>P,type:"vnode"};function ne(...P){return je(U=>{let fe;const Ue=U;try{Ue.processor=fn,fe=Reflect.apply(XC,null,[Ue,...P])}finally{Ue.processor=null}return fe},()=>tv(...P),"translate",U=>U[nv](...P),U=>[ZC(U)],U=>un(U))}function me(...P){return je(U=>Reflect.apply(KC,null,[U,...P]),()=>ev(...P),"number format",U=>U[sv](...P),eS,U=>ve(U)||un(U))}function ge(...P){return je(U=>Reflect.apply(WC,null,[U,...P]),()=>Qm(...P),"datetime format",U=>U[iv](...P),eS,U=>ve(U)||un(U))}function Ee(P){M=P,R.pluralRules=M}function It(P,U){return je(()=>{if(!P)return!1;const fe=ve(U)?U:u.value,Ue=A(fe),Ct=R.messageResolver(Ue,P);return Hl(Ct)||hs(Ct)||ve(Ct)},()=>[P],"translate exists",fe=>Reflect.apply(fe.te,fe,[P,U]),poe,fe=>kt(fe))}function Dt(P){let U=null;const fe=WO(R,o.value,u.value);for(let Ue=0;Ue<fe.length;Ue++){const Ct=l.value[fe[Ue]]||{},St=R.messageResolver(Ct,P);if(St!=null){U=St;break}}return U}function T(P){const U=Dt(P);return U??(t?t.tm(P)||{}:{})}function A(P){return l.value[P]||{}}function W(P,U){if(s){const fe={[P]:U};for(const Ue in fe)Fs(fe,Ue)&&Mu(fe[Ue]);U=fe[P]}l.value[P]=U,R.messages=l.value}function oe(P,U){l.value[P]=l.value[P]||{};const fe={[P]:U};if(s)for(const Ue in fe)Fs(fe,Ue)&&Mu(fe[Ue]);U=fe[P],th(U,l.value[P]),R.messages=l.value}function ie(P){return c.value[P]||{}}function x(P,U){c.value[P]=U,R.datetimeFormats=c.value,zC(R,P,U)}function w(P,U){c.value[P]=In(c.value[P]||{},U),R.datetimeFormats=c.value,zC(R,P,U)}function V(P){return d.value[P]||{}}function k(P,U){d.value[P]=U,R.numberFormats=d.value,qC(R,P,U)}function L(P,U){d.value[P]=In(d.value[P]||{},U),R.numberFormats=d.value,qC(R,P,U)}tS++,t&&Zh&&(Kt(t.locale,P=>{a&&(u.value=P,R.locale=P,kc(R,u.value,o.value))}),Kt(t.fallbackLocale,P=>{a&&(o.value=P,R.fallbackLocale=P,kc(R,u.value,o.value))}));const Z={id:tS,locale:j,fallbackLocale:se,get inheritLocale(){return a},set inheritLocale(P){a=P,P&&t&&(u.value=t.locale.value,o.value=t.fallbackLocale.value,kc(R,u.value,o.value))},get availableLocales(){return Object.keys(l.value).sort()},messages:ae,get modifiers(){return I},get pluralRules(){return M||{}},get isGlobal(){return i},get missingWarn(){return h},set missingWarn(P){h=P,R.missingWarn=h},get fallbackWarn(){return f},set fallbackWarn(P){f=P,R.fallbackWarn=f},get fallbackRoot(){return p},set fallbackRoot(P){p=P},get fallbackFormat(){return g},set fallbackFormat(P){g=P,R.fallbackFormat=g},get warnHtmlMessage(){return E},set warnHtmlMessage(P){E=P,R.warnHtmlMessage=P},get escapeParameter(){return _},set escapeParameter(P){_=P,R.escapeParameter=P},t:lt,getLocaleMessage:A,setLocaleMessage:W,mergeLocaleMessage:oe,getPostTranslationHandler:de,setPostTranslationHandler:ce,getMissingHandler:re,setMissingHandler:he,[tk]:Ee};return Z.datetimeFormats=Y,Z.numberFormats=Q,Z.rt=ft,Z.te=It,Z.tm=T,Z.d=_t,Z.n=Bt,Z.getDateTimeFormat=ie,Z.setDateTimeFormat=x,Z.mergeDateTimeFormat=w,Z.getNumberFormat=V,Z.setNumberFormat=k,Z.mergeNumberFormat=L,Z[nk]=n,Z[nv]=ne,Z[iv]=ge,Z[sv]=me,Z}function moe(e){const t=ve(e.locale)?e.locale:$u,n=ve(e.fallbackLocale)||un(e.fallbackLocale)||mt(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,i=Jt(e.missing)?e.missing:void 0,s=kt(e.silentTranslationWarn)||Vl(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,r=kt(e.silentFallbackWarn)||Vl(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,a=kt(e.fallbackRoot)?e.fallbackRoot:!0,u=!!e.formatFallbackMessages,o=mt(e.modifiers)?e.modifiers:{},l=e.pluralizationRules,c=Jt(e.postTranslation)?e.postTranslation:void 0,d=ve(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,h=!!e.escapeParameterHtml,f=kt(e.sync)?e.sync:!0;let p=e.messages;if(mt(e.sharedMessages)){const I=e.sharedMessages;p=Object.keys(I).reduce((R,X)=>{const D=R[X]||(R[X]={});return In(D,I[X]),R},p||{})}const{__i18n:g,__root:m,__injectWithOption:y}=e,b=e.datetimeFormats,E=e.numberFormats,_=e.flatJson;return{locale:t,fallbackLocale:n,messages:p,flatJson:_,datetimeFormats:b,numberFormats:E,missing:i,missingWarn:s,fallbackWarn:r,fallbackRoot:a,fallbackFormat:u,modifiers:o,pluralRules:l,postTranslation:c,warnHtmlMessage:d,escapeParameter:h,messageResolver:e.messageResolver,inheritLocale:f,__i18n:g,__root:m,__injectWithOption:y}}function ov(e={}){const t=hb(moe(e)),{__extender:n}=e,i={id:t.id,get locale(){return t.locale.value},set locale(s){t.locale.value=s},get fallbackLocale(){return t.fallbackLocale.value},set fallbackLocale(s){t.fallbackLocale.value=s},get messages(){return t.messages.value},get datetimeFormats(){return t.datetimeFormats.value},get numberFormats(){return t.numberFormats.value},get availableLocales(){return t.availableLocales},get missing(){return t.getMissingHandler()},set missing(s){t.setMissingHandler(s)},get silentTranslationWarn(){return kt(t.missingWarn)?!t.missingWarn:t.missingWarn},set silentTranslationWarn(s){t.missingWarn=kt(s)?!s:s},get silentFallbackWarn(){return kt(t.fallbackWarn)?!t.fallbackWarn:t.fallbackWarn},set silentFallbackWarn(s){t.fallbackWarn=kt(s)?!s:s},get modifiers(){return t.modifiers},get formatFallbackMessages(){return t.fallbackFormat},set formatFallbackMessages(s){t.fallbackFormat=s},get postTranslation(){return t.getPostTranslationHandler()},set postTranslation(s){t.setPostTranslationHandler(s)},get sync(){return t.inheritLocale},set sync(s){t.inheritLocale=s},get warnHtmlInMessage(){return t.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(s){t.warnHtmlMessage=s!=="off"},get escapeParameterHtml(){return t.escapeParameter},set escapeParameterHtml(s){t.escapeParameter=s},get pluralizationRules(){return t.pluralRules||{}},__composer:t,t(...s){return Reflect.apply(t.t,t,[...s])},rt(...s){return Reflect.apply(t.rt,t,[...s])},tc(...s){const[r,a,u]=s,o={plural:1};let l=null,c=null;if(!ve(r))throw Pi(vi.INVALID_ARGUMENT);const d=r;return ve(a)?o.locale=a:mn(a)?o.plural=a:un(a)?l=a:mt(a)&&(c=a),ve(u)?o.locale=u:un(u)?l=u:mt(u)&&(c=u),Reflect.apply(t.t,t,[d,l||c||{},o])},te(s,r){return t.te(s,r)},tm(s){return t.tm(s)},getLocaleMessage(s){return t.getLocaleMessage(s)},setLocaleMessage(s,r){t.setLocaleMessage(s,r)},mergeLocaleMessage(s,r){t.mergeLocaleMessage(s,r)},d(...s){return Reflect.apply(t.d,t,[...s])},getDateTimeFormat(s){return t.getDateTimeFormat(s)},setDateTimeFormat(s,r){t.setDateTimeFormat(s,r)},mergeDateTimeFormat(s,r){t.mergeDateTimeFormat(s,r)},n(...s){return Reflect.apply(t.n,t,[...s])},getNumberFormat(s){return t.getNumberFormat(s)},setNumberFormat(s,r){t.setNumberFormat(s,r)},mergeNumberFormat(s,r){t.mergeNumberFormat(s,r)}};return i.__extender=n,i}function voe(e,t,n){return{beforeCreate(){const i=vs();if(!i)throw Pi(vi.UNEXPECTED_ERROR);const s=this.$options;if(s.i18n){const r=s.i18n;if(s.__i18n&&(r.__i18n=s.__i18n),r.__root=t,this===this.$root)this.$i18n=iS(e,r);else{r.__injectWithOption=!0,r.__extender=n.__vueI18nExtend,this.$i18n=ov(r);const a=this.$i18n;a.__extender&&(a.__disposer=a.__extender(this.$i18n))}}else if(s.__i18n)if(this===this.$root)this.$i18n=iS(e,s);else{this.$i18n=ov({__i18n:s.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:t});const r=this.$i18n;r.__extender&&(r.__disposer=r.__extender(this.$i18n))}else this.$i18n=e;s.__i18nGlobal&&sk(t,s,s),this.$t=(...r)=>this.$i18n.t(...r),this.$rt=(...r)=>this.$i18n.rt(...r),this.$tc=(...r)=>this.$i18n.tc(...r),this.$te=(r,a)=>this.$i18n.te(r,a),this.$d=(...r)=>this.$i18n.d(...r),this.$n=(...r)=>this.$i18n.n(...r),this.$tm=r=>this.$i18n.tm(r),n.__setInstance(i,this.$i18n)},mounted(){},unmounted(){const i=vs();if(!i)throw Pi(vi.UNEXPECTED_ERROR);const s=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,s.__disposer&&(s.__disposer(),delete s.__disposer,delete s.__extender),n.__deleteInstance(i),delete this.$i18n}}}function iS(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[tk](t.pluralizationRules||e.pluralizationRules);const n=db(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(n).forEach(i=>e.mergeLocaleMessage(i,n[i])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(i=>e.mergeDateTimeFormat(i,t.datetimeFormats[i])),t.numberFormats&&Object.keys(t.numberFormats).forEach(i=>e.mergeNumberFormat(i,t.numberFormats[i])),e}const fb={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function yoe({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((i,s)=>[...i,...s.type===Ye?s.children:[s]],[]):t.reduce((n,i)=>{const s=e[i];return s&&(n[i]=s()),n},Ht())}function rk(){return Ye}const boe=$({name:"i18n-t",props:In({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>mn(e)||!isNaN(e)}},fb),setup(e,t){const{slots:n,attrs:i}=t,s=e.i18n||pb({useScope:e.scope,__useComponent:!0});return()=>{const r=Object.keys(n).filter(d=>d!=="_"),a=Ht();e.locale&&(a.locale=e.locale),e.plural!==void 0&&(a.plural=ve(e.plural)?+e.plural:e.plural);const u=yoe(t,r),o=s[nv](e.keypath,u,a),l=In(Ht(),i),c=ve(e.tag)||At(e.tag)?e.tag:rk();return ka(c,l,o)}}}),sS=boe;function Eoe(e){return un(e)&&!ve(e[0])}function ok(e,t,n,i){const{slots:s,attrs:r}=t;return()=>{const a={part:!0};let u=Ht();e.locale&&(a.locale=e.locale),ve(e.format)?a.key=e.format:At(e.format)&&(ve(e.format.key)&&(a.key=e.format.key),u=Object.keys(e.format).reduce((h,f)=>n.includes(f)?In(Ht(),h,{[f]:e.format[f]}):h,Ht()));const o=i(e.value,a,u);let l=[a.key];un(o)?l=o.map((h,f)=>{const p=s[h.type],g=p?p({[h.type]:h.value,index:f,parts:o}):[h.value];return Eoe(g)&&(g[0].key=`${h.type}-${f}`),g}):ve(o)&&(l=[o]);const c=In(Ht(),r),d=ve(e.tag)||At(e.tag)?e.tag:rk();return ka(d,c,l)}}const _oe=$({name:"i18n-n",props:In({value:{type:Number,required:!0},format:{type:[String,Object]}},fb),setup(e,t){const n=e.i18n||pb({useScope:e.scope,__useComponent:!0});return ok(e,t,ZO,(...i)=>n[sv](...i))}}),rS=_oe,Coe=$({name:"i18n-d",props:In({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},fb),setup(e,t){const n=e.i18n||pb({useScope:e.scope,__useComponent:!0});return ok(e,t,XO,(...i)=>n[iv](...i))}}),oS=Coe;function Soe(e,t){const n=e;if(e.mode==="composition")return n.__getInstance(t)||e.global;{const i=n.__getInstance(t);return i!=null?i.__composer:e.global.__composer}}function xoe(e){const t=a=>{const{instance:u,value:o}=a;if(!u||!u.$)throw Pi(vi.UNEXPECTED_ERROR);const l=Soe(e,u.$),c=aS(o);return[Reflect.apply(l.t,l,[...lS(c)]),l]};return{created:(a,u)=>{const[o,l]=t(u);Zh&&e.global===l&&(a.__i18nWatcher=Kt(l.locale,()=>{u.instance&&u.instance.$forceUpdate()})),a.__composer=l,a.textContent=o},unmounted:a=>{Zh&&a.__i18nWatcher&&(a.__i18nWatcher(),a.__i18nWatcher=void 0,delete a.__i18nWatcher),a.__composer&&(a.__composer=void 0,delete a.__composer)},beforeUpdate:(a,{value:u})=>{if(a.__composer){const o=a.__composer,l=aS(u);a.textContent=Reflect.apply(o.t,o,[...lS(l)])}},getSSRProps:a=>{const[u]=t(a);return{textContent:u}}}}function aS(e){if(ve(e))return{path:e};if(mt(e)){if(!("path"in e))throw Pi(vi.REQUIRED_VALUE,"path");return e}else throw Pi(vi.INVALID_VALUE)}function lS(e){const{path:t,locale:n,args:i,choice:s,plural:r}=e,a={},u=i||{};return ve(n)&&(a.locale=n),mn(s)&&(a.plural=s),mn(r)&&(a.plural=r),[t,u,a]}function Toe(e,t,...n){const i=mt(n[0])?n[0]:{};(kt(i.globalInstall)?i.globalInstall:!0)&&([sS.name,"I18nT"].forEach(r=>e.component(r,sS)),[rS.name,"I18nN"].forEach(r=>e.component(r,rS)),[oS.name,"I18nD"].forEach(r=>e.component(r,oS))),e.directive("t",xoe(t))}const woe=qo("global-vue-i18n");function Ioe(e={},t){const n=__VUE_I18N_LEGACY_API__&&kt(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,i=kt(e.globalInjection)?e.globalInjection:!0,s=new Map,[r,a]=Ooe(e,n),u=qo("");function o(h){return s.get(h)||null}function l(h,f){s.set(h,f)}function c(h){s.delete(h)}const d={get mode(){return __VUE_I18N_LEGACY_API__&&n?"legacy":"composition"},async install(h,...f){if(h.__VUE_I18N_SYMBOL__=u,h.provide(h.__VUE_I18N_SYMBOL__,d),mt(f[0])){const m=f[0];d.__composerExtend=m.__composerExtend,d.__vueI18nExtend=m.__vueI18nExtend}let p=null;!n&&i&&(p=Doe(h,d.global)),__VUE_I18N_FULL_INSTALL__&&Toe(h,d,...f),__VUE_I18N_LEGACY_API__&&n&&h.mixin(voe(a,a.__composer,d));const g=h.unmount;h.unmount=()=>{p&&p(),d.dispose(),g()}},get global(){return a},dispose(){r.stop()},__instances:s,__getInstance:o,__setInstance:l,__deleteInstance:c};return d}function pb(e={}){const t=vs();if(t==null)throw Pi(vi.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw Pi(vi.NOT_INSTALLED);const n=koe(t),i=Poe(n),s=ik(t),r=Aoe(e,s);if(r==="global")return sk(i,e,s),i;if(r==="parent"){let o=$oe(n,t,e.__useComponent);return o==null&&(o=i),o}const a=n;let u=a.__getInstance(t);if(u==null){const o=In({},e);"__i18n"in s&&(o.__i18n=s.__i18n),i&&(o.__root=i),u=hb(o),a.__composerExtend&&(u[rv]=a.__composerExtend(u)),Noe(a,t,u),a.__setInstance(t,u)}return u}function Ooe(e,t,n){const i=dv(),s=__VUE_I18N_LEGACY_API__&&t?i.run(()=>ov(e)):i.run(()=>hb(e));if(s==null)throw Pi(vi.UNEXPECTED_ERROR);return[i,s]}function koe(e){const t=ki(e.isCE?woe:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw Pi(e.isCE?vi.NOT_INSTALLED_WITH_PROVIDE:vi.UNEXPECTED_ERROR);return t}function Aoe(e,t){return ap(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function Poe(e){return e.mode==="composition"?e.global:e.global.__composer}function $oe(e,t,n=!1){let i=null;const s=t.root;let r=Moe(t,n);for(;r!=null;){const a=e;if(e.mode==="composition")i=a.__getInstance(r);else if(__VUE_I18N_LEGACY_API__){const u=a.__getInstance(r);u!=null&&(i=u.__composer,n&&i&&!i[nk]&&(i=null))}if(i!=null||s===r)break;r=r.parent}return i}function Moe(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function Noe(e,t,n){ii(()=>{},t),uf(()=>{const i=n;e.__deleteInstance(t);const s=i[rv];s&&(s(),delete i[rv])},t)}const Roe=["locale","fallbackLocale","availableLocales"],cS=["t","rt","d","n","tm","te"];function Doe(e,t){const n=Object.create(null);return Roe.forEach(s=>{const r=Object.getOwnPropertyDescriptor(t,s);if(!r)throw Pi(vi.UNEXPECTED_ERROR);const a=ht(r.value)?{get(){return r.value.value},set(u){r.value.value=u}}:{get(){return r.get&&r.get()}};Object.defineProperty(n,s,a)}),e.config.globalProperties.$i18n=n,cS.forEach(s=>{const r=Object.getOwnPropertyDescriptor(t,s);if(!r||!r.value)throw Pi(vi.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${s}`,r)}),()=>{delete e.config.globalProperties.$i18n,cS.forEach(s=>{delete e.config.globalProperties[`$${s}`]})}}foe();Wre(wre);zre(jre);Kre(WO);if(__INTLIFY_PROD_DEVTOOLS__){const e=va();e.__INTLIFY__=!0,Ire(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const Loe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Foe(e,t){return C(),te("svg",Loe,t[0]||(t[0]=[F("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"},[F("path",{d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87q.11.06.22.127c.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a8 8 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a7 7 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a7 7 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a7 7 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124q.108-.066.22-.128c.332-.183.582-.495.644-.869z"}),F("path",{d:"M15 12a3 3 0 1 1-6 0a3 3 0 0 1 6 0"})],-1)]))}const Voe=Et({name:"heroicons-cog6-tooth",render:Foe}),Boe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Hoe(e,t){return C(),te("svg",Boe,t[0]||(t[0]=[F("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M6.429 9.75L2.25 12l4.179 2.25m0-4.5l5.571 3l5.571-3m-11.142 0L2.25 7.5L12 2.25l9.75 5.25l-4.179 2.25m0 0L21.75 12l-4.179 2.25m0 0l4.179 2.25L12 21.75L2.25 16.5l4.179-2.25m11.142 0l-5.571 3l-5.571-3"},null,-1)]))}const joe=Et({name:"heroicons-square3-stack3d",render:Hoe}),Uoe={class:"flex flex-col gap-1 p-1 bg"},Goe=$({__name:"ActionBar",setup(e){const t=Ef(),n=K(()=>!["/settings"].includes(t.path));return(i,s)=>{const r=joe,a=t1("RouterLink"),u=Voe;return C(),te("div",Uoe,[O(a,{to:"/",class:sn(["hover:bg-gray-100 h-12 flex items-center justify-center rounded-md",{"bg-zinc-200 text-blue-800":v(n)}])},{default:S(()=>[O(r,{class:"w-5"})]),_:1},8,["class"]),O(a,{to:"/settings",class:"hover:bg-gray-100 h-12 flex items-center justify-center rounded-md","active-class":"bg-zinc-200 text-blue-800"},{default:S(()=>[O(u,{class:"w-5"})]),_:1})])}}}),Woe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function zoe(e,t){return C(),te("svg",Woe,t[0]||(t[0]=[F("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"m15 15l6-6m0 0l-6-6m6 6H9a6 6 0 0 0 0 12h3"},null,-1)]))}const Koe=Et({name:"heroicons-arrow-uturn-right",render:zoe}),qoe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Yoe(e,t){return C(),te("svg",qoe,t[0]||(t[0]=[F("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 15L3 9m0 0l6-6M3 9h12a6 6 0 0 1 0 12h-3"},null,-1)]))}const Joe=Et({name:"heroicons-arrow-uturn-left",render:Yoe}),Xoe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Zoe(e,t){return C(),te("svg",Xoe,t[0]||(t[0]=[F("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M12.75 3.03v.568c0 .334.148.65.405.864l1.068.89c.442.369.535 1.01.216 1.49l-.51.766a2.25 2.25 0 0 1-1.161.886l-.143.048a1.107 1.107 0 0 0-.57 1.664a1.108 1.108 0 0 1-.427 1.605L9 13.125l.423 1.059a.956.956 0 0 1-1.652.928l-.679-.906a1.125 1.125 0 0 0-1.906.172L4.5 15.75l-.612.153M12.75 3.031a9 9 0 0 0-8.862 12.872M12.75 3.031a9 9 0 0 1 6.69 14.036m0 0l-.177-.529A2.25 2.25 0 0 0 17.128 15H16.5l-.324-.324a1.453 1.453 0 0 0-2.328.377l-.036.073a1.6 1.6 0 0 1-.982.816l-.99.282c-.55.157-.894.702-.8 1.267l.073.438c.08.474.49.821.97.821c.846 0 1.598.542 1.865 1.345l.215.643m5.276-3.67a9 9 0 0 1-5.276 3.67m0 0a9 9 0 0 1-10.275-4.835M15.75 9c0 .896-.393 1.7-1.016 2.25"},null,-1)]))}const Qoe=Et({name:"heroicons-globe-asia-australia",render:Zoe}),eae=$({__name:"LocaleSelector",props:Vn({channel:null},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=e,n=window.ThemeEditor.channels,i=vn(e,"modelValue"),s=K(()=>{let u=n.find(o=>o.code===t.channel);return u||(u=n[0]),u.locales}),r=K(()=>{var u;return(u=s.value.find(o=>o.code===i.value))==null?void 0:u.name});Tv(()=>{i.value||(i.value=s.value[0].code)}),Kt(()=>t.channel,u=>{!!s.value.find(l=>l.code===i.value)||(i.value=s.value[0].code)});function a({value:u}){i.value=u}return(u,o)=>{const l=Qoe,c=Fr;return C(),N(v(pt).Root,{onSelect:a},{default:S(()=>[O(v(pt).Trigger,{class:"min-w-32 py-2 appearance-none rounded-lg cursor-pointer inline-flex gap-3 outline-none relative select-none items-center justify-center hover:bg-gray-200"},{default:S(()=>[O(l,{class:"inline w-4"}),qe(" "+ue(v(r))+" ",1),O(v(pt).Indicator,null,{default:S(()=>[O(c,{class:"inline w-4"})]),_:1})]),_:1}),O(v(pt).Positioner,{class:"w-56"},{default:S(()=>[O(v(pt).Content,{class:"pointer-events-none border shadow flex gap-1 p-1 flex-col outline-none rounded bg-white data-[state=open]:animate-fade-in"},{default:S(()=>[O(v(pt).ItemGroup,{class:"flex flex-col"},{default:S(()=>[O(v(pt).ItemGroupLabel,{class:"px-2.5 mb-1 text-gray-700"},{default:S(()=>[qe(ue(u.$t("Locales")),1)]),_:1}),(C(!0),te(Ye,null,zt(v(s),d=>(C(),N(v(pt).Item,{key:d.code,value:d.code,class:"rounded cursor-pointer flex items-center h-9 px-3 gap-3 hover:bg-gray-200"},{default:S(()=>[qe(ue(d.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})}}}),tae={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function nae(e,t){return C(),te("svg",tae,t[0]||(t[0]=[F("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M13.5 21v-7.5a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75V21m-4.5 0H2.36m11.14 0H18m0 0h3.64m-1.39 0V9.349M3.75 21V9.349m0 0a3 3 0 0 0 3.75-.615A3 3 0 0 0 9.75 9.75c.896 0 1.7-.393 2.25-1.016a3 3 0 0 0 2.25 1.016c.896 0 1.7-.393 2.25-1.015q.062.07.128.136a3 3 0 0 0 3.622.478m-16.5 0a3.004 3.004 0 0 1-.621-4.72l1.189-1.19A1.5 1.5 0 0 1 5.378 3h13.243a1.5 1.5 0 0 1 1.06.44l1.19 1.189a3 3 0 0 1-.621 4.72M6.75 18h3.75a.75.75 0 0 0 .75-.75V13.5a.75.75 0 0 0-.75-.75H6.75a.75.75 0 0 0-.75.75v3.75c0 .414.336.75.75.75"},null,-1)]))}const iae=Et({name:"heroicons-building-storefront",render:nae}),sae=$({__name:"ChannelSelector",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=window.ThemeEditor.channels,n=vn(e,"modelValue"),i=K(()=>{var r;return(r=t.find(a=>a.code===n.value))==null?void 0:r.name});function s({value:r}){n.value=r}return(r,a)=>{const u=iae,o=Fr;return C(),N(v(pt).Root,{onSelect:s},{default:S(()=>[O(v(pt).Trigger,{class:"min-w-32 py-2 appearance-none rounded-lg cursor-pointer inline-flex gap-3 outline-none relative select-none items-center justify-center hover:bg-gray-200"},{default:S(()=>[O(u,{class:"inline w-4"}),qe(" "+ue(v(i))+" ",1),O(v(pt).Indicator,null,{default:S(()=>[O(o,{class:"inline w-4"})]),_:1})]),_:1}),O(v(pt).Positioner,{class:"w-56"},{default:S(()=>[O(v(pt).Content,{class:"pointer-events-none border shadow flex gap-1 p-1 flex-col outline-none rounded bg-white data-[state=open]:animate-fade-in"},{default:S(()=>[O(v(pt).ItemGroup,{class:"flex flex-col"},{default:S(()=>[O(v(pt).ItemGroupLabel,{class:"px-2.5 mb-1 text-gray-700"},{default:S(()=>[qe(ue(r.$t("Channels")),1)]),_:1}),(C(!0),te(Ye,null,zt(v(t),l=>(C(),N(v(pt).Item,{key:l.code,value:l.code,class:"rounded cursor-pointer flex items-center h-9 px-3 gap-3 hover:bg-gray-200"},{default:S(()=>[qe(ue(l.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})}}}),rae=["innerHTML"],oae=["innerHTML"],aae=$({__name:"TemplateSelector",props:{modelValue:{},modelModifiers:{}},emits:Vn(["select"],["update:modelValue"]),setup(e,{emit:t}){const n=Si();La();const i=t,s=vn(e,"modelValue"),r=K(()=>n.templates.find(u=>u.template===s.value));Kt([n.templates,()=>n.themeData.template],([u,o])=>{o&&s.value!==o?s.value=o:!s.value&&u.length&&(s.value=u[0].template)},{immediate:!0});function a({value:u}){s.value=u,i("select",r.value)}return(u,o)=>{const l=Fr;return C(),N(v(pt).Root,{onSelect:a},{default:S(()=>[O(v(pt).Trigger,{class:"min-w-44 px-4 py-2 appearance-none rounded-lg cursor-pointer inline-flex gap-3 outline-none relative select-none items-center justify-center hover:bg-gray-200"},{default:S(()=>[v(r)?(C(),te(Ye,{key:0},[F("span",{innerHTML:v(r).icon},null,8,rae),qe(" "+ue(v(r).label),1)],64)):nt("",!0),O(v(pt).Indicator,null,{default:S(()=>[O(l,{class:"inline w-4"})]),_:1})]),_:1}),O(v(pt).Positioner,{class:"w-64"},{default:S(()=>[O(v(pt).Content,{class:"pointer-events-none border shadow flex gap-1 p-1 flex-col outline-none rounded bg-white data-[state=open]:animate-fade-in"},{default:S(()=>[(C(!0),te(Ye,null,zt(v(n).templates,c=>(C(),te(Ye,{key:c.template},[c.template==="__separator__"?(C(),N(v(pt).Separator,{key:0})):(C(),N(v(pt).Item,{key:1,value:c.template,class:"rounded cursor-pointer flex items-center h-9 px-3 gap-3 hover:bg-gray-200"},{default:S(()=>[F("span",{innerHTML:c.icon},null,8,oae),qe(" "+ue(c.label),1)]),_:2},1032,["value"]))],64))),128))]),_:1})]),_:1})]),_:1})}}}),lae={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function cae(e,t){return C(),te("svg",lae,t[0]||(t[0]=[F("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"},null,-1)]))}const uae=Et({name:"heroicons-arrow-left-end-on-rectangle",render:cae});var dae=Object.defineProperty,hae=(e,t,n)=>t in e?dae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Be=(e,t,n)=>hae(e,typeof t!="symbol"?t+"":t,n);function ak(e,...t){for(const n of t){const i=Te(n);for(const s in i)_i(n[s])?(e[s]||(e[s]={}),ak(e[s],n[s])):e[s]=n[s]}return e}function uS(e){return bn(e)}function Ms(e){return q(e)?{type:e}:e}function oo(e){return e?et(e)?e.slice():[e]:[]}function lk(e){return Ce(e)&&e.predicate!=null}var fae=()=>!0;function gb(e,t,n,i){return s=>{var r;return q(s)?!!((r=e[s])!=null&&r.call(e,t,n,i)):We(s)?s(t,n,i):s.predicate(e)(t,n,i)}}function pae(...e){return{predicate:t=>(n,i,s)=>e.map(gb(t,n,i,s)).some(Boolean)}}function gae(...e){return{predicate:t=>(n,i,s)=>e.map(gb(t,n,i,s)).every(Boolean)}}function mae(e){return{predicate:t=>(n,i,s)=>!gb(t,n,i,s)(e)}}function vae(...e){return(t,n,i)=>i.state.matches(...e)}var yae={or:pae,and:gae,not:mae,stateIn:vae};function ck(e,t){return e=e??fae,(n,i,s)=>{if(q(e)){const r=t[e];return We(r)?r(n,i,s):r}return lk(e)?e.predicate(t)(n,i,s):e==null?void 0:e(n,i,s)}}function Dg(e,t){return(n,i,s)=>lk(e)?e.predicate(t)(n,i,s):e}function bae(e){var r,a;const t=e.computed??ee({}),n=e.context??ee({}),i=e.initial?(a=(r=e.states)==null?void 0:r[e.initial])==null?void 0:a.tags:[],s=Yn({value:e.initial??"",previousValue:"",event:ee({}),previousEvent:ee({}),context:yi(n,t),done:!1,tags:i??[],hasTag(u){return this.tags.includes(u)},matches(...u){return u.includes(this.value)},can(u){return ee(this).nextEvents.includes(u)},get nextEvents(){var l,c;const u=((c=(l=e.states)==null?void 0:l[this.value])==null?void 0:c.on)??{},o=(e==null?void 0:e.on)??{};return Object.keys({...u,...o})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return ee(s)}function Ac(e,t){return(n,i)=>{if(Ei(e))return e;if(We(e))return e(n,i);if(q(e)){const s=Number.parseFloat(e);if(!Number.isNaN(s))return s;if(t){const r=t==null?void 0:t[e];return He(r==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${e}\`. It doesn't exist in \`options.delays\``),We(r)?r(n,i):r}}}}function Eae(e){return q(e)?{target:e}:e}function _ae(e,t){return(n,i,s)=>oo(e).map(Eae).find(r=>ck(r.guard,t)(n,i,s)??r.target??r.actions)}var Cae=class{constructor(e,t){var n,i,s,r,a;Be(this,"status","Not Started"),Be(this,"state"),Be(this,"initialState"),Be(this,"initialContext"),Be(this,"id"),Be(this,"type","machine"),Be(this,"activityEvents",new Map),Be(this,"delayedEvents",new Map),Be(this,"stateListeners",new Set),Be(this,"doneListeners",new Set),Be(this,"contextWatchers",new Set),Be(this,"removeStateListener",si),Be(this,"parent"),Be(this,"children",new Map),Be(this,"guardMap"),Be(this,"actionMap"),Be(this,"delayMap"),Be(this,"activityMap"),Be(this,"sync"),Be(this,"options"),Be(this,"config"),Be(this,"_created",()=>{var o;const u=Ms("machine.created");this.executeActions((o=this.config)==null?void 0:o.created,u)}),Be(this,"start",u=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=Pt(this.state,()=>{this.stateListeners.forEach(f=>{f(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(Ms("machine.start"),oo(this.config.activities),"machine.start"),this.executeActions(this.config.entry,Ms("machine.start"));const o=Ms("machine.init"),l=Ce(u)?u.value:u,c=Ce(u)?u.context:void 0;c&&this.setContext(c);const d={target:l??this.config.initial},h=this.getNextStateInfo(d,o);return this.initialState=h,this.performStateChangeEffects(this.state.value,h,o),this}),Be(this,"setupContextWatchers",()=>{const{watch:u}=this.config;if(!u)return;let o=_e(this.state.context);const l=Pt(this.state.context,()=>{var d;const c=_e(this.state.context);for(const[h,f]of Object.entries(u))(((d=this.options.compareFns)==null?void 0:d[h])??Object.is)(o[h],c[h])||this.executeActions(f,this.state.event);o=c});this.contextWatchers.add(l)}),Be(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,Ms("machine.stop")),this.executeActions(this.config.exit,Ms("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),Be(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),Be(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(u=>u()),this.contextWatchers.clear()}),Be(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(u=>{u.forEach(o=>o())}),this.delayedEvents.clear()}),Be(this,"stopActivities",u=>{var o,l;u?((o=this.activityEvents.get(u))==null||o.forEach(c=>c()),(l=this.activityEvents.get(u))==null||l.clear(),this.activityEvents.delete(u)):(this.activityEvents.forEach(c=>{c.forEach(d=>d()),c.clear()}),this.activityEvents.clear())}),Be(this,"sendChild",(u,o)=>{const l=Ms(u),c=$t(o,this.contextSnapshot),d=this.children.get(c);d||He(`[@zag-js/core] Cannot send '${l.type}' event to unknown child`),d.send(l)}),Be(this,"stopChild",u=>{this.children.has(u)||He(`[@zag-js/core > stop-child] Cannot stop unknown child ${u}`),this.children.get(u).stop(),this.children.delete(u)}),Be(this,"removeChild",u=>{this.children.delete(u)}),Be(this,"stopChildren",()=>{this.children.forEach(u=>u.stop()),this.children.clear()}),Be(this,"setParent",u=>{this.parent=u}),Be(this,"spawn",(u,o)=>{const l=$t(u);return o&&(l.id=o),l.type="machine.actor",l.setParent(this),this.children.set(l.id,ee(l)),l.onDone(()=>{this.removeChild(l.id)}).start(),ee(Ke(l))}),Be(this,"stopActivity",u=>{var l;if(!this.state.value)return;const o=this.activityEvents.get(this.state.value);(l=o==null?void 0:o.get(u))==null||l(),o==null||o.delete(u)}),Be(this,"addActivityCleanup",(u,o,l)=>{var c;u&&(this.activityEvents.has(u)?(c=this.activityEvents.get(u))==null||c.set(o,l):this.activityEvents.set(u,new Map([[o,l]])))}),Be(this,"setState",u=>{this.state.previousValue=this.state.value,this.state.value=u;const o=this.getStateNode(u);u==null?bi(this.state.tags):this.state.tags=oo(o==null?void 0:o.tags)}),Be(this,"setContext",u=>{u&&ak(this.state.context,Te(u))}),Be(this,"setOptions",u=>{const o=Te(u);this.actionMap={...this.actionMap,...o.actions},this.delayMap={...this.delayMap,...o.delays},this.activityMap={...this.activityMap,...o.activities},this.guardMap={...this.guardMap,...o.guards}}),Be(this,"getStateNode",u=>{var o;if(u)return(o=this.config.states)==null?void 0:o[u]}),Be(this,"getNextStateInfo",(u,o)=>{const l=this.determineTransition(u,o),c=!(l!=null&&l.target),d=(l==null?void 0:l.target)??this.state.value,h=this.state.value!==d,f=this.getStateNode(d),g={reenter:!c&&!h&&!(l!=null&&l.internal),transition:l,stateNode:f,target:d,changed:h};return this.log("NextState:",`[${o.type}]`,this.state.value,"---->",g.target),g}),Be(this,"getAfterActions",(u,o)=>{let l;const c=this.state.value;return{entry:()=>{l=globalThis.setTimeout(()=>{const d=this.getNextStateInfo(u,this.state.event);this.performStateChangeEffects(c,d,this.state.event)},o)},exit:()=>{globalThis.clearTimeout(l)}}}),Be(this,"getDelayedEventActions",u=>{const o=this.getStateNode(u),l=this.state.event;if(!o||!o.after)return;const c=[],d=[];if(et(o.after)){const h=this.determineTransition(o.after,l);if(!h)return;if(!wn(h,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(h)}`);const p=Ac(h.delay,this.delayMap)(this.contextSnapshot,l),g=this.getAfterActions(h,p);return c.push(g.entry),d.push(g.exit),{entries:c,exits:d}}if(Ce(o.after))for(const h in o.after){const f=o.after[h],g=Ac(h,this.delayMap)(this.contextSnapshot,l),m=this.getAfterActions(f,g);c.push(m.entry),d.push(m.exit)}return{entries:c,exits:d}}),Be(this,"executeActions",(u,o)=>{var c;const l=Dg(u,this.guardMap)(this.contextSnapshot,o,this.guardMeta);for(const d of oo(l)){const h=q(d)?(c=this.actionMap)==null?void 0:c[d]:d;it(q(d)&&!h,`[@zag-js/core > execute-actions] No implementation found for action: \`${d}\``),h==null||h(this.state.context,o,this.meta)}}),Be(this,"executeActivities",(u,o,l)=>{var c;for(const d of o){const h=q(d)?(c=this.activityMap)==null?void 0:c[d]:d;if(!h){it(`[@zag-js/core > execute-activity] No implementation found for activity: \`${d}\``);continue}const f=h(this.state.context,u,this.meta);if(f){const p=q(d)?d:d.name||Rt();this.addActivityCleanup(l??this.state.value,p,f)}}}),Be(this,"createEveryActivities",(u,o)=>{if(u)if(et(u)){const l=oo(u).find(f=>{const p=f.delay,m=Ac(p,this.delayMap)(this.contextSnapshot,this.state.event);return ck(f.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??m!=null});if(!l)return;const d=Ac(l.delay,this.delayMap)(this.contextSnapshot,this.state.event);o(()=>{const f=globalThis.setInterval(()=>{this.executeActions(l.actions,this.state.event)},d);return()=>{globalThis.clearInterval(f)}})}else for(const l in u){const c=u==null?void 0:u[l],h=Ac(l,this.delayMap)(this.contextSnapshot,this.state.event);o(()=>{const p=globalThis.setInterval(()=>{this.executeActions(c,this.state.event)},h);return()=>{globalThis.clearInterval(p)}})}}),Be(this,"setEvent",u=>{this.state.previousEvent=this.state.event,this.state.event=Ke(Ms(u))}),Be(this,"performExitEffects",(u,o)=>{const l=this.state.value;if(l==="")return;const c=u?this.getStateNode(u):void 0;this.stopActivities(l);const d=Dg(c==null?void 0:c.exit,this.guardMap)(this.contextSnapshot,o,this.guardMeta),h=oo(d),f=this.delayedEvents.get(l);f&&h.push(...f),this.executeActions(h,o),this.delayedEvents.delete(l)}),Be(this,"performEntryEffects",(u,o)=>{const l=this.getStateNode(u),c=oo(l==null?void 0:l.activities);this.createEveryActivities(l==null?void 0:l.every,p=>{c.unshift(p)}),c.length>0&&this.executeActivities(o,c);const d=Dg(l==null?void 0:l.entry,this.guardMap)(this.contextSnapshot,o,this.guardMeta),h=oo(d),f=this.getDelayedEventActions(u);l!=null&&l.after&&f&&(this.delayedEvents.set(u,f==null?void 0:f.exits),h.push(...f.entries)),this.executeActions(h,o),(l==null?void 0:l.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(p=>{p(this.stateSnapshot)}),this.stop())}),Be(this,"performTransitionEffects",(u,o)=>{const l=this.determineTransition(u,o);this.executeActions(l==null?void 0:l.actions,o)}),Be(this,"performStateChangeEffects",(u,o,l)=>{this.setEvent(l);const c=o.changed||o.reenter;c&&this.performExitEffects(u,l),this.performTransitionEffects(o.transition,l),this.setState(o.target),c&&this.performEntryEffects(o.target,l)}),Be(this,"determineTransition",(u,o)=>{const l=_ae(u,this.guardMap);return l==null?void 0:l(this.contextSnapshot,o,this.guardMeta)}),Be(this,"sendParent",u=>{var l;this.parent||He("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const o=Ms(u);(l=this.parent)==null||l.send(o)}),Be(this,"log",(...u)=>{}),Be(this,"send",u=>{const o=Ms(u);this.transition(this.state.value,o)}),Be(this,"transition",(u,o)=>{var f,p;const l=q(u)?this.getStateNode(u):u==null?void 0:u.stateNode,c=Ms(o);if(!l&&!this.config.on){const g=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${u}, \`event\`: ${c.type}`;it(g);return}const d=((f=l==null?void 0:l.on)==null?void 0:f[c.type])??((p=this.config.on)==null?void 0:p[c.type]),h=this.getNextStateInfo(d,c);return this.performStateChangeEffects(this.state.value,h,c),h.stateNode}),Be(this,"subscribe",u=>(this.stateListeners.add(u),this.status==="Running"&&u(this.stateSnapshot),()=>{this.stateListeners.delete(u)})),Be(this,"onDone",u=>(this.doneListeners.add(u),this)),Be(this,"onTransition",u=>(this.stateListeners.add(u),this.status==="Running"&&u(this.stateSnapshot),this)),this.config=uS(e),this.options=uS(t??{}),this.id=this.config.id??`machine-${Rt()}`,this.guardMap=((n=this.options)==null?void 0:n.guards)??{},this.actionMap=((i=this.options)==null?void 0:i.actions)??{},this.delayMap=((s=this.options)==null?void 0:s.delays)??{},this.activityMap=((r=this.options)==null?void 0:r.activities)??{},this.sync=((a=this.options)==null?void 0:a.sync)??!1,this.state=bae(this.config),this.initialContext=_e(this.state.context)}get stateSnapshot(){return ee(_e(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const e=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return e.stateSnapshot},get initialContext(){return e.initialContext},get initialState(){var t;return((t=e.initialState)==null?void 0:t.target)??""}}}get meta(){var e;return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:((e=this.initialState)==null?void 0:e.target)??"",getState:()=>this.stateSnapshot,getAction:t=>this.actionMap[t],getGuard:t=>this.guardMap[t]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){const e=this.getState();return{value:e.value,tags:e.tags}}},Sae=(e,t)=>new Cae(e,t),xae=Dn("toggle-group").parts("root","item"),dS=xae.build(),Qn=$i({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`toggle-group:${e.id}`},getItemId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.item)==null?void 0:i.call(n,t))??`toggle-group:${e.id}:${t}`},getRootEl:e=>Qn.getById(e,Qn.getRootId(e)),getElements:e=>{const n=`[data-ownedby='${CSS.escape(Qn.getRootId(e))}']:not([data-disabled])`;return Tr(Qn.getRootEl(e),n)},getFirstEl:e=>zv(Qn.getElements(e)),getLastEl:e=>Kv(Qn.getElements(e)),getNextEl:(e,t)=>Vv(Qn.getElements(e),t,e.currentLoopFocus),getPrevEl:(e,t)=>Bv(Qn.getElements(e),t,e.currentLoopFocus)});function Tae(e,t,n){const i=e.context.value,s=e.context.disabled,r=!e.context.multiple,a=e.context.rovingFocus,u=e.context.orientation==="horizontal";function o(l){const c=Qn.getItemId(e.context,l.value);return{id:c,disabled:!!(l.disabled||s),pressed:!!i.includes(l.value),focused:e.context.focusedId===c}}return{value:i,setValue(l){t({type:"VALUE.SET",value:l})},getRootProps(){return n.element({...dS.root.attrs,id:Qn.getRootId(e.context),dir:e.context.dir,role:r?"radiogroup":"group",tabIndex:e.context.isTabbingBackward?-1:0,"data-disabled":H(s),"data-orientation":e.context.orientation,"data-focus":H(e.context.focusedId!=null),style:{outline:"none"},onMouseDown(){s||t("ROOT.MOUSE_DOWN")},onFocus(l){if(s)return;const c=l.nativeEvent||l;!mu(c)||e.context.isClickFocus||e.context.isTabbingBackward||t("ROOT.FOCUS")},onBlur(){s||t("ROOT.BLUR")}})},getItemState:o,getItemProps(l){const c=o(l),d=c.focused?0:-1;return n.button({...dS.item.attrs,id:c.id,type:"button","data-ownedby":Qn.getRootId(e.context),"data-focus":H(c.focused),disabled:c.disabled,tabIndex:a?d:void 0,role:r?"radio":void 0,"aria-checked":r?c.pressed:void 0,"aria-pressed":r?void 0:c.pressed,"data-disabled":H(c.disabled),"data-orientation":e.context.orientation,dir:e.context.dir,"data-state":c.pressed?"on":"off",onFocus(){c.disabled||t({type:"TOGGLE.FOCUS",id:c.id})},onClick(h){c.disabled||(t({type:"TOGGLE.CLICK",id:c.id,value:l.value}),wf()&&h.currentTarget.focus({preventScroll:!0}))},onKeyDown(h){if(h.defaultPrevented||!mu(h)||c.disabled)return;const p={Tab(g){const m=g.shiftKey;t({type:"TOGGLE.SHIFT_TAB",isShiftTab:m})},ArrowLeft(){!a||!u||t("TOGGLE.FOCUS_PREV")},ArrowRight(){!a||!u||t("TOGGLE.FOCUS_NEXT")},ArrowUp(){!a||u||t("TOGGLE.FOCUS_PREV")},ArrowDown(){!a||u||t("TOGGLE.FOCUS_NEXT")},Home(){a&&t("TOGGLE.FOCUS_FIRST")},End(){a&&t("TOGGLE.FOCUS_LAST")}}[js(h)];p&&(p(h),h.key!=="Tab"&&h.preventDefault())}})}}}var{not:wae,and:Iae}=yae;function Oae(e){const t=Te(e);return Sae({id:"toggle-group",initial:"idle",context:{value:[],disabled:!1,orientation:"horizontal",rovingFocus:!0,loopFocus:!0,...t,focusedId:null,isTabbingBackward:!1,isClickFocus:!1,isWithinToolbar:!1},computed:{currentLoopFocus:n=>n.loopFocus&&!n.isWithinToolbar},entry:["checkIfWithinToolbar"],on:{"VALUE.SET":{actions:["setValue"]},"TOGGLE.CLICK":{actions:["setValue"]},"ROOT.MOUSE_DOWN":{actions:["setClickFocus"]}},states:{idle:{on:{"ROOT.FOCUS":{target:"focused",guard:wae(Iae("isClickFocus","isTabbingBackward")),actions:["focusFirstToggle","clearClickFocus"]},"TOGGLE.FOCUS":{target:"focused",actions:["setFocusedId"]}}},focused:{on:{"ROOT.BLUR":{target:"idle",actions:["clearIsTabbingBackward"]},"TOGGLE.FOCUS":{actions:["setFocusedId"]},"TOGGLE.FOCUS_NEXT":{actions:["focusNextToggle"]},"TOGGLE.FOCUS_PREV":{actions:["focusPrevToggle"]},"TOGGLE.FOCUS_FIRST":{actions:["focusFirstToggle"]},"TOGGLE.FOCUS_LAST":{actions:["focusLastToggle"]},"TOGGLE.SHIFT_TAB":{target:"idle",actions:["setIsTabbingBackward"]}}}}},{guards:{isClickFocus:n=>n.isClickFocus,isTabbingBackward:n=>n.isTabbingBackward},actions:{setIsTabbingBackward(n){n.isTabbingBackward=!0},clearIsTabbingBackward(n){n.isTabbingBackward=!1},setClickFocus(n){n.isClickFocus=!0},clearClickFocus(n){n.isClickFocus=!1},checkIfWithinToolbar(n){var s;const i=(s=Qn.getRootEl(n))==null?void 0:s.closest("[role=toolbar]");n.isWithinToolbar=!!i},setFocusedId(n,i){n.focusedId=i.id},clearFocusedId(n){n.focusedId=null},setValue(n,i){if(!i.value)return;let s=Array.from(n.value);n.multiple?s=s.includes(i.value)?Yv(s,i.value):qv(s,i.value):s=dn(n.value,[i.value])?[]:[i.value],Aae.value(n,s)},focusNextToggle(n){Je(()=>{var i;n.focusedId&&((i=Qn.getNextEl(n,n.focusedId))==null||i.focus({preventScroll:!0}))})},focusPrevToggle(n){Je(()=>{var i;n.focusedId&&((i=Qn.getPrevEl(n,n.focusedId))==null||i.focus({preventScroll:!0}))})},focusFirstToggle(n){Je(()=>{var i;(i=Qn.getFirstEl(n))==null||i.focus({preventScroll:!0})})},focusLastToggle(n){Je(()=>{var i;(i=Qn.getLastEl(n))==null||i.focus({preventScroll:!0})})}}})}var kae={change(e){var t;(t=e.onValueChange)==null||t.call(e,{value:Array.from(e.value)})}},Aae={value(e,t){dn(e.value,t)||(e.value=t,kae.change(e))}};tn()(["dir","disabled","getRootNode","id","ids","loopFocus","multiple","onValueChange","orientation","rovingFocus","value"]);tn()(["value","disabled"]);const Pae=(e,t)=>{const n=qn(),i=es(),s=Ri(Ni),r=K(()=>({id:n,dir:s.value.dir,value:e.modelValue??e.defaultValue,getRootNode:i==null?void 0:i.value.getRootNode,onValueChange:o=>{t==null||t("valueChange",o),t==null||t("update:modelValue",o.value)},...ts(e)})),[a,u]=Ci(Oae(r.value),{context:r});return K(()=>Tae(a.value,u,Mi))},[uk,dk]=vt("ToggleGroupContext"),$ae=$({__name:"toggle-group-context",setup(e){const t=dk();return(n,i)=>B(n.$slots,"default",hn(on(v(t))))}}),Mae=$({__name:"toggle-group-item",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,n=dk();return G(),(i,s)=>(C(),N(v(J).button,z(v(n).getItemProps(t),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["as-child"]))}}),Nae=$({__name:"toggle-group-root-provider",props:{value:{},asChild:{type:Boolean}},setup(e){const t=e,n=K(()=>t.value);return uk(n),G(),(i,s)=>(C(),N(v(J).div,z(n.value.getRootProps(),{"as-child":i.asChild}),{default:S(()=>[B(i.$slots,"default")]),_:3},16,["as-child"]))}}),Rae=$({__name:"toggle-group-root",props:On({defaultValue:{},disabled:{type:Boolean},id:{},ids:{},loopFocus:{type:Boolean},modelValue:{},multiple:{type:Boolean},orientation:{},rovingFocus:{type:Boolean},asChild:{type:Boolean}},{disabled:void 0,loopFocus:void 0,multiple:void 0,rovingFocus:void 0}),emits:["valueChange","update:modelValue"],setup(e,{emit:t}){const s=Pae(e,t);return uk(s),(r,a)=>(C(),N(v(J).div,z(v(s).getRootProps(),{"as-child":r.asChild}),{default:S(()=>[B(r.$slots,"default")]),_:3},16,["as-child"]))}}),hS=Object.freeze(Object.defineProperty({__proto__:null,Context:$ae,Item:Mae,Root:Rae,RootProvider:Nae},Symbol.toStringTag,{value:"Module"})),Dae={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Lae(e,t){return C(),te("svg",Dae,t[0]||(t[0]=[F("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25"},null,-1)]))}const Fae=Et({name:"heroicons-computer-desktop",render:Lae}),Vae={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Bae(e,t){return C(),te("svg",Vae,t[0]||(t[0]=[F("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"},null,-1)]))}const Hae=Et({name:"heroicons-device-phone-mobile",render:Bae}),jae={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Uae(e,t){return C(),te("svg",jae,t[0]||(t[0]=[F("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"},null,-1)]))}const Gae=Et({name:"heroicons-arrows-pointing-out",render:Uae}),Wae={class:"flex"},zae={class:"w-[23.47rem] h-full items-center flex-none flex"},Kae={class:"flex-1 px-4 border-l border-r"},qae={class:"font-medium"},Yae={class:"text-gray-700"},Jae={class:"flex flex-1 items-center justify-between"},Xae={class:"flex-1 flex justify-start pl-4 gap-4"},Zae={class:"mr-4 flex space-x-4"},Qae={class:"flex items-center gap-1"},ele=["title","aria-label"],tle=["title","aria-label"],nle=["disabled"],ile={class:"flex flex-col gap-8 p-6"},sle={class:"flex gap-6"},fS="bagisto_visual_editor_confirm_publush",rle=$({__name:"Header",props:Vn({canUndoHistory:{type:Boolean},canRedoHistory:{type:Boolean}},{viewMode:{default:"desktop"},viewModeModifiers:{}}),emits:Vn(["exit","channelChanged","localeChanged","undoHistory","redoHistory","publishTheme","changeTemplate"],["update:viewMode"]),setup(e,{emit:t}){const n=t,i=Si(),s=vn(e,"viewMode"),r=Xe([{icon:Fae,value:"desktop",label:"Desktop"},{icon:Hae,value:"mobile",label:"Mobile"},{icon:Gae,value:"fullscreen",label:"Fullscreen"}]),a=K({get:()=>[s.value],set(d){s.value=d[0]}}),u=Xe(!1),o=Xe(!1);function l(){if(localStorage.getItem(fS)===null){u.value=!0;return}n("publishTheme")}function c(){o.value&&localStorage.setItem(fS,"true"),n("publishTheme"),u.value=!1}return(d,h)=>{const f=uae,p=aae,g=sae,m=eae,y=Joe,b=Koe,E=dy;return C(),te("div",Wae,[F("div",zae,[F("button",{class:"hover:bg-gray-100 w-[3.45rem] flex justify-center items-center focus:outline-none h-full",onClick:h[0]||(h[0]=_=>n("exit"))},[O(f,{class:"w-5"})]),F("div",Kae,[F("h1",qae,ue(d.$t("title")),1),F("h2",Yae,ue(v(i).themeData.theme),1)])]),F("div",Jae,[F("div",Xae,[O(p,{onSelect:h[1]||(h[1]=_=>n("changeTemplate",_))}),O(g,{"model-value":v(i).themeData.channel,"onUpdate:modelValue":h[2]||(h[2]=_=>n("channelChanged",_))},null,8,["model-value"]),O(m,{channel:v(i).themeData.channel,"model-value":v(i).themeData.locale,"onUpdate:modelValue":h[3]||(h[3]=_=>n("localeChanged",_))},null,8,["channel","model-value"])]),F("div",Zae,[O(v(hS).Root,{modelValue:v(a),"onUpdate:modelValue":h[4]||(h[4]=_=>ht(a)?a.value=_:null),class:"rounded-lg bg-gray-200 p-1 flex gap-1 overflow-hidden"},{default:S(()=>[(C(!0),te(Ye,null,zt(v(r),_=>(C(),N(v(hS).Item,{value:_.value,key:_.value,class:"appearance-none cursor-pointer inline-flex items-center justify-center outline-none relative p-1 rounded data-[state=on]:bg-white"},{default:S(()=>[(C(),N(i1(_.icon),{class:"w-4"}))]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),F("div",Qae,[F("button",{title:d.$t("Undo"),"aria-label":d.$t("Undo"),type:"button",class:sn(["rounded px-2 py-1 hover:bg-gray-200",{"pointer-events-none text-gray-300":!e.canUndoHistory}]),onClick:h[5]||(h[5]=_=>n("undoHistory"))},[O(y,{class:"inline w-4 h-4"})],10,ele),F("button",{title:d.$t("Redo"),"aria-label":d.$t("Redo"),type:"button",class:sn(["rounded px-2 hover:bg-gray-200 py-1",{"pointer-events-none text-gray-300":!e.canRedoHistory}]),onClick:h[6]||(h[6]=_=>n("redoHistory"))},[O(b,{class:"inline w-4 h-4"})],10,tle)]),F("button",{class:"cursor-pointer border px-3 rounded-md shadow-sm bg-gray-700 text-white active:bg-gray-600 focus:ring focus:ring-gray-200 disabled:bg-gray-200 disabled:text-gray-400",disabled:!e.canUndoHistory,onClick:l},ue(d.$t("Publish")),9,nle)])]),O(v(yn).Root,{open:v(u),"onUpdate:open":h[8]||(h[8]=_=>ht(u)?u.value=_:null),lazyMount:""},{default:S(()=>[(C(),N(lf,{to:"body"},[O(v(yn).Backdrop,{class:"fixed h-screen w-screen left-0 top-0 backdrop-blur-sm bg-gray-700/30"}),O(v(yn).Positioner,{class:"flex fixed inset-0 items-center justify-center"},{default:S(()=>[O(v(yn).Content,{class:"bg-white shadow rounded-md flex flex-col w-full max-w-sm overflow-hidden"},{default:S(()=>[F("div",ile,[O(v(yn).Title,{class:"text-lg font-semibold"},{default:S(()=>[qe(ue(d.$t("Publish edits ?")),1)]),_:1}),O(v(yn).Description,null,{default:S(()=>[qe(ue(d.$t("publish_warning_line1")),1),h[9]||(h[9]=F("br",null,null,-1)),h[10]||(h[10]=F("br",null,null,-1)),qe(" "+ue(d.$t("publish_warning_line2")),1)]),_:1}),O(E,{modelValue:v(o),"onUpdate:modelValue":h[7]||(h[7]=_=>ht(o)?o.value=_:null),label:d.$t("Don't ask next time")},null,8,["modelValue","label"]),F("div",sle,[O(v(yn).CloseTrigger,{class:"flex-1 border rounded py-1 outline-none hover:bg-gray-100 focus:ring focus:ring-gray-700"},{default:S(()=>h[11]||(h[11]=[qe("Cancel")])),_:1}),F("button",{class:"flex-1 border rounded bg-gray-900 hover:bg-gray-950 text-white",onClick:c},ue(d.$t("Publish")),1)])])]),_:1})]),_:1})]))]),_:1},8,["open"])])}}}),ole={class:"h-screen w-full flex flex-col"},ale={class:"flex-1 bg-gray-100 flex overflow-y-hidden"},lle={class:"w-14 flex-none border-r bg-white transition-all shado"},cle={class:"flex-none w-80 border-r bg-white flex overflow-y-hidden transition-all shadow"},ule={class:"flex-1 flex justify-center items-center p-4"},dle=["src"],hle=$({__name:"App",setup(e){const t=La(),n=Si(),i=Xx(),s=window.ThemeEditor.storefrontUrl,r=xv("previewer"),a=Xe("desktop"),u=K(()=>a.value!=="mobile"?"width: 100%; height: 100%":"width: 375px; height: 100%"),o={initialize(f){const p=n.themeData.template!==f.themeData.template;n.setThemeData(f.themeData),n.setSettingsSchema(f.settingsSchema),n.setTemplates(f.templates),n.setAvailableSections(window.ThemeEditor.availableSections),n.setPreviewIframeReady(),p&&t.replace("/"),i.done()},usedColors(f){Object.assign(n.usedColors,f)},"section:move-up":n.moveSectionUp,"section:move-down":n.moveSectionDown,"section:toggle":n.toggleSection,"section:remove":n.removeSection};window.addEventListener("message",f=>{const{data:p}=f;p.type&&o[p.type]&&o[p.type](p.data)}),ii(()=>{n.setPreviewIframe(r.value)});function l(){window.location.href=window.ThemeEditor.routes.themesIndex}function c(f){var g;if(!r.value)return;const p=new URL(window.ThemeEditor.storefrontUrl);p.searchParams.set("channel",f),i.start(),(g=r.value.contentWindow)==null||g.location.replace(p.href),n.redoHistory(),t.replace("/")}function d(f){var g;if(!r.value)return;const p=new URL(window.ThemeEditor.storefrontUrl);p.searchParams.set("locale",f),p.searchParams.set("channel",n.themeData.channel),i.start(),(g=r.value.contentWindow)==null||g.location.replace(p.href),n.resetHistory(),t.replace("/")}function h(f){var g;if(!r.value)return;const p=new URL(f.previewUrl);p.searchParams.set("locale",n.themeData.locale),p.searchParams.set("channel",n.themeData.channel),p.searchParams.set("_designMode",n.themeData.theme),i.start(),(g=r.value.contentWindow)==null||g.location.replace(p.href),n.resetHistory(),t.replace("/")}return(f,p)=>{const g=rle,m=Goe,y=t1("RouterView");return C(),te("div",ole,[O(g,{viewMode:v(a),"onUpdate:viewMode":p[0]||(p[0]=b=>ht(a)?a.value=b:null),class:"h-14 border-b flex-none","can-undo-history":v(n).canUndoHistory,"can-redo-history":v(n).canRedoHistory,onExit:l,onChannelChanged:c,onLocaleChanged:d,onUndoHistory:p[1]||(p[1]=b=>v(n).undoHistory()),onRedoHistory:p[2]||(p[2]=b=>v(n).redoHistory()),onPublishTheme:p[3]||(p[3]=b=>v(n).publishTheme()),onChangeTemplate:h},null,8,["viewMode","can-undo-history","can-redo-history"]),F("div",ale,[Ia(F("div",lle,[O(m)],512),[[qg,v(a)!=="fullscreen"]]),Ia(F("aside",cle,[O(y)],512),[[qg,v(a)!=="fullscreen"]]),F("div",ule,[F("iframe",{ref:"previewer",frameborder:"0",class:"transition-all shadow bg-white",src:v(s),style:Nu(v(u))},null,12,dle)])])])}}}),up=OP(hle),fle=$P(),ple=V$({routes:kse,history:g$(window.ThemeEditor.baseUrl)}),gle=Ioe({locale:window.ThemeEditor.editorLocale,messages:{[window.ThemeEditor.editorLocale]:window.ThemeEditor.messages}});up.use(fle);up.use(ple);up.use(gle);up.mount("#app");

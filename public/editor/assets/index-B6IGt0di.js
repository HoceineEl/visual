/**
* @vue/shared v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ov(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const It={},vl=[],sr=()=>{},pk=()=>!1,Qh=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),av=e=>e.startsWith("onUpdate:"),Fn=Object.assign,lv=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},gk=Object.prototype.hasOwnProperty,Nt=(e,t)=>gk.call(e,t),Xe=Array.isArray,yl=e=>ef(e)==="[object Map]",mS=e=>ef(e)==="[object Set]",it=e=>typeof e=="function",rn=e=>typeof e=="string",Ro=e=>typeof e=="symbol",Zt=e=>e!==null&&typeof e=="object",vS=e=>(Zt(e)||it(e))&&it(e.then)&&it(e.catch),yS=Object.prototype.toString,ef=e=>yS.call(e),mk=e=>ef(e).slice(8,-1),bS=e=>ef(e)==="[object Object]",cv=e=>rn(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Vc=ov(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),tf=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},vk=/-(\w)/g,Yi=tf(e=>e.replace(vk,(t,n)=>n?n.toUpperCase():"")),yk=/\B([A-Z])/g,Do=tf(e=>e.replace(yk,"-$1").toLowerCase()),nf=tf(e=>e.charAt(0).toUpperCase()+e.slice(1)),up=tf(e=>e?`on${nf(e)}`:""),wi=(e,t)=>!Object.is(e,t),Dd=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},ES=(e,t,n,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:n})},Lg=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let mb;const _S=()=>mb||(mb=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Nu(e){if(Xe(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],s=rn(i)?Ck(i):Nu(i);if(s)for(const r in s)t[r]=s[r]}return t}else if(rn(e)||Zt(e))return e}const bk=/;(?![^(]*\))/g,Ek=/:([^]+)/,_k=/\/\*[^]*?\*\//g;function Ck(e){const t={};return e.replace(_k,"").split(bk).forEach(n=>{if(n){const i=n.split(Ek);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function sn(e){let t="";if(rn(e))t=e;else if(Xe(e))for(let n=0;n<e.length;n++){const i=sn(e[n]);i&&(t+=i+" ")}else if(Zt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function hn(e){if(!e)return null;let{class:t,style:n}=e;return t&&!rn(t)&&(e.class=sn(t)),n&&(e.style=Nu(n)),e}const Sk="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",xk=ov(Sk);function CS(e){return!!e||e===""}const SS=e=>!!(e&&e.__v_isRef===!0),ue=e=>rn(e)?e:e==null?"":Xe(e)||Zt(e)&&(e.toString===yS||!it(e.toString))?SS(e)?ue(e.value):JSON.stringify(e,xS,2):String(e),xS=(e,t)=>SS(t)?xS(e,t.value):yl(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,s],r)=>(n[dp(i,r)+" =>"]=s,n),{})}:mS(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>dp(n))}:Ro(t)?dp(t):Zt(t)&&!Xe(t)&&!bS(t)?String(t):t,dp=(e,t="")=>{var n;return Ro(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ui;class TS{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ui,!t&&ui&&(this.index=(ui.scopes||(ui.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=ui;try{return ui=this,t()}finally{ui=n}}}on(){ui=this}off(){ui=this.parent}stop(t){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function uv(e){return new TS(e)}function dv(){return ui}function wS(e,t=!1){ui&&ui.cleanups.push(e)}let Wt;const hp=new WeakSet;class IS{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ui&&ui.active&&ui.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,hp.has(this)&&(hp.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||kS(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,vb(this),AS(this);const t=Wt,n=Fs;Wt=this,Fs=!0;try{return this.fn()}finally{PS(this),Wt=t,Fs=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)pv(t);this.deps=this.depsTail=void 0,vb(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?hp.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Fg(this)&&this.run()}get dirty(){return Fg(this)}}let OS=0,Bc,Hc;function kS(e,t=!1){if(e.flags|=8,t){e.next=Hc,Hc=e;return}e.next=Bc,Bc=e}function hv(){OS++}function fv(){if(--OS>0)return;if(Hc){let t=Hc;for(Hc=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Bc;){let t=Bc;for(Bc=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){e||(e=i)}t=n}}if(e)throw e}function AS(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function PS(e){let t,n=e.depsTail,i=n;for(;i;){const s=i.prevDep;i.version===-1?(i===n&&(n=s),pv(i),Tk(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=s}e.deps=t,e.depsTail=n}function Fg(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&($S(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function $S(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===lu))return;e.globalVersion=lu;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Fg(e)){e.flags&=-3;return}const n=Wt,i=Fs;Wt=e,Fs=!0;try{AS(e);const s=e.fn(e._value);(t.version===0||wi(s,e._value))&&(e._value=s,t.version++)}catch(s){throw t.version++,s}finally{Wt=n,Fs=i,PS(e),e.flags&=-3}}function pv(e,t=!1){const{dep:n,prevSub:i,nextSub:s}=e;if(i&&(i.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=i,e.nextSub=void 0),n.subs===e&&(n.subs=i),!n.subs&&n.computed){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)pv(r,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Tk(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Fs=!0;const MS=[];function Lo(){MS.push(Fs),Fs=!1}function Fo(){const e=MS.pop();Fs=e===void 0?!0:e}function vb(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Wt;Wt=void 0;try{t()}finally{Wt=n}}}let lu=0;class wk{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class sf{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Wt||!Fs||Wt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Wt)n=this.activeLink=new wk(Wt,this),Wt.deps?(n.prevDep=Wt.depsTail,Wt.depsTail.nextDep=n,Wt.depsTail=n):Wt.deps=Wt.depsTail=n,NS(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=Wt.depsTail,n.nextDep=void 0,Wt.depsTail.nextDep=n,Wt.depsTail=n,Wt.deps===n&&(Wt.deps=i)}return n}trigger(t){this.version++,lu++,this.notify(t)}notify(t){hv();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{fv()}}}function NS(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)NS(i)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const nh=new WeakMap,va=Symbol(""),Vg=Symbol(""),cu=Symbol("");function ti(e,t,n){if(Fs&&Wt){let i=nh.get(e);i||nh.set(e,i=new Map);let s=i.get(n);s||(i.set(n,s=new sf),s.map=i,s.key=n),s.track()}}function Or(e,t,n,i,s,r){const a=nh.get(e);if(!a){lu++;return}const u=o=>{o&&o.trigger()};if(hv(),t==="clear")a.forEach(u);else{const o=Xe(e),l=o&&cv(n);if(o&&n==="length"){const c=Number(i);a.forEach((d,h)=>{(h==="length"||h===cu||!Ro(h)&&h>=c)&&u(d)})}else switch(n!==void 0&&u(a.get(n)),l&&u(a.get(cu)),t){case"add":o?l&&u(a.get("length")):(u(a.get(va)),yl(e)&&u(a.get(Vg)));break;case"delete":o||(u(a.get(va)),yl(e)&&u(a.get(Vg)));break;case"set":yl(e)&&u(a.get(va));break}}fv()}function Ik(e,t){const n=nh.get(e);return n&&n.get(t)}function Wa(e){const t=kt(e);return t===e?t:(ti(t,"iterate",cu),ps(e)?t:t.map(Qn))}function rf(e){return ti(e=kt(e),"iterate",cu),e}const Ok={__proto__:null,[Symbol.iterator](){return fp(this,Symbol.iterator,Qn)},concat(...e){return Wa(this).concat(...e.map(t=>Xe(t)?Wa(t):t))},entries(){return fp(this,"entries",e=>(e[1]=Qn(e[1]),e))},every(e,t){return mr(this,"every",e,t,void 0,arguments)},filter(e,t){return mr(this,"filter",e,t,n=>n.map(Qn),arguments)},find(e,t){return mr(this,"find",e,t,Qn,arguments)},findIndex(e,t){return mr(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return mr(this,"findLast",e,t,Qn,arguments)},findLastIndex(e,t){return mr(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return mr(this,"forEach",e,t,void 0,arguments)},includes(...e){return pp(this,"includes",e)},indexOf(...e){return pp(this,"indexOf",e)},join(e){return Wa(this).join(e)},lastIndexOf(...e){return pp(this,"lastIndexOf",e)},map(e,t){return mr(this,"map",e,t,void 0,arguments)},pop(){return nc(this,"pop")},push(...e){return nc(this,"push",e)},reduce(e,...t){return yb(this,"reduce",e,t)},reduceRight(e,...t){return yb(this,"reduceRight",e,t)},shift(){return nc(this,"shift")},some(e,t){return mr(this,"some",e,t,void 0,arguments)},splice(...e){return nc(this,"splice",e)},toReversed(){return Wa(this).toReversed()},toSorted(e){return Wa(this).toSorted(e)},toSpliced(...e){return Wa(this).toSpliced(...e)},unshift(...e){return nc(this,"unshift",e)},values(){return fp(this,"values",Qn)}};function fp(e,t,n){const i=rf(e),s=i[t]();return i!==e&&!ps(e)&&(s._next=s.next,s.next=()=>{const r=s._next();return r.value&&(r.value=n(r.value)),r}),s}const kk=Array.prototype;function mr(e,t,n,i,s,r){const a=rf(e),u=a!==e&&!ps(e),o=a[t];if(o!==kk[t]){const d=o.apply(e,r);return u?Qn(d):d}let l=n;a!==e&&(u?l=function(d,h){return n.call(this,Qn(d),h,e)}:n.length>2&&(l=function(d,h){return n.call(this,d,h,e)}));const c=o.call(a,l,i);return u&&s?s(c):c}function yb(e,t,n,i){const s=rf(e);let r=n;return s!==e&&(ps(e)?n.length>3&&(r=function(a,u,o){return n.call(this,a,u,o,e)}):r=function(a,u,o){return n.call(this,a,Qn(u),o,e)}),s[t](r,...i)}function pp(e,t,n){const i=kt(e);ti(i,"iterate",cu);const s=i[t](...n);return(s===-1||s===!1)&&yv(n[0])?(n[0]=kt(n[0]),i[t](...n)):s}function nc(e,t,n=[]){Lo(),hv();const i=kt(e)[t].apply(e,n);return fv(),Fo(),i}const Ak=ov("__proto__,__v_isRef,__isVue"),RS=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ro));function Pk(e){Ro(e)||(e=String(e));const t=kt(this);return ti(t,"has",e),t.hasOwnProperty(e)}class DS{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,i){const s=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return r;if(n==="__v_raw")return i===(s?r?Gk:BS:r?VS:FS).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const a=Xe(t);if(!s){let o;if(a&&(o=Ok[n]))return o;if(n==="hasOwnProperty")return Pk}const u=Reflect.get(t,n,dt(t)?t:i);return(Ro(n)?RS.has(n):Ak(n))||(s||ti(t,"get",n),r)?u:dt(u)?a&&cv(n)?u:u.value:Zt(u)?s?Il(u):nr(u):u}}class LS extends DS{constructor(t=!1){super(!1,t)}set(t,n,i,s){let r=t[n];if(!this._isShallow){const o=xa(r);if(!ps(i)&&!xa(i)&&(r=kt(r),i=kt(i)),!Xe(t)&&dt(r)&&!dt(i))return o?!1:(r.value=i,!0)}const a=Xe(t)&&cv(n)?Number(n)<t.length:Nt(t,n),u=Reflect.set(t,n,i,dt(t)?t:s);return t===kt(s)&&(a?wi(i,r)&&Or(t,"set",n,i):Or(t,"add",n,i)),u}deleteProperty(t,n){const i=Nt(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&i&&Or(t,"delete",n,void 0),s}has(t,n){const i=Reflect.has(t,n);return(!Ro(n)||!RS.has(n))&&ti(t,"has",n),i}ownKeys(t){return ti(t,"iterate",Xe(t)?"length":va),Reflect.ownKeys(t)}}class $k extends DS{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Mk=new LS,Nk=new $k,Rk=new LS(!0);const gv=e=>e,of=e=>Reflect.getPrototypeOf(e);function td(e,t,n=!1,i=!1){e=e.__v_raw;const s=kt(e),r=kt(t);n||(wi(t,r)&&ti(s,"get",t),ti(s,"get",r));const{has:a}=of(s),u=i?gv:n?bv:Qn;if(a.call(s,t))return u(e.get(t));if(a.call(s,r))return u(e.get(r));e!==s&&e.get(t)}function nd(e,t=!1){const n=this.__v_raw,i=kt(n),s=kt(e);return t||(wi(e,s)&&ti(i,"has",e),ti(i,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function id(e,t=!1){return e=e.__v_raw,!t&&ti(kt(e),"iterate",va),Reflect.get(e,"size",e)}function bb(e,t=!1){!t&&!ps(e)&&!xa(e)&&(e=kt(e));const n=kt(this);return of(n).has.call(n,e)||(n.add(e),Or(n,"add",e,e)),this}function Eb(e,t,n=!1){!n&&!ps(t)&&!xa(t)&&(t=kt(t));const i=kt(this),{has:s,get:r}=of(i);let a=s.call(i,e);a||(e=kt(e),a=s.call(i,e));const u=r.call(i,e);return i.set(e,t),a?wi(t,u)&&Or(i,"set",e,t):Or(i,"add",e,t),this}function _b(e){const t=kt(this),{has:n,get:i}=of(t);let s=n.call(t,e);s||(e=kt(e),s=n.call(t,e)),i&&i.call(t,e);const r=t.delete(e);return s&&Or(t,"delete",e,void 0),r}function Cb(){const e=kt(this),t=e.size!==0,n=e.clear();return t&&Or(e,"clear",void 0,void 0),n}function sd(e,t){return function(i,s){const r=this,a=r.__v_raw,u=kt(a),o=t?gv:e?bv:Qn;return!e&&ti(u,"iterate",va),a.forEach((l,c)=>i.call(s,o(l),o(c),r))}}function rd(e,t,n){return function(...i){const s=this.__v_raw,r=kt(s),a=yl(r),u=e==="entries"||e===Symbol.iterator&&a,o=e==="keys"&&a,l=s[e](...i),c=n?gv:t?bv:Qn;return!t&&ti(r,"iterate",o?Vg:va),{next(){const{value:d,done:h}=l.next();return h?{value:d,done:h}:{value:u?[c(d[0]),c(d[1])]:c(d),done:h}},[Symbol.iterator](){return this}}}}function Fr(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Dk(){const e={get(r){return td(this,r)},get size(){return id(this)},has:nd,add:bb,set:Eb,delete:_b,clear:Cb,forEach:sd(!1,!1)},t={get(r){return td(this,r,!1,!0)},get size(){return id(this)},has:nd,add(r){return bb.call(this,r,!0)},set(r,a){return Eb.call(this,r,a,!0)},delete:_b,clear:Cb,forEach:sd(!1,!0)},n={get(r){return td(this,r,!0)},get size(){return id(this,!0)},has(r){return nd.call(this,r,!0)},add:Fr("add"),set:Fr("set"),delete:Fr("delete"),clear:Fr("clear"),forEach:sd(!0,!1)},i={get(r){return td(this,r,!0,!0)},get size(){return id(this,!0)},has(r){return nd.call(this,r,!0)},add:Fr("add"),set:Fr("set"),delete:Fr("delete"),clear:Fr("clear"),forEach:sd(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=rd(r,!1,!1),n[r]=rd(r,!0,!1),t[r]=rd(r,!1,!0),i[r]=rd(r,!0,!0)}),[e,n,t,i]}const[Lk,Fk,Vk,Bk]=Dk();function mv(e,t){const n=t?e?Bk:Vk:e?Fk:Lk;return(i,s,r)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?i:Reflect.get(Nt(n,s)&&s in i?n:i,s,r)}const Hk={get:mv(!1,!1)},jk={get:mv(!1,!0)},Uk={get:mv(!0,!1)};const FS=new WeakMap,VS=new WeakMap,BS=new WeakMap,Gk=new WeakMap;function Wk(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function zk(e){return e.__v_skip||!Object.isExtensible(e)?0:Wk(mk(e))}function nr(e){return xa(e)?e:vv(e,!1,Mk,Hk,FS)}function HS(e){return vv(e,!1,Rk,jk,VS)}function Il(e){return vv(e,!0,Nk,Uk,BS)}function vv(e,t,n,i,s){if(!Zt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=s.get(e);if(r)return r;const a=zk(e);if(a===0)return e;const u=new Proxy(e,a===2?i:n);return s.set(e,u),u}function vo(e){return xa(e)?vo(e.__v_raw):!!(e&&e.__v_isReactive)}function xa(e){return!!(e&&e.__v_isReadonly)}function ps(e){return!!(e&&e.__v_isShallow)}function yv(e){return e?!!e.__v_raw:!1}function kt(e){const t=e&&e.__v_raw;return t?kt(t):e}function bt(e){return!Nt(e,"__v_skip")&&Object.isExtensible(e)&&ES(e,"__v_skip",!0),e}const Qn=e=>Zt(e)?nr(e):e,bv=e=>Zt(e)?Il(e):e;function dt(e){return e?e.__v_isRef===!0:!1}function st(e){return jS(e,!1)}function yo(e){return jS(e,!0)}function jS(e,t){return dt(e)?e:new Kk(e,t)}class Kk{constructor(t,n){this.dep=new sf,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:kt(t),this._value=n?t:Qn(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,i=this.__v_isShallow||ps(t)||xa(t);t=i?t:kt(t),wi(t,n)&&(this._rawValue=t,this._value=i?t:Qn(t),this.dep.trigger())}}function v(e){return dt(e)?e.value:e}function qk(e){return it(e)?e():v(e)}const Yk={get:(e,t,n)=>t==="__v_raw"?e:v(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const s=e[t];return dt(s)&&!dt(n)?(s.value=n,!0):Reflect.set(e,t,n,i)}};function US(e){return vo(e)?e:new Proxy(e,Yk)}class Jk{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new sf,{get:i,set:s}=t(n.track.bind(n),n.trigger.bind(n));this._get=i,this._set=s}get value(){return this._value=this._get()}set value(t){this._set(t)}}function Ev(e){return new Jk(e)}function GS(e){const t=Xe(e)?new Array(e.length):{};for(const n in e)t[n]=WS(e,n);return t}class Xk{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Ik(kt(this._object),this._key)}}class Zk{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Qk(e,t,n){return dt(e)?e:it(e)?new Zk(e):Zt(e)&&arguments.length>1?WS(e,t,n):st(e)}function WS(e,t,n){const i=e[t];return dt(i)?i:new Xk(e,t,n)}class eA{constructor(t,n,i){this.fn=t,this.setter=n,this._value=void 0,this.dep=new sf(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=lu-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Wt!==this)return kS(this,!0),!0}get value(){const t=this.dep.track();return $S(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function tA(e,t,n=!1){let i,s;return it(e)?i=e:(i=e.get,s=e.set),new eA(i,s,n)}const od={},ih=new WeakMap;let ra;function nA(e,t=!1,n=ra){if(n){let i=ih.get(n);i||ih.set(n,i=[]),i.push(e)}}function iA(e,t,n=It){const{immediate:i,deep:s,once:r,scheduler:a,augmentJob:u,call:o}=n,l=_=>s?_:ps(_)||s===!1||s===0?xr(_,1):xr(_);let c,d,h,f,p=!1,g=!1;if(dt(e)?(d=()=>e.value,p=ps(e)):vo(e)?(d=()=>l(e),p=!0):Xe(e)?(g=!0,p=e.some(_=>vo(_)||ps(_)),d=()=>e.map(_=>{if(dt(_))return _.value;if(vo(_))return l(_);if(it(_))return o?o(_,2):_()})):it(e)?t?d=o?()=>o(e,2):e:d=()=>{if(h){Lo();try{h()}finally{Fo()}}const _=ra;ra=c;try{return o?o(e,3,[f]):e(f)}finally{ra=_}}:d=sr,t&&s){const _=d,I=s===!0?1/0:s;d=()=>xr(_(),I)}const m=dv(),y=()=>{c.stop(),m&&lv(m.effects,c)};if(r&&t){const _=t;t=(...I)=>{_(...I),y()}}let b=g?new Array(e.length).fill(od):od;const E=_=>{if(!(!(c.flags&1)||!c.dirty&&!_))if(t){const I=c.run();if(s||p||(g?I.some((P,M)=>wi(P,b[M])):wi(I,b))){h&&h();const P=ra;ra=c;try{const M=[I,b===od?void 0:g&&b[0]===od?[]:b,f];o?o(t,3,M):t(...M),b=I}finally{ra=P}}}else c.run()};return u&&u(E),c=new IS(d),c.scheduler=a?()=>a(E,!1):E,f=_=>nA(_,!1,c),h=c.onStop=()=>{const _=ih.get(c);if(_){if(o)o(_,4);else for(const I of _)I();ih.delete(c)}},t?i?E(!0):b=c.run():a?a(E.bind(null,!0),!0):c.run(),y.pause=c.pause.bind(c),y.resume=c.resume.bind(c),y.stop=y,y}function xr(e,t=1/0,n){if(t<=0||!Zt(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,dt(e))xr(e.value,t,n);else if(Xe(e))for(let i=0;i<e.length;i++)xr(e[i],t,n);else if(mS(e)||yl(e))e.forEach(i=>{xr(i,t,n)});else if(bS(e)){for(const i in e)xr(e[i],t,n);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&xr(e[i],t,n)}return e}/**
* @vue/runtime-core v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ru(e,t,n,i){try{return i?e(...i):e()}catch(s){af(s,t,n)}}function rr(e,t,n,i){if(it(e)){const s=Ru(e,t,n,i);return s&&vS(s)&&s.catch(r=>{af(r,t,n)}),s}if(Xe(e)){const s=[];for(let r=0;r<e.length;r++)s.push(rr(e[r],t,n,i));return s}}function af(e,t,n,i=!0){const s=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||It;if(t){let u=t.parent;const o=t.proxy,l=`https://vuejs.org/error-reference/#runtime-${n}`;for(;u;){const c=u.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](e,o,l)===!1)return}u=u.parent}if(r){Lo(),Ru(r,null,10,[e,o,l]),Fo();return}}sA(e,n,s,i,a)}function sA(e,t,n,i=!0,s=!1){if(s)throw e;console.error(e)}const di=[];let er=-1;const bl=[];let oo=null,ol=0;const zS=Promise.resolve();let sh=null;function Ta(e){const t=sh||zS;return e?t.then(this?e.bind(this):e):t}function rA(e){let t=er+1,n=di.length;for(;t<n;){const i=t+n>>>1,s=di[i],r=uu(s);r<e||r===e&&s.flags&2?t=i+1:n=i}return t}function _v(e){if(!(e.flags&1)){const t=uu(e),n=di[di.length-1];!n||!(e.flags&2)&&t>=uu(n)?di.push(e):di.splice(rA(t),0,e),e.flags|=1,KS()}}function KS(){sh||(sh=zS.then(YS))}function oA(e){Xe(e)?bl.push(...e):oo&&e.id===-1?oo.splice(ol+1,0,e):e.flags&1||(bl.push(e),e.flags|=1),KS()}function Sb(e,t,n=er+1){for(;n<di.length;n++){const i=di[n];if(i&&i.flags&2){if(e&&i.id!==e.uid)continue;di.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function qS(e){if(bl.length){const t=[...new Set(bl)].sort((n,i)=>uu(n)-uu(i));if(bl.length=0,oo){oo.push(...t);return}for(oo=t,ol=0;ol<oo.length;ol++){const n=oo[ol];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}oo=null,ol=0}}const uu=e=>e.id==null?e.flags&2?-1:1/0:e.id;function YS(e){try{for(er=0;er<di.length;er++){const t=di[er];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Ru(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;er<di.length;er++){const t=di[er];t&&(t.flags&=-2)}er=-1,di.length=0,qS(),sh=null,(di.length||bl.length)&&YS()}}let Tn=null,JS=null;function rh(e){const t=Tn;return Tn=e,JS=e&&e.type.__scopeId||null,t}function S(e,t=Tn,n){if(!t||e._n)return e;const i=(...s)=>{i._d&&Mb(-1);const r=rh(t);let a;try{a=e(...s)}finally{rh(r),i._d&&Mb(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function wa(e,t){if(Tn===null)return e;const n=gf(Tn),i=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[r,a,u,o=It]=t[s];r&&(it(r)&&(r={mounted:r,updated:r}),r.deep&&xr(a),i.push({dir:r,instance:n,value:a,oldValue:void 0,arg:u,modifiers:o}))}return e}function Jo(e,t,n,i){const s=e.dirs,r=t&&t.dirs;for(let a=0;a<s.length;a++){const u=s[a];r&&(u.oldValue=r[a].value);let o=u.dir[i];o&&(Lo(),rr(o,n,8,[e.el,u,e,t]),Fo())}}const XS=Symbol("_vte"),aA=e=>e.__isTeleport,jc=e=>e&&(e.disabled||e.disabled===""),lA=e=>e&&(e.defer||e.defer===""),xb=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Tb=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Bg=(e,t)=>{const n=e&&e.to;return rn(n)?t?t(n):null:n},cA={name:"Teleport",__isTeleport:!0,process(e,t,n,i,s,r,a,u,o,l){const{mc:c,pc:d,pbc:h,o:{insert:f,querySelector:p,createText:g,createComment:m}}=l,y=jc(t.props);let{shapeFlag:b,children:E,dynamicChildren:_}=t;if(e==null){const I=t.el=g(""),P=t.anchor=g("");f(I,n,i),f(P,n,i);const M=(D,j)=>{b&16&&(s&&s.isCE&&(s.ce._teleportTarget=D),c(E,D,j,s,r,a,u,o))},z=()=>{const D=t.target=Bg(t.props,p),j=ZS(D,t,g,f);D&&(a!=="svg"&&xb(D)?a="svg":a!=="mathml"&&Tb(D)&&(a="mathml"),y||(M(D,j),Ld(t)))};y&&(M(n,P),Ld(t)),lA(t.props)?Ti(z,r):z()}else{t.el=e.el,t.targetStart=e.targetStart;const I=t.anchor=e.anchor,P=t.target=e.target,M=t.targetAnchor=e.targetAnchor,z=jc(e.props),D=z?n:P,j=z?I:M;if(a==="svg"||xb(P)?a="svg":(a==="mathml"||Tb(P))&&(a="mathml"),_?(h(e.dynamicChildren,_,D,s,r,a,u),Iv(e,t,!0)):o||d(e,t,D,j,s,r,a,u,!1),y)z?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):ad(t,n,I,l,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const se=t.target=Bg(t.props,p);se&&ad(t,se,null,l,0)}else z&&ad(t,P,M,l,1);Ld(t)}},remove(e,t,n,{um:i,o:{remove:s}},r){const{shapeFlag:a,children:u,anchor:o,targetStart:l,targetAnchor:c,target:d,props:h}=e;if(d&&(s(l),s(c)),r&&s(o),a&16){const f=r||!jc(h);for(let p=0;p<u.length;p++){const g=u[p];i(g,t,n,f,!!g.dynamicChildren)}}},move:ad,hydrate:uA};function ad(e,t,n,{o:{insert:i},m:s},r=2){r===0&&i(e.targetAnchor,t,n);const{el:a,anchor:u,shapeFlag:o,children:l,props:c}=e,d=r===2;if(d&&i(a,t,n),(!d||jc(c))&&o&16)for(let h=0;h<l.length;h++)s(l[h],t,n,2);d&&i(u,t,n)}function uA(e,t,n,i,s,r,{o:{nextSibling:a,parentNode:u,querySelector:o,insert:l,createText:c}},d){const h=t.target=Bg(t.props,o);if(h){const f=h._lpa||h.firstChild;if(t.shapeFlag&16)if(jc(t.props))t.anchor=d(a(e),t,u(e),n,i,s,r),t.targetStart=f,t.targetAnchor=f&&a(f);else{t.anchor=a(e);let p=f;for(;p;){if(p&&p.nodeType===8){if(p.data==="teleport start anchor")t.targetStart=p;else if(p.data==="teleport anchor"){t.targetAnchor=p,h._lpa=t.targetAnchor&&a(t.targetAnchor);break}}p=a(p)}t.targetAnchor||ZS(h,t,c,l),d(f&&a(f),t,h,n,i,s,r)}Ld(t)}return t.anchor&&a(t.anchor)}const lf=cA;function Ld(e){const t=e.ctx;if(t&&t.ut){let n=e.targetStart;for(;n&&n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}function ZS(e,t,n,i){const s=t.targetStart=n(""),r=t.targetAnchor=n("");return s[XS]=r,e&&(i(s,e),i(r,e)),r}function Cv(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Cv(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function $(e,t){return it(e)?Fn({name:e.name},t,{setup:e}):e}function Kn(){const e=ms();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:""}function QS(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Sv(e){const t=ms(),n=yo(null);if(t){const s=t.refs===It?t.refs={}:t.refs;Object.defineProperty(s,e,{enumerable:!0,get:()=>n.value,set:r=>n.value=r})}return n}function Hg(e,t,n,i,s=!1){if(Xe(e)){e.forEach((p,g)=>Hg(p,t&&(Xe(t)?t[g]:t),n,i,s));return}if(El(i)&&!s)return;const r=i.shapeFlag&4?gf(i.component):i.el,a=s?null:r,{i:u,r:o}=e,l=t&&t.r,c=u.refs===It?u.refs={}:u.refs,d=u.setupState,h=kt(d),f=d===It?()=>!1:p=>Nt(h,p);if(l!=null&&l!==o&&(rn(l)?(c[l]=null,f(l)&&(d[l]=null)):dt(l)&&(l.value=null)),it(o))Ru(o,u,12,[a,c]);else{const p=rn(o),g=dt(o);if(p||g){const m=()=>{if(e.f){const y=p?f(o)?d[o]:c[o]:o.value;s?Xe(y)&&lv(y,r):Xe(y)?y.includes(r)||y.push(r):p?(c[o]=[r],f(o)&&(d[o]=c[o])):(o.value=[r],e.k&&(c[e.k]=o.value))}else p?(c[o]=a,f(o)&&(d[o]=a)):g&&(o.value=a,e.k&&(c[e.k]=a))};a?(m.id=-1,Ti(m,n)):m()}}}const El=e=>!!e.type.__asyncLoader,e1=e=>e.type.__isKeepAlive;function dA(e,t){t1(e,"a",t)}function hA(e,t){t1(e,"da",t)}function t1(e,t,n=Rn){const i=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(cf(t,i,n),n){let s=n.parent;for(;s&&s.parent;)e1(s.parent.vnode)&&fA(i,t,n,s),s=s.parent}}function fA(e,t,n,i){const s=cf(t,e,i,!0);uf(()=>{lv(i[t],s)},n)}function cf(e,t,n=Rn,i=!1){if(n){const s=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...a)=>{Lo();const u=Fu(n),o=rr(t,n,e,a);return u(),Fo(),o});return i?s.unshift(r):s.push(r),r}}const Dr=e=>(t,n=Rn)=>{(!pf||e==="sp")&&cf(e,(...i)=>t(...i),n)},xv=Dr("bm"),Ai=Dr("m"),pA=Dr("bu"),gA=Dr("u"),Du=Dr("bum"),uf=Dr("um"),mA=Dr("sp"),vA=Dr("rtg"),yA=Dr("rtc");function bA(e,t=Rn){cf("ec",e,t)}const n1="components";function i1(e,t){return o1(n1,e,!0,t)||e}const s1=Symbol.for("v-ndc");function r1(e){return rn(e)?o1(n1,e,!1)||e:e||s1}function o1(e,t,n=!0,i=!1){const s=Tn||Rn;if(s){const r=s.type;{const u=sP(r,!1);if(u&&(u===t||u===Yi(t)||u===nf(Yi(t))))return r}const a=wb(s[e]||r[e],t)||wb(s.appContext[e],t);return!a&&i?r:a}}function wb(e,t){return e&&(e[t]||e[Yi(t)]||e[nf(Yi(t))])}function Kt(e,t,n,i){let s;const r=n,a=Xe(e);if(a||rn(e)){const u=a&&vo(e);let o=!1;u&&(o=!ps(e),e=rf(e)),s=new Array(e.length);for(let l=0,c=e.length;l<c;l++)s[l]=t(o?Qn(e[l]):e[l],l,void 0,r)}else if(typeof e=="number"){s=new Array(e);for(let u=0;u<e;u++)s[u]=t(u+1,u,void 0,r)}else if(Zt(e))if(e[Symbol.iterator])s=Array.from(e,(u,o)=>t(u,o,void 0,r));else{const u=Object.keys(e);s=new Array(u.length);for(let o=0,l=u.length;o<l;o++){const c=u[o];s[o]=t(e[c],c,o,r)}}else s=[];return s}function V(e,t,n={},i,s){if(Tn.ce||Tn.parent&&El(Tn.parent)&&Tn.parent.ce)return C(),R(Ye,null,[O("slot",n,i&&i())],64);let r=e[t];r&&r._c&&(r._d=!1),C();const a=r&&a1(r(n)),u=R(Ye,{key:(n.key||a&&a.key||`_${t}`)+(!a&&i?"_fb":"")},a||(i?i():[]),a&&e._===1?64:-2);return u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),r&&r._c&&(r._d=!0),u}function a1(e){return e.some(t=>fu(t)?!(t.type===wo||t.type===Ye&&!a1(t.children)):!0)?e:null}const jg=e=>e?w1(e)?gf(e):jg(e.parent):null,Uc=Fn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>jg(e.parent),$root:e=>jg(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Tv(e),$forceUpdate:e=>e.f||(e.f=()=>{_v(e.update)}),$nextTick:e=>e.n||(e.n=Ta.bind(e.proxy)),$watch:e=>UA.bind(e)}),gp=(e,t)=>e!==It&&!e.__isScriptSetup&&Nt(e,t),EA={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:i,data:s,props:r,accessCache:a,type:u,appContext:o}=e;let l;if(t[0]!=="$"){const f=a[t];if(f!==void 0)switch(f){case 1:return i[t];case 2:return s[t];case 4:return n[t];case 3:return r[t]}else{if(gp(i,t))return a[t]=1,i[t];if(s!==It&&Nt(s,t))return a[t]=2,s[t];if((l=e.propsOptions[0])&&Nt(l,t))return a[t]=3,r[t];if(n!==It&&Nt(n,t))return a[t]=4,n[t];Ug&&(a[t]=0)}}const c=Uc[t];let d,h;if(c)return t==="$attrs"&&ti(e.attrs,"get",""),c(e);if((d=u.__cssModules)&&(d=d[t]))return d;if(n!==It&&Nt(n,t))return a[t]=4,n[t];if(h=o.config.globalProperties,Nt(h,t))return h[t]},set({_:e},t,n){const{data:i,setupState:s,ctx:r}=e;return gp(s,t)?(s[t]=n,!0):i!==It&&Nt(i,t)?(i[t]=n,!0):Nt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:s,propsOptions:r}},a){let u;return!!n[a]||e!==It&&Nt(e,a)||gp(t,a)||(u=r[0])&&Nt(u,a)||Nt(i,a)||Nt(Uc,a)||Nt(s.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Nt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function df(){return _A().slots}function _A(){const e=ms();return e.setupContext||(e.setupContext=O1(e))}function du(e){return Xe(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function On(e,t){const n=du(e);for(const i in t){if(i.startsWith("__skip"))continue;let s=n[i];s?Xe(s)||it(s)?s=n[i]={type:s,default:t[i]}:s.default=t[i]:s===null&&(s=n[i]={default:t[i]}),s&&t[`__skip_${i}`]&&(s.skipFactory=!0)}return n}function Vn(e,t){return!e||!t?e||t:Xe(e)&&Xe(t)?e.concat(t):Fn({},du(e),du(t))}let Ug=!0;function CA(e){const t=Tv(e),n=e.proxy,i=e.ctx;Ug=!1,t.beforeCreate&&Ib(t.beforeCreate,e,"bc");const{data:s,computed:r,methods:a,watch:u,provide:o,inject:l,created:c,beforeMount:d,mounted:h,beforeUpdate:f,updated:p,activated:g,deactivated:m,beforeDestroy:y,beforeUnmount:b,destroyed:E,unmounted:_,render:I,renderTracked:P,renderTriggered:M,errorCaptured:z,serverPrefetch:D,expose:j,inheritAttrs:se,components:ae,directives:Y,filters:Z}=t;if(l&&SA(l,i,null),a)for(const re in a){const he=a[re];it(he)&&(i[re]=he.bind(n))}if(s){const re=s.call(n,n);Zt(re)&&(e.data=nr(re))}if(Ug=!0,r)for(const re in r){const he=r[re],je=it(he)?he.bind(n,n):it(he.get)?he.get.bind(n,n):sr,lt=!it(he)&&it(he.set)?he.set.bind(n):sr,ht=K({get:je,set:lt});Object.defineProperty(i,re,{enumerable:!0,configurable:!0,get:()=>ht.value,set:Et=>ht.value=Et})}if(u)for(const re in u)l1(u[re],i,n,re);if(o){const re=it(o)?o.call(n):o;Reflect.ownKeys(re).forEach(he=>{Gc(he,re[he])})}c&&Ib(c,e,"c");function ce(re,he){Xe(he)?he.forEach(je=>re(je.bind(n))):he&&re(he.bind(n))}if(ce(xv,d),ce(Ai,h),ce(pA,f),ce(gA,p),ce(dA,g),ce(hA,m),ce(bA,z),ce(yA,P),ce(vA,M),ce(Du,b),ce(uf,_),ce(mA,D),Xe(j))if(j.length){const re=e.exposed||(e.exposed={});j.forEach(he=>{Object.defineProperty(re,he,{get:()=>n[he],set:je=>n[he]=je})})}else e.exposed||(e.exposed={});I&&e.render===sr&&(e.render=I),se!=null&&(e.inheritAttrs=se),ae&&(e.components=ae),Y&&(e.directives=Y),D&&QS(e)}function SA(e,t,n=sr){Xe(e)&&(e=Gg(e));for(const i in e){const s=e[i];let r;Zt(s)?"default"in s?r=Ii(s.from||i,s.default,!0):r=Ii(s.from||i):r=Ii(s),dt(r)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:a=>r.value=a}):t[i]=r}}function Ib(e,t,n){rr(Xe(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function l1(e,t,n,i){let s=i.includes(".")?E1(n,i):()=>n[i];if(rn(e)){const r=t[e];it(r)&&qt(s,r)}else if(it(e))qt(s,e.bind(n));else if(Zt(e))if(Xe(e))e.forEach(r=>l1(r,t,n,i));else{const r=it(e.handler)?e.handler.bind(n):t[e.handler];it(r)&&qt(s,r,e)}}function Tv(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:s,optionsCache:r,config:{optionMergeStrategies:a}}=e.appContext,u=r.get(t);let o;return u?o=u:!s.length&&!n&&!i?o=t:(o={},s.length&&s.forEach(l=>oh(o,l,a,!0)),oh(o,t,a)),Zt(t)&&r.set(t,o),o}function oh(e,t,n,i=!1){const{mixins:s,extends:r}=t;r&&oh(e,r,n,!0),s&&s.forEach(a=>oh(e,a,n,!0));for(const a in t)if(!(i&&a==="expose")){const u=xA[a]||n&&n[a];e[a]=u?u(e[a],t[a]):t[a]}return e}const xA={data:Ob,props:kb,emits:kb,methods:Pc,computed:Pc,beforeCreate:ai,created:ai,beforeMount:ai,mounted:ai,beforeUpdate:ai,updated:ai,beforeDestroy:ai,beforeUnmount:ai,destroyed:ai,unmounted:ai,activated:ai,deactivated:ai,errorCaptured:ai,serverPrefetch:ai,components:Pc,directives:Pc,watch:wA,provide:Ob,inject:TA};function Ob(e,t){return t?e?function(){return Fn(it(e)?e.call(this,this):e,it(t)?t.call(this,this):t)}:t:e}function TA(e,t){return Pc(Gg(e),Gg(t))}function Gg(e){if(Xe(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ai(e,t){return e?[...new Set([].concat(e,t))]:t}function Pc(e,t){return e?Fn(Object.create(null),e,t):t}function kb(e,t){return e?Xe(e)&&Xe(t)?[...new Set([...e,...t])]:Fn(Object.create(null),du(e),du(t??{})):t}function wA(e,t){if(!e)return t;if(!t)return e;const n=Fn(Object.create(null),e);for(const i in t)n[i]=ai(e[i],t[i]);return n}function c1(){return{app:null,config:{isNativeTag:pk,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let IA=0;function OA(e,t){return function(i,s=null){it(i)||(i=Fn({},i)),s!=null&&!Zt(s)&&(s=null);const r=c1(),a=new WeakSet,u=[];let o=!1;const l=r.app={_uid:IA++,_component:i,_props:s,_container:null,_context:r,_instance:null,version:oP,get config(){return r.config},set config(c){},use(c,...d){return a.has(c)||(c&&it(c.install)?(a.add(c),c.install(l,...d)):it(c)&&(a.add(c),c(l,...d))),l},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),l},component(c,d){return d?(r.components[c]=d,l):r.components[c]},directive(c,d){return d?(r.directives[c]=d,l):r.directives[c]},mount(c,d,h){if(!o){const f=l._ceVNode||O(i,s);return f.appContext=r,h===!0?h="svg":h===!1&&(h=void 0),d&&t?t(f,c):e(f,c,h),o=!0,l._container=c,c.__vue_app__=l,gf(f.component)}},onUnmount(c){u.push(c)},unmount(){o&&(rr(u,l._instance,16),e(null,l._container),delete l._container.__vue_app__)},provide(c,d){return r.provides[c]=d,l},runWithContext(c){const d=ya;ya=l;try{return c()}finally{ya=d}}};return l}}let ya=null;function Gc(e,t){if(Rn){let n=Rn.provides;const i=Rn.parent&&Rn.parent.provides;i===n&&(n=Rn.provides=Object.create(i)),n[e]=t}}function Ii(e,t,n=!1){const i=Rn||Tn;if(i||ya){const s=ya?ya._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&it(t)?t.call(i&&i.proxy):t}}function kA(){return!!(Rn||Tn||ya)}const u1={},d1=()=>Object.create(u1),h1=e=>Object.getPrototypeOf(e)===u1;function AA(e,t,n,i=!1){const s={},r=d1();e.propsDefaults=Object.create(null),f1(e,t,s,r);for(const a in e.propsOptions[0])a in s||(s[a]=void 0);n?e.props=i?s:HS(s):e.type.props?e.props=s:e.props=r,e.attrs=r}function PA(e,t,n,i){const{props:s,attrs:r,vnode:{patchFlag:a}}=e,u=kt(s),[o]=e.propsOptions;let l=!1;if((i||a>0)&&!(a&16)){if(a&8){const c=e.vnode.dynamicProps;for(let d=0;d<c.length;d++){let h=c[d];if(ff(e.emitsOptions,h))continue;const f=t[h];if(o)if(Nt(r,h))f!==r[h]&&(r[h]=f,l=!0);else{const p=Yi(h);s[p]=Wg(o,u,p,f,e,!1)}else f!==r[h]&&(r[h]=f,l=!0)}}}else{f1(e,t,s,r)&&(l=!0);let c;for(const d in u)(!t||!Nt(t,d)&&((c=Do(d))===d||!Nt(t,c)))&&(o?n&&(n[d]!==void 0||n[c]!==void 0)&&(s[d]=Wg(o,u,d,void 0,e,!0)):delete s[d]);if(r!==u)for(const d in r)(!t||!Nt(t,d))&&(delete r[d],l=!0)}l&&Or(e.attrs,"set","")}function f1(e,t,n,i){const[s,r]=e.propsOptions;let a=!1,u;if(t)for(let o in t){if(Vc(o))continue;const l=t[o];let c;s&&Nt(s,c=Yi(o))?!r||!r.includes(c)?n[c]=l:(u||(u={}))[c]=l:ff(e.emitsOptions,o)||(!(o in i)||l!==i[o])&&(i[o]=l,a=!0)}if(r){const o=kt(n),l=u||It;for(let c=0;c<r.length;c++){const d=r[c];n[d]=Wg(s,o,d,l[d],e,!Nt(l,d))}}return a}function Wg(e,t,n,i,s,r){const a=e[n];if(a!=null){const u=Nt(a,"default");if(u&&i===void 0){const o=a.default;if(a.type!==Function&&!a.skipFactory&&it(o)){const{propsDefaults:l}=s;if(n in l)i=l[n];else{const c=Fu(s);i=l[n]=o.call(null,t),c()}}else i=o;s.ce&&s.ce._setProp(n,i)}a[0]&&(r&&!u?i=!1:a[1]&&(i===""||i===Do(n))&&(i=!0))}return i}const $A=new WeakMap;function p1(e,t,n=!1){const i=n?$A:t.propsCache,s=i.get(e);if(s)return s;const r=e.props,a={},u=[];let o=!1;if(!it(e)){const c=d=>{o=!0;const[h,f]=p1(d,t,!0);Fn(a,h),f&&u.push(...f)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!r&&!o)return Zt(e)&&i.set(e,vl),vl;if(Xe(r))for(let c=0;c<r.length;c++){const d=Yi(r[c]);Ab(d)&&(a[d]=It)}else if(r)for(const c in r){const d=Yi(c);if(Ab(d)){const h=r[c],f=a[d]=Xe(h)||it(h)?{type:h}:Fn({},h),p=f.type;let g=!1,m=!0;if(Xe(p))for(let y=0;y<p.length;++y){const b=p[y],E=it(b)&&b.name;if(E==="Boolean"){g=!0;break}else E==="String"&&(m=!1)}else g=it(p)&&p.name==="Boolean";f[0]=g,f[1]=m,(g||Nt(f,"default"))&&u.push(d)}}const l=[a,u];return Zt(e)&&i.set(e,l),l}function Ab(e){return e[0]!=="$"&&!Vc(e)}const g1=e=>e[0]==="_"||e==="$stable",wv=e=>Xe(e)?e.map(tr):[tr(e)],MA=(e,t,n)=>{if(t._n)return t;const i=S((...s)=>wv(t(...s)),n);return i._c=!1,i},m1=(e,t,n)=>{const i=e._ctx;for(const s in e){if(g1(s))continue;const r=e[s];if(it(r))t[s]=MA(s,r,i);else if(r!=null){const a=wv(r);t[s]=()=>a}}},v1=(e,t)=>{const n=wv(t);e.slots.default=()=>n},y1=(e,t,n)=>{for(const i in t)(n||i!=="_")&&(e[i]=t[i])},NA=(e,t,n)=>{const i=e.slots=d1();if(e.vnode.shapeFlag&32){const s=t._;s?(y1(i,t,n),n&&ES(i,"_",s,!0)):m1(t,i)}else t&&v1(e,t)},RA=(e,t,n)=>{const{vnode:i,slots:s}=e;let r=!0,a=It;if(i.shapeFlag&32){const u=t._;u?n&&u===1?r=!1:y1(s,t,n):(r=!t.$stable,m1(t,s)),a=t}else t&&(v1(e,t),a={default:1});if(r)for(const u in s)!g1(u)&&a[u]==null&&delete s[u]},Ti=YA;function DA(e){return LA(e)}function LA(e,t){const n=_S();n.__VUE__=!0;const{insert:i,remove:s,patchProp:r,createElement:a,createText:u,createComment:o,setText:l,setElementText:c,parentNode:d,nextSibling:h,setScopeId:f=sr,insertStaticContent:p}=e,g=(T,k,G,oe=null,ie=null,x=null,w=void 0,F=null,A=!!k.dynamicChildren)=>{if(T===k)return;T&&!ic(T,k)&&(oe=ne(T),Et(T,ie,x,!0),T=null),k.patchFlag===-2&&(A=!1,k.dynamicChildren=null);const{type:B,ref:ee,shapeFlag:N}=k;switch(B){case Lu:m(T,k,G,oe);break;case wo:y(T,k,G,oe);break;case yp:T==null&&b(k,G,oe,w);break;case Ye:ae(T,k,G,oe,ie,x,w,F,A);break;default:N&1?I(T,k,G,oe,ie,x,w,F,A):N&6?Y(T,k,G,oe,ie,x,w,F,A):(N&64||N&128)&&B.process(T,k,G,oe,ie,x,w,F,A,Ee)}ee!=null&&ie&&Hg(ee,T&&T.ref,x,k||T,!k)},m=(T,k,G,oe)=>{if(T==null)i(k.el=u(k.children),G,oe);else{const ie=k.el=T.el;k.children!==T.children&&l(ie,k.children)}},y=(T,k,G,oe)=>{T==null?i(k.el=o(k.children||""),G,oe):k.el=T.el},b=(T,k,G,oe)=>{[T.el,T.anchor]=p(T.children,k,G,oe,T.el,T.anchor)},E=({el:T,anchor:k},G,oe)=>{let ie;for(;T&&T!==k;)ie=h(T),i(T,G,oe),T=ie;i(k,G,oe)},_=({el:T,anchor:k})=>{let G;for(;T&&T!==k;)G=h(T),s(T),T=G;s(k)},I=(T,k,G,oe,ie,x,w,F,A)=>{k.type==="svg"?w="svg":k.type==="math"&&(w="mathml"),T==null?P(k,G,oe,ie,x,w,F,A):D(T,k,ie,x,w,F,A)},P=(T,k,G,oe,ie,x,w,F)=>{let A,B;const{props:ee,shapeFlag:N,transition:J,dirs:me}=T;if(A=T.el=a(T.type,x,ee&&ee.is,ee),N&8?c(A,T.children):N&16&&z(T.children,A,null,oe,ie,mp(T,x),w,F),me&&Jo(T,null,oe,"created"),M(A,T,T.scopeId,w,oe),ee){for(const Tt in ee)Tt!=="value"&&!Vc(Tt)&&r(A,Tt,null,ee[Tt],x,oe);"value"in ee&&r(A,"value",null,ee.value,x),(B=ee.onVnodeBeforeMount)&&Ys(B,oe,T)}me&&Jo(T,null,oe,"beforeMount");const Ge=FA(ie,J);Ge&&J.beforeEnter(A),i(A,k,G),((B=ee&&ee.onVnodeMounted)||Ge||me)&&Ti(()=>{B&&Ys(B,oe,T),Ge&&J.enter(A),me&&Jo(T,null,oe,"mounted")},ie)},M=(T,k,G,oe,ie)=>{if(G&&f(T,G),oe)for(let x=0;x<oe.length;x++)f(T,oe[x]);if(ie){let x=ie.subTree;if(k===x||S1(x.type)&&(x.ssContent===k||x.ssFallback===k)){const w=ie.vnode;M(T,w,w.scopeId,w.slotScopeIds,ie.parent)}}},z=(T,k,G,oe,ie,x,w,F,A=0)=>{for(let B=A;B<T.length;B++){const ee=T[B]=F?ao(T[B]):tr(T[B]);g(null,ee,k,G,oe,ie,x,w,F)}},D=(T,k,G,oe,ie,x,w)=>{const F=k.el=T.el;let{patchFlag:A,dynamicChildren:B,dirs:ee}=k;A|=T.patchFlag&16;const N=T.props||It,J=k.props||It;let me;if(G&&Xo(G,!1),(me=J.onVnodeBeforeUpdate)&&Ys(me,G,k,T),ee&&Jo(k,T,G,"beforeUpdate"),G&&Xo(G,!0),(N.innerHTML&&J.innerHTML==null||N.textContent&&J.textContent==null)&&c(F,""),B?j(T.dynamicChildren,B,F,G,oe,mp(k,ie),x):w||he(T,k,F,null,G,oe,mp(k,ie),x,!1),A>0){if(A&16)se(F,N,J,G,ie);else if(A&2&&N.class!==J.class&&r(F,"class",null,J.class,ie),A&4&&r(F,"style",N.style,J.style,ie),A&8){const Ge=k.dynamicProps;for(let Tt=0;Tt<Ge.length;Tt++){const wt=Ge[Tt],vn=N[wt],An=J[wt];(An!==vn||wt==="value")&&r(F,wt,vn,An,ie,G)}}A&1&&T.children!==k.children&&c(F,k.children)}else!w&&B==null&&se(F,N,J,G,ie);((me=J.onVnodeUpdated)||ee)&&Ti(()=>{me&&Ys(me,G,k,T),ee&&Jo(k,T,G,"updated")},oe)},j=(T,k,G,oe,ie,x,w)=>{for(let F=0;F<k.length;F++){const A=T[F],B=k[F],ee=A.el&&(A.type===Ye||!ic(A,B)||A.shapeFlag&70)?d(A.el):G;g(A,B,ee,null,oe,ie,x,w,!0)}},se=(T,k,G,oe,ie)=>{if(k!==G){if(k!==It)for(const x in k)!Vc(x)&&!(x in G)&&r(T,x,k[x],null,ie,oe);for(const x in G){if(Vc(x))continue;const w=G[x],F=k[x];w!==F&&x!=="value"&&r(T,x,F,w,ie,oe)}"value"in G&&r(T,"value",k.value,G.value,ie)}},ae=(T,k,G,oe,ie,x,w,F,A)=>{const B=k.el=T?T.el:u(""),ee=k.anchor=T?T.anchor:u("");let{patchFlag:N,dynamicChildren:J,slotScopeIds:me}=k;me&&(F=F?F.concat(me):me),T==null?(i(B,G,oe),i(ee,G,oe),z(k.children||[],G,ee,ie,x,w,F,A)):N>0&&N&64&&J&&T.dynamicChildren?(j(T.dynamicChildren,J,G,ie,x,w,F),(k.key!=null||ie&&k===ie.subTree)&&Iv(T,k,!0)):he(T,k,G,ee,ie,x,w,F,A)},Y=(T,k,G,oe,ie,x,w,F,A)=>{k.slotScopeIds=F,T==null?k.shapeFlag&512?ie.ctx.activate(k,G,oe,w,A):Z(k,G,oe,ie,x,w,A):de(T,k,A)},Z=(T,k,G,oe,ie,x,w)=>{const F=T.component=eP(T,oe,ie);if(e1(T)&&(F.ctx.renderer=Ee),tP(F,!1,w),F.asyncDep){if(ie&&ie.registerDep(F,ce,w),!T.el){const A=F.subTree=O(wo);y(null,A,k,G)}}else ce(F,T,k,G,ie,x,w)},de=(T,k,G)=>{const oe=k.component=T.component;if(KA(T,k,G))if(oe.asyncDep&&!oe.asyncResolved){re(oe,k,G);return}else oe.next=k,oe.update();else k.el=T.el,oe.vnode=k},ce=(T,k,G,oe,ie,x,w)=>{const F=()=>{if(T.isMounted){let{next:N,bu:J,u:me,parent:Ge,vnode:Tt}=T;{const Li=b1(T);if(Li){N&&(N.el=Tt.el,re(T,N,w)),Li.asyncDep.then(()=>{T.isUnmounted||F()});return}}let wt=N,vn;Xo(T,!1),N?(N.el=Tt.el,re(T,N,w)):N=Tt,J&&Dd(J),(vn=N.props&&N.props.onVnodeBeforeUpdate)&&Ys(vn,Ge,N,Tt),Xo(T,!0);const An=vp(T),ts=T.subTree;T.subTree=An,g(ts,An,d(ts.el),ne(ts),T,ie,x),N.el=An.el,wt===null&&qA(T,An.el),me&&Ti(me,ie),(vn=N.props&&N.props.onVnodeUpdated)&&Ti(()=>Ys(vn,Ge,N,Tt),ie)}else{let N;const{el:J,props:me}=k,{bm:Ge,m:Tt,parent:wt,root:vn,type:An}=T,ts=El(k);if(Xo(T,!1),Ge&&Dd(Ge),!ts&&(N=me&&me.onVnodeBeforeMount)&&Ys(N,wt,k),Xo(T,!0),J&&Dt){const Li=()=>{T.subTree=vp(T),Dt(J,T.subTree,T,ie,null)};ts&&An.__asyncHydrate?An.__asyncHydrate(J,T,Li):Li()}else{vn.ce&&vn.ce._injectChildStyle(An);const Li=T.subTree=vp(T);g(null,Li,G,oe,T,ie,x),k.el=Li.el}if(Tt&&Ti(Tt,ie),!ts&&(N=me&&me.onVnodeMounted)){const Li=k;Ti(()=>Ys(N,wt,Li),ie)}(k.shapeFlag&256||wt&&El(wt.vnode)&&wt.vnode.shapeFlag&256)&&T.a&&Ti(T.a,ie),T.isMounted=!0,k=G=oe=null}};T.scope.on();const A=T.effect=new IS(F);T.scope.off();const B=T.update=A.run.bind(A),ee=T.job=A.runIfDirty.bind(A);ee.i=T,ee.id=T.uid,A.scheduler=()=>_v(ee),Xo(T,!0),B()},re=(T,k,G)=>{k.component=T;const oe=T.vnode.props;T.vnode=k,T.next=null,PA(T,k.props,oe,G),RA(T,k.children,G),Lo(),Sb(T),Fo()},he=(T,k,G,oe,ie,x,w,F,A=!1)=>{const B=T&&T.children,ee=T?T.shapeFlag:0,N=k.children,{patchFlag:J,shapeFlag:me}=k;if(J>0){if(J&128){lt(B,N,G,oe,ie,x,w,F,A);return}else if(J&256){je(B,N,G,oe,ie,x,w,F,A);return}}me&8?(ee&16&&an(B,ie,x),N!==B&&c(G,N)):ee&16?me&16?lt(B,N,G,oe,ie,x,w,F,A):an(B,ie,x,!0):(ee&8&&c(G,""),me&16&&z(N,G,oe,ie,x,w,F,A))},je=(T,k,G,oe,ie,x,w,F,A)=>{T=T||vl,k=k||vl;const B=T.length,ee=k.length,N=Math.min(B,ee);let J;for(J=0;J<N;J++){const me=k[J]=A?ao(k[J]):tr(k[J]);g(T[J],me,G,null,ie,x,w,F,A)}B>ee?an(T,ie,x,!0,!1,N):z(k,G,oe,ie,x,w,F,A,N)},lt=(T,k,G,oe,ie,x,w,F,A)=>{let B=0;const ee=k.length;let N=T.length-1,J=ee-1;for(;B<=N&&B<=J;){const me=T[B],Ge=k[B]=A?ao(k[B]):tr(k[B]);if(ic(me,Ge))g(me,Ge,G,null,ie,x,w,F,A);else break;B++}for(;B<=N&&B<=J;){const me=T[N],Ge=k[J]=A?ao(k[J]):tr(k[J]);if(ic(me,Ge))g(me,Ge,G,null,ie,x,w,F,A);else break;N--,J--}if(B>N){if(B<=J){const me=J+1,Ge=me<ee?k[me].el:oe;for(;B<=J;)g(null,k[B]=A?ao(k[B]):tr(k[B]),G,Ge,ie,x,w,F,A),B++}}else if(B>J)for(;B<=N;)Et(T[B],ie,x,!0),B++;else{const me=B,Ge=B,Tt=new Map;for(B=Ge;B<=J;B++){const Fi=k[B]=A?ao(k[B]):tr(k[B]);Fi.key!=null&&Tt.set(Fi.key,B)}let wt,vn=0;const An=J-Ge+1;let ts=!1,Li=0;const tc=new Array(An);for(B=0;B<An;B++)tc[B]=0;for(B=me;B<=N;B++){const Fi=T[B];if(vn>=An){Et(Fi,ie,x,!0);continue}let qs;if(Fi.key!=null)qs=Tt.get(Fi.key);else for(wt=Ge;wt<=J;wt++)if(tc[wt-Ge]===0&&ic(Fi,k[wt])){qs=wt;break}qs===void 0?Et(Fi,ie,x,!0):(tc[qs-Ge]=B+1,qs>=Li?Li=qs:ts=!0,g(Fi,k[qs],G,null,ie,x,w,F,A),vn++)}const pb=ts?VA(tc):vl;for(wt=pb.length-1,B=An-1;B>=0;B--){const Fi=Ge+B,qs=k[Fi],gb=Fi+1<ee?k[Fi+1].el:oe;tc[B]===0?g(null,qs,G,gb,ie,x,w,F,A):ts&&(wt<0||B!==pb[wt]?ht(qs,G,gb,2):wt--)}}},ht=(T,k,G,oe,ie=null)=>{const{el:x,type:w,transition:F,children:A,shapeFlag:B}=T;if(B&6){ht(T.component.subTree,k,G,oe);return}if(B&128){T.suspense.move(k,G,oe);return}if(B&64){w.move(T,k,G,Ee);return}if(w===Ye){i(x,k,G);for(let N=0;N<A.length;N++)ht(A[N],k,G,oe);i(T.anchor,k,G);return}if(w===yp){E(T,k,G);return}if(oe!==2&&B&1&&F)if(oe===0)F.beforeEnter(x),i(x,k,G),Ti(()=>F.enter(x),ie);else{const{leave:N,delayLeave:J,afterLeave:me}=F,Ge=()=>i(x,k,G),Tt=()=>{N(x,()=>{Ge(),me&&me()})};J?J(x,Ge,Tt):Tt()}else i(x,k,G)},Et=(T,k,G,oe=!1,ie=!1)=>{const{type:x,props:w,ref:F,children:A,dynamicChildren:B,shapeFlag:ee,patchFlag:N,dirs:J,cacheIndex:me}=T;if(N===-2&&(ie=!1),F!=null&&Hg(F,null,G,T,!0),me!=null&&(k.renderCache[me]=void 0),ee&256){k.ctx.deactivate(T);return}const Ge=ee&1&&J,Tt=!El(T);let wt;if(Tt&&(wt=w&&w.onVnodeBeforeUnmount)&&Ys(wt,k,T),ee&6)Gt(T.component,G,oe);else{if(ee&128){T.suspense.unmount(G,oe);return}Ge&&Jo(T,null,k,"beforeUnmount"),ee&64?T.type.remove(T,k,G,Ee,oe):B&&!B.hasOnce&&(x!==Ye||N>0&&N&64)?an(B,k,G,!1,!0):(x===Ye&&N&384||!ie&&ee&16)&&an(A,k,G),oe&&Ut(T)}(Tt&&(wt=w&&w.onVnodeUnmounted)||Ge)&&Ti(()=>{wt&&Ys(wt,k,T),Ge&&Jo(T,null,k,"unmounted")},G)},Ut=T=>{const{type:k,el:G,anchor:oe,transition:ie}=T;if(k===Ye){mt(G,oe);return}if(k===yp){_(T);return}const x=()=>{s(G),ie&&!ie.persisted&&ie.afterLeave&&ie.afterLeave()};if(T.shapeFlag&1&&ie&&!ie.persisted){const{leave:w,delayLeave:F}=ie,A=()=>w(G,x);F?F(T.el,x,A):A()}else x()},mt=(T,k)=>{let G;for(;T!==k;)G=h(T),s(T),T=G;s(k)},Gt=(T,k,G)=>{const{bum:oe,scope:ie,job:x,subTree:w,um:F,m:A,a:B}=T;Pb(A),Pb(B),oe&&Dd(oe),ie.stop(),x&&(x.flags|=8,Et(w,T,k,G)),F&&Ti(F,k),Ti(()=>{T.isUnmounted=!0},k),k&&k.pendingBranch&&!k.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===k.pendingId&&(k.deps--,k.deps===0&&k.resolve())},an=(T,k,G,oe=!1,ie=!1,x=0)=>{for(let w=x;w<T.length;w++)Et(T[w],k,G,oe,ie)},ne=T=>{if(T.shapeFlag&6)return ne(T.component.subTree);if(T.shapeFlag&128)return T.suspense.next();const k=h(T.anchor||T.el),G=k&&k[XS];return G?h(G):k};let ge=!1;const pe=(T,k,G)=>{T==null?k._vnode&&Et(k._vnode,null,null,!0):g(k._vnode||null,T,k,null,null,null,G),k._vnode=T,ge||(ge=!0,Sb(),qS(),ge=!1)},Ee={p:g,um:Et,m:ht,r:Ut,mt:Z,mc:z,pc:he,pbc:j,n:ne,o:e};let xt,Dt;return{render:pe,hydrate:xt,createApp:OA(pe,xt)}}function mp({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Xo({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function FA(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Iv(e,t,n=!1){const i=e.children,s=t.children;if(Xe(i)&&Xe(s))for(let r=0;r<i.length;r++){const a=i[r];let u=s[r];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=s[r]=ao(s[r]),u.el=a.el),!n&&u.patchFlag!==-2&&Iv(a,u)),u.type===Lu&&(u.el=a.el)}}function VA(e){const t=e.slice(),n=[0];let i,s,r,a,u;const o=e.length;for(i=0;i<o;i++){const l=e[i];if(l!==0){if(s=n[n.length-1],e[s]<l){t[i]=s,n.push(i);continue}for(r=0,a=n.length-1;r<a;)u=r+a>>1,e[n[u]]<l?r=u+1:a=u;l<e[n[r]]&&(r>0&&(t[i]=n[r-1]),n[r]=i)}}for(r=n.length,a=n[r-1];r-- >0;)n[r]=a,a=t[a];return n}function b1(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:b1(t)}function Pb(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const BA=Symbol.for("v-scx"),HA=()=>Ii(BA);function Ov(e,t){return hf(e,null,t)}function jA(e,t){return hf(e,null,{flush:"sync"})}function qt(e,t,n){return hf(e,t,n)}function hf(e,t,n=It){const{immediate:i,deep:s,flush:r,once:a}=n,u=Fn({},n);let o;if(pf)if(r==="sync"){const h=HA();o=h.__watcherHandles||(h.__watcherHandles=[])}else if(!t||i)u.once=!0;else{const h=()=>{};return h.stop=sr,h.resume=sr,h.pause=sr,h}const l=Rn;u.call=(h,f,p)=>rr(h,l,f,p);let c=!1;r==="post"?u.scheduler=h=>{Ti(h,l&&l.suspense)}:r!=="sync"&&(c=!0,u.scheduler=(h,f)=>{f?h():_v(h)}),u.augmentJob=h=>{t&&(h.flags|=4),c&&(h.flags|=2,l&&(h.id=l.uid,h.i=l))};const d=iA(e,t,u);return o&&o.push(d),d}function UA(e,t,n){const i=this.proxy,s=rn(e)?e.includes(".")?E1(i,e):()=>i[e]:e.bind(i,i);let r;it(t)?r=t:(r=t.handler,n=t);const a=Fu(this),u=hf(s,r.bind(i),n);return a(),u}function E1(e,t){const n=t.split(".");return()=>{let i=e;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}function mn(e,t,n=It){const i=ms(),s=Yi(t),r=Do(t),a=_1(e,t),u=Ev((o,l)=>{let c,d=It,h;return jA(()=>{const f=e[t];wi(c,f)&&(c=f,l())}),{get(){return o(),n.get?n.get(c):c},set(f){const p=n.set?n.set(f):f;if(!wi(p,c)&&!(d!==It&&wi(f,d)))return;const g=i.vnode.props;g&&(t in g||s in g||r in g)&&(`onUpdate:${t}`in g||`onUpdate:${s}`in g||`onUpdate:${r}`in g)||(c=f,l()),i.emit(`update:${t}`,p),wi(f,p)&&wi(f,d)&&!wi(p,h)&&l(),d=f,h=p}}});return u[Symbol.iterator]=()=>{let o=0;return{next(){return o<2?{value:o++?a||It:u,done:!1}:{done:!0}}}},u}const _1=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Yi(t)}Modifiers`]||e[`${Do(t)}Modifiers`];function GA(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||It;let s=n;const r=t.startsWith("update:"),a=r&&_1(i,t.slice(7));a&&(a.trim&&(s=n.map(c=>rn(c)?c.trim():c)),a.number&&(s=n.map(Lg)));let u,o=i[u=up(t)]||i[u=up(Yi(t))];!o&&r&&(o=i[u=up(Do(t))]),o&&rr(o,e,6,s);const l=i[u+"Once"];if(l){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,rr(l,e,6,s)}}function C1(e,t,n=!1){const i=t.emitsCache,s=i.get(e);if(s!==void 0)return s;const r=e.emits;let a={},u=!1;if(!it(e)){const o=l=>{const c=C1(l,t,!0);c&&(u=!0,Fn(a,c))};!n&&t.mixins.length&&t.mixins.forEach(o),e.extends&&o(e.extends),e.mixins&&e.mixins.forEach(o)}return!r&&!u?(Zt(e)&&i.set(e,null),null):(Xe(r)?r.forEach(o=>a[o]=null):Fn(a,r),Zt(e)&&i.set(e,a),a)}function ff(e,t){return!e||!Qh(t)?!1:(t=t.slice(2).replace(/Once$/,""),Nt(e,t[0].toLowerCase()+t.slice(1))||Nt(e,Do(t))||Nt(e,t))}function vp(e){const{type:t,vnode:n,proxy:i,withProxy:s,propsOptions:[r],slots:a,attrs:u,emit:o,render:l,renderCache:c,props:d,data:h,setupState:f,ctx:p,inheritAttrs:g}=e,m=rh(e);let y,b;try{if(n.shapeFlag&4){const _=s||i,I=_;y=tr(l.call(I,_,c,d,f,h,p)),b=u}else{const _=t;y=tr(_.length>1?_(d,{attrs:u,slots:a,emit:o}):_(d,null)),b=t.props?u:WA(u)}}catch(_){Wc.length=0,af(_,e,1),y=O(wo)}let E=y;if(b&&g!==!1){const _=Object.keys(b),{shapeFlag:I}=E;_.length&&I&7&&(r&&_.some(av)&&(b=zA(b,r)),E=Ia(E,b,!1,!0))}return n.dirs&&(E=Ia(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&Cv(E,n.transition),y=E,rh(m),y}const WA=e=>{let t;for(const n in e)(n==="class"||n==="style"||Qh(n))&&((t||(t={}))[n]=e[n]);return t},zA=(e,t)=>{const n={};for(const i in e)(!av(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function KA(e,t,n){const{props:i,children:s,component:r}=e,{props:a,children:u,patchFlag:o}=t,l=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&o>=0){if(o&1024)return!0;if(o&16)return i?$b(i,a,l):!!a;if(o&8){const c=t.dynamicProps;for(let d=0;d<c.length;d++){const h=c[d];if(a[h]!==i[h]&&!ff(l,h))return!0}}}else return(s||u)&&(!u||!u.$stable)?!0:i===a?!1:i?a?$b(i,a,l):!0:!!a;return!1}function $b(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(t[r]!==e[r]&&!ff(n,r))return!0}return!1}function qA({vnode:e,parent:t},n){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=n,t=t.parent;else break}}const S1=e=>e.__isSuspense;function YA(e,t){t&&t.pendingBranch?Xe(e)?t.effects.push(...e):t.effects.push(e):oA(e)}const Ye=Symbol.for("v-fgt"),Lu=Symbol.for("v-txt"),wo=Symbol.for("v-cmt"),yp=Symbol.for("v-stc"),Wc=[];let Wi=null;function C(e=!1){Wc.push(Wi=e?null:[])}function JA(){Wc.pop(),Wi=Wc[Wc.length-1]||null}let hu=1;function Mb(e){hu+=e,e<0&&Wi&&(Wi.hasOnce=!0)}function x1(e){return e.dynamicChildren=hu>0?Wi||vl:null,JA(),hu>0&&Wi&&Wi.push(e),e}function te(e,t,n,i,s,r){return x1(L(e,t,n,i,s,r,!0))}function R(e,t,n,i,s){return x1(O(e,t,n,i,s,!0))}function fu(e){return e?e.__v_isVNode===!0:!1}function ic(e,t){return e.type===t.type&&e.key===t.key}const T1=({key:e})=>e??null,Fd=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?rn(e)||dt(e)||it(e)?{i:Tn,r:e,k:t,f:!!n}:e:null);function L(e,t=null,n=null,i=0,s=null,r=e===Ye?0:1,a=!1,u=!1){const o={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&T1(t),ref:t&&Fd(t),scopeId:JS,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Tn};return u?(kv(o,n),r&128&&e.normalize(o)):n&&(o.shapeFlag|=rn(n)?8:16),hu>0&&!a&&Wi&&(o.patchFlag>0||r&6)&&o.patchFlag!==32&&Wi.push(o),o}const O=XA;function XA(e,t=null,n=null,i=0,s=null,r=!1){if((!e||e===s1)&&(e=wo),fu(e)){const u=Ia(e,t,!0);return n&&kv(u,n),hu>0&&!r&&Wi&&(u.shapeFlag&6?Wi[Wi.indexOf(e)]=u:Wi.push(u)),u.patchFlag=-2,u}if(rP(e)&&(e=e.__vccOpts),t){t=on(t);let{class:u,style:o}=t;u&&!rn(u)&&(t.class=sn(u)),Zt(o)&&(yv(o)&&!Xe(o)&&(o=Fn({},o)),t.style=Nu(o))}const a=rn(e)?1:S1(e)?128:aA(e)?64:Zt(e)?4:it(e)?2:0;return L(e,t,n,i,s,a,r,!0)}function on(e){return e?yv(e)||h1(e)?Fn({},e):e:null}function Ia(e,t,n=!1,i=!1){const{props:s,ref:r,patchFlag:a,children:u,transition:o}=e,l=t?W(s||{},t):s,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&T1(l),ref:t&&t.ref?n&&r?Xe(r)?r.concat(Fd(t)):[r,Fd(t)]:Fd(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ye?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:o,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ia(e.ssContent),ssFallback:e.ssFallback&&Ia(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return o&&i&&Cv(c,o.clone(c)),c}function qe(e=" ",t=0){return O(Lu,null,e,t)}function tt(e="",t=!1){return t?(C(),R(wo,null,e)):O(wo,null,e)}function tr(e){return e==null||typeof e=="boolean"?O(wo):Xe(e)?O(Ye,null,e.slice()):fu(e)?ao(e):O(Lu,null,String(e))}function ao(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ia(e)}function kv(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(Xe(t))n=16;else if(typeof t=="object")if(i&65){const s=t.default;s&&(s._c&&(s._d=!1),kv(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!h1(t)?t._ctx=Tn:s===3&&Tn&&(Tn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else it(t)?(t={default:t,_ctx:Tn},n=32):(t=String(t),i&64?(n=16,t=[qe(t)]):n=8);e.children=t,e.shapeFlag|=n}function W(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const s in i)if(s==="class")t.class!==i.class&&(t.class=sn([t.class,i.class]));else if(s==="style")t.style=Nu([t.style,i.style]);else if(Qh(s)){const r=t[s],a=i[s];a&&r!==a&&!(Xe(r)&&r.includes(a))&&(t[s]=r?[].concat(r,a):a)}else s!==""&&(t[s]=i[s])}return t}function Ys(e,t,n,i=null){rr(e,t,7,[n,i])}const ZA=c1();let QA=0;function eP(e,t,n){const i=e.type,s=(t?t.appContext:e.appContext)||ZA,r={uid:QA++,vnode:e,type:i,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new TS(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:p1(i,s),emitsOptions:C1(i,s),emit:null,emitted:null,propsDefaults:It,inheritAttrs:i.inheritAttrs,ctx:It,data:It,props:It,attrs:It,slots:It,refs:It,setupState:It,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=GA.bind(null,r),e.ce&&e.ce(r),r}let Rn=null;const ms=()=>Rn||Tn;let ah,zg;{const e=_S(),t=(n,i)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(i),r=>{s.length>1?s.forEach(a=>a(r)):s[0](r)}};ah=t("__VUE_INSTANCE_SETTERS__",n=>Rn=n),zg=t("__VUE_SSR_SETTERS__",n=>pf=n)}const Fu=e=>{const t=Rn;return ah(e),e.scope.on(),()=>{e.scope.off(),ah(t)}},Nb=()=>{Rn&&Rn.scope.off(),ah(null)};function w1(e){return e.vnode.shapeFlag&4}let pf=!1;function tP(e,t=!1,n=!1){t&&zg(t);const{props:i,children:s}=e.vnode,r=w1(e);AA(e,i,r,t),NA(e,s,n);const a=r?nP(e,t):void 0;return t&&zg(!1),a}function nP(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,EA);const{setup:i}=n;if(i){const s=e.setupContext=i.length>1?O1(e):null,r=Fu(e);Lo();const a=Ru(i,e,0,[e.props,s]);if(Fo(),r(),vS(a)){if(El(e)||QS(e),a.then(Nb,Nb),t)return a.then(u=>{Rb(e,u,t)}).catch(u=>{af(u,e,0)});e.asyncDep=a}else Rb(e,a,t)}else I1(e,t)}function Rb(e,t,n){it(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Zt(t)&&(e.setupState=US(t)),I1(e,n)}let Db;function I1(e,t,n){const i=e.type;if(!e.render){if(!t&&Db&&!i.render){const s=i.template||Tv(e).template;if(s){const{isCustomElement:r,compilerOptions:a}=e.appContext.config,{delimiters:u,compilerOptions:o}=i,l=Fn(Fn({isCustomElement:r,delimiters:u},a),o);i.render=Db(s,l)}}e.render=i.render||sr}{const s=Fu(e);Lo();try{CA(e)}finally{Fo(),s()}}}const iP={get(e,t){return ti(e,"get",""),e[t]}};function O1(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,iP),slots:e.slots,emit:e.emit,expose:t}}function gf(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(US(bt(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Uc)return Uc[n](e)},has(t,n){return n in t||n in Uc}})):e.proxy}function sP(e,t=!0){return it(e)?e.displayName||e.name:e.name||t&&e.__name}function rP(e){return it(e)&&"__vccOpts"in e}const K=(e,t)=>tA(e,t,pf);function Oa(e,t,n){const i=arguments.length;return i===2?Zt(t)&&!Xe(t)?fu(t)?O(e,null,[t]):O(e,t):O(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&fu(n)&&(n=[n]),O(e,t,n))}const oP="3.5.11";/**
* @vue/runtime-dom v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Kg;const Lb=typeof window<"u"&&window.trustedTypes;if(Lb)try{Kg=Lb.createPolicy("vue",{createHTML:e=>e})}catch{}const k1=Kg?e=>Kg.createHTML(e):e=>e,aP="http://www.w3.org/2000/svg",lP="http://www.w3.org/1998/Math/MathML",_r=typeof document<"u"?document:null,Fb=_r&&_r.createElement("template"),cP={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const s=t==="svg"?_r.createElementNS(aP,e):t==="mathml"?_r.createElementNS(lP,e):n?_r.createElement(e,{is:n}):_r.createElement(e);return e==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:e=>_r.createTextNode(e),createComment:e=>_r.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>_r.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,s,r){const a=n?n.previousSibling:t.lastChild;if(s&&(s===r||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===r||!(s=s.nextSibling)););else{Fb.innerHTML=k1(i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e);const u=Fb.content;if(i==="svg"||i==="mathml"){const o=u.firstChild;for(;o.firstChild;)u.appendChild(o.firstChild);u.removeChild(o)}t.insertBefore(u,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},uP=Symbol("_vtc");function dP(e,t,n){const i=e[uP];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const lh=Symbol("_vod"),A1=Symbol("_vsh"),qg={beforeMount(e,{value:t},{transition:n}){e[lh]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):sc(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),sc(e,!0),i.enter(e)):i.leave(e,()=>{sc(e,!1)}):sc(e,t))},beforeUnmount(e,{value:t}){sc(e,t)}};function sc(e,t){e.style.display=t?e[lh]:"none",e[A1]=!t}const hP=Symbol(""),fP=/(^|;)\s*display\s*:/;function pP(e,t,n){const i=e.style,s=rn(n);let r=!1;if(n&&!s){if(t)if(rn(t))for(const a of t.split(";")){const u=a.slice(0,a.indexOf(":")).trim();n[u]==null&&Vd(i,u,"")}else for(const a in t)n[a]==null&&Vd(i,a,"");for(const a in n)a==="display"&&(r=!0),Vd(i,a,n[a])}else if(s){if(t!==n){const a=i[hP];a&&(n+=";"+a),i.cssText=n,r=fP.test(n)}}else t&&e.removeAttribute("style");lh in e&&(e[lh]=r?i.display:"",e[A1]&&(i.display="none"))}const Vb=/\s*!important$/;function Vd(e,t,n){if(Xe(n))n.forEach(i=>Vd(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=gP(e,t);Vb.test(n)?e.setProperty(Do(i),n.replace(Vb,""),"important"):e[i]=n}}const Bb=["Webkit","Moz","ms"],bp={};function gP(e,t){const n=bp[t];if(n)return n;let i=Yi(t);if(i!=="filter"&&i in e)return bp[t]=i;i=nf(i);for(let s=0;s<Bb.length;s++){const r=Bb[s]+i;if(r in e)return bp[t]=r}return t}const Hb="http://www.w3.org/1999/xlink";function jb(e,t,n,i,s,r=xk(t)){i&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Hb,t.slice(6,t.length)):e.setAttributeNS(Hb,t,n):n==null||r&&!CS(n)?e.removeAttribute(t):e.setAttribute(t,r?"":Ro(n)?String(n):n)}function Ub(e,t,n,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?k1(n):n);return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?e.getAttribute("value")||"":e.value,u=n==null?e.type==="checkbox"?"on":"":String(n);(a!==u||!("_value"in e))&&(e.value=u),n==null&&e.removeAttribute(t),e._value=n;return}let r=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=CS(n):n==null&&a==="string"?(n="",r=!0):a==="number"&&(n=0,r=!0)}try{e[t]=n}catch{}r&&e.removeAttribute(t)}function al(e,t,n,i){e.addEventListener(t,n,i)}function mP(e,t,n,i){e.removeEventListener(t,n,i)}const Gb=Symbol("_vei");function vP(e,t,n,i,s=null){const r=e[Gb]||(e[Gb]={}),a=r[t];if(i&&a)a.value=i;else{const[u,o]=yP(t);if(i){const l=r[t]=_P(i,s);al(e,u,l,o)}else a&&(mP(e,u,a,o),r[t]=void 0)}}const Wb=/(?:Once|Passive|Capture)$/;function yP(e){let t;if(Wb.test(e)){t={};let i;for(;i=e.match(Wb);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Do(e.slice(2)),t]}let Ep=0;const bP=Promise.resolve(),EP=()=>Ep||(bP.then(()=>Ep=0),Ep=Date.now());function _P(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;rr(CP(i,n.value),t,5,[i])};return n.value=e,n.attached=EP(),n}function CP(e,t){if(Xe(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>s=>!s._stopped&&i&&i(s))}else return t}const zb=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,SP=(e,t,n,i,s,r)=>{const a=s==="svg";t==="class"?dP(e,i,a):t==="style"?pP(e,n,i):Qh(t)?av(t)||vP(e,t,n,i,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):xP(e,t,i,a))?(Ub(e,t,i),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&jb(e,t,i,a,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!rn(i))?Ub(e,Yi(t),i):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),jb(e,t,i,a))};function xP(e,t,n,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&zb(t)&&it(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return zb(t)&&rn(n)?!1:t in e}const Kb=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Xe(t)?n=>Dd(t,n):t};function TP(e){e.target.composing=!0}function qb(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const _p=Symbol("_assign"),mf={created(e,{modifiers:{lazy:t,trim:n,number:i}},s){e[_p]=Kb(s);const r=i||s.props&&s.props.type==="number";al(e,t?"change":"input",a=>{if(a.target.composing)return;let u=e.value;n&&(u=u.trim()),r&&(u=Lg(u)),e[_p](u)}),n&&al(e,"change",()=>{e.value=e.value.trim()}),t||(al(e,"compositionstart",TP),al(e,"compositionend",qb),al(e,"change",qb))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:i,trim:s,number:r}},a){if(e[_p]=Kb(a),e.composing)return;const u=(r||e.type==="number")&&!/^0\d/.test(e.value)?Lg(e.value):e.value,o=t??"";u!==o&&(document.activeElement===e&&e.type!=="range"&&(i&&t===n||s&&e.value.trim()===o)||(e.value=o))}},wP=["ctrl","shift","alt","meta"],IP={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>wP.some(n=>e[`${n}Key`]&&!t.includes(n))},zi=(e,t)=>{const n=e._withMods||(e._withMods={}),i=t.join(".");return n[i]||(n[i]=(s,...r)=>{for(let a=0;a<t.length;a++){const u=IP[t[a]];if(u&&u(s,t))return}return e(s,...r)})},OP=Fn({patchProp:SP},cP);let Yb;function kP(){return Yb||(Yb=DA(OP))}const AP=(...e)=>{const t=kP().createApp(...e),{mount:n}=t;return t.mount=i=>{const s=$P(i);if(!s)return;const r=t._component;!it(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const a=n(s,!1,PP(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},t};function PP(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function $P(e){return rn(e)?document.querySelector(e):e}var MP=!1;/*!
 * pinia v2.2.4
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let P1;const vf=e=>P1=e,$1=Symbol();function Yg(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var zc;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(zc||(zc={}));function NP(){const e=uv(!0),t=e.run(()=>st({}));let n=[],i=[];const s=bt({install(r){vf(s),s._a=r,r.provide($1,s),r.config.globalProperties.$pinia=s,i.forEach(a=>n.push(a)),i=[]},use(r){return!this._a&&!MP?i.push(r):n.push(r),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return s}const M1=()=>{};function Jb(e,t,n,i=M1){e.push(t);const s=()=>{const r=e.indexOf(t);r>-1&&(e.splice(r,1),i())};return!n&&dv()&&wS(s),s}function za(e,...t){e.slice().forEach(n=>{n(...t)})}const RP=e=>e(),Xb=Symbol(),Cp=Symbol();function Jg(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,i)=>e.set(i,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const i=t[n],s=e[n];Yg(s)&&Yg(i)&&e.hasOwnProperty(n)&&!dt(i)&&!vo(i)?e[n]=Jg(s,i):e[n]=i}return e}const DP=Symbol();function LP(e){return!Yg(e)||!e.hasOwnProperty(DP)}const{assign:Ur}=Object;function FP(e){return!!(dt(e)&&e.effect)}function VP(e,t,n,i){const{state:s,actions:r,getters:a}=t,u=n.state.value[e];let o;function l(){u||(n.state.value[e]=s?s():{});const c=GS(n.state.value[e]);return Ur(c,r,Object.keys(a||{}).reduce((d,h)=>(d[h]=bt(K(()=>{vf(n);const f=n._s.get(e);return a[h].call(f,f)})),d),{}))}return o=N1(e,l,t,n,i,!0),o}function N1(e,t,n={},i,s,r){let a;const u=Ur({actions:{}},n),o={deep:!0};let l,c,d=[],h=[],f;const p=i.state.value[e];!r&&!p&&(i.state.value[e]={}),st({});let g;function m(z){let D;l=c=!1,typeof z=="function"?(z(i.state.value[e]),D={type:zc.patchFunction,storeId:e,events:f}):(Jg(i.state.value[e],z),D={type:zc.patchObject,payload:z,storeId:e,events:f});const j=g=Symbol();Ta().then(()=>{g===j&&(l=!0)}),c=!0,za(d,D,i.state.value[e])}const y=r?function(){const{state:D}=n,j=D?D():{};this.$patch(se=>{Ur(se,j)})}:M1;function b(){a.stop(),d=[],h=[],i._s.delete(e)}const E=(z,D="")=>{if(Xb in z)return z[Cp]=D,z;const j=function(){vf(i);const se=Array.from(arguments),ae=[],Y=[];function Z(re){ae.push(re)}function de(re){Y.push(re)}za(h,{args:se,name:j[Cp],store:I,after:Z,onError:de});let ce;try{ce=z.apply(this&&this.$id===e?this:I,se)}catch(re){throw za(Y,re),re}return ce instanceof Promise?ce.then(re=>(za(ae,re),re)).catch(re=>(za(Y,re),Promise.reject(re))):(za(ae,ce),ce)};return j[Xb]=!0,j[Cp]=D,j},_={_p:i,$id:e,$onAction:Jb.bind(null,h),$patch:m,$reset:y,$subscribe(z,D={}){const j=Jb(d,z,D.detached,()=>se()),se=a.run(()=>qt(()=>i.state.value[e],ae=>{(D.flush==="sync"?c:l)&&z({storeId:e,type:zc.direct,events:f},ae)},Ur({},o,D)));return j},$dispose:b},I=nr(_);i._s.set(e,I);const M=(i._a&&i._a.runWithContext||RP)(()=>i._e.run(()=>(a=uv()).run(()=>t({action:E}))));for(const z in M){const D=M[z];if(dt(D)&&!FP(D)||vo(D))r||(p&&LP(D)&&(dt(D)?D.value=p[z]:Jg(D,p[z])),i.state.value[e][z]=D);else if(typeof D=="function"){const j=E(D,z);M[z]=j,u.actions[z]=D}}return Ur(I,M),Ur(kt(I),M),Object.defineProperty(I,"$state",{get:()=>i.state.value[e],set:z=>{m(D=>{Ur(D,z)})}}),i._p.forEach(z=>{Ur(I,a.run(()=>z({store:I,app:i._a,pinia:i,options:u})))}),p&&r&&n.hydrate&&n.hydrate(I.$state,p),l=!0,c=!0,I}function BP(e,t,n){let i,s;const r=typeof t=="function";i=e,s=r?n:t;function a(u,o){const l=kA();return u=u||(l?Ii($1,null):null),u&&vf(u),u=P1,u._s.has(i)||(r?N1(i,t,s,u):VP(i,s,u)),u._s.get(i)}return a.$id=i,a}/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const ll=typeof document<"u";function R1(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function HP(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&R1(e.default)}const Ft=Object.assign;function Sp(e,t){const n={};for(const i in t){const s=t[i];n[i]=Bs(s)?s.map(e):e(s)}return n}const Kc=()=>{},Bs=Array.isArray,D1=/#/g,jP=/&/g,UP=/\//g,GP=/=/g,WP=/\?/g,L1=/\+/g,zP=/%5B/g,KP=/%5D/g,F1=/%5E/g,qP=/%60/g,V1=/%7B/g,YP=/%7C/g,B1=/%7D/g,JP=/%20/g;function Av(e){return encodeURI(""+e).replace(YP,"|").replace(zP,"[").replace(KP,"]")}function XP(e){return Av(e).replace(V1,"{").replace(B1,"}").replace(F1,"^")}function Xg(e){return Av(e).replace(L1,"%2B").replace(JP,"+").replace(D1,"%23").replace(jP,"%26").replace(qP,"`").replace(V1,"{").replace(B1,"}").replace(F1,"^")}function ZP(e){return Xg(e).replace(GP,"%3D")}function QP(e){return Av(e).replace(D1,"%23").replace(WP,"%3F")}function e$(e){return e==null?"":QP(e).replace(UP,"%2F")}function pu(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const t$=/\/$/,n$=e=>e.replace(t$,"");function xp(e,t,n="/"){let i,s={},r="",a="";const u=t.indexOf("#");let o=t.indexOf("?");return u<o&&u>=0&&(o=-1),o>-1&&(i=t.slice(0,o),r=t.slice(o+1,u>-1?u:t.length),s=e(r)),u>-1&&(i=i||t.slice(0,u),a=t.slice(u,t.length)),i=o$(i??t,n),{fullPath:i+(r&&"?")+r+a,path:i,query:s,hash:pu(a)}}function i$(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Zb(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function s$(e,t,n){const i=t.matched.length-1,s=n.matched.length-1;return i>-1&&i===s&&Ol(t.matched[i],n.matched[s])&&H1(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Ol(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function H1(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!r$(e[n],t[n]))return!1;return!0}function r$(e,t){return Bs(e)?Qb(e,t):Bs(t)?Qb(t,e):e===t}function Qb(e,t){return Bs(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function o$(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/"),s=i[i.length-1];(s===".."||s===".")&&i.push("");let r=n.length-1,a,u;for(a=0;a<i.length;a++)if(u=i[a],u!==".")if(u==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+i.slice(a).join("/")}const Vr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var gu;(function(e){e.pop="pop",e.push="push"})(gu||(gu={}));var qc;(function(e){e.back="back",e.forward="forward",e.unknown=""})(qc||(qc={}));function a$(e){if(!e)if(ll){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),n$(e)}const l$=/^[^#]+#/;function c$(e,t){return e.replace(l$,"#")+t}function u$(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const yf=()=>({left:window.scrollX,top:window.scrollY});function d$(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=u$(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function eE(e,t){return(history.state?history.state.position-t:-1)+e}const Zg=new Map;function h$(e,t){Zg.set(e,t)}function f$(e){const t=Zg.get(e);return Zg.delete(e),t}let p$=()=>location.protocol+"//"+location.host;function j1(e,t){const{pathname:n,search:i,hash:s}=t,r=e.indexOf("#");if(r>-1){let u=s.includes(e.slice(r))?e.slice(r).length:1,o=s.slice(u);return o[0]!=="/"&&(o="/"+o),Zb(o,"")}return Zb(n,e)+i+s}function g$(e,t,n,i){let s=[],r=[],a=null;const u=({state:h})=>{const f=j1(e,location),p=n.value,g=t.value;let m=0;if(h){if(n.value=f,t.value=h,a&&a===p){a=null;return}m=g?h.position-g.position:0}else i(f);s.forEach(y=>{y(n.value,p,{delta:m,type:gu.pop,direction:m?m>0?qc.forward:qc.back:qc.unknown})})};function o(){a=n.value}function l(h){s.push(h);const f=()=>{const p=s.indexOf(h);p>-1&&s.splice(p,1)};return r.push(f),f}function c(){const{history:h}=window;h.state&&h.replaceState(Ft({},h.state,{scroll:yf()}),"")}function d(){for(const h of r)h();r=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:o,listen:l,destroy:d}}function tE(e,t,n,i=!1,s=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:s?yf():null}}function m$(e){const{history:t,location:n}=window,i={value:j1(e,n)},s={value:t.state};s.value||r(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(o,l,c){const d=e.indexOf("#"),h=d>-1?(n.host&&document.querySelector("base")?e:e.slice(d))+o:p$()+e+o;try{t[c?"replaceState":"pushState"](l,"",h),s.value=l}catch(f){console.error(f),n[c?"replace":"assign"](h)}}function a(o,l){const c=Ft({},t.state,tE(s.value.back,o,s.value.forward,!0),l,{position:s.value.position});r(o,c,!0),i.value=o}function u(o,l){const c=Ft({},s.value,t.state,{forward:o,scroll:yf()});r(c.current,c,!0);const d=Ft({},tE(i.value,o,null),{position:c.position+1},l);r(o,d,!1),i.value=o}return{location:i,state:s,push:u,replace:a}}function v$(e){e=a$(e);const t=m$(e),n=g$(e,t.state,t.location,t.replace);function i(r,a=!0){a||n.pauseListeners(),history.go(r)}const s=Ft({location:"",base:e,go:i,createHref:c$.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function y$(e){return typeof e=="string"||e&&typeof e=="object"}function U1(e){return typeof e=="string"||typeof e=="symbol"}const G1=Symbol("");var nE;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(nE||(nE={}));function kl(e,t){return Ft(new Error,{type:e,[G1]:!0},t)}function vr(e,t){return e instanceof Error&&G1 in e&&(t==null||!!(e.type&t))}const iE="[^/]+?",b$={sensitive:!1,strict:!1,start:!0,end:!0},E$=/[.+*?^${}()[\]/\\]/g;function _$(e,t){const n=Ft({},b$,t),i=[];let s=n.start?"^":"";const r=[];for(const l of e){const c=l.length?[]:[90];n.strict&&!l.length&&(s+="/");for(let d=0;d<l.length;d++){const h=l[d];let f=40+(n.sensitive?.25:0);if(h.type===0)d||(s+="/"),s+=h.value.replace(E$,"\\$&"),f+=40;else if(h.type===1){const{value:p,repeatable:g,optional:m,regexp:y}=h;r.push({name:p,repeatable:g,optional:m});const b=y||iE;if(b!==iE){f+=10;try{new RegExp(`(${b})`)}catch(_){throw new Error(`Invalid custom RegExp for param "${p}" (${b}): `+_.message)}}let E=g?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;d||(E=m&&l.length<2?`(?:/${E})`:"/"+E),m&&(E+="?"),s+=E,f+=20,m&&(f+=-8),g&&(f+=-20),b===".*"&&(f+=-50)}c.push(f)}i.push(c)}if(n.strict&&n.end){const l=i.length-1;i[l][i[l].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const a=new RegExp(s,n.sensitive?"":"i");function u(l){const c=l.match(a),d={};if(!c)return null;for(let h=1;h<c.length;h++){const f=c[h]||"",p=r[h-1];d[p.name]=f&&p.repeatable?f.split("/"):f}return d}function o(l){let c="",d=!1;for(const h of e){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const f of h)if(f.type===0)c+=f.value;else if(f.type===1){const{value:p,repeatable:g,optional:m}=f,y=p in l?l[p]:"";if(Bs(y)&&!g)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const b=Bs(y)?y.join("/"):y;if(!b)if(m)h.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);c+=b}}return c||"/"}return{re:a,score:i,keys:r,parse:u,stringify:o}}function C$(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function W1(e,t){let n=0;const i=e.score,s=t.score;for(;n<i.length&&n<s.length;){const r=C$(i[n],s[n]);if(r)return r;n++}if(Math.abs(s.length-i.length)===1){if(sE(i))return 1;if(sE(s))return-1}return s.length-i.length}function sE(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const S$={type:0,value:""},x$=/[a-zA-Z0-9_]/;function T$(e){if(!e)return[[]];if(e==="/")return[[S$]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(f){throw new Error(`ERR (${n})/"${l}": ${f}`)}let n=0,i=n;const s=[];let r;function a(){r&&s.push(r),r=[]}let u=0,o,l="",c="";function d(){l&&(n===0?r.push({type:0,value:l}):n===1||n===2||n===3?(r.length>1&&(o==="*"||o==="+")&&t(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:l,regexp:c,repeatable:o==="*"||o==="+",optional:o==="*"||o==="?"})):t("Invalid state to consume buffer"),l="")}function h(){l+=o}for(;u<e.length;){if(o=e[u++],o==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:o==="/"?(l&&d(),a()):o===":"?(d(),n=1):h();break;case 4:h(),n=i;break;case 1:o==="("?n=2:x$.test(o)?h():(d(),n=0,o!=="*"&&o!=="?"&&o!=="+"&&u--);break;case 2:o===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+o:n=3:c+=o;break;case 3:d(),n=0,o!=="*"&&o!=="?"&&o!=="+"&&u--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${l}"`),d(),a(),s}function w$(e,t,n){const i=_$(T$(e.path),n),s=Ft(i,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function I$(e,t){const n=[],i=new Map;t=lE({strict:!1,end:!0,sensitive:!1},t);function s(d){return i.get(d)}function r(d,h,f){const p=!f,g=oE(d);g.aliasOf=f&&f.record;const m=lE(t,d),y=[g];if("alias"in d){const _=typeof d.alias=="string"?[d.alias]:d.alias;for(const I of _)y.push(oE(Ft({},g,{components:f?f.record.components:g.components,path:I,aliasOf:f?f.record:g})))}let b,E;for(const _ of y){const{path:I}=_;if(h&&I[0]!=="/"){const P=h.record.path,M=P[P.length-1]==="/"?"":"/";_.path=h.record.path+(I&&M+I)}if(b=w$(_,h,m),f?f.alias.push(b):(E=E||b,E!==b&&E.alias.push(b),p&&d.name&&!aE(b)&&a(d.name)),z1(b)&&o(b),g.children){const P=g.children;for(let M=0;M<P.length;M++)r(P[M],b,f&&f.children[M])}f=f||b}return E?()=>{a(E)}:Kc}function a(d){if(U1(d)){const h=i.get(d);h&&(i.delete(d),n.splice(n.indexOf(h),1),h.children.forEach(a),h.alias.forEach(a))}else{const h=n.indexOf(d);h>-1&&(n.splice(h,1),d.record.name&&i.delete(d.record.name),d.children.forEach(a),d.alias.forEach(a))}}function u(){return n}function o(d){const h=A$(d,n);n.splice(h,0,d),d.record.name&&!aE(d)&&i.set(d.record.name,d)}function l(d,h){let f,p={},g,m;if("name"in d&&d.name){if(f=i.get(d.name),!f)throw kl(1,{location:d});m=f.record.name,p=Ft(rE(h.params,f.keys.filter(E=>!E.optional).concat(f.parent?f.parent.keys.filter(E=>E.optional):[]).map(E=>E.name)),d.params&&rE(d.params,f.keys.map(E=>E.name))),g=f.stringify(p)}else if(d.path!=null)g=d.path,f=n.find(E=>E.re.test(g)),f&&(p=f.parse(g),m=f.record.name);else{if(f=h.name?i.get(h.name):n.find(E=>E.re.test(h.path)),!f)throw kl(1,{location:d,currentLocation:h});m=f.record.name,p=Ft({},h.params,d.params),g=f.stringify(p)}const y=[];let b=f;for(;b;)y.unshift(b.record),b=b.parent;return{name:m,path:g,params:p,matched:y,meta:k$(y)}}e.forEach(d=>r(d));function c(){n.length=0,i.clear()}return{addRoute:r,resolve:l,removeRoute:a,clearRoutes:c,getRoutes:u,getRecordMatcher:s}}function rE(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function oE(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:O$(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function O$(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="object"?n[i]:n;return t}function aE(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function k$(e){return e.reduce((t,n)=>Ft(t,n.meta),{})}function lE(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function A$(e,t){let n=0,i=t.length;for(;n!==i;){const r=n+i>>1;W1(e,t[r])<0?i=r:n=r+1}const s=P$(e);return s&&(i=t.lastIndexOf(s,i-1)),i}function P$(e){let t=e;for(;t=t.parent;)if(z1(t)&&W1(e,t)===0)return t}function z1({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function $$(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<i.length;++s){const r=i[s].replace(L1," "),a=r.indexOf("="),u=pu(a<0?r:r.slice(0,a)),o=a<0?null:pu(r.slice(a+1));if(u in t){let l=t[u];Bs(l)||(l=t[u]=[l]),l.push(o)}else t[u]=o}return t}function cE(e){let t="";for(let n in e){const i=e[n];if(n=ZP(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(Bs(i)?i.map(r=>r&&Xg(r)):[i&&Xg(i)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+n,r!=null&&(t+="="+r))})}return t}function M$(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=Bs(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return t}const N$=Symbol(""),uE=Symbol(""),bf=Symbol(""),Pv=Symbol(""),Qg=Symbol("");function rc(){let e=[];function t(i){return e.push(i),()=>{const s=e.indexOf(i);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function lo(e,t,n,i,s,r=a=>a()){const a=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((u,o)=>{const l=h=>{h===!1?o(kl(4,{from:n,to:t})):h instanceof Error?o(h):y$(h)?o(kl(2,{from:t,to:h})):(a&&i.enterCallbacks[s]===a&&typeof h=="function"&&a.push(h),u())},c=r(()=>e.call(i&&i.instances[s],t,n,l));let d=Promise.resolve(c);e.length<3&&(d=d.then(l)),d.catch(h=>o(h))})}function Tp(e,t,n,i,s=r=>r()){const r=[];for(const a of e)for(const u in a.components){let o=a.components[u];if(!(t!=="beforeRouteEnter"&&!a.instances[u]))if(R1(o)){const c=(o.__vccOpts||o)[t];c&&r.push(lo(c,n,i,a,u,s))}else{let l=o();r.push(()=>l.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${u}" at "${a.path}"`);const d=HP(c)?c.default:c;a.mods[u]=c,a.components[u]=d;const f=(d.__vccOpts||d)[t];return f&&lo(f,n,i,a,u,s)()}))}}return r}function dE(e){const t=Ii(bf),n=Ii(Pv),i=K(()=>{const o=v(e.to);return t.resolve(o)}),s=K(()=>{const{matched:o}=i.value,{length:l}=o,c=o[l-1],d=n.matched;if(!c||!d.length)return-1;const h=d.findIndex(Ol.bind(null,c));if(h>-1)return h;const f=hE(o[l-2]);return l>1&&hE(c)===f&&d[d.length-1].path!==f?d.findIndex(Ol.bind(null,o[l-2])):h}),r=K(()=>s.value>-1&&F$(n.params,i.value.params)),a=K(()=>s.value>-1&&s.value===n.matched.length-1&&H1(n.params,i.value.params));function u(o={}){return L$(o)?t[v(e.replace)?"replace":"push"](v(e.to)).catch(Kc):Promise.resolve()}return{route:i,href:K(()=>i.value.href),isActive:r,isExactActive:a,navigate:u}}const R$=$({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:dE,setup(e,{slots:t}){const n=nr(dE(e)),{options:i}=Ii(bf),s=K(()=>({[fE(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[fE(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=t.default&&t.default(n);return e.custom?r:Oa("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},r)}}}),D$=R$;function L$(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function F$(e,t){for(const n in t){const i=t[n],s=e[n];if(typeof i=="string"){if(i!==s)return!1}else if(!Bs(s)||s.length!==i.length||i.some((r,a)=>r!==s[a]))return!1}return!0}function hE(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const fE=(e,t,n)=>e??t??n,V$=$({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=Ii(Qg),s=K(()=>e.route||i.value),r=Ii(uE,0),a=K(()=>{let l=v(r);const{matched:c}=s.value;let d;for(;(d=c[l])&&!d.components;)l++;return l}),u=K(()=>s.value.matched[a.value]);Gc(uE,K(()=>a.value+1)),Gc(N$,u),Gc(Qg,s);const o=st();return qt(()=>[o.value,u.value,e.name],([l,c,d],[h,f,p])=>{c&&(c.instances[d]=l,f&&f!==c&&l&&l===h&&(c.leaveGuards.size||(c.leaveGuards=f.leaveGuards),c.updateGuards.size||(c.updateGuards=f.updateGuards))),l&&c&&(!f||!Ol(c,f)||!h)&&(c.enterCallbacks[d]||[]).forEach(g=>g(l))},{flush:"post"}),()=>{const l=s.value,c=e.name,d=u.value,h=d&&d.components[c];if(!h)return pE(n.default,{Component:h,route:l});const f=d.props[c],p=f?f===!0?l.params:typeof f=="function"?f(l):f:null,m=Oa(h,Ft({},p,t,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(d.instances[c]=null)},ref:o}));return pE(n.default,{Component:m,route:l})||m}}});function pE(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const B$=V$;function H$(e){const t=I$(e.routes,e),n=e.parseQuery||$$,i=e.stringifyQuery||cE,s=e.history,r=rc(),a=rc(),u=rc(),o=yo(Vr);let l=Vr;ll&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Sp.bind(null,ne=>""+ne),d=Sp.bind(null,e$),h=Sp.bind(null,pu);function f(ne,ge){let pe,Ee;return U1(ne)?(pe=t.getRecordMatcher(ne),Ee=ge):Ee=ne,t.addRoute(Ee,pe)}function p(ne){const ge=t.getRecordMatcher(ne);ge&&t.removeRoute(ge)}function g(){return t.getRoutes().map(ne=>ne.record)}function m(ne){return!!t.getRecordMatcher(ne)}function y(ne,ge){if(ge=Ft({},ge||o.value),typeof ne=="string"){const k=xp(n,ne,ge.path),G=t.resolve({path:k.path},ge),oe=s.createHref(k.fullPath);return Ft(k,G,{params:h(G.params),hash:pu(k.hash),redirectedFrom:void 0,href:oe})}let pe;if(ne.path!=null)pe=Ft({},ne,{path:xp(n,ne.path,ge.path).path});else{const k=Ft({},ne.params);for(const G in k)k[G]==null&&delete k[G];pe=Ft({},ne,{params:d(k)}),ge.params=d(ge.params)}const Ee=t.resolve(pe,ge),xt=ne.hash||"";Ee.params=c(h(Ee.params));const Dt=i$(i,Ft({},ne,{hash:XP(xt),path:Ee.path})),T=s.createHref(Dt);return Ft({fullPath:Dt,hash:xt,query:i===cE?M$(ne.query):ne.query||{}},Ee,{redirectedFrom:void 0,href:T})}function b(ne){return typeof ne=="string"?xp(n,ne,o.value.path):Ft({},ne)}function E(ne,ge){if(l!==ne)return kl(8,{from:ge,to:ne})}function _(ne){return M(ne)}function I(ne){return _(Ft(b(ne),{replace:!0}))}function P(ne){const ge=ne.matched[ne.matched.length-1];if(ge&&ge.redirect){const{redirect:pe}=ge;let Ee=typeof pe=="function"?pe(ne):pe;return typeof Ee=="string"&&(Ee=Ee.includes("?")||Ee.includes("#")?Ee=b(Ee):{path:Ee},Ee.params={}),Ft({query:ne.query,hash:ne.hash,params:Ee.path!=null?{}:ne.params},Ee)}}function M(ne,ge){const pe=l=y(ne),Ee=o.value,xt=ne.state,Dt=ne.force,T=ne.replace===!0,k=P(pe);if(k)return M(Ft(b(k),{state:typeof k=="object"?Ft({},xt,k.state):xt,force:Dt,replace:T}),ge||pe);const G=pe;G.redirectedFrom=ge;let oe;return!Dt&&s$(i,Ee,pe)&&(oe=kl(16,{to:G,from:Ee}),ht(Ee,Ee,!0,!1)),(oe?Promise.resolve(oe):j(G,Ee)).catch(ie=>vr(ie)?vr(ie,2)?ie:lt(ie):he(ie,G,Ee)).then(ie=>{if(ie){if(vr(ie,2))return M(Ft({replace:T},b(ie.to),{state:typeof ie.to=="object"?Ft({},xt,ie.to.state):xt,force:Dt}),ge||G)}else ie=ae(G,Ee,!0,T,xt);return se(G,Ee,ie),ie})}function z(ne,ge){const pe=E(ne,ge);return pe?Promise.reject(pe):Promise.resolve()}function D(ne){const ge=mt.values().next().value;return ge&&typeof ge.runWithContext=="function"?ge.runWithContext(ne):ne()}function j(ne,ge){let pe;const[Ee,xt,Dt]=j$(ne,ge);pe=Tp(Ee.reverse(),"beforeRouteLeave",ne,ge);for(const k of Ee)k.leaveGuards.forEach(G=>{pe.push(lo(G,ne,ge))});const T=z.bind(null,ne,ge);return pe.push(T),an(pe).then(()=>{pe=[];for(const k of r.list())pe.push(lo(k,ne,ge));return pe.push(T),an(pe)}).then(()=>{pe=Tp(xt,"beforeRouteUpdate",ne,ge);for(const k of xt)k.updateGuards.forEach(G=>{pe.push(lo(G,ne,ge))});return pe.push(T),an(pe)}).then(()=>{pe=[];for(const k of Dt)if(k.beforeEnter)if(Bs(k.beforeEnter))for(const G of k.beforeEnter)pe.push(lo(G,ne,ge));else pe.push(lo(k.beforeEnter,ne,ge));return pe.push(T),an(pe)}).then(()=>(ne.matched.forEach(k=>k.enterCallbacks={}),pe=Tp(Dt,"beforeRouteEnter",ne,ge,D),pe.push(T),an(pe))).then(()=>{pe=[];for(const k of a.list())pe.push(lo(k,ne,ge));return pe.push(T),an(pe)}).catch(k=>vr(k,8)?k:Promise.reject(k))}function se(ne,ge,pe){u.list().forEach(Ee=>D(()=>Ee(ne,ge,pe)))}function ae(ne,ge,pe,Ee,xt){const Dt=E(ne,ge);if(Dt)return Dt;const T=ge===Vr,k=ll?history.state:{};pe&&(Ee||T?s.replace(ne.fullPath,Ft({scroll:T&&k&&k.scroll},xt)):s.push(ne.fullPath,xt)),o.value=ne,ht(ne,ge,pe,T),lt()}let Y;function Z(){Y||(Y=s.listen((ne,ge,pe)=>{if(!Gt.listening)return;const Ee=y(ne),xt=P(Ee);if(xt){M(Ft(xt,{replace:!0}),Ee).catch(Kc);return}l=Ee;const Dt=o.value;ll&&h$(eE(Dt.fullPath,pe.delta),yf()),j(Ee,Dt).catch(T=>vr(T,12)?T:vr(T,2)?(M(T.to,Ee).then(k=>{vr(k,20)&&!pe.delta&&pe.type===gu.pop&&s.go(-1,!1)}).catch(Kc),Promise.reject()):(pe.delta&&s.go(-pe.delta,!1),he(T,Ee,Dt))).then(T=>{T=T||ae(Ee,Dt,!1),T&&(pe.delta&&!vr(T,8)?s.go(-pe.delta,!1):pe.type===gu.pop&&vr(T,20)&&s.go(-1,!1)),se(Ee,Dt,T)}).catch(Kc)}))}let de=rc(),ce=rc(),re;function he(ne,ge,pe){lt(ne);const Ee=ce.list();return Ee.length?Ee.forEach(xt=>xt(ne,ge,pe)):console.error(ne),Promise.reject(ne)}function je(){return re&&o.value!==Vr?Promise.resolve():new Promise((ne,ge)=>{de.add([ne,ge])})}function lt(ne){return re||(re=!ne,Z(),de.list().forEach(([ge,pe])=>ne?pe(ne):ge()),de.reset()),ne}function ht(ne,ge,pe,Ee){const{scrollBehavior:xt}=e;if(!ll||!xt)return Promise.resolve();const Dt=!pe&&f$(eE(ne.fullPath,0))||(Ee||!pe)&&history.state&&history.state.scroll||null;return Ta().then(()=>xt(ne,ge,Dt)).then(T=>T&&d$(T)).catch(T=>he(T,ne,ge))}const Et=ne=>s.go(ne);let Ut;const mt=new Set,Gt={currentRoute:o,listening:!0,addRoute:f,removeRoute:p,clearRoutes:t.clearRoutes,hasRoute:m,getRoutes:g,resolve:y,options:e,push:_,replace:I,go:Et,back:()=>Et(-1),forward:()=>Et(1),beforeEach:r.add,beforeResolve:a.add,afterEach:u.add,onError:ce.add,isReady:je,install(ne){const ge=this;ne.component("RouterLink",D$),ne.component("RouterView",B$),ne.config.globalProperties.$router=ge,Object.defineProperty(ne.config.globalProperties,"$route",{enumerable:!0,get:()=>v(o)}),ll&&!Ut&&o.value===Vr&&(Ut=!0,_(s.location).catch(xt=>{}));const pe={};for(const xt in Vr)Object.defineProperty(pe,xt,{get:()=>o.value[xt],enumerable:!0});ne.provide(bf,ge),ne.provide(Pv,HS(pe)),ne.provide(Qg,o);const Ee=ne.unmount;mt.add(ne),ne.unmount=function(){mt.delete(ne),mt.size<1&&(l=Vr,Y&&Y(),Y=null,o.value=Vr,Ut=!1,re=!1),Ee()}}};function an(ne){return ne.reduce((ge,pe)=>ge.then(()=>D(pe)),Promise.resolve())}return Gt}function j$(e,t){const n=[],i=[],s=[],r=Math.max(t.matched.length,e.matched.length);for(let a=0;a<r;a++){const u=t.matched[a];u&&(e.matched.find(l=>Ol(l,u))?i.push(u):n.push(u));const o=e.matched[a];o&&(t.matched.find(l=>Ol(l,o))||s.push(o))}return[n,i,s]}function Hl(){return Ii(bf)}function Ef(e){return Ii(Pv)}const U$={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function G$(e,t){return C(),te("svg",U$,t[0]||(t[0]=[L("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"m21 21l-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607"},null,-1)]))}const _f=bt({name:"heroicons-magnifying-glass",render:G$}),W$={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function z$(e,t){return C(),te("svg",W$,t[0]||(t[0]=[L("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M6 18L18 6M6 6l12 12"},null,-1)]))}const jl=bt({name:"heroicons-x-mark",render:z$}),K$={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function q$(e,t){return C(),te("svg",K$,t[0]||(t[0]=[L("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0a9 9 0 0 1 18 0"},null,-1)]))}const K1=bt({name:"heroicons-plus-circle",render:q$}),Y$={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function J$(e,t){return C(),te("svg",Y$,t[0]||(t[0]=[L("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M3.98 8.223A10.5 10.5 0 0 0 1.934 12c1.292 4.339 5.31 7.5 10.066 7.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.499a10.52 10.52 0 0 1-4.293 5.773M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"},null,-1)]))}const q1=bt({name:"heroicons-eye-slash",render:J$}),X$={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Z$(e,t){return C(),te("svg",X$,t[0]||(t[0]=[L("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"},[L("path",{d:"M2.036 12.322a1 1 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178c.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178"}),L("path",{d:"M15 12a3 3 0 1 1-6 0a3 3 0 0 1 6 0"})],-1)]))}const Y1=bt({name:"heroicons-eye",render:Z$}),Q$={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function eM(e,t){return C(),te("svg",Q$,t[0]||(t[0]=[L("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"m14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21q.512.078 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48 48 0 0 0-3.478-.397m-12 .562q.51-.088 1.022-.165m0 0a48 48 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a52 52 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a49 49 0 0 0-7.5 0"},null,-1)]))}const Cf=bt({name:"heroicons-trash",render:eM}),tM={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function nM(e,t){return C(),te("svg",tM,t[0]||(t[0]=[L("path",{fill:"currentColor",d:"M8.5 7a1.5 1.5 0 1 0 0-3a1.5 1.5 0 0 0 0 3m0 6.5a1.5 1.5 0 1 0 0-3a1.5 1.5 0 0 0 0 3m1.5 5a1.5 1.5 0 1 1-3 0a1.5 1.5 0 0 1 3 0M15.5 7a1.5 1.5 0 1 0 0-3a1.5 1.5 0 0 0 0 3m1.5 5a1.5 1.5 0 1 1-3 0a1.5 1.5 0 0 1 3 0m-1.5 8a1.5 1.5 0 1 0 0-3a1.5 1.5 0 0 0 0 3"},null,-1)]))}const J1=bt({name:"ri-draggable",render:nM}),iM=["data-disabled"],sM={key:0,class:"handle flex-none py-2 px-1 rounded-md hover:bg-zinc-200 cursor-move"},rM={class:"w-0 flex-1 truncate"},oM=$({__name:"Section",props:{section:null,static:{type:Boolean,default:!1}},emits:["activate","deactivate","toggle","remove"],setup(e,{emit:t}){const n=Hl(),i=t,s=e;function r(){n.push(s.section.id)}return(a,u)=>{const o=J1,l=Cf,c=Y1,d=q1;return C(),te("div",{class:"",onMouseenter:u[2]||(u[2]=h=>i("activate")),onMouseleave:u[3]||(u[3]=h=>i("deactivate"))},[L("div",{class:"flex rounded border border-zinc-100 hover:bg-zinc-100 cursor-pointer active:ring-inset active:ring-2 active:ring-gray-700 data-[disabled=true]:text-zinc-500","data-disabled":e.section.disabled},[e.static?tt("",!0):(C(),te("button",sM,[O(o,{class:"inline w-4"})])),L("div",{onClick:r,class:sn(["group py-2 pr-1 text-sm flex-1 flex items-center max-w-full",{"px-4":e.static,"px-2":!e.static}])},[L("div",rM,ue(s.section.name),1),e.static?tt("",!0):(C(),te("button",{key:0,onClick:u[0]||(u[0]=zi(h=>i("remove"),["stop"])),class:"flex-none cursor-pointer invisible group-hover:visible py-[1px] px-[2px] rounded-md hover:bg-zinc-200"},[O(l,{class:"inline w-4"})])),L("button",{onClick:u[1]||(u[1]=zi(h=>i("toggle"),["stop"])),class:"flex-none cursor-pointer invisible group-hover:visible py-[1px] px-[2px] rounded-md hover:bg-zinc-200 ml-1"},[e.section.disabled?(C(),R(d,{key:1,class:"inline w-4"})):(C(),R(c,{key:0,class:"inline w-4"}))])],2)],8,iM)],32)}}});/**!
 * Sortable 1.15.3
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function gE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function or(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gE(Object(n),!0).forEach(function(i){aM(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gE(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Bd(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bd=function(t){return typeof t}:Bd=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bd(e)}function aM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Io(){return Io=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Io.apply(this,arguments)}function lM(e,t){if(e==null)return{};var n={},i=Object.keys(e),s,r;for(r=0;r<i.length;r++)s=i[r],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function cM(e,t){if(e==null)return{};var n=lM(e,t),i,s;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}var uM="1.15.3";function kr(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var Vo=kr(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Sf=kr(/Edge/i),mE=kr(/firefox/i),Hd=kr(/safari/i)&&!kr(/chrome/i)&&!kr(/android/i),X1=kr(/iP(ad|od|hone)/i),Z1=kr(/chrome/i)&&kr(/android/i),Q1={capture:!1,passive:!1};function Ht(e,t,n){e.addEventListener(t,n,!Vo&&Q1)}function Lt(e,t,n){e.removeEventListener(t,n,!Vo&&Q1)}function ch(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function ex(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Ms(e,t,n,i){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&ch(e,t):ch(e,t))||i&&e===n)return e;if(e===n)break}while(e=ex(e))}return null}var vE=/\s+/g;function Bi(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var i=(" "+e.className+" ").replace(vE," ").replace(" "+t+" "," ");e.className=(i+(n?" "+t:"")).replace(vE," ")}}function et(e,t,n){var i=e&&e.style;if(i){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in i)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),i[t]=n+(typeof n=="string"?"":"px")}}function _l(e,t){var n="";if(typeof e=="string")n=e;else do{var i=et(e,"transform");i&&i!=="none"&&(n=i+" "+n)}while(!t&&(e=e.parentNode));var s=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return s&&new s(n)}function tx(e,t,n){if(e){var i=e.getElementsByTagName(t),s=0,r=i.length;if(n)for(;s<r;s++)n(i[s],s);return i}return[]}function bo(){var e=document.scrollingElement;return e||document.documentElement}function xn(e,t,n,i,s){if(!(!e.getBoundingClientRect&&e!==window)){var r,a,u,o,l,c,d;if(e!==window&&e.parentNode&&e!==bo()?(r=e.getBoundingClientRect(),a=r.top,u=r.left,o=r.bottom,l=r.right,c=r.height,d=r.width):(a=0,u=0,o=window.innerHeight,l=window.innerWidth,c=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(s=s||e.parentNode,!Vo))do if(s&&s.getBoundingClientRect&&(et(s,"transform")!=="none"||n&&et(s,"position")!=="static")){var h=s.getBoundingClientRect();a-=h.top+parseInt(et(s,"border-top-width")),u-=h.left+parseInt(et(s,"border-left-width")),o=a+r.height,l=u+r.width;break}while(s=s.parentNode);if(i&&e!==window){var f=_l(s||e),p=f&&f.a,g=f&&f.d;f&&(a/=g,u/=p,d/=p,c/=g,o=a+c,l=u+d)}return{top:a,left:u,bottom:o,right:l,width:d,height:c}}}function yE(e,t,n){for(var i=EE(e,!0),s=xn(e)[t];i;){var r=xn(i)[n],a=void 0;if(a=s>=r,!a)return i;if(i===bo())break;i=EE(i,!1)}return!1}function Al(e,t,n,i){for(var s=0,r=0,a=e.children;r<a.length;){if(a[r].style.display!=="none"&&a[r]!==rt.ghost&&(i||a[r]!==rt.dragged)&&Ms(a[r],n.draggable,e,!1)){if(s===t)return a[r];s++}r++}return null}function $v(e,t){for(var n=e.lastElementChild;n&&(n===rt.ghost||et(n,"display")==="none"||t&&!ch(n,t));)n=n.previousElementSibling;return n||null}function as(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==rt.clone&&(!t||ch(e,t))&&n++;return n}function bE(e){var t=0,n=0,i=bo();if(e)do{var s=_l(e),r=s.a,a=s.d;t+=e.scrollLeft*r,n+=e.scrollTop*a}while(e!==i&&(e=e.parentNode));return[t,n]}function dM(e,t){for(var n in e)if(e.hasOwnProperty(n)){for(var i in t)if(t.hasOwnProperty(i)&&t[i]===e[n][i])return Number(n)}return-1}function EE(e,t){if(!e||!e.getBoundingClientRect)return bo();var n=e,i=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var s=et(n);if(n.clientWidth<n.scrollWidth&&(s.overflowX=="auto"||s.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(s.overflowY=="auto"||s.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return bo();if(i||t)return n;i=!0}}while(n=n.parentNode);return bo()}function hM(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function wp(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var Ip;function fM(e,t){return function(){if(!Ip){var n=arguments,i=this;n.length===1?e.call(i,n[0]):e.apply(i,n),Ip=setTimeout(function(){Ip=void 0},t)}}}function pM(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function nx(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function ix(e,t,n){var i={};return Array.from(e.children).forEach(function(s){var r,a,u,o;if(!(!Ms(s,t.draggable,e,!1)||s.animated||s===n)){var l=xn(s);i.left=Math.min((r=i.left)!==null&&r!==void 0?r:1/0,l.left),i.top=Math.min((a=i.top)!==null&&a!==void 0?a:1/0,l.top),i.right=Math.max((u=i.right)!==null&&u!==void 0?u:-1/0,l.right),i.bottom=Math.max((o=i.bottom)!==null&&o!==void 0?o:-1/0,l.bottom)}}),i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}var Ui="Sortable"+new Date().getTime();function gM(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var i=[].slice.call(this.el.children);i.forEach(function(s){if(!(et(s,"display")==="none"||s===rt.ghost)){e.push({target:s,rect:xn(s)});var r=or({},e[e.length-1].rect);if(s.thisAnimationDuration){var a=_l(s,!0);a&&(r.top-=a.f,r.left-=a.e)}s.fromRect=r}})}},addAnimationState:function(i){e.push(i)},removeAnimationState:function(i){e.splice(dM(e,{target:i}),1)},animateAll:function(i){var s=this;if(!this.options.animation){clearTimeout(t),typeof i=="function"&&i();return}var r=!1,a=0;e.forEach(function(u){var o=0,l=u.target,c=l.fromRect,d=xn(l),h=l.prevFromRect,f=l.prevToRect,p=u.rect,g=_l(l,!0);g&&(d.top-=g.f,d.left-=g.e),l.toRect=d,l.thisAnimationDuration&&wp(h,d)&&!wp(c,d)&&(p.top-d.top)/(p.left-d.left)===(c.top-d.top)/(c.left-d.left)&&(o=vM(p,h,f,s.options)),wp(d,c)||(l.prevFromRect=c,l.prevToRect=d,o||(o=s.options.animation),s.animate(l,p,d,o)),o&&(r=!0,a=Math.max(a,o),clearTimeout(l.animationResetTimer),l.animationResetTimer=setTimeout(function(){l.animationTime=0,l.prevFromRect=null,l.fromRect=null,l.prevToRect=null,l.thisAnimationDuration=null},o),l.thisAnimationDuration=o)}),clearTimeout(t),r?t=setTimeout(function(){typeof i=="function"&&i()},a):typeof i=="function"&&i(),e=[]},animate:function(i,s,r,a){if(a){et(i,"transition",""),et(i,"transform","");var u=_l(this.el),o=u&&u.a,l=u&&u.d,c=(s.left-r.left)/(o||1),d=(s.top-r.top)/(l||1);i.animatingX=!!c,i.animatingY=!!d,et(i,"transform","translate3d("+c+"px,"+d+"px,0)"),this.forRepaintDummy=mM(i),et(i,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),et(i,"transform","translate3d(0,0,0)"),typeof i.animated=="number"&&clearTimeout(i.animated),i.animated=setTimeout(function(){et(i,"transition",""),et(i,"transform",""),i.animated=!1,i.animatingX=!1,i.animatingY=!1},a)}}}}function mM(e){return e.offsetWidth}function vM(e,t,n,i){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*i.animation}var Ka=[],Op={initializeByDefault:!0},Vu={mount:function(t){for(var n in Op)Op.hasOwnProperty(n)&&!(n in t)&&(t[n]=Op[n]);Ka.forEach(function(i){if(i.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Ka.push(t)},pluginEvent:function(t,n,i){var s=this;this.eventCanceled=!1,i.cancel=function(){s.eventCanceled=!0};var r=t+"Global";Ka.forEach(function(a){n[a.pluginName]&&(n[a.pluginName][r]&&n[a.pluginName][r](or({sortable:n},i)),n.options[a.pluginName]&&n[a.pluginName][t]&&n[a.pluginName][t](or({sortable:n},i)))})},initializePlugins:function(t,n,i,s){Ka.forEach(function(u){var o=u.pluginName;if(!(!t.options[o]&&!u.initializeByDefault)){var l=new u(t,n,t.options);l.sortable=t,l.options=t.options,t[o]=l,Io(i,l.defaults)}});for(var r in t.options)if(t.options.hasOwnProperty(r)){var a=this.modifyOption(t,r,t.options[r]);typeof a<"u"&&(t.options[r]=a)}},getEventProperties:function(t,n){var i={};return Ka.forEach(function(s){typeof s.eventProperties=="function"&&Io(i,s.eventProperties.call(n[s.pluginName],t))}),i},modifyOption:function(t,n,i){var s;return Ka.forEach(function(r){t[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[n]=="function"&&(s=r.optionListeners[n].call(t[r.pluginName],i))}),s}};function yM(e){var t=e.sortable,n=e.rootEl,i=e.name,s=e.targetEl,r=e.cloneEl,a=e.toEl,u=e.fromEl,o=e.oldIndex,l=e.newIndex,c=e.oldDraggableIndex,d=e.newDraggableIndex,h=e.originalEvent,f=e.putSortable,p=e.extraEventProperties;if(t=t||n&&n[Ui],!!t){var g,m=t.options,y="on"+i.charAt(0).toUpperCase()+i.substr(1);window.CustomEvent&&!Vo&&!Sf?g=new CustomEvent(i,{bubbles:!0,cancelable:!0}):(g=document.createEvent("Event"),g.initEvent(i,!0,!0)),g.to=a||n,g.from=u||n,g.item=s||n,g.clone=r,g.oldIndex=o,g.newIndex=l,g.oldDraggableIndex=c,g.newDraggableIndex=d,g.originalEvent=h,g.pullMode=f?f.lastPutMode:void 0;var b=or(or({},p),Vu.getEventProperties(i,t));for(var E in b)g[E]=b[E];n&&n.dispatchEvent(g),m[y]&&m[y].call(t,g)}}var bM=["evt"],Ci=function(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=i.evt,r=cM(i,bM);Vu.pluginEvent.bind(rt)(t,n,or({dragEl:fe,parentEl:cn,ghostEl:at,rootEl:en,nextEl:oa,lastDownEl:jd,cloneEl:nn,cloneHidden:ho,dragStarted:$c,putSortable:jn,activeSortable:rt.active,originalEvent:s,oldIndex:fl,oldDraggableIndex:Yc,newIndex:Hi,newDraggableIndex:co,hideGhostForTarget:ax,unhideGhostForTarget:lx,cloneNowHidden:function(){ho=!0},cloneNowShown:function(){ho=!1},dispatchSortableEvent:function(u){li({sortable:n,name:u,originalEvent:s})}},r))};function li(e){yM(or({putSortable:jn,cloneEl:nn,targetEl:fe,rootEl:en,oldIndex:fl,oldDraggableIndex:Yc,newIndex:Hi,newDraggableIndex:co},e))}var fe,cn,at,en,oa,jd,nn,ho,fl,Hi,Yc,co,ld,jn,cl=!1,uh=!1,dh=[],Zo,vs,kp,Ap,_E,CE,$c,qa,Jc,Xc=!1,cd=!1,Ud,Jn,Pp=[],em=!1,hh=[],xf=typeof document<"u",ud=X1,SE=Sf||Vo?"cssFloat":"float",EM=xf&&!Z1&&!X1&&"draggable"in document.createElement("div"),sx=function(){if(xf){if(Vo)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),rx=function(t,n){var i=et(t),s=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),r=Al(t,0,n),a=Al(t,1,n),u=r&&et(r),o=a&&et(a),l=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+xn(r).width,c=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+xn(a).width;if(i.display==="flex")return i.flexDirection==="column"||i.flexDirection==="column-reverse"?"vertical":"horizontal";if(i.display==="grid")return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&u.float&&u.float!=="none"){var d=u.float==="left"?"left":"right";return a&&(o.clear==="both"||o.clear===d)?"vertical":"horizontal"}return r&&(u.display==="block"||u.display==="flex"||u.display==="table"||u.display==="grid"||l>=s&&i[SE]==="none"||a&&i[SE]==="none"&&l+c>s)?"vertical":"horizontal"},_M=function(t,n,i){var s=i?t.left:t.top,r=i?t.right:t.bottom,a=i?t.width:t.height,u=i?n.left:n.top,o=i?n.right:n.bottom,l=i?n.width:n.height;return s===u||r===o||s+a/2===u+l/2},CM=function(t,n){var i;return dh.some(function(s){var r=s[Ui].options.emptyInsertThreshold;if(!(!r||$v(s))){var a=xn(s),u=t>=a.left-r&&t<=a.right+r,o=n>=a.top-r&&n<=a.bottom+r;if(u&&o)return i=s}}),i},ox=function(t){function n(r,a){return function(u,o,l,c){var d=u.options.group.name&&o.options.group.name&&u.options.group.name===o.options.group.name;if(r==null&&(a||d))return!0;if(r==null||r===!1)return!1;if(a&&r==="clone")return r;if(typeof r=="function")return n(r(u,o,l,c),a)(u,o,l,c);var h=(a?u:o).options.group.name;return r===!0||typeof r=="string"&&r===h||r.join&&r.indexOf(h)>-1}}var i={},s=t.group;(!s||Bd(s)!="object")&&(s={name:s}),i.name=s.name,i.checkPull=n(s.pull,!0),i.checkPut=n(s.put),i.revertClone=s.revertClone,t.group=i},ax=function(){!sx&&at&&et(at,"display","none")},lx=function(){!sx&&at&&et(at,"display","")};xf&&!Z1&&document.addEventListener("click",function(e){if(uh)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),uh=!1,!1},!0);var Qo=function(t){if(fe){t=t.touches?t.touches[0]:t;var n=CM(t.clientX,t.clientY);if(n){var i={};for(var s in t)t.hasOwnProperty(s)&&(i[s]=t[s]);i.target=i.rootEl=n,i.preventDefault=void 0,i.stopPropagation=void 0,n[Ui]._onDragOver(i)}}},SM=function(t){fe&&fe.parentNode[Ui]._isOutsideThisEl(t.target)};function rt(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=Io({},t),e[Ui]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return rx(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,u){a.setData("Text",u.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:rt.supportPointer!==!1&&"PointerEvent"in window&&!Hd,emptyInsertThreshold:5};Vu.initializePlugins(this,e,n);for(var i in n)!(i in t)&&(t[i]=n[i]);ox(t);for(var s in this)s.charAt(0)==="_"&&typeof this[s]=="function"&&(this[s]=this[s].bind(this));this.nativeDraggable=t.forceFallback?!1:EM,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?Ht(e,"pointerdown",this._onTapStart):(Ht(e,"mousedown",this._onTapStart),Ht(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(Ht(e,"dragover",this),Ht(e,"dragenter",this)),dh.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Io(this,gM())}rt.prototype={constructor:rt,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(qa=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,fe):this.options.direction},_onTapStart:function(t){if(t.cancelable){var n=this,i=this.el,s=this.options,r=s.preventOnFilter,a=t.type,u=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,o=(u||t).target,l=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||o,c=s.filter;if(PM(i),!fe&&!(/mousedown|pointerdown/.test(a)&&t.button!==0||s.disabled)&&!l.isContentEditable&&!(!this.nativeDraggable&&Hd&&o&&o.tagName.toUpperCase()==="SELECT")&&(o=Ms(o,s.draggable,i,!1),!(o&&o.animated)&&jd!==o)){if(fl=as(o),Yc=as(o,s.draggable),typeof c=="function"){if(c.call(this,t,o,this)){li({sortable:n,rootEl:l,name:"filter",targetEl:o,toEl:i,fromEl:i}),Ci("filter",n,{evt:t}),r&&t.cancelable&&t.preventDefault();return}}else if(c&&(c=c.split(",").some(function(d){if(d=Ms(l,d.trim(),i,!1),d)return li({sortable:n,rootEl:d,name:"filter",targetEl:o,fromEl:i,toEl:i}),Ci("filter",n,{evt:t}),!0}),c)){r&&t.cancelable&&t.preventDefault();return}s.handle&&!Ms(l,s.handle,i,!1)||this._prepareDragStart(t,u,o)}}},_prepareDragStart:function(t,n,i){var s=this,r=s.el,a=s.options,u=r.ownerDocument,o;if(i&&!fe&&i.parentNode===r){var l=xn(i);if(en=r,fe=i,cn=fe.parentNode,oa=fe.nextSibling,jd=i,ld=a.group,rt.dragged=fe,Zo={target:fe,clientX:(n||t).clientX,clientY:(n||t).clientY},_E=Zo.clientX-l.left,CE=Zo.clientY-l.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,fe.style["will-change"]="all",o=function(){if(Ci("delayEnded",s,{evt:t}),rt.eventCanceled){s._onDrop();return}s._disableDelayedDragEvents(),!mE&&s.nativeDraggable&&(fe.draggable=!0),s._triggerDragStart(t,n),li({sortable:s,name:"choose",originalEvent:t}),Bi(fe,a.chosenClass,!0)},a.ignore.split(",").forEach(function(c){tx(fe,c.trim(),$p)}),Ht(u,"dragover",Qo),Ht(u,"mousemove",Qo),Ht(u,"touchmove",Qo),Ht(u,"mouseup",s._onDrop),Ht(u,"touchend",s._onDrop),Ht(u,"touchcancel",s._onDrop),mE&&this.nativeDraggable&&(this.options.touchStartThreshold=4,fe.draggable=!0),Ci("delayStart",this,{evt:t}),a.delay&&(!a.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Sf||Vo))){if(rt.eventCanceled){this._onDrop();return}Ht(u,"mouseup",s._disableDelayedDrag),Ht(u,"touchend",s._disableDelayedDrag),Ht(u,"touchcancel",s._disableDelayedDrag),Ht(u,"mousemove",s._delayedDragTouchMoveHandler),Ht(u,"touchmove",s._delayedDragTouchMoveHandler),a.supportPointer&&Ht(u,"pointermove",s._delayedDragTouchMoveHandler),s._dragStartTimer=setTimeout(o,a.delay)}else o()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){fe&&$p(fe),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;Lt(t,"mouseup",this._disableDelayedDrag),Lt(t,"touchend",this._disableDelayedDrag),Lt(t,"touchcancel",this._disableDelayedDrag),Lt(t,"mousemove",this._delayedDragTouchMoveHandler),Lt(t,"touchmove",this._delayedDragTouchMoveHandler),Lt(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?Ht(document,"pointermove",this._onTouchMove):n?Ht(document,"touchmove",this._onTouchMove):Ht(document,"mousemove",this._onTouchMove):(Ht(fe,"dragend",this),Ht(en,"dragstart",this._onDragStart));try{document.selection?Gd(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(cl=!1,en&&fe){Ci("dragStarted",this,{evt:n}),this.nativeDraggable&&Ht(document,"dragover",SM);var i=this.options;!t&&Bi(fe,i.dragClass,!1),Bi(fe,i.ghostClass,!0),rt.active=this,t&&this._appendGhost(),li({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(vs){this._lastX=vs.clientX,this._lastY=vs.clientY,ax();for(var t=document.elementFromPoint(vs.clientX,vs.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(vs.clientX,vs.clientY),t!==n);)n=t;if(fe.parentNode[Ui]._isOutsideThisEl(t),n)do{if(n[Ui]){var i=void 0;if(i=n[Ui]._onDragOver({clientX:vs.clientX,clientY:vs.clientY,target:t,rootEl:n}),i&&!this.options.dragoverBubble)break}t=n}while(n=ex(n));lx()}},_onTouchMove:function(t){if(Zo){var n=this.options,i=n.fallbackTolerance,s=n.fallbackOffset,r=t.touches?t.touches[0]:t,a=at&&_l(at,!0),u=at&&a&&a.a,o=at&&a&&a.d,l=ud&&Jn&&bE(Jn),c=(r.clientX-Zo.clientX+s.x)/(u||1)+(l?l[0]-Pp[0]:0)/(u||1),d=(r.clientY-Zo.clientY+s.y)/(o||1)+(l?l[1]-Pp[1]:0)/(o||1);if(!rt.active&&!cl){if(i&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<i)return;this._onDragStart(t,!0)}if(at){a?(a.e+=c-(kp||0),a.f+=d-(Ap||0)):a={a:1,b:0,c:0,d:1,e:c,f:d};var h="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");et(at,"webkitTransform",h),et(at,"mozTransform",h),et(at,"msTransform",h),et(at,"transform",h),kp=c,Ap=d,vs=r}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!at){var t=this.options.fallbackOnBody?document.body:en,n=xn(fe,!0,ud,!0,t),i=this.options;if(ud){for(Jn=t;et(Jn,"position")==="static"&&et(Jn,"transform")==="none"&&Jn!==document;)Jn=Jn.parentNode;Jn!==document.body&&Jn!==document.documentElement?(Jn===document&&(Jn=bo()),n.top+=Jn.scrollTop,n.left+=Jn.scrollLeft):Jn=bo(),Pp=bE(Jn)}at=fe.cloneNode(!0),Bi(at,i.ghostClass,!1),Bi(at,i.fallbackClass,!0),Bi(at,i.dragClass,!0),et(at,"transition",""),et(at,"transform",""),et(at,"box-sizing","border-box"),et(at,"margin",0),et(at,"top",n.top),et(at,"left",n.left),et(at,"width",n.width),et(at,"height",n.height),et(at,"opacity","0.8"),et(at,"position",ud?"absolute":"fixed"),et(at,"zIndex","100000"),et(at,"pointerEvents","none"),rt.ghost=at,t.appendChild(at),et(at,"transform-origin",_E/parseInt(at.style.width)*100+"% "+CE/parseInt(at.style.height)*100+"%")}},_onDragStart:function(t,n){var i=this,s=t.dataTransfer,r=i.options;if(Ci("dragStart",this,{evt:t}),rt.eventCanceled){this._onDrop();return}Ci("setupClone",this),rt.eventCanceled||(nn=nx(fe),nn.removeAttribute("id"),nn.draggable=!1,nn.style["will-change"]="",this._hideClone(),Bi(nn,this.options.chosenClass,!1),rt.clone=nn),i.cloneId=Gd(function(){Ci("clone",i),!rt.eventCanceled&&(i.options.removeCloneOnHide||en.insertBefore(nn,fe),i._hideClone(),li({sortable:i,name:"clone"}))}),!n&&Bi(fe,r.dragClass,!0),n?(uh=!0,i._loopId=setInterval(i._emulateDragOver,50)):(Lt(document,"mouseup",i._onDrop),Lt(document,"touchend",i._onDrop),Lt(document,"touchcancel",i._onDrop),s&&(s.effectAllowed="move",r.setData&&r.setData.call(i,s,fe)),Ht(document,"drop",i),et(fe,"transform","translateZ(0)")),cl=!0,i._dragStartId=Gd(i._dragStarted.bind(i,n,t)),Ht(document,"selectstart",i),$c=!0,Hd&&et(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,i=t.target,s,r,a,u=this.options,o=u.group,l=rt.active,c=ld===o,d=u.sort,h=jn||l,f,p=this,g=!1;if(em)return;function m(he,je){Ci(he,p,or({evt:t,isOwner:c,axis:f?"vertical":"horizontal",revert:a,dragRect:s,targetRect:r,canSort:d,fromSortable:h,target:i,completed:b,onMove:function(ht,Et){return dd(en,n,fe,s,ht,xn(ht),t,Et)},changed:E},je))}function y(){m("dragOverAnimationCapture"),p.captureAnimationState(),p!==h&&h.captureAnimationState()}function b(he){return m("dragOverCompleted",{insertion:he}),he&&(c?l._hideClone():l._showClone(p),p!==h&&(Bi(fe,jn?jn.options.ghostClass:l.options.ghostClass,!1),Bi(fe,u.ghostClass,!0)),jn!==p&&p!==rt.active?jn=p:p===rt.active&&jn&&(jn=null),h===p&&(p._ignoreWhileAnimating=i),p.animateAll(function(){m("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(i===fe&&!fe.animated||i===n&&!i.animated)&&(qa=null),!u.dragoverBubble&&!t.rootEl&&i!==document&&(fe.parentNode[Ui]._isOutsideThisEl(t.target),!he&&Qo(t)),!u.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),g=!0}function E(){Hi=as(fe),co=as(fe,u.draggable),li({sortable:p,name:"change",toEl:n,newIndex:Hi,newDraggableIndex:co,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),i=Ms(i,u.draggable,n,!0),m("dragOver"),rt.eventCanceled)return g;if(fe.contains(t.target)||i.animated&&i.animatingX&&i.animatingY||p._ignoreWhileAnimating===i)return b(!1);if(uh=!1,l&&!u.disabled&&(c?d||(a=cn!==en):jn===this||(this.lastPutMode=ld.checkPull(this,l,fe,t))&&o.checkPut(this,l,fe,t))){if(f=this._getDirection(t,i)==="vertical",s=xn(fe),m("dragOverValid"),rt.eventCanceled)return g;if(a)return cn=en,y(),this._hideClone(),m("revert"),rt.eventCanceled||(oa?en.insertBefore(fe,oa):en.appendChild(fe)),b(!0);var _=$v(n,u.draggable);if(!_||IM(t,f,this)&&!_.animated){if(_===fe)return b(!1);if(_&&n===t.target&&(i=_),i&&(r=xn(i)),dd(en,n,fe,s,i,r,t,!!i)!==!1)return y(),_&&_.nextSibling?n.insertBefore(fe,_.nextSibling):n.appendChild(fe),cn=n,E(),b(!0)}else if(_&&wM(t,f,this)){var I=Al(n,0,u,!0);if(I===fe)return b(!1);if(i=I,r=xn(i),dd(en,n,fe,s,i,r,t,!1)!==!1)return y(),n.insertBefore(fe,I),cn=n,E(),b(!0)}else if(i.parentNode===n){r=xn(i);var P=0,M,z=fe.parentNode!==n,D=!_M(fe.animated&&fe.toRect||s,i.animated&&i.toRect||r,f),j=f?"top":"left",se=yE(i,"top","top")||yE(fe,"top","top"),ae=se?se.scrollTop:void 0;qa!==i&&(M=r[j],Xc=!1,cd=!D&&u.invertSwap||z),P=OM(t,i,r,f,D?1:u.swapThreshold,u.invertedSwapThreshold==null?u.swapThreshold:u.invertedSwapThreshold,cd,qa===i);var Y;if(P!==0){var Z=as(fe);do Z-=P,Y=cn.children[Z];while(Y&&(et(Y,"display")==="none"||Y===at))}if(P===0||Y===i)return b(!1);qa=i,Jc=P;var de=i.nextElementSibling,ce=!1;ce=P===1;var re=dd(en,n,fe,s,i,r,t,ce);if(re!==!1)return(re===1||re===-1)&&(ce=re===1),em=!0,setTimeout(TM,30),y(),ce&&!de?n.appendChild(fe):i.parentNode.insertBefore(fe,ce?de:i),se&&pM(se,0,ae-se.scrollTop),cn=fe.parentNode,M!==void 0&&!cd&&(Ud=Math.abs(M-xn(i)[j])),E(),b(!0)}if(n.contains(fe))return b(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Lt(document,"mousemove",this._onTouchMove),Lt(document,"touchmove",this._onTouchMove),Lt(document,"pointermove",this._onTouchMove),Lt(document,"dragover",Qo),Lt(document,"mousemove",Qo),Lt(document,"touchmove",Qo)},_offUpEvents:function(){var t=this.el.ownerDocument;Lt(t,"mouseup",this._onDrop),Lt(t,"touchend",this._onDrop),Lt(t,"pointerup",this._onDrop),Lt(t,"touchcancel",this._onDrop),Lt(document,"selectstart",this)},_onDrop:function(t){var n=this.el,i=this.options;if(Hi=as(fe),co=as(fe,i.draggable),Ci("drop",this,{evt:t}),cn=fe&&fe.parentNode,Hi=as(fe),co=as(fe,i.draggable),rt.eventCanceled){this._nulling();return}cl=!1,cd=!1,Xc=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),tm(this.cloneId),tm(this._dragStartId),this.nativeDraggable&&(Lt(document,"drop",this),Lt(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Hd&&et(document.body,"user-select",""),et(fe,"transform",""),t&&($c&&(t.cancelable&&t.preventDefault(),!i.dropBubble&&t.stopPropagation()),at&&at.parentNode&&at.parentNode.removeChild(at),(en===cn||jn&&jn.lastPutMode!=="clone")&&nn&&nn.parentNode&&nn.parentNode.removeChild(nn),fe&&(this.nativeDraggable&&Lt(fe,"dragend",this),$p(fe),fe.style["will-change"]="",$c&&!cl&&Bi(fe,jn?jn.options.ghostClass:this.options.ghostClass,!1),Bi(fe,this.options.chosenClass,!1),li({sortable:this,name:"unchoose",toEl:cn,newIndex:null,newDraggableIndex:null,originalEvent:t}),en!==cn?(Hi>=0&&(li({rootEl:cn,name:"add",toEl:cn,fromEl:en,originalEvent:t}),li({sortable:this,name:"remove",toEl:cn,originalEvent:t}),li({rootEl:cn,name:"sort",toEl:cn,fromEl:en,originalEvent:t}),li({sortable:this,name:"sort",toEl:cn,originalEvent:t})),jn&&jn.save()):Hi!==fl&&Hi>=0&&(li({sortable:this,name:"update",toEl:cn,originalEvent:t}),li({sortable:this,name:"sort",toEl:cn,originalEvent:t})),rt.active&&((Hi==null||Hi===-1)&&(Hi=fl,co=Yc),li({sortable:this,name:"end",toEl:cn,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){Ci("nulling",this),en=fe=cn=at=oa=nn=jd=ho=Zo=vs=$c=Hi=co=fl=Yc=qa=Jc=jn=ld=rt.dragged=rt.ghost=rt.clone=rt.active=null,hh.forEach(function(t){t.checked=!0}),hh.length=kp=Ap=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":fe&&(this._onDragOver(t),xM(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,i=this.el.children,s=0,r=i.length,a=this.options;s<r;s++)n=i[s],Ms(n,a.draggable,this.el,!1)&&t.push(n.getAttribute(a.dataIdAttr)||AM(n));return t},sort:function(t,n){var i={},s=this.el;this.toArray().forEach(function(r,a){var u=s.children[a];Ms(u,this.options.draggable,s,!1)&&(i[r]=u)},this),n&&this.captureAnimationState(),t.forEach(function(r){i[r]&&(s.removeChild(i[r]),s.appendChild(i[r]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return Ms(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var i=this.options;if(n===void 0)return i[t];var s=Vu.modifyOption(this,t,n);typeof s<"u"?i[t]=s:i[t]=n,t==="group"&&ox(i)},destroy:function(){Ci("destroy",this);var t=this.el;t[Ui]=null,Lt(t,"mousedown",this._onTapStart),Lt(t,"touchstart",this._onTapStart),Lt(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(Lt(t,"dragover",this),Lt(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),dh.splice(dh.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!ho){if(Ci("hideClone",this),rt.eventCanceled)return;et(nn,"display","none"),this.options.removeCloneOnHide&&nn.parentNode&&nn.parentNode.removeChild(nn),ho=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(ho){if(Ci("showClone",this),rt.eventCanceled)return;fe.parentNode==en&&!this.options.group.revertClone?en.insertBefore(nn,fe):oa?en.insertBefore(nn,oa):en.appendChild(nn),this.options.group.revertClone&&this.animate(fe,nn),et(nn,"display",""),ho=!1}}};function xM(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function dd(e,t,n,i,s,r,a,u){var o,l=e[Ui],c=l.options.onMove,d;return window.CustomEvent&&!Vo&&!Sf?o=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(o=document.createEvent("Event"),o.initEvent("move",!0,!0)),o.to=t,o.from=e,o.dragged=n,o.draggedRect=i,o.related=s||t,o.relatedRect=r||xn(t),o.willInsertAfter=u,o.originalEvent=a,e.dispatchEvent(o),c&&(d=c.call(l,o,a)),d}function $p(e){e.draggable=!1}function TM(){em=!1}function wM(e,t,n){var i=xn(Al(n.el,0,n.options,!0)),s=ix(n.el,n.options,at),r=10;return t?e.clientX<s.left-r||e.clientY<i.top&&e.clientX<i.right:e.clientY<s.top-r||e.clientY<i.bottom&&e.clientX<i.left}function IM(e,t,n){var i=xn($v(n.el,n.options.draggable)),s=ix(n.el,n.options,at),r=10;return t?e.clientX>s.right+r||e.clientY>i.bottom&&e.clientX>i.left:e.clientY>s.bottom+r||e.clientX>i.right&&e.clientY>i.top}function OM(e,t,n,i,s,r,a,u){var o=i?e.clientY:e.clientX,l=i?n.height:n.width,c=i?n.top:n.left,d=i?n.bottom:n.right,h=!1;if(!a){if(u&&Ud<l*s){if(!Xc&&(Jc===1?o>c+l*r/2:o<d-l*r/2)&&(Xc=!0),Xc)h=!0;else if(Jc===1?o<c+Ud:o>d-Ud)return-Jc}else if(o>c+l*(1-s)/2&&o<d-l*(1-s)/2)return kM(t)}return h=h||a,h&&(o<c+l*r/2||o>d-l*r/2)?o>c+l/2?1:-1:0}function kM(e){return as(fe)<as(e)?1:-1}function AM(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,i=0;n--;)i+=t.charCodeAt(n);return i.toString(36)}function PM(e){hh.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var i=t[n];i.checked&&hh.push(i)}}function Gd(e){return setTimeout(e,0)}function tm(e){return clearTimeout(e)}xf&&Ht(document,"touchmove",function(e){(rt.active||cl)&&e.cancelable&&e.preventDefault()});rt.utils={on:Ht,off:Lt,css:et,find:tx,is:function(t,n){return!!Ms(t,n,t,!1)},extend:hM,throttle:fM,closest:Ms,toggleClass:Bi,clone:nx,index:as,nextTick:Gd,cancelNextTick:tm,detectDirection:rx,getChild:Al,expando:Ui};rt.get=function(e){return e[Ui]};rt.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(rt.utils=or(or({},rt.utils),i.utils)),Vu.mount(i)})};rt.create=function(e,t){return new rt(e,t)};rt.version=uM;var cx=function(t){var n=t.originalEvent,i=t.putSortable,s=t.dragEl,r=t.activeSortable,a=t.dispatchSortableEvent,u=t.hideGhostForTarget,o=t.unhideGhostForTarget;if(n){var l=i||r;u();var c=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,d=document.elementFromPoint(c.clientX,c.clientY);o(),l&&!l.el.contains(d)&&(a("spill"),this.onSpill({dragEl:s,putSortable:i}))}};function ux(){}ux.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,i=t.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var s=Al(this.sortable.el,this.startIndex,this.options);s?this.sortable.el.insertBefore(n,s):this.sortable.el.appendChild(n),this.sortable.animateAll(),i&&i.animateAll()},drop:cx};Io(ux,{pluginName:"revertOnSpill"});function dx(){}dx.prototype={onSpill:function(t){var n=t.dragEl,i=t.putSortable,s=i||this.sortable;s.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),s.animateAll()},drop:cx};Io(dx,{pluginName:"removeOnSpill"});const $M={class:"pb-3"},MM={class:"text-sm font-semibold p-3"},NM={key:0,class:"text-sm px-3"},RM={key:1,class:"space-y-2 mt-4 px-3"},DM=$({__name:"SectionsGroup",props:{title:null,sections:null,order:{default:()=>[]},static:{type:Boolean,default:!1}},emits:["reorder","addSection","toggleSection","removeSection","activateSection","deactivateSection"],setup(e,{emit:t}){const n=e,i=t,s=Sv("sortable");return Ai(()=>{n.static||new rt(s.value,{animation:150,ghostClass:"sortable-ghost",onEnd({newIndex:r,oldIndex:a}){const u=[...n.order],o=u.splice(a,1)[0];u.splice(r,0,o),i("reorder",u)}})}),(r,a)=>{const u=oM,o=K1;return C(),te("div",$M,[L("h2",MM,ue(e.title),1),L("div",{ref_key:"sortable",ref:s,class:"space-y-1 px-3"},[e.sections.length>0?(C(!0),te(Ye,{key:0},Kt(e.sections,l=>(C(),R(u,{key:l.id,static:e.static,section:l,onToggle:c=>i("toggleSection",l.id),onRemove:c=>i("removeSection",l.id),onActivate:c=>i("activateSection",l.id),onDeactivate:c=>i("deactivateSection",l.id)},null,8,["static","section","onToggle","onRemove","onActivate","onDeactivate"]))),128)):tt("",!0)],512),e.static&&e.sections.length===0?(C(),te("p",NM,ue(r.$t("No sections")),1)):tt("",!0),n.static?tt("",!0):(C(),te("div",RM,[L("button",{class:"w-full text-sm text-blue-600 rounded-lg cursor-pointer outline-0 inline-flex items-center gap-2 px-2 py-1 hover:bg-gray-200 focus:ring focus:ring-gray-700",onClick:a[0]||(a[0]=l=>i("addSection",l))},[O(o,{class:"w-4 h-4 inline mr-1"}),qe(" "+ue(r.$t("Add Section")),1)])]))])}}});var Dn=(e,t=[])=>({parts:(...n)=>{if(LM(t))return Dn(e,n);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...n)=>Dn(e,[...t,...n]),rename:n=>Dn(n,t),keys:()=>t,build:()=>[...new Set(t)].reduce((n,i)=>Object.assign(n,{[i]:{selector:[`&[data-scope="${Ya(e)}"][data-part="${Ya(i)}"]`,`& [data-scope="${Ya(e)}"][data-part="${Ya(i)}"]`].join(", "),attrs:{"data-scope":Ya(e),"data-part":Ya(i)}}}),{})}),Ya=e=>e.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),LM=e=>e.length===0,H=e=>e?"":void 0,Eo=e=>e?"true":void 0,FM=2147483647,VM=1,BM=9,HM=11,Tf=e=>typeof e=="object"&&e!==null,Ji=e=>Tf(e)&&e.nodeType===VM&&typeof e.nodeName=="string",hx=e=>Tf(e)&&e.nodeType===BM,jM=e=>Tf(e)&&e===e.window,fx=e=>Ji(e)?e.localName||"":"#document";function UM(e){return["html","body","#document"].includes(fx(e))}var GM=e=>Tf(e)&&e.nodeType!==void 0,nm=e=>GM(e)&&e.nodeType===HM&&"host"in e;function $r(e,t){return!e||!t||!Ji(e)||!Ji(t)?!1:e===t||e.contains(t)}function ur(e){return hx(e)?e:jM(e)?e.document:(e==null?void 0:e.ownerDocument)??document}function WM(e){return ur(e).documentElement}function Xi(e){var t;return nm(e)?Xi(e.host):hx(e)?e.defaultView??window:Ji(e)?((t=e.ownerDocument)==null?void 0:t.defaultView)??window:window}function zM(e){let t=e.activeElement;for(;t!=null&&t.shadowRoot;){const n=t.shadowRoot.activeElement;if(n===t)break;t=n}return t}var Mv=()=>typeof document<"u";function KM(){const e=navigator.userAgentData;return(e==null?void 0:e.platform)??navigator.platform}var Nv=e=>Mv()&&e.test(KM()),qM=e=>Mv()&&e.test(navigator.userAgent),YM=e=>Mv()&&e.test(navigator.vendor),px=()=>Nv(/^Mac/),wf=()=>gx()&&YM(/apple/i),JM=()=>qM(/firefox\//i),gx=()=>Nv(/mac|iphone|ipad|ipod/i),Rv=()=>Nv(/iP(hone|ad|od)|iOS/);function XM(e){var t,n,i;return((t=e.composedPath)==null?void 0:t.call(e))??((i=(n=e.nativeEvent)==null?void 0:n.composedPath)==null?void 0:i.call(n))}function Zi(e){const t=XM(e);return(t==null?void 0:t[0])??e.target}var mu=e=>$r(e.currentTarget,Zi(e));function im(e){const t=e.currentTarget;if(!t)return!1;const n=gx();if(n&&!e.metaKey||!n&&!e.ctrlKey)return!1;const i=t.localName;return i==="a"||i==="button"&&t.type==="submit"||i==="input"&&t.type==="submit"}function sm(e){const t=e.currentTarget;if(!t)return!1;const n=t.localName;return e.altKey?n==="a"||n==="button"&&t.type==="submit"||n==="input"&&t.type==="submit":!1}function mx(e){var t;return((t=e.nativeEvent)==null?void 0:t.isComposing)??e.isComposing}var Dv=e=>e.id;function ZM(e,t,n=Dv){return e.find(i=>n(i)===t)}function Lv(e,t,n=Dv){const i=ZM(e,t,n);return i?e.indexOf(i):-1}function Fv(e,t,n=!0){let i=Lv(e,t);return i=n?(i+1)%e.length:Math.min(i+1,e.length-1),e[i]}function Vv(e,t,n=!0){let i=Lv(e,t);return i===-1?n?e[e.length-1]:null:(i=n?(i-1+e.length)%e.length:Math.max(0,i-1),e[i])}var QM=e=>e.split("").map(t=>{const n=t.charCodeAt(0);return n>0&&n<128?t:n>=128&&n<=255?`/x${n.toString(16)}`.replace("/","\\"):""}).join("").trim(),eN=e=>QM(e.dataset.valuetext??e.textContent??""),tN=(e,t)=>e.trim().toLowerCase().startsWith(t.toLowerCase()),nN=(e,t)=>e.map((n,i)=>e[(Math.max(t,0)+i)%e.length]);function iN(e,t,n,i=Dv){const s=n?Lv(e,n,i):-1;let r=n?nN(e,s):e;return t.length===1&&(r=r.filter(u=>i(u)!==n)),r.find(u=>tN(eN(u),t))}function sN(e,t){const{state:n,activeId:i,key:s,timeout:r=350,itemToId:a}=t,u=n.keysSoFar+s,l=u.length>1&&Array.from(u).every(p=>p===u[0])?u[0]:u;let c=e.slice();const d=iN(c,l,i,a);function h(){clearTimeout(n.timer),n.timer=-1}function f(p){n.keysSoFar=p,h(),p!==""&&(n.timer=+setTimeout(()=>{f(""),h()},r))}return f(u),d}var vu=Object.assign(sN,{defaultOptions:{keysSoFar:"",timer:-1},isValidEvent:rN});function rN(e){return e.key.length===1&&!e.ctrlKey&&!e.metaKey}var Mp=new WeakMap;function oN(e){return Mp.has(e)||Mp.set(e,Xi(e).getComputedStyle(e)),Mp.get(e)}function aN(e){if(fx(e)==="html")return e;const t=e.assignedSlot||e.parentNode||nm(e)&&e.host||WM(e);return nm(t)?t.host:t}var Bv=e=>typeof e=="object"&&e!==null&&e.nodeType===1,vx=e=>Bv(e)&&e.tagName==="IFRAME";function lN(e){return Bv(e)?e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0:!1}function cN(e){return parseInt(e.getAttribute("tabindex")||"0",10)<0}var Hv="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false']), details > summary:first-of-type",yx=(e,t=!1)=>{if(!e)return[];const n=Array.from(e.querySelectorAll(Hv));(t==!0||t=="if-empty"&&n.length===0)&&Bv(e)&&yu(e)&&n.unshift(e);const s=n.filter(yu);return s.forEach((r,a)=>{if(vx(r)&&r.contentDocument){const u=r.contentDocument.body;s.splice(a,1,...yx(u))}}),s};function yu(e){return!e||e.closest("[inert]")?!1:e.matches(Hv)&&lN(e)}function If(e,t){if(!e)return[];const n=Array.from(e.querySelectorAll(Hv)),i=n.filter(xE);return t&&xE(e)&&i.unshift(e),i.forEach((s,r)=>{if(vx(s)&&s.contentDocument){const a=s.contentDocument.body,u=If(a);i.splice(r,1,...u)}}),!i.length&&t?n:i}function xE(e){return e!=null&&e.tabIndex>0?!0:yu(e)&&!cN(e)}function bx(e,t){const n=If(e,t),i=n[0]||null,s=n[n.length-1]||null;return[i,s]}function uN(e,t){const n=If(e),i=(e==null?void 0:e.ownerDocument)||document,s=t??i.activeElement;if(!s)return null;const r=n.indexOf(s);return n[r+1]||null}function bu(e){const{root:t,getInitialEl:n,filter:i,enabled:s=!0}=e;if(!s)return;let r=null;if(r||(r=typeof n=="function"?n():n),r||(r=t==null?void 0:t.querySelector("[data-autofocus],[autofocus]")),!r){const a=If(t);r=i?a.filter(i)[0]:a[0]}return r||t||void 0}function Ex(e){const t=e.currentTarget;if(!t)return!1;const[n,i]=bx(t),s=t.ownerDocument||document;return!(s.activeElement===n&&e.shiftKey||s.activeElement===i&&!e.shiftKey||!n&&!i)}function jv(e){if(e==null||!Ji(e))return!1;try{const t=Xi(e);return e instanceof t.HTMLInputElement&&e.selectionStart!=null||/(textarea|select)/.test(e.localName)||e.isContentEditable}catch{return!1}}var dN=/auto|scroll|overlay|hidden|clip/;function _x(e){const t=Xi(e),{overflow:n,overflowX:i,overflowY:s,display:r}=t.getComputedStyle(e);return dN.test(n+s+i)&&!["inline","contents"].includes(r)}function Of(e){const t=new Set;function n(i){const s=globalThis.requestAnimationFrame(i);t.add(()=>globalThis.cancelAnimationFrame(s))}return n(()=>n(e)),function(){t.forEach(s=>s())}}function Je(e){const t=globalThis.requestAnimationFrame(e);return()=>{globalThis.cancelAnimationFrame(t)}}function hN(e,t){if(!e)return;const{attributes:n,callback:i}=t,s=e.ownerDocument.defaultView||window,r=new s.MutationObserver(a=>{for(const u of a)u.type==="attributes"&&u.attributeName&&n.includes(u.attributeName)&&i(u)});return r.observe(e,{attributes:!0,attributeFilter:n}),()=>r.disconnect()}function kf(e,t){const{defer:n}=t,i=n?Je:r=>r(),s=[];return s.push(i(()=>{const r=typeof e=="function"?e():e;s.push(hN(r,t))})),()=>{s.forEach(r=>r==null?void 0:r())}}function fN(e,t){const{callback:n}=t;if(!e)return;const i=e.ownerDocument.defaultView||window,s=new i.MutationObserver(n);return s.observe(e,{childList:!0,subtree:!0}),()=>s.disconnect()}function pN(e,t){const{defer:n}=t,i=n?Je:r=>r(),s=[];return s.push(i(()=>{const r=typeof e=="function"?e():e;s.push(fN(r,t))})),()=>{s.forEach(r=>r==null?void 0:r())}}function Cx(e){const t=aN(e);return UM(t)?ur(t).body:Ji(t)&&_x(t)?t:Cx(t)}function gN(e,t={}){const{triggerElement:n,onFocus:i}=t,s=(e==null?void 0:e.ownerDocument)||document,r=s.body;function a(u){if(u.key!=="Tab")return;let o=null;const[l,c]=bx(e,!0),d=!l&&!c;u.shiftKey&&(s.activeElement===l||d)?o=n:!u.shiftKey&&s.activeElement===n?o=l:!u.shiftKey&&(s.activeElement===c||d)&&(o=uN(r,n)),o&&(u.preventDefault(),typeof i=="function"?i(o):o.focus())}return s==null||s.addEventListener("keydown",a,!0),()=>{s==null||s.removeEventListener("keydown",a,!0)}}function mN(e,t){const{defer:n,triggerElement:i,...s}=t,r=n?Je:u=>u(),a=[];return a.push(r(()=>{const u=typeof e=="function"?e():e,o=typeof i=="function"?i():i;a.push(gN(u,{triggerElement:o,...s}))})),()=>{a.forEach(u=>u==null?void 0:u())}}function Tr(e,t){return Array.from((e==null?void 0:e.querySelectorAll(t))??[])}function Sx(e,t){return(e==null?void 0:e.querySelector(t))??null}function Pi(e){const t={getRootNode:n=>{var i;return((i=n.getRootNode)==null?void 0:i.call(n))??document},getDoc:n=>ur(t.getRootNode(n)),getWin:n=>t.getDoc(n).defaultView??window,getActiveElement:n=>zM(t.getRootNode(n)),isActiveElement:(n,i)=>i===t.getActiveElement(n),getById:(n,i)=>t.getRootNode(n).getElementById(i),setValue:(n,i)=>{if(n==null||i==null)return;const s=i.toString();n.value!==s&&(n.value=i.toString())}};return{...t,...e}}function vN(e){return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth}function Uv(e,t){const{rootEl:n,...i}=t||{};!e||!n||!_x(n)||!vN(n)||e.scrollIntoView(i)}var Np=new WeakMap;function yN(e,t,n){Np.has(e)||Np.set(e,new Map);const i=Np.get(e),s=i.get(t);if(!s)return i.set(t,n()),()=>{var u;(u=i.get(t))==null||u(),i.delete(t)};const r=n(),a=()=>{r(),s(),i.delete(t)};return i.set(t,a),()=>{i.get(t)===a&&(r(),i.set(t,s))}}function bN(e,t){return e?yN(e,"style",()=>{const i=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=i}}):()=>{}}var Bu={border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"},EN=1e3/60;function _N(e,t){const n=e();if(Ji(n)&&n.isConnected)return t(n),()=>{};{const i=setInterval(()=>{const s=e();Ji(s)&&s.isConnected&&(t(s),clearInterval(i))},EN);return()=>clearInterval(i)}}function CN(e,t){const n=[];return e==null||e.forEach(i=>{const s=_N(i,t);n.push(s)}),()=>{n.forEach(i=>i())}}var SN=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ja=new WeakMap,hd=new WeakMap,fd={},Rp=0,xx=function(e){return e&&(e.host||xx(e.parentNode))},xN=function(e,t){return t.map(function(n){if(e.contains(n))return n;var i=xx(n);return i&&e.contains(i)?i:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},TN=function(e,t,n,i){var s=xN(t,Array.isArray(e)?e:[e]);fd[n]||(fd[n]=new WeakMap);var r=fd[n],a=[],u=new Set,o=new Set(s),l=function(d){!d||u.has(d)||(u.add(d),l(d.parentNode))};s.forEach(l);var c=function(d){!d||o.has(d)||Array.prototype.forEach.call(d.children,function(h){if(u.has(h))c(h);else try{var f=h.getAttribute(i),p=f!==null&&f!=="false",g=(Ja.get(h)||0)+1,m=(r.get(h)||0)+1;Ja.set(h,g),r.set(h,m),a.push(h),g===1&&p&&hd.set(h,!0),m===1&&h.setAttribute(n,"true"),p||h.setAttribute(i,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return c(t),u.clear(),Rp++,function(){a.forEach(function(d){var h=Ja.get(d)-1,f=r.get(d)-1;Ja.set(d,h),r.set(d,f),h||(hd.has(d)||d.removeAttribute(i),hd.delete(d)),f||d.removeAttribute(n)}),Rp--,Rp||(Ja=new WeakMap,Ja=new WeakMap,hd=new WeakMap,fd={})}},wN=function(e,t,n){n===void 0&&(n="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),s=SN(e);return s?(i.push.apply(i,Array.from(s.querySelectorAll("[aria-live]"))),TN(i,s,n,"aria-hidden")):function(){return null}},IN=e=>{const t=requestAnimationFrame(()=>e());return()=>cancelAnimationFrame(t)};function Gv(e,t={}){const{defer:n=!0}=t,i=n?IN:r=>r(),s=[];return s.push(i(()=>{const a=(typeof e=="function"?e():e).filter(Boolean);s.push(wN(a))})),()=>{s.forEach(r=>r==null?void 0:r())}}const ON=Symbol(),TE=Object.getPrototypeOf,rm=new WeakMap,kN=e=>e&&(rm.has(e)?rm.get(e):TE(e)===Object.prototype||TE(e)===Array.prototype),AN=e=>kN(e)&&e[ON]||null,wE=(e,t=!0)=>{rm.set(e,t)};function PN(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function Tx(e,t){const n=PN();return n?(n[e]||(n[e]=t()),n[e]):t()}var Dp=e=>typeof e=="object"&&e!==null,ca=Tx("__zag__proxyStateMap",()=>new WeakMap),Mc=Tx("__zag__refSet",()=>new WeakSet),$N=e=>typeof e=="object"&&e!==null&&"$$typeof"in e,MN=e=>typeof e=="object"&&e!==null&&"__v_isVNode"in e,NN=e=>typeof e=="object"&&e!==null&&"nodeType"in e&&typeof e.nodeName=="string",RN=e=>$N(e)||MN(e)||NN(e),DN=(e=Object.is,t=(l,c)=>new Proxy(l,c),n=l=>Dp(l)&&!Mc.has(l)&&(Array.isArray(l)||!(Symbol.iterator in l))&&!RN(l)&&!(l instanceof WeakMap)&&!(l instanceof WeakSet)&&!(l instanceof Error)&&!(l instanceof Number)&&!(l instanceof Date)&&!(l instanceof String)&&!(l instanceof RegExp)&&!(l instanceof ArrayBuffer),i=l=>{switch(l.status){case"fulfilled":return l.value;case"rejected":throw l.reason;default:throw l}},s=new WeakMap,r=(l,c,d=i)=>{const h=s.get(l);if((h==null?void 0:h[0])===c)return h[1];const f=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l));return wE(f,!0),s.set(l,[c,f]),Reflect.ownKeys(l).forEach(p=>{const g=Reflect.get(l,p);Mc.has(g)?(wE(g,!1),f[p]=g):g instanceof Promise?Object.defineProperty(f,p,{get(){return d(g)}}):ca.has(g)?f[p]=_e(g,d):f[p]=g}),Object.freeze(f)},a=new WeakMap,u=[1,1],o=l=>{if(!Dp(l))throw new Error("object required");const c=a.get(l);if(c)return c;let d=u[0];const h=new Set,f=(D,j=++u[0])=>{d!==j&&(d=j,h.forEach(se=>se(D,j)))};let p=u[1];const g=(D=++u[1])=>(p!==D&&!h.size&&(p=D,y.forEach(([j])=>{const se=j[1](D);se>d&&(d=se)})),d),m=D=>(j,se)=>{const ae=[...j];ae[1]=[D,...ae[1]],f(ae,se)},y=new Map,b=(D,j)=>{if(h.size){const se=j[3](m(D));y.set(D,[j,se])}else y.set(D,[j])},E=D=>{var se;const j=y.get(D);j&&(y.delete(D),(se=j[1])==null||se.call(j))},_=D=>(h.add(D),h.size===1&&y.forEach(([se,ae],Y)=>{const Z=se[3](m(Y));y.set(Y,[se,Z])}),()=>{h.delete(D),h.size===0&&y.forEach(([se,ae],Y)=>{ae&&(ae(),y.set(Y,[se]))})}),I=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),M=t(I,{deleteProperty(D,j){const se=Reflect.get(D,j);E(j);const ae=Reflect.deleteProperty(D,j);return ae&&f(["delete",[j],se]),ae},set(D,j,se,ae){var ce;const Y=Reflect.has(D,j),Z=Reflect.get(D,j,ae);if(Y&&(e(Z,se)||a.has(se)&&e(Z,a.get(se))))return!0;E(j),Dp(se)&&(se=AN(se)||se);let de=se;if(!((ce=Object.getOwnPropertyDescriptor(D,j))!=null&&ce.set))if(se instanceof Promise)se.then(re=>{Object.assign(se,{status:"fulfilled",value:re}),f(["resolve",[j],re])}).catch(re=>{Object.assign(se,{status:"rejected",reason:re}),f(["reject",[j],re])});else{!ca.has(se)&&n(se)&&(de=qn(se));const re=!Mc.has(de)&&ca.get(de);re&&b(j,re)}return Reflect.set(D,j,de,ae),f(["set",[j],se,Z]),!0}});a.set(l,M);const z=[I,g,r,_];return ca.set(M,z),Reflect.ownKeys(l).forEach(D=>{const j=Object.getOwnPropertyDescriptor(l,D);j.get||j.set?Object.defineProperty(I,D,j):M[D]=l[D]}),M})=>[o,ca,Mc,e,t,n,i,s,r,a,u],[LN]=DN();function qn(e={}){return LN(e)}function Pt(e,t,n){const i=ca.get(e);let s;const r=[],a=i[3];let u=!1;const l=a(c=>{if(r.push(c),n){t(r.splice(0));return}s||(s=Promise.resolve().then(()=>{s=void 0,u&&t(r.splice(0))}))});return u=!0,()=>{u=!1,l()}}function _e(e,t){const n=ca.get(e),[i,s,r]=n;return r(i,s(),t)}function Ke(e){return Mc.add(e),e}function mi(e,t){Object.keys(t).forEach(s=>{if(Object.getOwnPropertyDescriptor(e,s))throw new Error("object property already defined");const r=t[s],{get:a,set:u}=typeof r=="function"?{get:r}:r,o={};o.get=()=>a(_e(i)),u&&(o.set=l=>u(i,l)),Object.defineProperty(e,s,o)});const i=qn(e);return i}var Wv=e=>e[0],zv=e=>e[e.length-1],FN=(e,t)=>e.indexOf(t)!==-1,Kv=(e,...t)=>e.concat(t),qv=(e,t)=>e.filter(n=>n!==t),wx=(e,t)=>FN(e,t)?qv(e,t):Kv(e,t);function vi(e){for(;e.length>0;)e.pop();return e}var IE=e=>(e==null?void 0:e.constructor.name)==="Array",VN=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!dn(e[n],t[n]))return!1;return!0},dn=(e,t)=>{if(Object.is(e,t))return!0;if(e==null&&t!=null||e!=null&&t==null)return!1;if(typeof(e==null?void 0:e.isEqual)=="function"&&typeof(t==null?void 0:t.isEqual)=="function")return e.isEqual(t);if(typeof e=="function"&&typeof t=="function")return e.toString()===t.toString();if(IE(e)&&IE(t))return VN(Array.from(e),Array.from(t));if(typeof e!="object"||typeof t!="object")return!1;const n=Object.keys(t??Object.create(null)),i=n.length;for(let s=0;s<i;s++)if(!Reflect.has(e,n[s]))return!1;for(let s=0;s<i;s++){const r=n[s];if(!dn(e[r],t[r]))return!1}return!0},$t=(e,...t)=>(typeof e=="function"?e(...t):e)??void 0,Q=e=>e,ni=()=>{},Eu=(...e)=>(...t)=>{e.forEach(function(n){n==null||n(...t)})},Rt=(()=>{let e=0;return()=>(e++,e.toString(36))})();function fh(e,t,...n){var s;if(e in t){const r=t[e];return typeof r=="function"?r(...n):r}const i=new Error(`No matching key: ${JSON.stringify(e)} in ${JSON.stringify(Object.keys(t))}`);throw(s=Error.captureStackTrace)==null||s.call(Error,i,fh),i}var Ix=(e,t)=>{var n;try{return e()}catch(i){return i instanceof Error&&((n=Error.captureStackTrace)==null||n.call(Error,i,Ix)),t==null?void 0:t()}},Qe=e=>Array.isArray(e),BN=e=>e===!0||e===!1,Ox=e=>e!=null&&typeof e=="object",Ce=e=>Ox(e)&&!Qe(e),yi=e=>typeof e=="number"&&!Number.isNaN(e),q=e=>typeof e=="string",We=e=>typeof e=="function",HN=e=>e==null,wn=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),jN=e=>Object.prototype.toString.call(e),kx=Function.prototype.toString,UN=kx.call(Object),bi=e=>{if(!Ox(e)||jN(e)!="[object Object]")return!1;const t=Object.getPrototypeOf(e);if(t===null)return!0;const n=wn(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&kx.call(n)==UN};function GN(e,t){const n={},i={},s=new Set(t);for(const r in e)s.has(r)?i[r]=e[r]:n[r]=e[r];return[i,n]}var WN=e=>function(n){return GN(n,e)};function Te(e){if(!zN(e)||e===void 0)return e;const t=Reflect.ownKeys(e).filter(i=>typeof i=="string"),n={};for(const i of t){const s=e[i];s!==void 0&&(n[i]=Te(s))}return n}var zN=e=>e&&typeof e=="object"&&e.constructor===Object;function Ax(e,t){return WN(t)(e)[1]}function nt(...e){const t=e.length===1?e[0]:e[1],n=e.length===2?e[0]:!0}function He(...e){const t=e.length===1?e[0]:e[1],n=e.length===2?e[0]:!0}function OE(e,t,n){typeof n.value=="object"&&(n.value=bn(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function bn(e){if(typeof e!="object")return e;var t=0,n,i,s,r=Object.prototype.toString.call(e);if(r==="[object Object]"?s=Object.create(e.__proto__||null):r==="[object Array]"?s=Array(e.length):r==="[object Set]"?(s=new Set,e.forEach(function(a){s.add(bn(a))})):r==="[object Map]"?(s=new Map,e.forEach(function(a,u){s.set(bn(u),bn(a))})):r==="[object Date]"?s=new Date(+e):r==="[object RegExp]"?s=new RegExp(e.source,e.flags):r==="[object DataView]"?s=new e.constructor(bn(e.buffer)):r==="[object ArrayBuffer]"?s=e.slice(0):r.slice(-6)==="Array]"&&(s=new e.constructor(e)),s){for(i=Object.getOwnPropertySymbols(e);t<i.length;t++)OE(s,i[t],Object.getOwnPropertyDescriptor(e,i[t]));for(t=0,i=Object.getOwnPropertyNames(e);t<i.length;t++)Object.hasOwnProperty.call(s,n=i[t])&&s[n]===e[n]||OE(s,n,Object.getOwnPropertyDescriptor(e,n))}return s||e}var KN=Object.defineProperty,qN=(e,t,n)=>t in e?KN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,we=(e,t,n)=>qN(e,typeof t!="symbol"?t+"":t,n);function Px(e,...t){for(const n of t){const i=Te(n);for(const s in i)bi(n[s])?(e[s]||(e[s]={}),Px(e[s],n[s])):e[s]=n[s]}return e}function kE(e){return bn(e)}function ys(e){return q(e)?{type:e}:e}function Gr(e){return e?Qe(e)?e.slice():[e]:[]}function $x(e){return Ce(e)&&e.predicate!=null}var YN=()=>!0;function Mx(e,t){return e=e??YN,(n,i,s)=>{if(q(e)){const r=t[e];return We(r)?r(n,i,s):r}return $x(e)?e.predicate(t)(n,i,s):e==null?void 0:e(n,i,s)}}function Lp(e,t){return(n,i,s)=>$x(e)?e.predicate(t)(n,i,s):e}function JN(e){var r,a;const t=e.computed??Q({}),n=e.context??Q({}),i=e.initial?(a=(r=e.states)==null?void 0:r[e.initial])==null?void 0:a.tags:[],s=qn({value:e.initial??"",previousValue:"",event:Q({}),previousEvent:Q({}),context:mi(n,t),done:!1,tags:i??[],hasTag(u){return this.tags.includes(u)},matches(...u){return u.includes(this.value)},can(u){return Q(this).nextEvents.includes(u)},get nextEvents(){var l,c;const u=((c=(l=e.states)==null?void 0:l[this.value])==null?void 0:c.on)??{},o=(e==null?void 0:e.on)??{};return Object.keys({...u,...o})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return Q(s)}function oc(e,t){return(n,i)=>{if(yi(e))return e;if(We(e))return e(n,i);if(q(e)){const s=Number.parseFloat(e);if(!Number.isNaN(s))return s;if(t){const r=t==null?void 0:t[e];return He(r==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${e}\`. It doesn't exist in \`options.delays\``),We(r)?r(n,i):r}}}}function XN(e){return q(e)?{target:e}:e}function ZN(e,t){return(n,i,s)=>Gr(e).map(XN).find(r=>Mx(r.guard,t)(n,i,s)??r.target??r.actions)}var QN=class{constructor(t,n){var i,s,r,a,u;we(this,"status","Not Started"),we(this,"state"),we(this,"initialState"),we(this,"initialContext"),we(this,"id"),we(this,"type","machine"),we(this,"activityEvents",new Map),we(this,"delayedEvents",new Map),we(this,"stateListeners",new Set),we(this,"doneListeners",new Set),we(this,"contextWatchers",new Set),we(this,"removeStateListener",ni),we(this,"parent"),we(this,"children",new Map),we(this,"guardMap"),we(this,"actionMap"),we(this,"delayMap"),we(this,"activityMap"),we(this,"sync"),we(this,"options"),we(this,"config"),we(this,"_created",()=>{var l;const o=ys("machine.created");this.executeActions((l=this.config)==null?void 0:l.created,o)}),we(this,"start",o=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=Pt(this.state,()=>{this.stateListeners.forEach(p=>{p(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(ys("machine.start"),Gr(this.config.activities),"machine.start"),this.executeActions(this.config.entry,ys("machine.start"));const l=ys("machine.init"),c=Ce(o)?o.value:o,d=Ce(o)?o.context:void 0;d&&this.setContext(d);const h={target:c??this.config.initial},f=this.getNextStateInfo(h,l);return this.initialState=f,this.performStateChangeEffects(this.state.value,f,l),this}),we(this,"setupContextWatchers",()=>{const{watch:o}=this.config;if(!o)return;let l=_e(this.state.context);const c=Pt(this.state.context,()=>{var h;const d=_e(this.state.context);for(const[f,p]of Object.entries(o))(((h=this.options.compareFns)==null?void 0:h[f])??Object.is)(l[f],d[f])||this.executeActions(p,this.state.event);l=d});this.contextWatchers.add(c)}),we(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,ys("machine.stop")),this.executeActions(this.config.exit,ys("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),we(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),we(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(o=>o()),this.contextWatchers.clear()}),we(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(o=>{o.forEach(l=>l())}),this.delayedEvents.clear()}),we(this,"stopActivities",o=>{var l,c;o?((l=this.activityEvents.get(o))==null||l.forEach(d=>d()),(c=this.activityEvents.get(o))==null||c.clear(),this.activityEvents.delete(o)):(this.activityEvents.forEach(d=>{d.forEach(h=>h()),d.clear()}),this.activityEvents.clear())}),we(this,"sendChild",(o,l)=>{const c=ys(o),d=$t(l,this.contextSnapshot),h=this.children.get(d);h||He(`[@zag-js/core] Cannot send '${c.type}' event to unknown child`),h.send(c)}),we(this,"stopChild",o=>{this.children.has(o)||He(`[@zag-js/core > stop-child] Cannot stop unknown child ${o}`),this.children.get(o).stop(),this.children.delete(o)}),we(this,"removeChild",o=>{this.children.delete(o)}),we(this,"stopChildren",()=>{this.children.forEach(o=>o.stop()),this.children.clear()}),we(this,"setParent",o=>{this.parent=o}),we(this,"spawn",(o,l)=>{const c=$t(o);return l&&(c.id=l),c.type="machine.actor",c.setParent(this),this.children.set(c.id,Q(c)),c.onDone(()=>{this.removeChild(c.id)}).start(),Q(Ke(c))}),we(this,"stopActivity",o=>{var c;if(!this.state.value)return;const l=this.activityEvents.get(this.state.value);(c=l==null?void 0:l.get(o))==null||c(),l==null||l.delete(o)}),we(this,"addActivityCleanup",(o,l,c)=>{var d;o&&(this.activityEvents.has(o)?(d=this.activityEvents.get(o))==null||d.set(l,c):this.activityEvents.set(o,new Map([[l,c]])))}),we(this,"setState",o=>{this.state.previousValue=this.state.value,this.state.value=o;const l=this.getStateNode(o);o==null?vi(this.state.tags):this.state.tags=Gr(l==null?void 0:l.tags)}),we(this,"setContext",o=>{o&&Px(this.state.context,Te(o))}),we(this,"setOptions",o=>{const l=Te(o);this.actionMap={...this.actionMap,...l.actions},this.delayMap={...this.delayMap,...l.delays},this.activityMap={...this.activityMap,...l.activities},this.guardMap={...this.guardMap,...l.guards}}),we(this,"getStateNode",o=>{var l;if(o)return(l=this.config.states)==null?void 0:l[o]}),we(this,"getNextStateInfo",(o,l)=>{const c=this.determineTransition(o,l),d=!(c!=null&&c.target),h=(c==null?void 0:c.target)??this.state.value,f=this.state.value!==h,p=this.getStateNode(h),m={reenter:!d&&!f&&!(c!=null&&c.internal),transition:c,stateNode:p,target:h,changed:f};return this.log("NextState:",`[${l.type}]`,this.state.value,"---->",m.target),m}),we(this,"getAfterActions",(o,l)=>{let c;const d=this.state.value;return{entry:()=>{c=globalThis.setTimeout(()=>{const h=this.getNextStateInfo(o,this.state.event);this.performStateChangeEffects(d,h,this.state.event)},l)},exit:()=>{globalThis.clearTimeout(c)}}}),we(this,"getDelayedEventActions",o=>{const l=this.getStateNode(o),c=this.state.event;if(!l||!l.after)return;const d=[],h=[];if(Qe(l.after)){const f=this.determineTransition(l.after,c);if(!f)return;if(!wn(f,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(f)}`);const g=oc(f.delay,this.delayMap)(this.contextSnapshot,c),m=this.getAfterActions(f,g);return d.push(m.entry),h.push(m.exit),{entries:d,exits:h}}if(Ce(l.after))for(const f in l.after){const p=l.after[f],m=oc(f,this.delayMap)(this.contextSnapshot,c),y=this.getAfterActions(p,m);d.push(y.entry),h.push(y.exit)}return{entries:d,exits:h}}),we(this,"executeActions",(o,l)=>{var d;const c=Lp(o,this.guardMap)(this.contextSnapshot,l,this.guardMeta);for(const h of Gr(c)){const f=q(h)?(d=this.actionMap)==null?void 0:d[h]:h;nt(q(h)&&!f,`[@zag-js/core > execute-actions] No implementation found for action: \`${h}\``),f==null||f(this.state.context,l,this.meta)}}),we(this,"executeActivities",(o,l,c)=>{var d;for(const h of l){const f=q(h)?(d=this.activityMap)==null?void 0:d[h]:h;if(!f){nt(`[@zag-js/core > execute-activity] No implementation found for activity: \`${h}\``);continue}const p=f(this.state.context,o,this.meta);if(p){const g=q(h)?h:h.name||Rt();this.addActivityCleanup(c??this.state.value,g,p)}}}),we(this,"createEveryActivities",(o,l)=>{if(o)if(Qe(o)){const c=Gr(o).find(p=>{const g=p.delay,y=oc(g,this.delayMap)(this.contextSnapshot,this.state.event);return Mx(p.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??y!=null});if(!c)return;const h=oc(c.delay,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const p=globalThis.setInterval(()=>{this.executeActions(c.actions,this.state.event)},h);return()=>{globalThis.clearInterval(p)}})}else for(const c in o){const d=o==null?void 0:o[c],f=oc(c,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const g=globalThis.setInterval(()=>{this.executeActions(d,this.state.event)},f);return()=>{globalThis.clearInterval(g)}})}}),we(this,"setEvent",o=>{this.state.previousEvent=this.state.event,this.state.event=Ke(ys(o))}),we(this,"performExitEffects",(o,l)=>{const c=this.state.value;if(c==="")return;const d=o?this.getStateNode(o):void 0;this.stopActivities(c);const h=Lp(d==null?void 0:d.exit,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=Gr(h),p=this.delayedEvents.get(c);p&&f.push(...p),this.executeActions(f,l),this.delayedEvents.delete(c)}),we(this,"performEntryEffects",(o,l)=>{const c=this.getStateNode(o),d=Gr(c==null?void 0:c.activities);this.createEveryActivities(c==null?void 0:c.every,g=>{d.unshift(g)}),d.length>0&&this.executeActivities(l,d);const h=Lp(c==null?void 0:c.entry,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=Gr(h),p=this.getDelayedEventActions(o);c!=null&&c.after&&p&&(this.delayedEvents.set(o,p==null?void 0:p.exits),f.push(...p.entries)),this.executeActions(f,l),(c==null?void 0:c.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(g=>{g(this.stateSnapshot)}),this.stop())}),we(this,"performTransitionEffects",(o,l)=>{const c=this.determineTransition(o,l);this.executeActions(c==null?void 0:c.actions,l)}),we(this,"performStateChangeEffects",(o,l,c)=>{this.setEvent(c);const d=l.changed||l.reenter;d&&this.performExitEffects(o,c),this.performTransitionEffects(l.transition,c),this.setState(l.target),d&&this.performEntryEffects(l.target,c)}),we(this,"determineTransition",(o,l)=>{const c=ZN(o,this.guardMap);return c==null?void 0:c(this.contextSnapshot,l,this.guardMeta)}),we(this,"sendParent",o=>{var c;this.parent||He("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const l=ys(o);(c=this.parent)==null||c.send(l)}),we(this,"log",(...o)=>{}),we(this,"send",o=>{const l=ys(o);this.transition(this.state.value,l)}),we(this,"transition",(o,l)=>{var p,g;const c=q(o)?this.getStateNode(o):o==null?void 0:o.stateNode,d=ys(l);if(!c&&!this.config.on){const m=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${o}, \`event\`: ${d.type}`;nt(m);return}const h=((p=c==null?void 0:c.on)==null?void 0:p[d.type])??((g=this.config.on)==null?void 0:g[d.type]),f=this.getNextStateInfo(h,d);return this.performStateChangeEffects(this.state.value,f,d),f.stateNode}),we(this,"subscribe",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),()=>{this.stateListeners.delete(o)})),we(this,"onDone",o=>(this.doneListeners.add(o),this)),we(this,"onTransition",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),this)),this.config=kE(t),this.options=kE(n??{}),this.id=this.config.id??`machine-${Rt()}`,this.guardMap=((i=this.options)==null?void 0:i.guards)??{},this.actionMap=((s=this.options)==null?void 0:s.actions)??{},this.delayMap=((r=this.options)==null?void 0:r.delays)??{},this.activityMap=((a=this.options)==null?void 0:a.activities)??{},this.sync=((u=this.options)==null?void 0:u.sync)??!1,this.state=JN(this.config),this.initialContext=_e(this.state.context)}get stateSnapshot(){return Q(_e(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const t=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return t.stateSnapshot},get initialContext(){return t.initialContext},get initialState(){var n;return((n=t.initialState)==null?void 0:n.target)??""}}}get meta(){var t;return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:((t=this.initialState)==null?void 0:t.target)??"",getState:()=>this.stateSnapshot,getAction:n=>this.actionMap[n],getGuard:n=>this.guardMap[n]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){const t=this.getState();return{value:t.value,tags:t.tags}}},eR=(e,t)=>new QN(e,t),pl="default",om="",Wd=new WeakMap;function tR(e={}){const{target:t,doc:n}=e,i=n??document,s=i.documentElement;return Rv()?(pl==="default"&&(om=s.style.webkitUserSelect,s.style.webkitUserSelect="none"),pl="disabled"):t&&(Wd.set(t,t.style.userSelect),t.style.userSelect="none"),()=>nR({target:t,doc:i})}function nR(e={}){const{target:t,doc:n}=e,s=(n??document).documentElement;if(Rv()){if(pl!=="disabled")return;pl="restoring",setTimeout(()=>{Of(()=>{pl==="restoring"&&(s.style.webkitUserSelect==="none"&&(s.style.webkitUserSelect=om||""),om="",pl="default")})},300)}else if(t&&Wd.has(t)){const r=Wd.get(t);t.style.userSelect==="none"&&(t.style.userSelect=r??""),t.getAttribute("style")===""&&t.removeAttribute("style"),Wd.delete(t)}}function Nx(e={}){const{defer:t,target:n,...i}=e,s=t?Je:a=>a(),r=[];return r.push(s(()=>{const a=typeof n=="function"?n():n;r.push(tR({...i,target:a}))})),()=>{r.forEach(a=>a==null?void 0:a())}}var pn=(e,t,n,i)=>{const s=typeof e=="function"?e():e;return s==null||s.addEventListener(t,n,i),()=>{s==null||s.removeEventListener(t,n,i)}};function iR(e){return e.key.length===1&&!e.ctrlKey&&!e.metaKey}var Pl=e=>e.button===0,Yv=e=>e.button===2||px()&&e.ctrlKey&&e.button===0,$l=e=>e.ctrlKey||e.altKey||e.metaKey;function sR(e,t,n){const s=(a=>{const u=requestAnimationFrame(a);return()=>cancelAnimationFrame(u)})(()=>{e.removeEventListener(t,r,!0),n()}),r=()=>{s(),n()};return e.addEventListener(t,r,{once:!0,capture:!0}),s}function rR(e){return(e==null?void 0:e.matches("a[href]"))??!1}function Rx(e){if(!rR(e))return;const t=()=>e.click();JM()?sR(e,"keyup",t):queueMicrotask(t)}function AE(e,t,n){if(!e)return;const i=e.ownerDocument.defaultView||window,s=new i.CustomEvent(t,n);return e.dispatchEvent(s)}var oR={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},PE={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};function Hs(e,t={}){const{dir:n="ltr",orientation:i="horizontal"}=t;let{key:s}=e;return s=oR[s]??s,n==="rtl"&&i==="horizontal"&&s in PE&&(s=PE[s]),s}function aR(e,t="client"){const n=e.touches[0]||e.changedTouches[0];return{x:n[`${t}X`],y:n[`${t}Y`]}}function lR(e,t="client"){return{x:e[`${t}X`],y:e[`${t}Y`]}}var cR=e=>"touches"in e&&e.touches.length>0;function Ar(e,t="client"){return cR(e)?aR(e,t):lR(e,t)}var uR=new Set(["PageUp","PageDown"]),dR=new Set(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"]);function ph(e){return e.ctrlKey||e.metaKey?.1:uR.has(e.key)||e.shiftKey&&dR.has(e.key)?10:1}function $E(e){return Math.max(0,Math.min(1,e))}function am(e,t){const{left:n,top:i,width:s,height:r}=t.getBoundingClientRect(),a={x:e.x-n,y:e.y-i},u={x:$E(a.x/s),y:$E(a.y/r)};function o(l={}){const{dir:c="ltr",orientation:d="horizontal",inverted:h}=l,f=typeof h=="object"?h.x:h,p=typeof h=="object"?h.y:h;return d==="horizontal"?c==="rtl"||f?1-u.x:u.x:p?1-u.y:u.y}return{offset:a,percent:u,getPercentValue:o}}function hR(e,t){const n=e.body,i="pointerLockElement"in e||"mozPointerLockElement"in e,s=()=>!!e.pointerLockElement;function r(){}function a(o){s(),console.error("PointerLock error occured:",o),e.exitPointerLock()}if(!i)return;try{n.requestPointerLock()}catch{}const u=[pn(e,"pointerlockchange",r,!1),pn(e,"pointerlockerror",a,!1)];return()=>{u.forEach(o=>o()),e.exitPointerLock()}}function Dx(e,t){const{onPointerMove:n,onPointerUp:i}=t,s=[],a=[pn(e,"pointermove",u=>{const o=Ar(u);s.push({...o,timestamp:performance.now()});const l=Math.sqrt(o.x**2+o.y**2),c=u.pointerType==="touch"?10:5;if(!(l<c)){if(u.pointerType==="mouse"&&u.button===0){i();return}n({point:o,event:u,velocity:mR(s,.1)})}},!1),pn(e,"pointerup",i,!1),pn(e,"pointercancel",i,!1),pn(e,"contextmenu",i,!1),Nx({doc:e})];return()=>{a.forEach(u=>u()),s.length=0}}function fR(e){return e[e.length-1]}function pR(e){return e*1e3}function gR(e){return e/1e3}function mR(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const s=fR(e);for(;n>=0&&(i=e[n],!(s.timestamp-i.timestamp>pR(t)));)n--;if(!i)return{x:0,y:0};const r=gR(s.timestamp-i.timestamp);if(r===0)return{x:0,y:0};const a={x:(s.x-i.x)/r,y:(s.y-i.y)/r};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),{x:Math.abs(a.x),y:Math.abs(a.y)}}var Fp=(...e)=>t=>e.reduce((n,i)=>i(n),t),pd=()=>{};function vR(e){const{pointerNode:t,keyboardNode:n=t,onPress:i,onPressStart:s,onPressEnd:r,isValidKey:a=E=>E.key==="Enter"}=e;if(!t)return pd;const u=Xi(t),o=ur(t);let l=pd,c=pd,d=pd;const h=E=>({point:Ar(E),event:E});function f(E){s==null||s(h(E))}function p(E){r==null||r(h(E))}const m=pn(t,"pointerdown",E=>{c();const I=pn(u,"pointerup",M=>{const z=Zi(M);$r(t,z)?i==null||i(h(M)):r==null||r(h(M))},{passive:!i}),P=pn(u,"pointercancel",p,{passive:!r});c=Fp(I,P),o.activeElement===n&&E.pointerType==="mouse"&&E.preventDefault(),f(E)},{passive:!s}),y=pn(n,"focus",b);l=Fp(m,y);function b(){const E=M=>{if(!a(M))return;const z=j=>{if(!a(j))return;const se=new u.PointerEvent("pointerup"),ae=h(se);i==null||i(ae),r==null||r(ae)};c(),c=pn(n,"keyup",z);const D=new u.PointerEvent("pointerdown");f(D)},_=()=>{const M=new u.PointerEvent("pointercancel");p(M)},I=pn(n,"keydown",E),P=pn(n,"blur",_);d=Fp(I,P)}return function(){l(),c(),d()}}function yR(e){const t={each(n){var i;for(let s=0;s<((i=e.frames)==null?void 0:i.length);s+=1){const r=e.frames[s];r&&n(r)}},addEventListener(n,i,s){return t.each(r=>{try{r.document.addEventListener(n,i,s)}catch{}}),()=>{try{t.removeEventListener(n,i,s)}catch{}}},removeEventListener(n,i,s){t.each(r=>{try{r.document.removeEventListener(n,i,s)}catch{}})}};return t}function bR(e){const t=e.frameElement!=null?e.parent:null;return{addEventListener:(n,i,s)=>{try{t==null||t.addEventListener(n,i,s)}catch{}return()=>{try{t==null||t.removeEventListener(n,i,s)}catch{}}},removeEventListener:(n,i,s)=>{try{t==null||t.removeEventListener(n,i,s)}catch{}}}}var ME="pointerdown.outside",NE="focus.outside";function ER(e){for(const t of e)if(Ji(t)&&yu(t))return!0;return!1}var Lx=e=>"clientY"in e;function _R(e,t){if(!Lx(t)||!e)return!1;const n=e.getBoundingClientRect();return n.width===0||n.height===0?!1:n.top<=t.clientY&&t.clientY<=n.top+n.height&&n.left<=t.clientX&&t.clientX<=n.left+n.width}function RE(e,t){if(!t||!Lx(e))return!1;const i=t.scrollHeight>t.clientHeight&&e.clientX>t.clientWidth,r=t.scrollWidth>t.clientWidth&&e.clientY>t.clientHeight;return i||r}function CR(e,t){const{exclude:n,onFocusOutside:i,onPointerDownOutside:s,onInteractOutside:r,defer:a}=t;if(!e)return;const u=ur(e),o=Xi(e),l=yR(o),c=bR(o);function d(y){const b=Zi(y);if(!Ji(b)||$r(e,b)||_R(e,y)||RE(y,b))return!1;const E=Cx(e);return RE(y,E)?!1:!(n!=null&&n(b))}const h=new Set;function f(y){function b(){var I;const E=a?Je:P=>P(),_=((I=y.composedPath)==null?void 0:I.call(y))??[y.target];E(()=>{if(!(!e||!d(y))){if(s||r){const P=Eu(s,r);e.addEventListener(ME,P,{once:!0})}AE(e,ME,{bubbles:!1,cancelable:!0,detail:{originalEvent:y,contextmenu:Yv(y),focusable:ER(_)}})}})}y.pointerType==="touch"?(h.forEach(E=>E()),h.add(pn(u,"click",b,{once:!0})),h.add(c.addEventListener("click",b,{once:!0})),h.add(l.addEventListener("click",b,{once:!0}))):b()}const p=new Set,g=setTimeout(()=>{p.add(pn(u,"pointerdown",f,!0)),p.add(c.addEventListener("pointerdown",f,!0)),p.add(l.addEventListener("pointerdown",f,!0))},0);function m(y){(a?Je:E=>E())(()=>{if(!(!e||!d(y))){if(i||r){const E=Eu(i,r);e.addEventListener(NE,E,{once:!0})}AE(e,NE,{bubbles:!1,cancelable:!0,detail:{originalEvent:y,contextmenu:!1,focusable:yu(Zi(y))}})}})}return p.add(pn(u,"focusin",m,!0)),p.add(c.addEventListener("focusin",m,!0)),p.add(l.addEventListener("focusin",m,!0)),()=>{clearTimeout(g),h.forEach(y=>y()),p.forEach(y=>y())}}function SR(e,t){const{defer:n}=t,i=n?Je:r=>r(),s=[];return s.push(i(()=>{const r=typeof e=="function"?e():e;s.push(CR(r,t))})),()=>{s.forEach(r=>r==null?void 0:r())}}function xR(e,t){const n=i=>{i.key==="Escape"&&(i.isComposing||t==null||t(i))};return pn(ur(e),"keydown",n,{capture:!0})}var Ns={layers:[],branches:[],count(){return this.layers.length},pointerBlockingLayers(){return this.layers.filter(e=>e.pointerBlocking)},topMostPointerBlockingLayer(){return[...this.pointerBlockingLayers()].slice(-1)[0]},hasPointerBlockingLayer(){return this.pointerBlockingLayers().length>0},isBelowPointerBlockingLayer(e){var i;const t=this.indexOf(e),n=this.topMostPointerBlockingLayer()?this.indexOf((i=this.topMostPointerBlockingLayer())==null?void 0:i.node):-1;return t<n},isTopMost(e){const t=this.layers[this.count()-1];return(t==null?void 0:t.node)===e},getNestedLayers(e){return Array.from(this.layers).slice(this.indexOf(e)+1)},isInNestedLayer(e,t){return this.getNestedLayers(e).some(n=>$r(n.node,t))},isInBranch(e){return Array.from(this.branches).some(t=>$r(t,e))},add(e){const t=this.layers.push(e);e.node.style.setProperty("--layer-index",`${t}`)},addBranch(e){this.branches.push(e)},remove(e){const t=this.indexOf(e);t<0||(t<this.count()-1&&this.getNestedLayers(e).forEach(i=>i.dismiss()),this.layers.splice(t,1),e.style.removeProperty("--layer-index"))},removeBranch(e){const t=this.branches.indexOf(e);t>=0&&this.branches.splice(t,1)},indexOf(e){return this.layers.findIndex(t=>t.node===e)},dismiss(e){var t;(t=this.layers[this.indexOf(e)])==null||t.dismiss()},clear(){this.remove(this.layers[0].node)}},DE;function LE(){Ns.layers.forEach(({node:e})=>{e.style.pointerEvents=Ns.isBelowPointerBlockingLayer(e)?"none":"auto"})}function TR(e){e.style.pointerEvents=""}function wR(e,t){const n=ur(e),i=[];if(Ns.hasPointerBlockingLayer()&&!n.body.hasAttribute("data-inert")&&(DE=document.body.style.pointerEvents,queueMicrotask(()=>{n.body.style.pointerEvents="none",n.body.setAttribute("data-inert","")})),t){const s=CN(t,r=>{i.push(bN(r,{pointerEvents:"auto"}))});i.push(s)}return()=>{Ns.hasPointerBlockingLayer()||(queueMicrotask(()=>{n.body.style.pointerEvents=DE,n.body.removeAttribute("data-inert"),n.body.style.length===0&&n.body.removeAttribute("style")}),i.forEach(s=>s()))}}function IR(e,t){if(!e){nt("[@zag-js/dismissable] node is `null` or `undefined`");return}const{onDismiss:n,pointerBlocking:i,exclude:s,debug:r}=t,a={dismiss:n,node:e,pointerBlocking:i};Ns.add(a),LE();function u(h){var p,g;const f=Zi(h.detail.originalEvent);Ns.isBelowPointerBlockingLayer(e)||Ns.isInBranch(f)||((p=t.onPointerDownOutside)==null||p.call(t,h),(g=t.onInteractOutside)==null||g.call(t,h),!h.defaultPrevented&&(r&&console.log("onPointerDownOutside:",h.detail.originalEvent),n==null||n()))}function o(h){var p,g;const f=Zi(h.detail.originalEvent);Ns.isInBranch(f)||((p=t.onFocusOutside)==null||p.call(t,h),(g=t.onInteractOutside)==null||g.call(t,h),!h.defaultPrevented&&(r&&console.log("onFocusOutside:",h.detail.originalEvent),n==null||n()))}function l(h){var f;Ns.isTopMost(e)&&((f=t.onEscapeKeyDown)==null||f.call(t,h),!h.defaultPrevented&&n&&(h.preventDefault(),n()))}function c(h){var m;if(!e)return!1;const f=typeof s=="function"?s():s,p=Array.isArray(f)?f:[f],g=(m=t.persistentElements)==null?void 0:m.map(y=>y()).filter(Ji);return g&&p.push(...g),p.some(y=>$r(y,h))||Ns.isInNestedLayer(e,h)}const d=[i?wR(e,t.persistentElements):void 0,xR(e,l),SR(e,{exclude:c,onFocusOutside:o,onPointerDownOutside:u,defer:t.defer})];return()=>{Ns.remove(e),LE(),TR(e),d.forEach(h=>h==null?void 0:h())}}function Ul(e,t){const{defer:n}=t,i=n?Je:r=>r(),s=[];return s.push(i(()=>{const r=We(e)?e():e;s.push(IR(r,t))})),()=>{s.forEach(r=>r==null?void 0:r())}}var Vp="data-scroll-lock";function FE(e,t){if(!e)return;const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function OR(e,t,n){if(!e)return;const i=e.style.getPropertyValue(t);return e.style.setProperty(t,n),()=>{i?e.style.setProperty(t,i):e.style.removeProperty(t)}}function kR(e){const t=e.getBoundingClientRect().left;return Math.round(t)+e.scrollLeft?"paddingLeft":"paddingRight"}function Fx(e){const t=e??document,n=t.defaultView??window,{documentElement:i,body:s}=t;if(s.hasAttribute(Vp))return;s.setAttribute(Vp,"");const a=n.innerWidth-i.clientWidth,u=()=>OR(i,"--scrollbar-width",`${a}px`),o=kR(i),l=()=>FE(s,{overflow:"hidden",[o]:`${a}px`}),c=()=>{const{scrollX:h,scrollY:f,visualViewport:p}=n,g=(p==null?void 0:p.offsetLeft)??0,m=(p==null?void 0:p.offsetTop)??0,y=FE(s,{position:"fixed",overflow:"hidden",top:`${-(f-Math.floor(m))}px`,left:`${-(h-Math.floor(g))}px`,right:"0",[o]:`${a}px`});return()=>{y==null||y(),n.scrollTo({left:h,top:f,behavior:"instant"})}},d=[u(),Rv()?c():l()];return()=>{d.forEach(h=>h==null?void 0:h()),s.removeAttribute(Vp)}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Vx=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],gh=Vx.join(","),Bx=typeof Element>"u",ka=Bx?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,mh=!Bx&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},vh=function e(t,n){var i;n===void 0&&(n=!0);var s=t==null||(i=t.getAttribute)===null||i===void 0?void 0:i.call(t,"inert"),r=s===""||s==="true",a=r||n&&t&&e(t.parentNode);return a},AR=function(t){var n,i=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return i===""||i==="true"},Hx=function(t,n,i){if(vh(t))return[];var s=Array.prototype.slice.apply(t.querySelectorAll(gh));return n&&ka.call(t,gh)&&s.unshift(t),s=s.filter(i),s},jx=function e(t,n,i){for(var s=[],r=Array.from(t);r.length;){var a=r.shift();if(!vh(a,!1))if(a.tagName==="SLOT"){var u=a.assignedElements(),o=u.length?u:a.children,l=e(o,!0,i);i.flatten?s.push.apply(s,l):s.push({scopeParent:a,candidates:l})}else{var c=ka.call(a,gh);c&&i.filter(a)&&(n||!t.includes(a))&&s.push(a);var d=a.shadowRoot||typeof i.getShadowRoot=="function"&&i.getShadowRoot(a),h=!vh(d,!1)&&(!i.shadowRootFilter||i.shadowRootFilter(a));if(d&&h){var f=e(d===!0?a.children:d.children,!0,i);i.flatten?s.push.apply(s,f):s.push({scopeParent:a,candidates:f})}else r.unshift.apply(r,a.children)}}return s},Ux=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},ua=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||AR(t))&&!Ux(t)?0:t.tabIndex},PR=function(t,n){var i=ua(t);return i<0&&n&&!Ux(t)?0:i},$R=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},Gx=function(t){return t.tagName==="INPUT"},MR=function(t){return Gx(t)&&t.type==="hidden"},NR=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(i){return i.tagName==="SUMMARY"});return n},RR=function(t,n){for(var i=0;i<t.length;i++)if(t[i].checked&&t[i].form===n)return t[i]},DR=function(t){if(!t.name)return!0;var n=t.form||mh(t),i=function(u){return n.querySelectorAll('input[type="radio"][name="'+u+'"]')},s;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")s=i(window.CSS.escape(t.name));else try{s=i(t.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var r=RR(s,t.form);return!r||r===t},LR=function(t){return Gx(t)&&t.type==="radio"},FR=function(t){return LR(t)&&!DR(t)},VR=function(t){var n,i=t&&mh(t),s=(n=i)===null||n===void 0?void 0:n.host,r=!1;if(i&&i!==t){var a,u,o;for(r=!!((a=s)!==null&&a!==void 0&&(u=a.ownerDocument)!==null&&u!==void 0&&u.contains(s)||t!=null&&(o=t.ownerDocument)!==null&&o!==void 0&&o.contains(t));!r&&s;){var l,c,d;i=mh(s),s=(l=i)===null||l===void 0?void 0:l.host,r=!!((c=s)!==null&&c!==void 0&&(d=c.ownerDocument)!==null&&d!==void 0&&d.contains(s))}}return r},VE=function(t){var n=t.getBoundingClientRect(),i=n.width,s=n.height;return i===0&&s===0},BR=function(t,n){var i=n.displayCheck,s=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var r=ka.call(t,"details>summary:first-of-type"),a=r?t.parentElement:t;if(ka.call(a,"details:not([open]) *"))return!0;if(!i||i==="full"||i==="legacy-full"){if(typeof s=="function"){for(var u=t;t;){var o=t.parentElement,l=mh(t);if(o&&!o.shadowRoot&&s(o)===!0)return VE(t);t.assignedSlot?t=t.assignedSlot:!o&&l!==t.ownerDocument?t=l.host:t=o}t=u}if(VR(t))return!t.getClientRects().length;if(i!=="legacy-full")return!0}else if(i==="non-zero-area")return VE(t);return!1},HR=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var i=0;i<n.children.length;i++){var s=n.children.item(i);if(s.tagName==="LEGEND")return ka.call(n,"fieldset[disabled] *")?!0:!s.contains(t)}return!0}n=n.parentElement}return!1},yh=function(t,n){return!(n.disabled||vh(n)||MR(n)||BR(n,t)||NR(n)||HR(n))},lm=function(t,n){return!(FR(n)||ua(n)<0||!yh(t,n))},jR=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},UR=function e(t){var n=[],i=[];return t.forEach(function(s,r){var a=!!s.scopeParent,u=a?s.scopeParent:s,o=PR(u,a),l=a?e(s.candidates):u;o===0?a?n.push.apply(n,l):n.push(u):i.push({documentOrder:r,tabIndex:o,item:s,isScope:a,content:l})}),i.sort($R).reduce(function(s,r){return r.isScope?s.push.apply(s,r.content):s.push(r.content),s},[]).concat(n)},GR=function(t,n){n=n||{};var i;return n.getShadowRoot?i=jx([t],n.includeContainer,{filter:lm.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:jR}):i=Hx(t,n.includeContainer,lm.bind(null,n)),UR(i)},WR=function(t,n){n=n||{};var i;return n.getShadowRoot?i=jx([t],n.includeContainer,{filter:yh.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):i=Hx(t,n.includeContainer,yh.bind(null,n)),i},Xa=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return ka.call(t,gh)===!1?!1:lm(n,t)},zR=Vx.concat("iframe").join(","),Bp=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return ka.call(t,zR)===!1?!1:yh(n,t)};/*!
* focus-trap 7.6.0
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function KR(e,t,n){return(t=YR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function HE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BE(Object(n),!0).forEach(function(i){KR(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BE(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function qR(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YR(e){var t=qR(e,"string");return typeof t=="symbol"?t:t+""}var jE={activateTrap:function(t,n){if(t.length>0){var i=t[t.length-1];i!==n&&i.pause()}var s=t.indexOf(n);s===-1||t.splice(s,1),t.push(n)},deactivateTrap:function(t,n){var i=t.indexOf(n);i!==-1&&t.splice(i,1),t.length>0&&t[t.length-1].unpause()}},JR=function(t){return t.tagName&&t.tagName.toLowerCase()==="input"&&typeof t.select=="function"},XR=function(t){return(t==null?void 0:t.key)==="Escape"||(t==null?void 0:t.key)==="Esc"||(t==null?void 0:t.keyCode)===27},Zc=function(t){return(t==null?void 0:t.key)==="Tab"||(t==null?void 0:t.keyCode)===9},ZR=function(t){return Zc(t)&&!t.shiftKey},QR=function(t){return Zc(t)&&t.shiftKey},UE=function(t){return setTimeout(t,0)},GE=function(t,n){var i=-1;return t.every(function(s,r){return n(s)?(i=r,!1):!0}),i},ac=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return typeof t=="function"?t.apply(void 0,i):t},gd=function(t){return t.target.shadowRoot&&typeof t.composedPath=="function"?t.composedPath()[0]:t.target},eD=[],Wx=function(t,n){var i=(n==null?void 0:n.document)||document,s=(n==null?void 0:n.trapStack)||eD,r=HE({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:ZR,isKeyBackward:QR},n),a={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},u,o=function(Y,Z,de){return Y&&Y[Z]!==void 0?Y[Z]:r[de||Z]},l=function(Y,Z){var de=typeof(Z==null?void 0:Z.composedPath)=="function"?Z.composedPath():void 0;return a.containerGroups.findIndex(function(ce){var re=ce.container,he=ce.tabbableNodes;return re.contains(Y)||(de==null?void 0:de.includes(re))||he.find(function(je){return je===Y})})},c=function(Y){var Z=r[Y];if(typeof Z=="function"){for(var de=arguments.length,ce=new Array(de>1?de-1:0),re=1;re<de;re++)ce[re-1]=arguments[re];Z=Z.apply(void 0,ce)}if(Z===!0&&(Z=void 0),!Z){if(Z===void 0||Z===!1)return Z;throw new Error("`".concat(Y,"` was specified but was not a node, or did not return a node"))}var he=Z;if(typeof Z=="string"&&(he=i.querySelector(Z),!he))throw new Error("`".concat(Y,"` as selector refers to no known node"));return he},d=function(){var Y=c("initialFocus");if(Y===!1)return!1;if(Y===void 0||!Bp(Y,r.tabbableOptions))if(l(i.activeElement)>=0)Y=i.activeElement;else{var Z=a.tabbableGroups[0],de=Z&&Z.firstTabbableNode;Y=de||c("fallbackFocus")}if(!Y)throw new Error("Your focus-trap needs to have at least one focusable element");return Y},h=function(){if(a.containerGroups=a.containers.map(function(Y){var Z=GR(Y,r.tabbableOptions),de=WR(Y,r.tabbableOptions),ce=Z.length>0?Z[0]:void 0,re=Z.length>0?Z[Z.length-1]:void 0,he=de.find(function(ht){return Xa(ht)}),je=de.slice().reverse().find(function(ht){return Xa(ht)}),lt=!!Z.find(function(ht){return ua(ht)>0});return{container:Y,tabbableNodes:Z,focusableNodes:de,posTabIndexesFound:lt,firstTabbableNode:ce,lastTabbableNode:re,firstDomTabbableNode:he,lastDomTabbableNode:je,nextTabbableNode:function(Et){var Ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,mt=Z.indexOf(Et);return mt<0?Ut?de.slice(de.indexOf(Et)+1).find(function(Gt){return Xa(Gt)}):de.slice(0,de.indexOf(Et)).reverse().find(function(Gt){return Xa(Gt)}):Z[mt+(Ut?1:-1)]}}}),a.tabbableGroups=a.containerGroups.filter(function(Y){return Y.tabbableNodes.length>0}),a.tabbableGroups.length<=0&&!c("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(a.containerGroups.find(function(Y){return Y.posTabIndexesFound})&&a.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},f=function(Y){var Z=Y.activeElement;if(Z)return Z.shadowRoot&&Z.shadowRoot.activeElement!==null?f(Z.shadowRoot):Z},p=function(Y){if(Y!==!1&&Y!==f(document)){if(!Y||!Y.focus){p(d());return}Y.focus({preventScroll:!!r.preventScroll}),a.mostRecentlyFocusedNode=Y,JR(Y)&&Y.select()}},g=function(Y){var Z=c("setReturnFocus",Y);return Z||(Z===!1?!1:Y)},m=function(Y){var Z=Y.target,de=Y.event,ce=Y.isBackward,re=ce===void 0?!1:ce;Z=Z||gd(de),h();var he=null;if(a.tabbableGroups.length>0){var je=l(Z,de),lt=je>=0?a.containerGroups[je]:void 0;if(je<0)re?he=a.tabbableGroups[a.tabbableGroups.length-1].lastTabbableNode:he=a.tabbableGroups[0].firstTabbableNode;else if(re){var ht=GE(a.tabbableGroups,function(ne){var ge=ne.firstTabbableNode;return Z===ge});if(ht<0&&(lt.container===Z||Bp(Z,r.tabbableOptions)&&!Xa(Z,r.tabbableOptions)&&!lt.nextTabbableNode(Z,!1))&&(ht=je),ht>=0){var Et=ht===0?a.tabbableGroups.length-1:ht-1,Ut=a.tabbableGroups[Et];he=ua(Z)>=0?Ut.lastTabbableNode:Ut.lastDomTabbableNode}else Zc(de)||(he=lt.nextTabbableNode(Z,!1))}else{var mt=GE(a.tabbableGroups,function(ne){var ge=ne.lastTabbableNode;return Z===ge});if(mt<0&&(lt.container===Z||Bp(Z,r.tabbableOptions)&&!Xa(Z,r.tabbableOptions)&&!lt.nextTabbableNode(Z))&&(mt=je),mt>=0){var Gt=mt===a.tabbableGroups.length-1?0:mt+1,an=a.tabbableGroups[Gt];he=ua(Z)>=0?an.firstTabbableNode:an.firstDomTabbableNode}else Zc(de)||(he=lt.nextTabbableNode(Z))}}else he=c("fallbackFocus");return he},y=function(Y){var Z=gd(Y);if(!(l(Z,Y)>=0)){if(ac(r.clickOutsideDeactivates,Y)){u.deactivate({returnFocus:r.returnFocusOnDeactivate});return}ac(r.allowOutsideClick,Y)||Y.preventDefault()}},b=function(Y){var Z=gd(Y),de=l(Z,Y)>=0;if(de||Z instanceof Document)de&&(a.mostRecentlyFocusedNode=Z);else{Y.stopImmediatePropagation();var ce,re=!0;if(a.mostRecentlyFocusedNode)if(ua(a.mostRecentlyFocusedNode)>0){var he=l(a.mostRecentlyFocusedNode),je=a.containerGroups[he].tabbableNodes;if(je.length>0){var lt=je.findIndex(function(ht){return ht===a.mostRecentlyFocusedNode});lt>=0&&(r.isKeyForward(a.recentNavEvent)?lt+1<je.length&&(ce=je[lt+1],re=!1):lt-1>=0&&(ce=je[lt-1],re=!1))}}else a.containerGroups.some(function(ht){return ht.tabbableNodes.some(function(Et){return ua(Et)>0})})||(re=!1);else re=!1;re&&(ce=m({target:a.mostRecentlyFocusedNode,isBackward:r.isKeyBackward(a.recentNavEvent)})),p(ce||a.mostRecentlyFocusedNode||d())}a.recentNavEvent=void 0},E=function(Y){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;a.recentNavEvent=Y;var de=m({event:Y,isBackward:Z});de&&(Zc(Y)&&Y.preventDefault(),p(de))},_=function(Y){(r.isKeyForward(Y)||r.isKeyBackward(Y))&&E(Y,r.isKeyBackward(Y))},I=function(Y){XR(Y)&&ac(r.escapeDeactivates,Y)!==!1&&(Y.preventDefault(),u.deactivate())},P=function(Y){var Z=gd(Y);l(Z,Y)>=0||ac(r.clickOutsideDeactivates,Y)||ac(r.allowOutsideClick,Y)||(Y.preventDefault(),Y.stopImmediatePropagation())},M=function(){if(a.active)return jE.activateTrap(s,u),a.delayInitialFocusTimer=r.delayInitialFocus?UE(function(){p(d())}):p(d()),i.addEventListener("focusin",b,!0),i.addEventListener("mousedown",y,{capture:!0,passive:!1}),i.addEventListener("touchstart",y,{capture:!0,passive:!1}),i.addEventListener("click",P,{capture:!0,passive:!1}),i.addEventListener("keydown",_,{capture:!0,passive:!1}),i.addEventListener("keydown",I),u},z=function(){if(a.active)return i.removeEventListener("focusin",b,!0),i.removeEventListener("mousedown",y,!0),i.removeEventListener("touchstart",y,!0),i.removeEventListener("click",P,!0),i.removeEventListener("keydown",_,!0),i.removeEventListener("keydown",I),u},D=function(Y){var Z=Y.some(function(de){var ce=Array.from(de.removedNodes);return ce.some(function(re){return re===a.mostRecentlyFocusedNode})});Z&&p(d())},j=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(D):void 0,se=function(){j&&(j.disconnect(),a.active&&!a.paused&&a.containers.map(function(Y){j.observe(Y,{subtree:!0,childList:!0})}))};return u={get active(){return a.active},get paused(){return a.paused},activate:function(Y){if(a.active)return this;var Z=o(Y,"onActivate"),de=o(Y,"onPostActivate"),ce=o(Y,"checkCanFocusTrap");ce||h(),a.active=!0,a.paused=!1,a.nodeFocusedBeforeActivation=i.activeElement,Z==null||Z();var re=function(){ce&&h(),M(),se(),de==null||de()};return ce?(ce(a.containers.concat()).then(re,re),this):(re(),this)},deactivate:function(Y){if(!a.active)return this;var Z=HE({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},Y);clearTimeout(a.delayInitialFocusTimer),a.delayInitialFocusTimer=void 0,z(),a.active=!1,a.paused=!1,se(),jE.deactivateTrap(s,u);var de=o(Z,"onDeactivate"),ce=o(Z,"onPostDeactivate"),re=o(Z,"checkCanReturnFocus"),he=o(Z,"returnFocus","returnFocusOnDeactivate");de==null||de();var je=function(){UE(function(){he&&p(g(a.nodeFocusedBeforeActivation)),ce==null||ce()})};return he&&re?(re(g(a.nodeFocusedBeforeActivation)).then(je,je),this):(je(),this)},pause:function(Y){if(a.paused||!a.active)return this;var Z=o(Y,"onPause"),de=o(Y,"onPostPause");return a.paused=!0,Z==null||Z(),z(),se(),de==null||de(),this},unpause:function(Y){if(!a.paused||!a.active)return this;var Z=o(Y,"onUnpause"),de=o(Y,"onPostUnpause");return a.paused=!1,Z==null||Z(),h(),M(),se(),de==null||de(),this},updateContainerElements:function(Y){var Z=[].concat(Y).filter(Boolean);return a.containers=Z.map(function(de){return typeof de=="string"?i.querySelector(de):de}),a.active&&h(),se(),this}},u.updateContainerElements(t),u};function tD(e){return new Proxy({},{get(){return e}})}var tn=()=>e=>Array.from(new Set(e)),nD=Dn("dialog").parts("trigger","backdrop","positioner","content","title","description","closeTrigger"),ea=nD.build(),yt=Pi({getPositionerId:e=>{var t;return((t=e.ids)==null?void 0:t.positioner)??`dialog:${e.id}:positioner`},getBackdropId:e=>{var t;return((t=e.ids)==null?void 0:t.backdrop)??`dialog:${e.id}:backdrop`},getContentId:e=>{var t;return((t=e.ids)==null?void 0:t.content)??`dialog:${e.id}:content`},getTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.trigger)??`dialog:${e.id}:trigger`},getTitleId:e=>{var t;return((t=e.ids)==null?void 0:t.title)??`dialog:${e.id}:title`},getDescriptionId:e=>{var t;return((t=e.ids)==null?void 0:t.description)??`dialog:${e.id}:description`},getCloseTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.closeTrigger)??`dialog:${e.id}:close`},getContentEl:e=>yt.getById(e,yt.getContentId(e)),getPositionerEl:e=>yt.getById(e,yt.getPositionerId(e)),getBackdropEl:e=>yt.getById(e,yt.getBackdropId(e)),getTriggerEl:e=>yt.getById(e,yt.getTriggerId(e)),getTitleEl:e=>yt.getById(e,yt.getTitleId(e)),getDescriptionEl:e=>yt.getById(e,yt.getDescriptionId(e)),getCloseTriggerEl:e=>yt.getById(e,yt.getCloseTriggerId(e))});function iD(e,t,n){const i=e.context["aria-label"],s=e.matches("open"),r=e.context.renderedElements;return{open:s,setOpen(a){a!==s&&t(a?"OPEN":"CLOSE")},getTriggerProps(){return n.button({...ea.trigger.attrs,dir:e.context.dir,id:yt.getTriggerId(e.context),"aria-haspopup":"dialog",type:"button","aria-expanded":s,"data-state":s?"open":"closed","aria-controls":yt.getContentId(e.context),onClick(a){a.defaultPrevented||t("TOGGLE")}})},getBackdropProps(){return n.element({...ea.backdrop.attrs,dir:e.context.dir,hidden:!s,id:yt.getBackdropId(e.context),"data-state":s?"open":"closed"})},getPositionerProps(){return n.element({...ea.positioner.attrs,dir:e.context.dir,id:yt.getPositionerId(e.context),style:{pointerEvents:s?void 0:"none"}})},getContentProps(){return n.element({...ea.content.attrs,dir:e.context.dir,role:e.context.role,hidden:!s,id:yt.getContentId(e.context),tabIndex:-1,"data-state":s?"open":"closed","aria-modal":!0,"aria-label":i||void 0,"aria-labelledby":i||!r.title?void 0:yt.getTitleId(e.context),"aria-describedby":r.description?yt.getDescriptionId(e.context):void 0})},getTitleProps(){return n.element({...ea.title.attrs,dir:e.context.dir,id:yt.getTitleId(e.context)})},getDescriptionProps(){return n.element({...ea.description.attrs,dir:e.context.dir,id:yt.getDescriptionId(e.context)})},getCloseTriggerProps(){return n.button({...ea.closeTrigger.attrs,dir:e.context.dir,id:yt.getCloseTriggerId(e.context),type:"button",onClick(a){a.defaultPrevented||(a.stopPropagation(),t("CLOSE"))}})}}}function sD(e){const t=Te(e);return eR({id:"dialog",initial:t.open?"open":"closed",context:{role:"dialog",renderedElements:{title:!0,description:!0},modal:!0,trapFocus:!0,preventScroll:!0,closeOnInteractOutside:!0,closeOnEscape:!0,restoreFocus:!0,...t},created:["setAlertDialogProps"],watch:{open:["toggleVisibility"]},states:{open:{entry:["checkRenderedElements","syncZIndex"],activities:["trackDismissableElement","trapFocus","preventScroll","hideContentBelow"],on:{"CONTROLLED.CLOSE":{target:"closed"},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}]}},closed:{on:{"CONTROLLED.OPEN":{target:"open"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}}}},{guards:{isOpenControlled:n=>!!n["open.controlled"]},activities:{trackDismissableElement(n,i,{send:s}){return Ul(()=>yt.getContentEl(n),{defer:!0,pointerBlocking:n.modal,exclude:[yt.getTriggerEl(n)],onInteractOutside(a){var u;(u=n.onInteractOutside)==null||u.call(n,a),n.closeOnInteractOutside||a.preventDefault()},persistentElements:n.persistentElements,onFocusOutside:n.onFocusOutside,onPointerDownOutside:n.onPointerDownOutside,onEscapeKeyDown(a){var u;(u=n.onEscapeKeyDown)==null||u.call(n,a),n.closeOnEscape||a.preventDefault()},onDismiss(){s({type:"CLOSE",src:"interact-outside"})}})},preventScroll(n){if(n.preventScroll)return Fx(yt.getDoc(n))},trapFocus(n){if(!n.trapFocus||!n.modal)return;let i;const s=Of(()=>{var a;const r=yt.getContentEl(n);if(r){i=Wx(r,{document:yt.getDoc(n),escapeDeactivates:!1,preventScroll:!0,fallbackFocus:r,returnFocusOnDeactivate:n.restoreFocus,allowOutsideClick:!0,initialFocus:((a=n.initialFocusEl)==null?void 0:a.call(n))??void 0,setReturnFocus(u){var o;return((o=n.finalFocusEl)==null?void 0:o.call(n))??u}});try{i.activate()}catch{}}});return()=>{i==null||i.deactivate(),s()}},hideContentBelow(n){return n.modal?Gv(()=>[yt.getContentEl(n)],{defer:!0}):void 0}},actions:{setAlertDialogProps(n){n.role==="alertdialog"&&(n.initialFocusEl||(n.initialFocusEl=()=>yt.getCloseTriggerEl(n)),n.closeOnInteractOutside=!1)},checkRenderedElements(n){Je(()=>{n.renderedElements.title=!!yt.getTitleEl(n),n.renderedElements.description=!!yt.getDescriptionEl(n)})},syncZIndex(n){Je(()=>{const i=yt.getContentEl(n);if(!i)return;const r=yt.getWin(n).getComputedStyle(i);[yt.getPositionerEl(n),yt.getBackdropEl(n)].forEach(u=>{u==null||u.style.setProperty("--z-index",r.zIndex)})})},invokeOnClose(n){var i;(i=n.onOpenChange)==null||i.call(n,{open:!1})},invokeOnOpen(n){var i;(i=n.onOpenChange)==null||i.call(n,{open:!0})},toggleVisibility(n,i,{send:s}){s({type:n.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:i})}}})}tn()(["aria-label","closeOnEscape","closeOnInteractOutside","dir","finalFocusEl","getRootNode","getRootNode","id","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","open.controlled","open","persistentElements","preventScroll","restoreFocus","role","trapFocus"]);var rD=(...e)=>e.map(t=>{var n;return(n=t==null?void 0:t.trim)==null?void 0:n.call(t)}).filter(Boolean).join(" "),oD=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,WE=e=>{const t={};let n;for(;n=oD.exec(e);)t[n[1]]=n[2];return t},aD=(e,t)=>{if(q(e)){if(q(t))return`${e};${t}`;e=WE(e)}else q(t)&&(t=WE(t));return Object.assign({},e??{},t??{})};function Bo(...e){let t={};for(let n of e){for(let i in t){if(i.startsWith("on")&&typeof t[i]=="function"&&typeof n[i]=="function"){t[i]=Eu(n[i],t[i]);continue}if(i==="className"||i==="class"){t[i]=rD(t[i],n[i]);continue}if(i==="style"){t[i]=aD(t[i],n[i]);continue}t[i]=n[i]!==void 0?n[i]:t[i]}for(let i in n)t[i]===void 0&&(t[i]=n[i])}return t}function lD(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}var zE={htmlFor:"for",className:"class",onDoubleClick:"onDblclick",onChange:"onInput",onFocus:"onFocusin",onBlur:"onFocusout",defaultValue:"value",defaultChecked:"checked"};function cD(e){return e in zE?zE[e]:e.startsWith("on")?`on${lD(e.substr(2))}`:e.toLowerCase()}var $i=tD(e=>{const t={};for(const n in e){const i=e[n];n==="children"?typeof i=="string"&&(t.innerHTML=i):t[cD(n)]=e[n]}return t});function uD(e,t){const{actions:n,context:i}=t??{},s=yo(e.state),r=Pt(e.state,()=>{s.value=_e(e.state)});return uf(()=>{r==null||r()}),Ov(()=>{e.setOptions({actions:n})}),i&&qt(i,a=>{e.setContext(v(a))},{deep:!0}),s}function dD(e,t){const{state:n,context:i}=t??{},s=typeof e=="function"?e():e;return i&&s.setContext(v(i)),s._created(),Ai(()=>{s.start(n),Du(()=>{s.stop()})}),s}function Ei(e,t){const n=dD(e,t);return[uD(n,t),n.send,n]}const gt=e=>{const t=Symbol(e);return[s=>Gc(t,s),s=>Ii(t,s),t]},[Ble,Qi]=gt("EnvironmentContext"),Mi=K(()=>({dir:"ltr",locale:"en-US"})),[Hle,Ni]=gt("LocaleContext"),es=e=>{const t={};for(const[n,i]of Object.entries(e))i!==void 0&&(t[n]=i);return t},hD=(e,t)=>{const n=Kn(),i=Qi(),s=Ni(Mi),r=K(()=>({id:n,dir:s.value.dir,open:e.defaultOpen,"open.controlled":e.open!==void 0,getRootNode:i==null?void 0:i.value.getRootNode,onOpenChange:o=>{t==null||t("openChange",o),t==null||t("update:open",o.open)},onEscapeKeyDown:o=>t==null?void 0:t("escapeKeyDown",o),onFocusOutside:o=>t==null?void 0:t("focusOutside",o),onInteractOutside:o=>t==null?void 0:t("interactOutside",o),onPointerDownOutside:o=>t==null?void 0:t("pointerDownOutside",o),...es(e)})),[a,u]=Ei(sD(r.value),{context:r});return K(()=>iD(a.value,u,$i))},[zx,Ho]=gt("DialogContext"),[Ri,jo]=gt("RenderStrategyProps");function fD(e){const t=qk(e);return(t==null?void 0:t.$el)??t}const pD=e=>Object.prototype.hasOwnProperty.call(e,"nodeName")&&typeof e.nodeName=="string";function U(){const e=ms(),t=st(),n=K(()=>{var a,u;return["#text","#comment"].includes((a=t.value)==null?void 0:a.$el.nodeName)?(u=t.value)==null?void 0:u.$el.nextElementSibling:fD(t)}),i=Object.assign({},e.exposed),s={};for(const a in e.props)Object.defineProperty(s,a,{enumerable:!0,configurable:!0,get:()=>e.props[a]});if(Object.keys(i).length>0)for(const a in i)Object.defineProperty(s,a,{enumerable:!0,configurable:!0,get:()=>i[a]});Object.defineProperty(s,"$el",{enumerable:!0,configurable:!0,get:()=>e.vnode.el}),e.exposed=s;function r(a){t.value=a,!(pD(a)||!a)&&(Object.defineProperty(s,"$el",{enumerable:!0,configurable:!0,get:()=>a.$el}),e.exposed=s)}return{forwardRef:r,currentRef:t,currentElement:n}}const gD=$({name:"Dynamic",inheritAttrs:!1,setup(e,{attrs:t,slots:n}){return()=>{var a;if(!n.default)return null;const i=Kx(n.default()),[s,...r]=i;if(Object.keys(t).length>0){(a=s.props)==null||delete a.ref;const u=Bo(t,s.props??{}),o=Ia(s,u);for(const l in u)l.startsWith("on")&&(o.props||(o.props={}),o.props[l]=u[l]);return i.length===1?o:[o,...r]}return i}}});function Kx(e){return e?e.flatMap(t=>t.type===Ye?Kx(t.children):[t]):[]}const Hp=e=>$({name:"Polymorphic",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1}},setup(t,{attrs:n,slots:i}){return t.asChild?()=>Oa(gD,n,{default:i.default}):()=>{var s;return Oa(e,{...n},(s=i.default)==null?void 0:s.call(i))}}});function mD(){const e=new Map;return new Proxy(Hp,{apply(n,i,s){return Hp(s[0])},get(n,i){const s=i;return e.has(s)||e.set(s,Hp(s)),e.get(s)}})}const X=mD();var vD=Object.defineProperty,yD=(e,t,n)=>t in e?vD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ie=(e,t,n)=>yD(e,typeof t!="symbol"?t+"":t,n);function qx(e,...t){for(const n of t){const i=Te(n);for(const s in i)bi(n[s])?(e[s]||(e[s]={}),qx(e[s],n[s])):e[s]=n[s]}return e}function KE(e){return bn(e)}function bs(e){return q(e)?{type:e}:e}function Wr(e){return e?Qe(e)?e.slice():[e]:[]}function Yx(e){return Ce(e)&&e.predicate!=null}var bD=()=>!0;function Jx(e,t){return e=e??bD,(n,i,s)=>{if(q(e)){const r=t[e];return We(r)?r(n,i,s):r}return Yx(e)?e.predicate(t)(n,i,s):e==null?void 0:e(n,i,s)}}function jp(e,t){return(n,i,s)=>Yx(e)?e.predicate(t)(n,i,s):e}function ED(e){var r,a;const t=e.computed??Q({}),n=e.context??Q({}),i=e.initial?(a=(r=e.states)==null?void 0:r[e.initial])==null?void 0:a.tags:[],s=qn({value:e.initial??"",previousValue:"",event:Q({}),previousEvent:Q({}),context:mi(n,t),done:!1,tags:i??[],hasTag(u){return this.tags.includes(u)},matches(...u){return u.includes(this.value)},can(u){return Q(this).nextEvents.includes(u)},get nextEvents(){var l,c;const u=((c=(l=e.states)==null?void 0:l[this.value])==null?void 0:c.on)??{},o=(e==null?void 0:e.on)??{};return Object.keys({...u,...o})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return Q(s)}function lc(e,t){return(n,i)=>{if(yi(e))return e;if(We(e))return e(n,i);if(q(e)){const s=Number.parseFloat(e);if(!Number.isNaN(s))return s;if(t){const r=t==null?void 0:t[e];return He(r==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${e}\`. It doesn't exist in \`options.delays\``),We(r)?r(n,i):r}}}}function _D(e){return q(e)?{target:e}:e}function CD(e,t){return(n,i,s)=>Wr(e).map(_D).find(r=>Jx(r.guard,t)(n,i,s)??r.target??r.actions)}var SD=class{constructor(t,n){var i,s,r,a,u;Ie(this,"status","Not Started"),Ie(this,"state"),Ie(this,"initialState"),Ie(this,"initialContext"),Ie(this,"id"),Ie(this,"type","machine"),Ie(this,"activityEvents",new Map),Ie(this,"delayedEvents",new Map),Ie(this,"stateListeners",new Set),Ie(this,"doneListeners",new Set),Ie(this,"contextWatchers",new Set),Ie(this,"removeStateListener",ni),Ie(this,"parent"),Ie(this,"children",new Map),Ie(this,"guardMap"),Ie(this,"actionMap"),Ie(this,"delayMap"),Ie(this,"activityMap"),Ie(this,"sync"),Ie(this,"options"),Ie(this,"config"),Ie(this,"_created",()=>{var l;const o=bs("machine.created");this.executeActions((l=this.config)==null?void 0:l.created,o)}),Ie(this,"start",o=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=Pt(this.state,()=>{this.stateListeners.forEach(p=>{p(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(bs("machine.start"),Wr(this.config.activities),"machine.start"),this.executeActions(this.config.entry,bs("machine.start"));const l=bs("machine.init"),c=Ce(o)?o.value:o,d=Ce(o)?o.context:void 0;d&&this.setContext(d);const h={target:c??this.config.initial},f=this.getNextStateInfo(h,l);return this.initialState=f,this.performStateChangeEffects(this.state.value,f,l),this}),Ie(this,"setupContextWatchers",()=>{const{watch:o}=this.config;if(!o)return;let l=_e(this.state.context);const c=Pt(this.state.context,()=>{var h;const d=_e(this.state.context);for(const[f,p]of Object.entries(o))(((h=this.options.compareFns)==null?void 0:h[f])??Object.is)(l[f],d[f])||this.executeActions(p,this.state.event);l=d});this.contextWatchers.add(c)}),Ie(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,bs("machine.stop")),this.executeActions(this.config.exit,bs("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),Ie(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),Ie(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(o=>o()),this.contextWatchers.clear()}),Ie(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(o=>{o.forEach(l=>l())}),this.delayedEvents.clear()}),Ie(this,"stopActivities",o=>{var l,c;o?((l=this.activityEvents.get(o))==null||l.forEach(d=>d()),(c=this.activityEvents.get(o))==null||c.clear(),this.activityEvents.delete(o)):(this.activityEvents.forEach(d=>{d.forEach(h=>h()),d.clear()}),this.activityEvents.clear())}),Ie(this,"sendChild",(o,l)=>{const c=bs(o),d=$t(l,this.contextSnapshot),h=this.children.get(d);h||He(`[@zag-js/core] Cannot send '${c.type}' event to unknown child`),h.send(c)}),Ie(this,"stopChild",o=>{this.children.has(o)||He(`[@zag-js/core > stop-child] Cannot stop unknown child ${o}`),this.children.get(o).stop(),this.children.delete(o)}),Ie(this,"removeChild",o=>{this.children.delete(o)}),Ie(this,"stopChildren",()=>{this.children.forEach(o=>o.stop()),this.children.clear()}),Ie(this,"setParent",o=>{this.parent=o}),Ie(this,"spawn",(o,l)=>{const c=$t(o);return l&&(c.id=l),c.type="machine.actor",c.setParent(this),this.children.set(c.id,Q(c)),c.onDone(()=>{this.removeChild(c.id)}).start(),Q(Ke(c))}),Ie(this,"stopActivity",o=>{var c;if(!this.state.value)return;const l=this.activityEvents.get(this.state.value);(c=l==null?void 0:l.get(o))==null||c(),l==null||l.delete(o)}),Ie(this,"addActivityCleanup",(o,l,c)=>{var d;o&&(this.activityEvents.has(o)?(d=this.activityEvents.get(o))==null||d.set(l,c):this.activityEvents.set(o,new Map([[l,c]])))}),Ie(this,"setState",o=>{this.state.previousValue=this.state.value,this.state.value=o;const l=this.getStateNode(o);o==null?vi(this.state.tags):this.state.tags=Wr(l==null?void 0:l.tags)}),Ie(this,"setContext",o=>{o&&qx(this.state.context,Te(o))}),Ie(this,"setOptions",o=>{const l=Te(o);this.actionMap={...this.actionMap,...l.actions},this.delayMap={...this.delayMap,...l.delays},this.activityMap={...this.activityMap,...l.activities},this.guardMap={...this.guardMap,...l.guards}}),Ie(this,"getStateNode",o=>{var l;if(o)return(l=this.config.states)==null?void 0:l[o]}),Ie(this,"getNextStateInfo",(o,l)=>{const c=this.determineTransition(o,l),d=!(c!=null&&c.target),h=(c==null?void 0:c.target)??this.state.value,f=this.state.value!==h,p=this.getStateNode(h),m={reenter:!d&&!f&&!(c!=null&&c.internal),transition:c,stateNode:p,target:h,changed:f};return this.log("NextState:",`[${l.type}]`,this.state.value,"---->",m.target),m}),Ie(this,"getAfterActions",(o,l)=>{let c;const d=this.state.value;return{entry:()=>{c=globalThis.setTimeout(()=>{const h=this.getNextStateInfo(o,this.state.event);this.performStateChangeEffects(d,h,this.state.event)},l)},exit:()=>{globalThis.clearTimeout(c)}}}),Ie(this,"getDelayedEventActions",o=>{const l=this.getStateNode(o),c=this.state.event;if(!l||!l.after)return;const d=[],h=[];if(Qe(l.after)){const f=this.determineTransition(l.after,c);if(!f)return;if(!wn(f,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(f)}`);const g=lc(f.delay,this.delayMap)(this.contextSnapshot,c),m=this.getAfterActions(f,g);return d.push(m.entry),h.push(m.exit),{entries:d,exits:h}}if(Ce(l.after))for(const f in l.after){const p=l.after[f],m=lc(f,this.delayMap)(this.contextSnapshot,c),y=this.getAfterActions(p,m);d.push(y.entry),h.push(y.exit)}return{entries:d,exits:h}}),Ie(this,"executeActions",(o,l)=>{var d;const c=jp(o,this.guardMap)(this.contextSnapshot,l,this.guardMeta);for(const h of Wr(c)){const f=q(h)?(d=this.actionMap)==null?void 0:d[h]:h;nt(q(h)&&!f,`[@zag-js/core > execute-actions] No implementation found for action: \`${h}\``),f==null||f(this.state.context,l,this.meta)}}),Ie(this,"executeActivities",(o,l,c)=>{var d;for(const h of l){const f=q(h)?(d=this.activityMap)==null?void 0:d[h]:h;if(!f){nt(`[@zag-js/core > execute-activity] No implementation found for activity: \`${h}\``);continue}const p=f(this.state.context,o,this.meta);if(p){const g=q(h)?h:h.name||Rt();this.addActivityCleanup(c??this.state.value,g,p)}}}),Ie(this,"createEveryActivities",(o,l)=>{if(o)if(Qe(o)){const c=Wr(o).find(p=>{const g=p.delay,y=lc(g,this.delayMap)(this.contextSnapshot,this.state.event);return Jx(p.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??y!=null});if(!c)return;const h=lc(c.delay,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const p=globalThis.setInterval(()=>{this.executeActions(c.actions,this.state.event)},h);return()=>{globalThis.clearInterval(p)}})}else for(const c in o){const d=o==null?void 0:o[c],f=lc(c,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const g=globalThis.setInterval(()=>{this.executeActions(d,this.state.event)},f);return()=>{globalThis.clearInterval(g)}})}}),Ie(this,"setEvent",o=>{this.state.previousEvent=this.state.event,this.state.event=Ke(bs(o))}),Ie(this,"performExitEffects",(o,l)=>{const c=this.state.value;if(c==="")return;const d=o?this.getStateNode(o):void 0;this.stopActivities(c);const h=jp(d==null?void 0:d.exit,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=Wr(h),p=this.delayedEvents.get(c);p&&f.push(...p),this.executeActions(f,l),this.delayedEvents.delete(c)}),Ie(this,"performEntryEffects",(o,l)=>{const c=this.getStateNode(o),d=Wr(c==null?void 0:c.activities);this.createEveryActivities(c==null?void 0:c.every,g=>{d.unshift(g)}),d.length>0&&this.executeActivities(l,d);const h=jp(c==null?void 0:c.entry,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=Wr(h),p=this.getDelayedEventActions(o);c!=null&&c.after&&p&&(this.delayedEvents.set(o,p==null?void 0:p.exits),f.push(...p.entries)),this.executeActions(f,l),(c==null?void 0:c.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(g=>{g(this.stateSnapshot)}),this.stop())}),Ie(this,"performTransitionEffects",(o,l)=>{const c=this.determineTransition(o,l);this.executeActions(c==null?void 0:c.actions,l)}),Ie(this,"performStateChangeEffects",(o,l,c)=>{this.setEvent(c);const d=l.changed||l.reenter;d&&this.performExitEffects(o,c),this.performTransitionEffects(l.transition,c),this.setState(l.target),d&&this.performEntryEffects(l.target,c)}),Ie(this,"determineTransition",(o,l)=>{const c=CD(o,this.guardMap);return c==null?void 0:c(this.contextSnapshot,l,this.guardMeta)}),Ie(this,"sendParent",o=>{var c;this.parent||He("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const l=bs(o);(c=this.parent)==null||c.send(l)}),Ie(this,"log",(...o)=>{}),Ie(this,"send",o=>{const l=bs(o);this.transition(this.state.value,l)}),Ie(this,"transition",(o,l)=>{var p,g;const c=q(o)?this.getStateNode(o):o==null?void 0:o.stateNode,d=bs(l);if(!c&&!this.config.on){const m=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${o}, \`event\`: ${d.type}`;nt(m);return}const h=((p=c==null?void 0:c.on)==null?void 0:p[d.type])??((g=this.config.on)==null?void 0:g[d.type]),f=this.getNextStateInfo(h,d);return this.performStateChangeEffects(this.state.value,f,d),f.stateNode}),Ie(this,"subscribe",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),()=>{this.stateListeners.delete(o)})),Ie(this,"onDone",o=>(this.doneListeners.add(o),this)),Ie(this,"onTransition",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),this)),this.config=KE(t),this.options=KE(n??{}),this.id=this.config.id??`machine-${Rt()}`,this.guardMap=((i=this.options)==null?void 0:i.guards)??{},this.actionMap=((s=this.options)==null?void 0:s.actions)??{},this.delayMap=((r=this.options)==null?void 0:r.delays)??{},this.activityMap=((a=this.options)==null?void 0:a.activities)??{},this.sync=((u=this.options)==null?void 0:u.sync)??!1,this.state=ED(this.config),this.initialContext=_e(this.state.context)}get stateSnapshot(){return Q(_e(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const t=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return t.stateSnapshot},get initialContext(){return t.initialContext},get initialState(){var n;return((n=t.initialState)==null?void 0:n.target)??""}}}get meta(){var t;return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:((t=this.initialState)==null?void 0:t.target)??"",getState:()=>this.stateSnapshot,getAction:n=>this.actionMap[n],getGuard:n=>this.guardMap[n]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){const t=this.getState();return{value:t.value,tags:t.tags}}},xD=(e,t)=>new SD(e,t);function TD(e,t,n){const i=e.matches("mounted","unmountSuspended");return{skip:!e.context.initial&&i,present:i,setNode(s){s&&t({type:"NODE.SET",node:s})},unmount(){t({type:"UNMOUNT"})}}}function md(e){return(e==null?void 0:e.animationName)||"none"}function wD(e){return xD({initial:e.present?"mounted":"unmounted",context:{node:null,styles:null,unmountAnimationName:null,prevAnimationName:null,present:!1,initial:!1,...e},exit:["clearInitial"],watch:{present:["setInitial","syncPresence"]},on:{"NODE.SET":{actions:["setNode","setStyles"]}},states:{mounted:{on:{UNMOUNT:{target:"unmounted",actions:["invokeOnExitComplete"]},"UNMOUNT.SUSPEND":"unmountSuspended"}},unmountSuspended:{activities:["trackAnimationEvents"],on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]},"ANIMATION.END":{target:"unmounted",actions:["invokeOnExitComplete"]},UNMOUNT:{target:"unmounted",actions:["invokeOnExitComplete"]}}},unmounted:{entry:["clearPrevAnimationName"],on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]}}}}},{actions:{setInitial(t){t.initial=!0},clearInitial(t){t.initial=!1},invokeOnExitComplete(t){var n;(n=t.onExitComplete)==null||n.call(t)},setNode(t,n){t.node=Ke(n.node)},setStyles(t,n){const i=n.node.ownerDocument.defaultView||window;t.styles=Ke(i.getComputedStyle(n.node))},syncPresence(t,n,{send:i}){if(t.present){i({type:"MOUNT",src:"presence.changed"});return}const s=md(t.styles);(t.immediate?queueMicrotask:requestAnimationFrame)(()=>{var a,u;t.unmountAnimationName=s,s==="none"||s===t.prevAnimationName||((a=t.styles)==null?void 0:a.display)==="none"||((u=t.styles)==null?void 0:u.animationDuration)==="0s"?i({type:"UNMOUNT",src:"presence.changed"}):i({type:"UNMOUNT.SUSPEND"})})},setPrevAnimationName(t){(t.immediate?queueMicrotask:requestAnimationFrame)(()=>{t.prevAnimationName=md(t.styles)})},clearPrevAnimationName(t){t.prevAnimationName=null}},activities:{trackAnimationEvents(t,n,{send:i}){const s=t.node;if(!s)return;const r=u=>{var l,c;(((c=(l=u.composedPath)==null?void 0:l.call(u))==null?void 0:c[0])??u.target)===s&&(t.prevAnimationName=md(t.styles))},a=u=>{var c,d;const o=md(t.styles);(((d=(c=u.composedPath)==null?void 0:c.call(u))==null?void 0:d[0])??u.target)===s&&o===t.unmountAnimationName&&i({type:"UNMOUNT",src:"animationend"})};return s.addEventListener("animationstart",r),s.addEventListener("animationcancel",a),s.addEventListener("animationend",a),()=>{s.removeEventListener("animationstart",r),s.removeEventListener("animationcancel",a),s.removeEventListener("animationend",a)}}}})}tn()(["onExitComplete","present","immediate"]);const Da=(e,t)=>{const n=st(e),i=st(!1),s=st(null),[r,a]=Ei(wD({...n.value,onExitComplete:()=>t==null?void 0:t("exitComplete")}),{context:n}),u=K(()=>TD(r.value,a));return qt(()=>u.value.present,()=>{u.value.present&&(i.value=!0)}),qt(s,()=>{if(s.value){const o=s.value.$el?s.value.$el:s.value;o&&u.value.setNode(o)}}),K(()=>{var o,l,c;return{present:u.value.present,unmounted:!u.value.present&&!i.value&&n.value.lazyMount||((o=n.value)==null?void 0:o.unmountOnExit)&&!((l=u.value)!=null&&l.present)&&i.value,presenceProps:{ref:s,hidden:!u.value.present,"data-state":(c=n.value)!=null&&c.present?"open":"closed"}}})},[La,Gl]=gt("PresenceContext"),ID=$({__name:"presence",props:On({immediate:{type:Boolean},lazyMount:{type:Boolean},present:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},{immediate:void 0,lazyMount:void 0,present:void 0,unmountOnExit:void 0}),emits:["exitComplete"],setup(e,{emit:t}){const s=Da(e,t);return La(s),U(),(r,a)=>v(s).unmounted?tt("",!0):(C(),R(v(X).div,W({key:0},v(s).presenceProps,{"as-child":r.asChild,"data-scope":"presence","data-part":"root"}),{default:S(()=>[V(r.$slots,"default")]),_:3},16,["as-child"]))}}),OD=$({__name:"dialog-backdrop",props:{asChild:{type:Boolean}},setup(e){const t=Ho(),n=jo();return U(),(i,s)=>(C(),R(v(ID),W(v(t).getBackdropProps(),{present:v(t).open,"lazy-mount":v(n).lazyMount,"unmount-on-exit":v(n).unmountOnExit}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["present","lazy-mount","unmount-on-exit"]))}}),kD=$({__name:"dialog-close-trigger",props:{asChild:{type:Boolean}},setup(e){const t=Ho();return U(),(n,i)=>(C(),R(v(X).button,W(v(t).getCloseTriggerProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),AD=$({__name:"dialog-content",props:{asChild:{type:Boolean}},setup(e){const t=Ho(),n=Gl(),i=K(()=>Bo(t.value.getContentProps(),n.value.presenceProps));return U(),(s,r)=>v(n).unmounted?tt("",!0):(C(),R(v(X).div,W({key:0},i.value,{"as-child":s.asChild}),{default:S(()=>[V(s.$slots,"default")]),_:3},16,["as-child"]))}}),PD=$({__name:"dialog-context",setup(e){const t=Ho();return(n,i)=>V(n.$slots,"default",hn(on(v(t))))}}),$D=$({__name:"dialog-description",props:{asChild:{type:Boolean}},setup(e){const t=Ho();return U(),(n,i)=>(C(),R(v(X).div,W(v(t).getDescriptionProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),MD=$({__name:"dialog-positioner",props:{asChild:{type:Boolean}},setup(e){const t=Ho(),n=jo(),i=Da(K(()=>({...n.value,present:t.value.open})));return La(i),U(),(s,r)=>v(i).unmounted?tt("",!0):(C(),R(v(X).div,W({key:0},v(t).getPositionerProps(),{"as-child":s.asChild}),{default:S(()=>[V(s.$slots,"default")]),_:3},16,["as-child"]))}}),ND=$({__name:"dialog-root-provider",props:{value:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean}},setup(e){const t=e,n=K(()=>t.value);return zx(n),Ri(K(()=>({lazyMount:t.lazyMount,unmountOnExit:t.unmountOnExit}))),U(),(i,s)=>V(i.$slots,"default")}}),RD=$({__name:"dialog-root",props:On({"aria-label":{},closeOnEscape:{type:Boolean},closeOnInteractOutside:{type:Boolean},defaultOpen:{type:Boolean},finalFocusEl:{type:Function},id:{},ids:{},initialFocusEl:{type:Function},modal:{type:Boolean},open:{type:Boolean},persistentElements:{},preventScroll:{type:Boolean},restoreFocus:{type:Boolean},role:{},trapFocus:{type:Boolean},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean}},{closeOnEscape:void 0,closeOnInteractOutside:void 0,defaultOpen:void 0,modal:void 0,open:void 0,preventScroll:void 0,restoreFocus:void 0,trapFocus:void 0}),emits:["escapeKeyDown","focusOutside","interactOutside","openChange","pointerDownOutside","update:open"],setup(e,{emit:t}){const n=e,s=hD(n,t);return zx(s),Ri(K(()=>({lazyMount:n.lazyMount,unmountOnExit:n.unmountOnExit}))),U(),(r,a)=>V(r.$slots,"default")}}),DD=$({__name:"dialog-title",props:{asChild:{type:Boolean}},setup(e){const t=Ho();return U(),(n,i)=>(C(),R(v(X).h2,W(v(t).getTitleProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),LD=$({__name:"dialog-trigger",props:{asChild:{type:Boolean}},setup(e){const t=Ho();return U(),(n,i)=>(C(),R(v(X).button,W(v(t).getTriggerProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),yn=Object.freeze(Object.defineProperty({__proto__:null,Backdrop:OD,CloseTrigger:kD,Content:AD,Context:PD,Description:$D,Positioner:MD,Root:RD,RootProvider:ND,Title:DD,Trigger:LD},Symbol.toStringTag,{value:"Module"}));function Jv(e){return dv()?(wS(e),!0):!1}function Up(){const e=new Set,t=s=>{e.delete(s)};return{on:s=>{e.add(s);const r=()=>t(s);return Jv(r),{off:r}},off:t,trigger:(...s)=>Promise.all(Array.from(e).map(r=>r(...s)))}}function hs(e){return typeof e=="function"?e():v(e)}const Xv=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const cm=()=>{};function FD(e,t){function n(...i){return new Promise((s,r)=>{Promise.resolve(e(()=>t.apply(this,i),{fn:t,thisArg:this,args:i})).then(s).catch(r)})}return n}function VD(e,t={}){let n,i,s=cm;const r=u=>{clearTimeout(u),s(),s=cm};return u=>{const o=hs(e),l=hs(t.maxWait);return n&&r(n),o<=0||l!==void 0&&l<=0?(i&&(r(i),i=null),Promise.resolve(u())):new Promise((c,d)=>{s=t.rejectOnCancel?d:c,l&&!i&&(i=setTimeout(()=>{n&&r(n),i=null,c(u())},l)),n=setTimeout(()=>{i&&r(i),i=null,c(u())},o)})}}function qE(e,t=!1,n="Timeout"){return new Promise((i,s)=>{setTimeout(t?()=>s(n):i,e)})}function BD(e,...t){return t.some(n=>n in e)}function Gp(...e){if(e.length!==1)return Qk(...e);const t=e[0];return typeof t=="function"?Il(Ev(()=>({get:t,set:cm}))):st(t)}function Xx(e,t=200,n={}){return FD(VD(t,n),e)}function um(e,t=!1){function n(d,{flush:h="sync",deep:f=!1,timeout:p,throwOnTimeout:g}={}){let m=null;const b=[new Promise(E=>{m=qt(e,_=>{d(_)!==t&&(m?m():Ta(()=>m==null?void 0:m()),E(_))},{flush:h,deep:f,immediate:!0})})];return p!=null&&b.push(qE(p,g).then(()=>hs(e)).finally(()=>m==null?void 0:m())),Promise.race(b)}function i(d,h){if(!dt(d))return n(_=>_===d,h);const{flush:f="sync",deep:p=!1,timeout:g,throwOnTimeout:m}=h??{};let y=null;const E=[new Promise(_=>{y=qt([e,d],([I,P])=>{t!==(I===P)&&(y?y():Ta(()=>y==null?void 0:y()),_(I))},{flush:f,deep:p,immediate:!0})})];return g!=null&&E.push(qE(g,m).then(()=>hs(e)).finally(()=>(y==null||y(),hs(e)))),Promise.race(E)}function s(d){return n(h=>!!h,d)}function r(d){return i(null,d)}function a(d){return i(void 0,d)}function u(d){return n(Number.isNaN,d)}function o(d,h){return n(f=>{const p=Array.from(f);return p.includes(d)||p.includes(hs(d))},h)}function l(d){return c(1,d)}function c(d=1,h){let f=-1;return n(()=>(f+=1,f>=d),h)}return Array.isArray(hs(e))?{toMatch:n,toContains:o,changed:l,changedTimes:c,get not(){return um(e,!t)}}:{toMatch:n,toBe:i,toBeTruthy:s,toBeNull:r,toBeNaN:u,toBeUndefined:a,changed:l,changedTimes:c,get not(){return um(e,!t)}}}function HD(e){return um(e)}function jD(e,t,n={}){const{immediate:i=!0}=n,s=st(!1);let r=null;function a(){r&&(clearTimeout(r),r=null)}function u(){s.value=!1,a()}function o(...l){a(),s.value=!0,r=setTimeout(()=>{s.value=!1,r=null,e(...l)},hs(t))}return i&&(s.value=!0,Xv&&o()),Jv(u),{isPending:Il(s),start:o,stop:u}}var Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Zx={exports:{}};/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */(function(e,t){(function(n,i){e.exports=i()})(Nc,function(){var n={};n.version="0.2.0";var i=n.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};n.configure=function(p){var g,m;for(g in p)m=p[g],m!==void 0&&p.hasOwnProperty(g)&&(i[g]=m);return this},n.status=null,n.set=function(p){var g=n.isStarted();p=s(p,i.minimum,1),n.status=p===1?null:p;var m=n.render(!g),y=m.querySelector(i.barSelector),b=i.speed,E=i.easing;return m.offsetWidth,u(function(_){i.positionUsing===""&&(i.positionUsing=n.getPositioningCSS()),o(y,a(p,b,E)),p===1?(o(m,{transition:"none",opacity:1}),m.offsetWidth,setTimeout(function(){o(m,{transition:"all "+b+"ms linear",opacity:0}),setTimeout(function(){n.remove(),_()},b)},b)):setTimeout(_,b)}),this},n.isStarted=function(){return typeof n.status=="number"},n.start=function(){n.status||n.set(0);var p=function(){setTimeout(function(){n.status&&(n.trickle(),p())},i.trickleSpeed)};return i.trickle&&p(),this},n.done=function(p){return!p&&!n.status?this:n.inc(.3+.5*Math.random()).set(1)},n.inc=function(p){var g=n.status;return g?(typeof p!="number"&&(p=(1-g)*s(Math.random()*g,.1,.95)),g=s(g+p,0,.994),n.set(g)):n.start()},n.trickle=function(){return n.inc(Math.random()*i.trickleRate)},function(){var p=0,g=0;n.promise=function(m){return!m||m.state()==="resolved"?this:(g===0&&n.start(),p++,g++,m.always(function(){g--,g===0?(p=0,n.done()):n.set((p-g)/p)}),this)}}(),n.render=function(p){if(n.isRendered())return document.getElementById("nprogress");c(document.documentElement,"nprogress-busy");var g=document.createElement("div");g.id="nprogress",g.innerHTML=i.template;var m=g.querySelector(i.barSelector),y=p?"-100":r(n.status||0),b=document.querySelector(i.parent),E;return o(m,{transition:"all 0 linear",transform:"translate3d("+y+"%,0,0)"}),i.showSpinner||(E=g.querySelector(i.spinnerSelector),E&&f(E)),b!=document.body&&c(b,"nprogress-custom-parent"),b.appendChild(g),g},n.remove=function(){d(document.documentElement,"nprogress-busy"),d(document.querySelector(i.parent),"nprogress-custom-parent");var p=document.getElementById("nprogress");p&&f(p)},n.isRendered=function(){return!!document.getElementById("nprogress")},n.getPositioningCSS=function(){var p=document.body.style,g="WebkitTransform"in p?"Webkit":"MozTransform"in p?"Moz":"msTransform"in p?"ms":"OTransform"in p?"O":"";return g+"Perspective"in p?"translate3d":g+"Transform"in p?"translate":"margin"};function s(p,g,m){return p<g?g:p>m?m:p}function r(p){return(-1+p)*100}function a(p,g,m){var y;return i.positionUsing==="translate3d"?y={transform:"translate3d("+r(p)+"%,0,0)"}:i.positionUsing==="translate"?y={transform:"translate("+r(p)+"%,0)"}:y={"margin-left":r(p)+"%"},y.transition="all "+g+"ms "+m,y}var u=function(){var p=[];function g(){var m=p.shift();m&&m(g)}return function(m){p.push(m),p.length==1&&g()}}(),o=function(){var p=["Webkit","O","Moz","ms"],g={};function m(_){return _.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(I,P){return P.toUpperCase()})}function y(_){var I=document.body.style;if(_ in I)return _;for(var P=p.length,M=_.charAt(0).toUpperCase()+_.slice(1),z;P--;)if(z=p[P]+M,z in I)return z;return _}function b(_){return _=m(_),g[_]||(g[_]=y(_))}function E(_,I,P){I=b(I),_.style[I]=P}return function(_,I){var P=arguments,M,z;if(P.length==2)for(M in I)z=I[M],z!==void 0&&I.hasOwnProperty(M)&&E(_,M,z);else E(_,P[1],P[2])}}();function l(p,g){var m=typeof p=="string"?p:h(p);return m.indexOf(" "+g+" ")>=0}function c(p,g){var m=h(p),y=m+g;l(m,g)||(p.className=y.substring(1))}function d(p,g){var m=h(p),y;l(p,g)&&(y=m.replace(" "+g+" "," "),p.className=y.substring(1,y.length-1))}function h(p){return(" "+(p.className||"")+" ").replace(/\s+/gi," ")}function f(p){p&&p.parentNode&&p.parentNode.removeChild(p)}return n})})(Zx);var UD=Zx.exports;const Js=Hu(UD);function Qx(e=null,t){const n=st(e),i=K({set:r=>r?Js.start():Js.done(),get:()=>typeof n.value=="number"&&n.value<1}),s=Js.set;return Js.set=r=>(n.value=r,s.call(Js,r)),Ov(()=>{typeof n.value=="number"&&Xv&&s.call(Js,n.value)}),Jv(Js.remove),{isLoading:i,progress:n,start:Js.start,done:Js.done,remove:()=>{n.value=null,Js.remove()}}}var GD=typeof Nc=="object"&&Nc&&Nc.Object===Object&&Nc,eT=GD,WD=eT,zD=typeof self=="object"&&self&&self.Object===Object&&self,KD=WD||zD||Function("return this")(),dr=KD,qD=dr,YD=qD.Symbol,ju=YD,YE=ju,tT=Object.prototype,JD=tT.hasOwnProperty,XD=tT.toString,cc=YE?YE.toStringTag:void 0;function ZD(e){var t=JD.call(e,cc),n=e[cc];try{e[cc]=void 0;var i=!0}catch{}var s=XD.call(e);return i&&(t?e[cc]=n:delete e[cc]),s}var QD=ZD,eL=Object.prototype,tL=eL.toString;function nL(e){return tL.call(e)}var iL=nL,JE=ju,sL=QD,rL=iL,oL="[object Null]",aL="[object Undefined]",XE=JE?JE.toStringTag:void 0;function lL(e){return e==null?e===void 0?aL:oL:XE&&XE in Object(e)?sL(e):rL(e)}var Uu=lL;function cL(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Fa=cL,uL=Uu,dL=Fa,hL="[object AsyncFunction]",fL="[object Function]",pL="[object GeneratorFunction]",gL="[object Proxy]";function mL(e){if(!dL(e))return!1;var t=uL(e);return t==fL||t==pL||t==hL||t==gL}var nT=mL,vL=dr,yL=vL["__core-js_shared__"],bL=yL,Wp=bL,ZE=function(){var e=/[^.]+$/.exec(Wp&&Wp.keys&&Wp.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function EL(e){return!!ZE&&ZE in e}var _L=EL,CL=Function.prototype,SL=CL.toString;function xL(e){if(e!=null){try{return SL.call(e)}catch{}try{return e+""}catch{}}return""}var iT=xL,TL=nT,wL=_L,IL=Fa,OL=iT,kL=/[\\^$.*+?()[\]{}|]/g,AL=/^\[object .+?Constructor\]$/,PL=Function.prototype,$L=Object.prototype,ML=PL.toString,NL=$L.hasOwnProperty,RL=RegExp("^"+ML.call(NL).replace(kL,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function DL(e){if(!IL(e)||wL(e))return!1;var t=TL(e)?RL:AL;return t.test(OL(e))}var LL=DL;function FL(e,t){return e==null?void 0:e[t]}var VL=FL,BL=LL,HL=VL;function jL(e,t){var n=HL(e,t);return BL(n)?n:void 0}var Va=jL,UL=Va,GL=function(){try{var e=UL(Object,"defineProperty");return e({},"",{}),e}catch{}}(),sT=GL,QE=sT;function WL(e,t,n){t=="__proto__"&&QE?QE(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var zL=WL;function KL(e,t){return e===t||e!==e&&t!==t}var Af=KL,qL=zL,YL=Af,JL=Object.prototype,XL=JL.hasOwnProperty;function ZL(e,t,n){var i=e[t];(!(XL.call(e,t)&&YL(i,n))||n===void 0&&!(t in e))&&qL(e,t,n)}var QL=ZL,eF=Array.isArray,hr=eF;function tF(e){return e!=null&&typeof e=="object"}var Gu=tF,nF=Uu,iF=Gu,sF="[object Symbol]";function rF(e){return typeof e=="symbol"||iF(e)&&nF(e)==sF}var Wu=rF,oF=hr,aF=Wu,lF=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,cF=/^\w*$/;function uF(e,t){if(oF(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||aF(e)?!0:cF.test(e)||!lF.test(e)||t!=null&&e in Object(t)}var Zv=uF,dF=Va,hF=dF(Object,"create"),Pf=hF,e0=Pf;function fF(){this.__data__=e0?e0(null):{},this.size=0}var pF=fF;function gF(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var mF=gF,vF=Pf,yF="__lodash_hash_undefined__",bF=Object.prototype,EF=bF.hasOwnProperty;function _F(e){var t=this.__data__;if(vF){var n=t[e];return n===yF?void 0:n}return EF.call(t,e)?t[e]:void 0}var CF=_F,SF=Pf,xF=Object.prototype,TF=xF.hasOwnProperty;function wF(e){var t=this.__data__;return SF?t[e]!==void 0:TF.call(t,e)}var IF=wF,OF=Pf,kF="__lodash_hash_undefined__";function AF(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=OF&&t===void 0?kF:t,this}var PF=AF,$F=pF,MF=mF,NF=CF,RF=IF,DF=PF;function Wl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Wl.prototype.clear=$F;Wl.prototype.delete=MF;Wl.prototype.get=NF;Wl.prototype.has=RF;Wl.prototype.set=DF;var LF=Wl;function FF(){this.__data__=[],this.size=0}var VF=FF,BF=Af;function HF(e,t){for(var n=e.length;n--;)if(BF(e[n][0],t))return n;return-1}var $f=HF,jF=$f,UF=Array.prototype,GF=UF.splice;function WF(e){var t=this.__data__,n=jF(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():GF.call(t,n,1),--this.size,!0}var zF=WF,KF=$f;function qF(e){var t=this.__data__,n=KF(t,e);return n<0?void 0:t[n][1]}var YF=qF,JF=$f;function XF(e){return JF(this.__data__,e)>-1}var ZF=XF,QF=$f;function eV(e,t){var n=this.__data__,i=QF(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}var tV=eV,nV=VF,iV=zF,sV=YF,rV=ZF,oV=tV;function zl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}zl.prototype.clear=nV;zl.prototype.delete=iV;zl.prototype.get=sV;zl.prototype.has=rV;zl.prototype.set=oV;var Mf=zl,aV=Va,lV=dr,cV=aV(lV,"Map"),Qv=cV,t0=LF,uV=Mf,dV=Qv;function hV(){this.size=0,this.__data__={hash:new t0,map:new(dV||uV),string:new t0}}var fV=hV;function pV(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var gV=pV,mV=gV;function vV(e,t){var n=e.__data__;return mV(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Nf=vV,yV=Nf;function bV(e){var t=yV(this,e).delete(e);return this.size-=t?1:0,t}var EV=bV,_V=Nf;function CV(e){return _V(this,e).get(e)}var SV=CV,xV=Nf;function TV(e){return xV(this,e).has(e)}var wV=TV,IV=Nf;function OV(e,t){var n=IV(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}var kV=OV,AV=fV,PV=EV,$V=SV,MV=wV,NV=kV;function Kl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Kl.prototype.clear=AV;Kl.prototype.delete=PV;Kl.prototype.get=$V;Kl.prototype.has=MV;Kl.prototype.set=NV;var ey=Kl,rT=ey,RV="Expected a function";function ty(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(RV);var n=function(){var i=arguments,s=t?t.apply(this,i):i[0],r=n.cache;if(r.has(s))return r.get(s);var a=e.apply(this,i);return n.cache=r.set(s,a)||r,a};return n.cache=new(ty.Cache||rT),n}ty.Cache=rT;var DV=ty,LV=DV,FV=500;function VV(e){var t=LV(e,function(i){return n.size===FV&&n.clear(),i}),n=t.cache;return t}var BV=VV,HV=BV,jV=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,UV=/\\(\\)?/g,GV=HV(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(jV,function(n,i,s,r){t.push(s?r.replace(UV,"$1"):i||n)}),t}),WV=GV;function zV(e,t){for(var n=-1,i=e==null?0:e.length,s=Array(i);++n<i;)s[n]=t(e[n],n,e);return s}var oT=zV,n0=ju,KV=oT,qV=hr,YV=Wu,JV=1/0,i0=n0?n0.prototype:void 0,s0=i0?i0.toString:void 0;function aT(e){if(typeof e=="string")return e;if(qV(e))return KV(e,aT)+"";if(YV(e))return s0?s0.call(e):"";var t=e+"";return t=="0"&&1/e==-JV?"-0":t}var XV=aT,ZV=XV;function QV(e){return e==null?"":ZV(e)}var eB=QV,tB=hr,nB=Zv,iB=WV,sB=eB;function rB(e,t){return tB(e)?e:nB(e,t)?[e]:iB(sB(e))}var ny=rB,oB=9007199254740991,aB=/^(?:0|[1-9]\d*)$/;function lB(e,t){var n=typeof e;return t=t??oB,!!t&&(n=="number"||n!="symbol"&&aB.test(e))&&e>-1&&e%1==0&&e<t}var Rf=lB,cB=Wu,uB=1/0;function dB(e){if(typeof e=="string"||cB(e))return e;var t=e+"";return t=="0"&&1/e==-uB?"-0":t}var zu=dB,hB=QL,fB=ny,pB=Rf,r0=Fa,gB=zu;function mB(e,t,n,i){if(!r0(e))return e;t=fB(t,e);for(var s=-1,r=t.length,a=r-1,u=e;u!=null&&++s<r;){var o=gB(t[s]),l=n;if(o==="__proto__"||o==="constructor"||o==="prototype")return e;if(s!=a){var c=u[o];l=i?i(c,o,u):void 0,l===void 0&&(l=r0(c)?c:pB(t[s+1])?[]:{})}hB(u,o,l),u=u[o]}return e}var vB=mB,yB=vB;function bB(e,t,n){return e==null?e:yB(e,t,n)}var EB=bB;const _B=Hu(EB);var CB=ny,SB=zu;function xB(e,t){t=CB(t,e);for(var n=0,i=t.length;e!=null&&n<i;)e=e[SB(t[n++])];return n&&n==i?e:void 0}var iy=xB,TB=iy;function wB(e,t,n){var i=e==null?void 0:TB(e,t);return i===void 0?n:i}var lT=wB;const IB=Hu(lT);var OB=dr,kB=function(){return OB.Date.now()},AB=kB,PB=/\s/;function $B(e){for(var t=e.length;t--&&PB.test(e.charAt(t)););return t}var MB=$B,NB=MB,RB=/^\s+/;function DB(e){return e&&e.slice(0,NB(e)+1).replace(RB,"")}var LB=DB,FB=LB,o0=Fa,VB=Wu,a0=NaN,BB=/^[-+]0x[0-9a-f]+$/i,HB=/^0b[01]+$/i,jB=/^0o[0-7]+$/i,UB=parseInt;function GB(e){if(typeof e=="number")return e;if(VB(e))return a0;if(o0(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=o0(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=FB(e);var n=HB.test(e);return n||jB.test(e)?UB(e.slice(2),n?2:8):BB.test(e)?a0:+e}var WB=GB,zB=Fa,zp=AB,l0=WB,KB="Expected a function",qB=Math.max,YB=Math.min;function JB(e,t,n){var i,s,r,a,u,o,l=0,c=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(KB);t=l0(t)||0,zB(n)&&(c=!!n.leading,d="maxWait"in n,r=d?qB(l0(n.maxWait)||0,t):r,h="trailing"in n?!!n.trailing:h);function f(P){var M=i,z=s;return i=s=void 0,l=P,a=e.apply(z,M),a}function p(P){return l=P,u=setTimeout(y,t),c?f(P):a}function g(P){var M=P-o,z=P-l,D=t-M;return d?YB(D,r-z):D}function m(P){var M=P-o,z=P-l;return o===void 0||M>=t||M<0||d&&z>=r}function y(){var P=zp();if(m(P))return b(P);u=setTimeout(y,g(P))}function b(P){return u=void 0,h&&i?f(P):(i=s=void 0,a)}function E(){u!==void 0&&clearTimeout(u),l=0,i=o=s=u=void 0}function _(){return u===void 0?a:b(zp())}function I(){var P=zp(),M=m(P);if(i=arguments,s=this,o=P,M){if(u===void 0)return p(o);if(d)return clearTimeout(u),u=setTimeout(y,t),f(o)}return u===void 0&&(u=setTimeout(y,t)),a}return I.cancel=E,I.flush=_,I}var XB=JB;const ZB=Hu(XB);var Hn=[];for(var Kp=0;Kp<256;++Kp)Hn.push((Kp+256).toString(16).slice(1));function QB(e,t=0){return(Hn[e[t+0]]+Hn[e[t+1]]+Hn[e[t+2]]+Hn[e[t+3]]+"-"+Hn[e[t+4]]+Hn[e[t+5]]+"-"+Hn[e[t+6]]+Hn[e[t+7]]+"-"+Hn[e[t+8]]+Hn[e[t+9]]+"-"+Hn[e[t+10]]+Hn[e[t+11]]+Hn[e[t+12]]+Hn[e[t+13]]+Hn[e[t+14]]+Hn[e[t+15]]).toLowerCase()}var vd,e5=new Uint8Array(16);function t5(){if(!vd&&(vd=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!vd))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return vd(e5)}var n5=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const c0={randomUUID:n5};function u0(e,t,n){if(c0.randomUUID&&!t&&!e)return c0.randomUUID();e=e||{};var i=e.random||(e.rng||t5)();return i[6]=i[6]&15|64,i[8]=i[8]&63|128,QB(i)}var cT={};Object.defineProperty(cT,"__esModule",{value:!0});var i5=function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=t.length,s=n^i,r=0,a=void 0;i>=4;)a=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,a=(a&65535)*1540483477+(((a>>>16)*1540483477&65535)<<16),a^=a>>>24,a=(a&65535)*1540483477+(((a>>>16)*1540483477&65535)<<16),s=(s&65535)*1540483477+(((s>>>16)*1540483477&65535)<<16)^a,i-=4,++r;switch(i){case 3:s^=(t.charCodeAt(r+2)&255)<<16;case 2:s^=(t.charCodeAt(r+1)&255)<<8;case 1:s^=t.charCodeAt(r)&255,s=(s&65535)*1540483477+(((s>>>16)*1540483477&65535)<<16)}return s^=s>>>13,s=(s&65535)*1540483477+(((s>>>16)*1540483477&65535)<<16),s^=s>>>15,s>>>0},s5=i5,r5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o5(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,n=new Set,i=JSON.stringify(e,function(s,r){return(typeof r>"u"?"undefined":r5(r))==="object"&&r!==null?n.has(r)?void 0:n.add(r)&&r:r},t);return n=null,i}var d0=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function a5(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}else return Array.from(e)}var uT={toRecord:function(t){return{chunks:[d0({},t,{children:void 0})],children:t.children}},fromRecord:function(t){var n=t.chunks,i=t.children;return d0({},n[0],{children:i})}},l5=function e(t,n){for(var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1,a=i.findIndex(function(y){var b=y.match;return b(t)}),u=i[a]||uT,o=u.toRecord(t),l=o.chunks,c=o.children,d=c,h=[],f=0;f<l.length;f++){var p=o5(l[f],0),g=s5(p);h.push(g),n[g]=p}if(r!==-1&&Array.isArray(s&&s.children)){var m=[].concat(a5(s.children));return m[r]=e(d[r],n,i),{hashes:h,ruleIndex:a,children:m}}else return{hashes:h,ruleIndex:a,children:c&&c.map(function(y){return e(y,n,i)})}},c5=function e(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],s=t.hashes,r=t.ruleIndex,a=t.children,u=s.map(function(l){return JSON.parse(n[l])}),o=i[r]||uT;return o.fromRecord({chunks:u,children:a&&a.map(function(l){return e(l,n,i)})})},u5=function(){function e(t,n){for(var i=0;i<n.length;i++){var s=n[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function d5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var h0=function(){},h5=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{initialState:void 0,rules:[],delay:50,maxLength:100,onChange:h0,useChunks:!0};d5(this,e),this.rules=t.rules||[],this.delay=t.delay||50,this.maxLength=t.maxLength||100,this.useChunks=t.useChunks===void 0?!0:t.useChunks,this.onChange=h0,this.$index=-1,this.$records=[],this.$chunks={},this.$pending={state:null,pickIndex:null,onResolves:[],timer:null},this.$debounceTime=null,t.initialState!==void 0&&this.pushSync(t.initialState),t.onChange&&(this.onChange=t.onChange)}return u5(e,[{key:"get",value:function(){var n=this.$records[this.$index],i=void 0;return n?this.useChunks?i=c5(n,this.$chunks,this.rules):i=n:i=null,this.onChange(i),i}},{key:"pushSync",value:function(n){var i=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,r=this.$records[this.$index]||null,a=this.useChunks?l5(n,this.$chunks,this.rules,r,s):n;this.$index++,this.$records[this.$index]=a;for(var u=this.$index+1;u<this.$records.length;u++)this.$records[u]=null;return this.$index>=this.maxLength&&(this.$records[this.$index-this.maxLength]=null),this.$pending.timer&&(clearTimeout(this.$pending.timer),this.$pending.state=null,this.$pending.pickIndex=null,this.$pending.timer=null,this.$debounceTime=null,this.$pending.onResolves.forEach(function(o){return o(i)}),this.$pending.onResolves=[]),this.onChange(n),this}},{key:"push",value:function(n){var i=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,r=+new Date,a=function(){i.$pending.state=n,i.$pending.pickIndex=s,i.$debounceTime=r;var o=new Promise(function(l,c){i.$pending.onResolves.push(l),i.$pending.timer=setTimeout(function(){i.pushSync(i.$pending.state,i.$pending.pickIndex)},i.delay)});return o};return this.$pending.timer===null?a():r-this.$debounceTime<this.delay?(clearTimeout(this.$pending.timer),this.$pending.timer=null,a()):Promise.reject(new Error("Invalid push ops"))}},{key:"undo",value:function(){return this.hasUndo&&this.$index--,this}},{key:"redo",value:function(){return this.hasRedo&&this.$index++,this}},{key:"reset",value:function(){var n=this;return this.$index=-1,this.$records.forEach(function(i){}),Object.keys(this.$chunks).forEach(function(i){n.$chunks[i]=null}),this.$records=[],this.$chunks={},clearTimeout(this.$pending.timer),this.$pending={state:null,pickIndex:null,onResolves:[],timer:null},this.$debounceTime=null,this}},{key:"hasRedo",get:function(){if(this.$index===this.$records.length-1)return!1;for(var n=!1,i=this.$index+1;i<this.$records.length;i++)this.$records[i]!==null&&(n=!0);return n}},{key:"hasUndo",get:function(){var n=Math.max(this.$records.length-this.maxLength,0);return this.$index>n}},{key:"length",get:function(){return Math.min(this.$records.length,this.maxLength)}}]),e}(),f5=cT.History=h5;const p5=Xv?window:void 0,g5={json:"application/json",text:"text/plain"};function bh(e){return e&&BD(e,"immediate","refetch","initialData","timeout","beforeFetch","afterFetch","onFetchError","fetch","updateDataOnError")}const m5=/^(?:[a-z][a-z\d+\-.]*:)?\/\//i;function v5(e){return m5.test(e)}function Qc(e){return typeof Headers<"u"&&e instanceof Headers?Object.fromEntries(e.entries()):e}function Za(e,...t){return e==="overwrite"?async n=>{const i=t[t.length-1];return i?{...n,...await i(n)}:n}:async n=>{for(const i of t)i&&(n={...n,...await i(n)});return n}}function y5(e={}){const t=e.combination||"chain",n=e.options||{},i=e.fetchOptions||{};function s(r,...a){const u=K(()=>{const c=hs(e.baseUrl),d=hs(r);return c&&!v5(d)?E5(c,d):d});let o=n,l=i;return a.length>0&&(bh(a[0])?o={...o,...a[0],beforeFetch:Za(t,n.beforeFetch,a[0].beforeFetch),afterFetch:Za(t,n.afterFetch,a[0].afterFetch),onFetchError:Za(t,n.onFetchError,a[0].onFetchError)}:l={...l,...a[0],headers:{...Qc(l.headers)||{},...Qc(a[0].headers)||{}}}),a.length>1&&bh(a[1])&&(o={...o,...a[1],beforeFetch:Za(t,n.beforeFetch,a[1].beforeFetch),afterFetch:Za(t,n.afterFetch,a[1].afterFetch),onFetchError:Za(t,n.onFetchError,a[1].onFetchError)}),b5(u,l,o)}return s}function b5(e,...t){var n;const i=typeof AbortController=="function";let s={},r={immediate:!0,refetch:!1,timeout:0,updateDataOnError:!1};const a={method:"GET",type:"text",payload:void 0};t.length>0&&(bh(t[0])?r={...r,...t[0]}:s=t[0]),t.length>1&&bh(t[1])&&(r={...r,...t[1]});const{fetch:u=(n=p5)==null?void 0:n.fetch,initialData:o,timeout:l}=r,c=Up(),d=Up(),h=Up(),f=st(!1),p=st(!1),g=st(!1),m=st(null),y=yo(null),b=yo(null),E=yo(o||null),_=K(()=>i&&p.value);let I,P;const M=()=>{i&&(I==null||I.abort(),I=new AbortController,I.signal.onabort=()=>g.value=!0,s={...s,signal:I.signal})},z=ce=>{p.value=ce,f.value=!ce};l&&(P=jD(M,l,{immediate:!1}));let D=0;const j=async(ce=!1)=>{var re,he;M(),z(!0),b.value=null,m.value=null,g.value=!1,D+=1;const je=D,lt={method:a.method,headers:{}};if(a.payload){const mt=Qc(lt.headers),Gt=hs(a.payload);!a.payloadType&&Gt&&Object.getPrototypeOf(Gt)===Object.prototype&&!(Gt instanceof FormData)&&(a.payloadType="json"),a.payloadType&&(mt["Content-Type"]=(re=g5[a.payloadType])!=null?re:a.payloadType),lt.body=a.payloadType==="json"?JSON.stringify(Gt):Gt}let ht=!1;const Et={url:hs(e),options:{...lt,...s},cancel:()=>{ht=!0}};if(r.beforeFetch&&Object.assign(Et,await r.beforeFetch(Et)),ht||!u)return z(!1),Promise.resolve(null);let Ut=null;return P&&P.start(),u(Et.url,{...lt,...Et.options,headers:{...Qc(lt.headers),...Qc((he=Et.options)==null?void 0:he.headers)}}).then(async mt=>{if(y.value=mt,m.value=mt.status,Ut=await mt.clone()[a.type](),!mt.ok)throw E.value=o||null,new Error(mt.statusText);return r.afterFetch&&({data:Ut}=await r.afterFetch({data:Ut,response:mt})),E.value=Ut,c.trigger(mt),mt}).catch(async mt=>{let Gt=mt.message||mt.name;if(r.onFetchError&&({error:Gt,data:Ut}=await r.onFetchError({data:Ut,error:mt,response:y.value})),b.value=Gt,r.updateDataOnError&&(E.value=Ut),d.trigger(mt),ce)throw mt;return null}).finally(()=>{je===D&&z(!1),P&&P.stop(),h.trigger(null)})},se=Gp(r.refetch);qt([se,Gp(e)],([ce])=>ce&&j(),{deep:!0});const ae={isFinished:Il(f),isFetching:Il(p),statusCode:m,response:y,error:b,data:E,canAbort:_,aborted:g,abort:M,execute:j,onFetchResponse:c.on,onFetchError:d.on,onFetchFinally:h.on,get:Y("GET"),put:Y("PUT"),post:Y("POST"),delete:Y("DELETE"),patch:Y("PATCH"),head:Y("HEAD"),options:Y("OPTIONS"),json:de("json"),text:de("text"),blob:de("blob"),arrayBuffer:de("arrayBuffer"),formData:de("formData")};function Y(ce){return(re,he)=>{if(!p.value)return a.method=ce,a.payload=re,a.payloadType=he,dt(a.payload)&&qt([se,Gp(a.payload)],([je])=>je&&j(),{deep:!0}),{...ae,then(je,lt){return Z().then(je,lt)}}}}function Z(){return new Promise((ce,re)=>{HD(f).toBe(!0).then(()=>ce(ae)).catch(he=>re(he))})}function de(ce){return()=>{if(!p.value)return a.type=ce,{...ae,then(re,he){return Z().then(re,he)}}}}return r.immediate&&Promise.resolve().then(()=>j()),{...ae,then(ce,re){return Z().then(ce,re)}}}function E5(e,t){return!e.endsWith("/")&&!t.startsWith("/")?`${e}/${t}`:`${e}${t}`}const dT=window.ThemeEditor.routes,ql=y5({options:{beforeFetch({options:e}){const t=new Headers(e.headers||[]);return t.append("X-CSRF-Token",document.querySelector('meta[name="csrf-token"]').getAttribute("content")),e.headers=t,{options:e}}},fetchOptions:{mode:"cors"}});function _5(e){return ql(dT.uploadImage).post(e).json()}function C5(){return ql(dT.listImages,{immediate:!1}).get().json()}function S5(){return ql("/api/categories").get().json()}function x5(){const e=st("/api/products"),t=ql(e,{refetch:!0,immediate:!1}).get().json();function n(i){const s=new URL("/api/products",window.location.origin);for(const[r,a]of Object.entries(i))s.searchParams.append(r,a);s.searchParams.append("limit","10"),e.value=s.href}return{...t,execute:n}}function T5(){const e=st(window.ThemeEditor.routes.getCmsPages),t=ql(e,{refetch:!0,immediate:!1}).get().json();function n(i){const s=new URL(window.ThemeEditor.routes.getCmsPages,window.location.origin);for(const[r,a]of Object.entries(i))s.searchParams.append(r,a);e.value=s.href}return{...t,execute:n}}function w5(e){return ql(window.ThemeEditor.routes.publishTheme).post(e)}const _i=BP("main",()=>{let e={},t=null;const n=Qx(),i=new f5,s=st([]),r=st([]),a=nr([]),u=nr({url:"",theme:"",channel:"",locale:"",template:"",templateDataPath:"",hasStaticContent:!1,sectionsOrder:[],beforeContentSectionsOrder:[],afterContentSectionsOrder:[],sectionsData:{},settings:{}}),o=st(null),l=nr([]),c=nr({categories:{},products:{},cmsPages:{}}),d=st(!1),h=st(!1),f=K(()=>Object.values(c.categories).map(A=>({...A,...A.translations.find(B=>B.locale===u.locale)}))),p=K(()=>Object.values(c.products)),g=K(()=>Object.values(c.cmsPages).map(A=>{const B=A.translations.find(ee=>ee.locale===u.locale);return B&&(A.url_key=B.url_key,A.page_title=B.page_title),A})),m=K(()=>u.sectionsOrder),y=K(()=>m.value.map(A=>u.sectionsData[A])),b=K(()=>u.beforeContentSectionsOrder.map(A=>u.sectionsData[A])),E=K(()=>u.afterContentSectionsOrder.map(A=>u.sectionsData[A])),_=ZB(({skipHistory:A}={skipHistory:!1})=>{var ee;const B=new Headers;B.append("content-type","application/json"),B.append("X-CSRF-Token",(ee=document.querySelector('meta[name="csrf-token"]'))==null?void 0:ee.getAttribute("content")),n.start(),A||(i.pushSync(JSON.parse(JSON.stringify(u))),d.value=i.hasUndo,h.value=i.hasRedo),fetch(window.ThemeEditor.routes.persistTheme,{headers:B,method:"post",body:JSON.stringify(u)}).then(N=>N.text()).then(N=>{n.done(),j(N)}).catch(N=>{n.done()})},500);function I(){n.start();const{onFetchResponse:A}=w5({theme:u.theme});A(()=>{n.done(),i.reset(),i.pushSync(JSON.parse(JSON.stringify(u))),d.value=i.hasUndo,h.value=i.hasRedo})}function P(){Object.assign(u,i.undo().get()),d.value=i.hasUndo,h.value=i.hasRedo,_({skipHistory:!0})}function M(){Object.assign(u,i.redo().get()),d.value=i.hasUndo,h.value=i.hasRedo,_({skipHistory:!0})}function z(){i.reset(),d.value=i.hasUndo,h.value=i.hasRedo}function D(A,B){var ee;(ee=t==null?void 0:t.contentWindow)==null||ee.postMessage({type:A,data:JSON.parse(JSON.stringify(B))},window.origin)}function j(A){D("refresh",A)}function se(A){t=A}function ae(A){for(const[B,ee]of Object.entries(A.sectionsData))ee.blocks_order.length===0&&(ee.blocks={});Object.assign(u,A),i.pushSync(JSON.parse(JSON.stringify(u)))}function Y(A){s.value=A}function Z(A){e=A}function de(A){r.value=A}function ce(A){return IB(u,A)}function re(A,B){_B(u,A,B),_()}function he(A){o.value=A,D("highlightSection",A)}function je(A){o.value=null,D("clearActiveSection",A)}function lt(A){re("sectionsOrder",A),D("sectionsOrder",A),_()}function ht(A){const B=u.sectionsOrder.indexOf(A);B!==0&&(u.sectionsOrder.splice(B,1),u.sectionsOrder.splice(B-1,0,A),D("sectionsOrder",u.sectionsOrder),_())}function Et(A){const B=u.sectionsOrder.indexOf(A);B!==u.sectionsOrder.length-1&&(u.sectionsOrder.splice(B,1),u.sectionsOrder.splice(B+1,0,A),D("sectionsOrder",u.sectionsOrder),_())}function Ut(A){u.sectionsData[A].disabled=!u.sectionsData[A].disabled,_()}function mt(A){delete u.sectionsData[A],u.sectionsOrder=u.sectionsOrder.filter(B=>B!==A),D("sectionsOrder",u.sectionsOrder),_()}function Gt(A){return u.sectionsData[A]}function an(A){return e[A]}function ne(A,B){const ee=Gt(A);return ee?ee.blocks[B]:null}function ge(A,B){const ee=Gt(A);return ee?an(ee.type).blocks.find(J=>J.type===B):null}function pe(A){return u.sectionsOrder.includes(A)}function Ee(A){const B={},ee=u0();A.settings.forEach(N=>{B[N.id]=N.default}),u.sectionsData[ee]={id:ee,name:A.name,settings:B,type:A.slug,blocks:{},blocks_order:[],disabled:!1},u.sectionsOrder.push(ee),_()}function xt(A,B){const ee=u.sectionsData[A],N={},J=u0();B.settings.forEach(me=>{N[me.id]=me.default}),ee.blocks[J]={id:J,type:B.type,name:B.name,disabled:!1,settings:N},ee.blocks_order.push(J),_()}function Dt(A,B){const ee=u.sectionsData[A].blocks[B];ee.disabled=!ee.disabled,_()}function T(A,B){const ee=u.sectionsData[A];delete ee.blocks[B],ee.blocks_order=ee.blocks_order.filter(N=>N!==B),_()}function k(A){return f.value.filter(B=>new RegExp(A,"gi").test(B.name))}function G(A){return c.products[A]}function oe(A){let B=c.cmsPages[A];if(B){const ee=B.translations.find(N=>N.locale===u.locale);ee&&(B.url_key=ee.url_key,B.page_title=ee.page_title)}return B}function ie(){const{data:A,execute:B,onFetchResponse:ee}=C5();l.length===0&&B(),ee(()=>{A.value.forEach(N=>{l.push({...N,uploading:!1})})})}function x(){const A=S5();return A.onFetchResponse(()=>{A.data.value.data.forEach(B=>{c.categories[B.id]=B})}),A}function w(){const A=x5();A.onFetchResponse(()=>{A.data.value.data.forEach(ee=>{c.products[ee.id]=ee})});function B(ee={}){A.execute({locale:u.locale,channel:u.channel,...ee})}return{...A,execute:B}}function F(){const A=T5();A.onFetchResponse(()=>{A.data.value.forEach(ee=>{c.cmsPages[ee.id]=ee})});function B(ee={}){A.execute({locale:u.locale,channel:u.channel,...ee})}return{...A,execute:B}}return{images:l,themeData:u,templates:s,usedColors:a,availableSections:e,settingsSchema:r,categories:f,products:p,cmsPages:g,contentSections:y,contentSectionsOrder:m,beforeContentSections:b,afterContentSections:E,canUndoHistory:d,canRedoHistory:h,undoHistory:P,redoHistory:M,resetHistory:z,publishTheme:I,setThemeData:ae,setTemplates:Y,setAvailableSections:Z,setPreviewIframe:se,setSettingsSchema:de,getThemeDataValue:ce,updateThemeDataValue:re,activateSection:he,deactivateSection:je,setContentSectionsOrder:lt,moveSectionUp:ht,moveSectionDown:Et,toggleSection:Ut,removeSection:mt,getSectionData:Gt,getSectionBySlug:an,getSectionBlockData:ne,getSectionBlockByType:ge,canRemoveSection:pe,addNewSection:Ee,addBlockToSection:xt,toggleSectionBlock:Dt,removeSectionBlock:T,searchCategories:k,getProduct:G,getCmsPage:oe,fetchImages:ie,fetchCategories:x,fetchProducts:w,fetchCmsPages:F}});function I5(e,t){for(var n=-1,i=t.length,s=e.length;++n<i;)e[s+n]=t[n];return e}var hT=I5,O5=Uu,k5=Gu,A5="[object Arguments]";function P5(e){return k5(e)&&O5(e)==A5}var $5=P5,f0=$5,M5=Gu,fT=Object.prototype,N5=fT.hasOwnProperty,R5=fT.propertyIsEnumerable,D5=f0(function(){return arguments}())?f0:function(e){return M5(e)&&N5.call(e,"callee")&&!R5.call(e,"callee")},sy=D5,p0=ju,L5=sy,F5=hr,g0=p0?p0.isConcatSpreadable:void 0;function V5(e){return F5(e)||L5(e)||!!(g0&&e&&e[g0])}var B5=V5,H5=hT,j5=B5;function pT(e,t,n,i,s){var r=-1,a=e.length;for(n||(n=j5),s||(s=[]);++r<a;){var u=e[r];t>0&&n(u)?t>1?pT(u,t-1,n,i,s):H5(s,u):i||(s[s.length]=u)}return s}var U5=pT,G5=Mf;function W5(){this.__data__=new G5,this.size=0}var z5=W5;function K5(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var q5=K5;function Y5(e){return this.__data__.get(e)}var J5=Y5;function X5(e){return this.__data__.has(e)}var Z5=X5,Q5=Mf,e3=Qv,t3=ey,n3=200;function i3(e,t){var n=this.__data__;if(n instanceof Q5){var i=n.__data__;if(!e3||i.length<n3-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new t3(i)}return n.set(e,t),this.size=n.size,this}var s3=i3,r3=Mf,o3=z5,a3=q5,l3=J5,c3=Z5,u3=s3;function Yl(e){var t=this.__data__=new r3(e);this.size=t.size}Yl.prototype.clear=o3;Yl.prototype.delete=a3;Yl.prototype.get=l3;Yl.prototype.has=c3;Yl.prototype.set=u3;var gT=Yl,d3="__lodash_hash_undefined__";function h3(e){return this.__data__.set(e,d3),this}var f3=h3;function p3(e){return this.__data__.has(e)}var g3=p3,m3=ey,v3=f3,y3=g3;function Eh(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new m3;++t<n;)this.add(e[t])}Eh.prototype.add=Eh.prototype.push=v3;Eh.prototype.has=y3;var b3=Eh;function E3(e,t){for(var n=-1,i=e==null?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}var _3=E3;function C3(e,t){return e.has(t)}var S3=C3,x3=b3,T3=_3,w3=S3,I3=1,O3=2;function k3(e,t,n,i,s,r){var a=n&I3,u=e.length,o=t.length;if(u!=o&&!(a&&o>u))return!1;var l=r.get(e),c=r.get(t);if(l&&c)return l==t&&c==e;var d=-1,h=!0,f=n&O3?new x3:void 0;for(r.set(e,t),r.set(t,e);++d<u;){var p=e[d],g=t[d];if(i)var m=a?i(g,p,d,t,e,r):i(p,g,d,e,t,r);if(m!==void 0){if(m)continue;h=!1;break}if(f){if(!T3(t,function(y,b){if(!w3(f,b)&&(p===y||s(p,y,n,i,r)))return f.push(b)})){h=!1;break}}else if(!(p===g||s(p,g,n,i,r))){h=!1;break}}return r.delete(e),r.delete(t),h}var mT=k3,A3=dr,P3=A3.Uint8Array,$3=P3;function M3(e){var t=-1,n=Array(e.size);return e.forEach(function(i,s){n[++t]=[s,i]}),n}var N3=M3;function R3(e){var t=-1,n=Array(e.size);return e.forEach(function(i){n[++t]=i}),n}var D3=R3,m0=ju,v0=$3,L3=Af,F3=mT,V3=N3,B3=D3,H3=1,j3=2,U3="[object Boolean]",G3="[object Date]",W3="[object Error]",z3="[object Map]",K3="[object Number]",q3="[object RegExp]",Y3="[object Set]",J3="[object String]",X3="[object Symbol]",Z3="[object ArrayBuffer]",Q3="[object DataView]",y0=m0?m0.prototype:void 0,qp=y0?y0.valueOf:void 0;function eH(e,t,n,i,s,r,a){switch(n){case Q3:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Z3:return!(e.byteLength!=t.byteLength||!r(new v0(e),new v0(t)));case U3:case G3:case K3:return L3(+e,+t);case W3:return e.name==t.name&&e.message==t.message;case q3:case J3:return e==t+"";case z3:var u=V3;case Y3:var o=i&H3;if(u||(u=B3),e.size!=t.size&&!o)return!1;var l=a.get(e);if(l)return l==t;i|=j3,a.set(e,t);var c=F3(u(e),u(t),i,s,r,a);return a.delete(e),c;case X3:if(qp)return qp.call(e)==qp.call(t)}return!1}var tH=eH,nH=hT,iH=hr;function sH(e,t,n){var i=t(e);return iH(e)?i:nH(i,n(e))}var rH=sH;function oH(e,t){for(var n=-1,i=e==null?0:e.length,s=0,r=[];++n<i;){var a=e[n];t(a,n,e)&&(r[s++]=a)}return r}var aH=oH;function lH(){return[]}var cH=lH,uH=aH,dH=cH,hH=Object.prototype,fH=hH.propertyIsEnumerable,b0=Object.getOwnPropertySymbols,pH=b0?function(e){return e==null?[]:(e=Object(e),uH(b0(e),function(t){return fH.call(e,t)}))}:dH,gH=pH;function mH(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}var vH=mH,_h={exports:{}};function yH(){return!1}var bH=yH;_h.exports;(function(e,t){var n=dr,i=bH,s=t&&!t.nodeType&&t,r=s&&!0&&e&&!e.nodeType&&e,a=r&&r.exports===s,u=a?n.Buffer:void 0,o=u?u.isBuffer:void 0,l=o||i;e.exports=l})(_h,_h.exports);var vT=_h.exports,EH=9007199254740991;function _H(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=EH}var ry=_H,CH=Uu,SH=ry,xH=Gu,TH="[object Arguments]",wH="[object Array]",IH="[object Boolean]",OH="[object Date]",kH="[object Error]",AH="[object Function]",PH="[object Map]",$H="[object Number]",MH="[object Object]",NH="[object RegExp]",RH="[object Set]",DH="[object String]",LH="[object WeakMap]",FH="[object ArrayBuffer]",VH="[object DataView]",BH="[object Float32Array]",HH="[object Float64Array]",jH="[object Int8Array]",UH="[object Int16Array]",GH="[object Int32Array]",WH="[object Uint8Array]",zH="[object Uint8ClampedArray]",KH="[object Uint16Array]",qH="[object Uint32Array]",Jt={};Jt[BH]=Jt[HH]=Jt[jH]=Jt[UH]=Jt[GH]=Jt[WH]=Jt[zH]=Jt[KH]=Jt[qH]=!0;Jt[TH]=Jt[wH]=Jt[FH]=Jt[IH]=Jt[VH]=Jt[OH]=Jt[kH]=Jt[AH]=Jt[PH]=Jt[$H]=Jt[MH]=Jt[NH]=Jt[RH]=Jt[DH]=Jt[LH]=!1;function YH(e){return xH(e)&&SH(e.length)&&!!Jt[CH(e)]}var JH=YH;function XH(e){return function(t){return e(t)}}var yT=XH,Ch={exports:{}};Ch.exports;(function(e,t){var n=eT,i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,r=s&&s.exports===i,a=r&&n.process,u=function(){try{var o=s&&s.require&&s.require("util").types;return o||a&&a.binding&&a.binding("util")}catch{}}();e.exports=u})(Ch,Ch.exports);var ZH=Ch.exports,QH=JH,e2=yT,E0=ZH,_0=E0&&E0.isTypedArray,t2=_0?e2(_0):QH,bT=t2,n2=vH,i2=sy,s2=hr,r2=vT,o2=Rf,a2=bT,l2=Object.prototype,c2=l2.hasOwnProperty;function u2(e,t){var n=s2(e),i=!n&&i2(e),s=!n&&!i&&r2(e),r=!n&&!i&&!s&&a2(e),a=n||i||s||r,u=a?n2(e.length,String):[],o=u.length;for(var l in e)(t||c2.call(e,l))&&!(a&&(l=="length"||s&&(l=="offset"||l=="parent")||r&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||o2(l,o)))&&u.push(l);return u}var d2=u2,h2=Object.prototype;function f2(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||h2;return e===n}var p2=f2;function g2(e,t){return function(n){return e(t(n))}}var m2=g2,v2=m2,y2=v2(Object.keys,Object),b2=y2,E2=p2,_2=b2,C2=Object.prototype,S2=C2.hasOwnProperty;function x2(e){if(!E2(e))return _2(e);var t=[];for(var n in Object(e))S2.call(e,n)&&n!="constructor"&&t.push(n);return t}var T2=x2,w2=nT,I2=ry;function O2(e){return e!=null&&I2(e.length)&&!w2(e)}var Df=O2,k2=d2,A2=T2,P2=Df;function $2(e){return P2(e)?k2(e):A2(e)}var oy=$2,M2=rH,N2=gH,R2=oy;function D2(e){return M2(e,R2,N2)}var L2=D2,C0=L2,F2=1,V2=Object.prototype,B2=V2.hasOwnProperty;function H2(e,t,n,i,s,r){var a=n&F2,u=C0(e),o=u.length,l=C0(t),c=l.length;if(o!=c&&!a)return!1;for(var d=o;d--;){var h=u[d];if(!(a?h in t:B2.call(t,h)))return!1}var f=r.get(e),p=r.get(t);if(f&&p)return f==t&&p==e;var g=!0;r.set(e,t),r.set(t,e);for(var m=a;++d<o;){h=u[d];var y=e[h],b=t[h];if(i)var E=a?i(b,y,h,t,e,r):i(y,b,h,e,t,r);if(!(E===void 0?y===b||s(y,b,n,i,r):E)){g=!1;break}m||(m=h=="constructor")}if(g&&!m){var _=e.constructor,I=t.constructor;_!=I&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof I=="function"&&I instanceof I)&&(g=!1)}return r.delete(e),r.delete(t),g}var j2=H2,U2=Va,G2=dr,W2=U2(G2,"DataView"),z2=W2,K2=Va,q2=dr,Y2=K2(q2,"Promise"),J2=Y2,X2=Va,Z2=dr,Q2=X2(Z2,"Set"),ej=Q2,tj=Va,nj=dr,ij=tj(nj,"WeakMap"),sj=ij,dm=z2,hm=Qv,fm=J2,pm=ej,gm=sj,ET=Uu,Jl=iT,S0="[object Map]",rj="[object Object]",x0="[object Promise]",T0="[object Set]",w0="[object WeakMap]",I0="[object DataView]",oj=Jl(dm),aj=Jl(hm),lj=Jl(fm),cj=Jl(pm),uj=Jl(gm),aa=ET;(dm&&aa(new dm(new ArrayBuffer(1)))!=I0||hm&&aa(new hm)!=S0||fm&&aa(fm.resolve())!=x0||pm&&aa(new pm)!=T0||gm&&aa(new gm)!=w0)&&(aa=function(e){var t=ET(e),n=t==rj?e.constructor:void 0,i=n?Jl(n):"";if(i)switch(i){case oj:return I0;case aj:return S0;case lj:return x0;case cj:return T0;case uj:return w0}return t});var dj=aa,Yp=gT,hj=mT,fj=tH,pj=j2,O0=dj,k0=hr,A0=vT,gj=bT,mj=1,P0="[object Arguments]",$0="[object Array]",yd="[object Object]",vj=Object.prototype,M0=vj.hasOwnProperty;function yj(e,t,n,i,s,r){var a=k0(e),u=k0(t),o=a?$0:O0(e),l=u?$0:O0(t);o=o==P0?yd:o,l=l==P0?yd:l;var c=o==yd,d=l==yd,h=o==l;if(h&&A0(e)){if(!A0(t))return!1;a=!0,c=!1}if(h&&!c)return r||(r=new Yp),a||gj(e)?hj(e,t,n,i,s,r):fj(e,t,o,n,i,s,r);if(!(n&mj)){var f=c&&M0.call(e,"__wrapped__"),p=d&&M0.call(t,"__wrapped__");if(f||p){var g=f?e.value():e,m=p?t.value():t;return r||(r=new Yp),s(g,m,n,i,r)}}return h?(r||(r=new Yp),pj(e,t,n,i,s,r)):!1}var bj=yj,Ej=bj,N0=Gu;function _T(e,t,n,i,s){return e===t?!0:e==null||t==null||!N0(e)&&!N0(t)?e!==e&&t!==t:Ej(e,t,n,i,_T,s)}var CT=_T,_j=gT,Cj=CT,Sj=1,xj=2;function Tj(e,t,n,i){var s=n.length,r=s,a=!i;if(e==null)return!r;for(e=Object(e);s--;){var u=n[s];if(a&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++s<r;){u=n[s];var o=u[0],l=e[o],c=u[1];if(a&&u[2]){if(l===void 0&&!(o in e))return!1}else{var d=new _j;if(i)var h=i(l,c,o,e,t,d);if(!(h===void 0?Cj(c,l,Sj|xj,i,d):h))return!1}}return!0}var wj=Tj,Ij=Fa;function Oj(e){return e===e&&!Ij(e)}var ST=Oj,kj=ST,Aj=oy;function Pj(e){for(var t=Aj(e),n=t.length;n--;){var i=t[n],s=e[i];t[n]=[i,s,kj(s)]}return t}var $j=Pj;function Mj(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var xT=Mj,Nj=wj,Rj=$j,Dj=xT;function Lj(e){var t=Rj(e);return t.length==1&&t[0][2]?Dj(t[0][0],t[0][1]):function(n){return n===e||Nj(n,e,t)}}var Fj=Lj;function Vj(e,t){return e!=null&&t in Object(e)}var Bj=Vj,Hj=ny,jj=sy,Uj=hr,Gj=Rf,Wj=ry,zj=zu;function Kj(e,t,n){t=Hj(t,e);for(var i=-1,s=t.length,r=!1;++i<s;){var a=zj(t[i]);if(!(r=e!=null&&n(e,a)))break;e=e[a]}return r||++i!=s?r:(s=e==null?0:e.length,!!s&&Wj(s)&&Gj(a,s)&&(Uj(e)||jj(e)))}var qj=Kj,Yj=Bj,Jj=qj;function Xj(e,t){return e!=null&&Jj(e,t,Yj)}var Zj=Xj,Qj=CT,e4=lT,t4=Zj,n4=Zv,i4=ST,s4=xT,r4=zu,o4=1,a4=2;function l4(e,t){return n4(e)&&i4(t)?s4(r4(e),t):function(n){var i=e4(n,e);return i===void 0&&i===t?t4(n,e):Qj(t,i,o4|a4)}}var c4=l4;function u4(e){return e}var Lf=u4;function d4(e){return function(t){return t==null?void 0:t[e]}}var h4=d4,f4=iy;function p4(e){return function(t){return f4(t,e)}}var g4=p4,m4=h4,v4=g4,y4=Zv,b4=zu;function E4(e){return y4(e)?m4(b4(e)):v4(e)}var _4=E4,C4=Fj,S4=c4,x4=Lf,T4=hr,w4=_4;function I4(e){return typeof e=="function"?e:e==null?x4:typeof e=="object"?T4(e)?S4(e[0],e[1]):C4(e):w4(e)}var O4=I4;function k4(e){return function(t,n,i){for(var s=-1,r=Object(t),a=i(t),u=a.length;u--;){var o=a[e?u:++s];if(n(r[o],o,r)===!1)break}return t}}var A4=k4,P4=A4,$4=P4(),M4=$4,N4=M4,R4=oy;function D4(e,t){return e&&N4(e,t,R4)}var L4=D4,F4=Df;function V4(e,t){return function(n,i){if(n==null)return n;if(!F4(n))return e(n,i);for(var s=n.length,r=t?s:-1,a=Object(n);(t?r--:++r<s)&&i(a[r],r,a)!==!1;);return n}}var B4=V4,H4=L4,j4=B4,U4=j4(H4),G4=U4,W4=G4,z4=Df;function K4(e,t){var n=-1,i=z4(e)?Array(e.length):[];return W4(e,function(s,r,a){i[++n]=t(s,r,a)}),i}var q4=K4;function Y4(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var J4=Y4,R0=Wu;function X4(e,t){if(e!==t){var n=e!==void 0,i=e===null,s=e===e,r=R0(e),a=t!==void 0,u=t===null,o=t===t,l=R0(t);if(!u&&!l&&!r&&e>t||r&&a&&o&&!u&&!l||i&&a&&o||!n&&o||!s)return 1;if(!i&&!r&&!l&&e<t||l&&n&&s&&!i&&!r||u&&n&&s||!a&&s||!o)return-1}return 0}var Z4=X4,Q4=Z4;function eU(e,t,n){for(var i=-1,s=e.criteria,r=t.criteria,a=s.length,u=n.length;++i<a;){var o=Q4(s[i],r[i]);if(o){if(i>=u)return o;var l=n[i];return o*(l=="desc"?-1:1)}}return e.index-t.index}var tU=eU,Jp=oT,nU=iy,iU=O4,sU=q4,rU=J4,oU=yT,aU=tU,lU=Lf,cU=hr;function uU(e,t,n){t.length?t=Jp(t,function(r){return cU(r)?function(a){return nU(a,r.length===1?r[0]:r)}:r}):t=[lU];var i=-1;t=Jp(t,oU(iU));var s=sU(e,function(r,a,u){var o=Jp(t,function(l){return l(r)});return{criteria:o,index:++i,value:r}});return rU(s,function(r,a){return aU(r,a,n)})}var dU=uU;function hU(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var fU=hU,pU=fU,D0=Math.max;function gU(e,t,n){return t=D0(t===void 0?e.length-1:t,0),function(){for(var i=arguments,s=-1,r=D0(i.length-t,0),a=Array(r);++s<r;)a[s]=i[t+s];s=-1;for(var u=Array(t+1);++s<t;)u[s]=i[s];return u[t]=n(a),pU(e,this,u)}}var mU=gU;function vU(e){return function(){return e}}var yU=vU,bU=yU,L0=sT,EU=Lf,_U=L0?function(e,t){return L0(e,"toString",{configurable:!0,enumerable:!1,value:bU(t),writable:!0})}:EU,CU=_U,SU=800,xU=16,TU=Date.now;function wU(e){var t=0,n=0;return function(){var i=TU(),s=xU-(i-n);if(n=i,s>0){if(++t>=SU)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var IU=wU,OU=CU,kU=IU,AU=kU(OU),PU=AU,$U=Lf,MU=mU,NU=PU;function RU(e,t){return NU(MU(e,t,$U),e+"")}var DU=RU,LU=Af,FU=Df,VU=Rf,BU=Fa;function HU(e,t,n){if(!BU(n))return!1;var i=typeof t;return(i=="number"?FU(n)&&VU(t,n.length):i=="string"&&t in n)?LU(n[t],e):!1}var jU=HU,UU=U5,GU=dU,WU=DU,F0=jU,zU=WU(function(e,t){if(e==null)return[];var n=t.length;return n>1&&F0(e,t[0],t[1])?t=[]:n>2&&F0(t[0],t[1],t[2])&&(t=[t[0]]),GU(e,UU(t,1),[])}),KU=zU;const qU=Hu(KU),YU={class:"w-full h-full flex flex-col"},JU={class:"flex-1 overflow-y-auto"},XU={class:"flex-none h-12 border-b border-gray-200 bg-gray-100 flex gap-3 px-4 items-center justify-between"},ZU={class:"flex-1 flex flex-col overflow-hidden"},QU={class:"flex items-center gap-3 px-3 border-b py-2 focus-within:ring focus-within:ring-gray-700"},e6=["placeholder"],t6={class:"flex-1 p-6 overflow-y-auto"},n6={class:"sticky capitalize mb-2 font-medium"},i6={class:"grid grid-cols-2 gap-6"},s6=["onClick"],r6={class:"text-center p-3"},o6={class:"uppercase text-xs font-semibold"},a6={class:"text-xs line-clamp-1"},l6=$({__name:"index",setup(e){const t=_i(),n=st(!1),i=st(""),s=qU(window.ThemeEditor.availableSections,["name"],["asc"]),r=K(()=>{if(!i.value)return s;const p=new RegExp(i.value,"gi");return s.filter(g=>p.test(g.slug)||p.test(g.name)||p.test(g.description)||p.test(g.previewDescription))}),a=K(()=>{const p={};return r.value.forEach(g=>{const m=g.slug.split("-")[0];p[m]||(p[m]=[]),p[m].push(g)}),p});function u(){n.value=!n.value}function o(p){t.setContentSectionsOrder(p)}function l(p){t.toggleSection(p)}function c(p){t.removeSection(p)}function d(p){t.activateSection(p)}function h(p){t.deactivateSection(p)}function f(p){u(),t.addNewSection(p)}return(p,g)=>{const m=DM,y=jl,b=_f;return C(),te(Ye,null,[L("div",YU,[g[4]||(g[4]=L("header",{class:"flex none px-4 py-3 border-b font-medium"},[L("h1",null,"Page title")],-1)),L("div",JU,[O(m,{static:"",title:p.$t("Layout Header Sections"),sections:v(t).beforeContentSections,onToggleSection:l,onActivateSection:d,onDeactivateSection:h},null,8,["title","sections"]),g[2]||(g[2]=L("hr",null,null,-1)),O(m,{title:p.$t("Template Sections"),order:v(t).contentSectionsOrder,sections:v(t).contentSections,onReorder:o,onAddSection:u,onToggleSection:l,onRemoveSection:c,onActivateSection:d,onDeactivateSection:h},null,8,["title","order","sections"]),g[3]||(g[3]=L("hr",null,null,-1)),O(m,{static:"",title:p.$t("Layout Footer Sections"),sections:v(t).afterContentSections,onToggleSection:l,onActivateSection:d,onDeactivateSection:h},null,8,["title","sections"])])]),O(v(yn).Root,{open:v(n),"onUpdate:open":g[1]||(g[1]=E=>dt(n)?n.value=E:null),lazyMount:""},{default:S(()=>[(C(),R(lf,{to:"body"},[O(v(yn).Backdrop,{class:"fixed h-screen w-screen left-0 top-0 backdrop-blur-sm bg-gray-700/30"}),O(v(yn).Positioner,{class:"flex fixed inset-0 items-center justify-center"},{default:S(()=>[O(v(yn).Content,{class:"bg-white shadow rounded-md flex flex-col w-full max-w-2xl h-3/4 overflow-hidden"},{default:S(()=>[L("header",XU,[O(v(yn).Title,null,{default:S(()=>[qe(ue(p.$t("Add new section")),1)]),_:1}),O(v(yn).CloseTrigger,{class:"cursor-pointer rounded-lg p-0.5 text-neutral-700 hover:bg-neutral-300"},{default:S(()=>[O(y,{class:"w-5 h-5"})]),_:1})]),L("section",ZU,[L("div",QU,[O(b,{class:"w-4 h-4"}),wa(L("input",{"onUpdate:modelValue":g[0]||(g[0]=E=>dt(i)?i.value=E:null),type:"text",name:"search",class:"appearance-none block w-full outline-none",placeholder:p.$t("Search a section")},null,8,e6),[[mf,v(i)]])]),L("div",t6,[(C(!0),te(Ye,null,Kt(v(a),(E,_)=>(C(),te("div",{key:_,class:"mb-4"},[L("h4",n6,ue(p.$t("From"))+" "+ue(_),1),L("div",i6,[(C(!0),te(Ye,null,Kt(E,I=>(C(),te("div",{key:I.slug,class:"rounded cursor-pointer shadow hover:shadow-lg",onClick:P=>f(I)},[g[5]||(g[5]=L("div",{class:"aspect-[4/2] bg-gray-100"},null,-1)),L("div",r6,[L("h3",o6,ue(I.name),1),L("p",a6,ue(I.previewDescription),1)])],8,s6))),128))])]))),128))])])]),_:1})]),_:1})]))]),_:1},8,["open"])],64)}}}),c6=Dn("field").parts("root","errorText","helperText","input","label","select","textarea"),ta=c6.build(),[TT,Yn]=gt("FieldContext"),u6=e=>{const{required:t,disabled:n,invalid:i,readOnly:s,ids:r}=e,a=nr({hasErrorText:!1,hasHelperText:!1}),u=e.id??`field-${Math.random().toString(36).substr(2,9)}`,o=st(null),l=(r==null?void 0:r.control)??`field::${u}`,c=(r==null?void 0:r.errorText)??`field::${u}::error-text`,d=(r==null?void 0:r.helperText)??`field::${u}::helper-text`,h=(r==null?void 0:r.label)??`field::${u}::label`;Ai(()=>{const P=o.value;if(!P)return;const M=Xi(P),z=M.document,D=()=>{a.hasErrorText=!!z.getElementById(c),a.hasHelperText=!!z.getElementById(d)};D();const j=new M.MutationObserver(D);j.observe(P,{childList:!0,subtree:!0}),Du(()=>{j.disconnect()})});const f=()=>({...ta.root.attrs,id:l,role:"group","data-disabled":H(n),"data-invalid":H(i),"data-readonly":H(s)}),p=()=>({...ta.label.attrs,id:h,"data-disabled":H(n),"data-invalid":H(i),"data-readonly":H(s),htmlFor:u}),g=[];a.hasErrorText&&i&&g.push(c),a.hasHelperText&&g.push(d);const m=()=>({"aria-describedby":g.join(" ")||void 0,"aria-invalid":Eo(i),"data-invalid":H(i),"data-required":H(t),"data-readonly":H(s),id:u,required:t,disabled:n,readOnly:s}),y=()=>({...m(),...ta.input.attrs}),b=()=>({...m(),...ta.textarea.attrs}),E=()=>({...m(),...ta.select.attrs}),_=()=>({id:d,...ta.helperText.attrs}),I=()=>({id:c,...ta.errorText.attrs,"aria-live":"polite"});return K(()=>({ariaDescribedby:g.join(" "),ids:{control:u,label:h,errorText:c,helperText:d},refs:{rootRef:o},disabled:n,invalid:i,readOnly:s,required:t,getLabelProps:p,getRootProps:f,getInputProps:y,getTextareaProps:b,getSelectProps:E,getHelperTextProps:_,getErrorTextProps:I}))},d6=$({__name:"field-root",props:On({disabled:{type:Boolean},id:{},ids:{},invalid:{type:Boolean},readOnly:{type:Boolean},required:{type:Boolean},asChild:{type:Boolean}},{disabled:void 0,invalid:void 0,readOnly:void 0,required:void 0}),setup(e){const n=u6(e);return TT(n),U(),(i,s)=>(C(),R(v(X).div,W(v(n).getRootProps(),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["as-child"]))}}),h6=$({__name:"field-root-provider",props:{value:{},asChild:{type:Boolean}},setup(e){const t=e,n=K(()=>t.value);return TT(n),U(),(i,s)=>(C(),R(v(X).div,W(n.value.getRootProps(),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["as-child"]))}}),f6=$({__name:"field-label",props:{asChild:{type:Boolean}},setup(e){const t=Yn();return U(),(n,i)=>(C(),R(v(X).label,W(v(t).getLabelProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),p6=$({__name:"field-input",props:{modelValue:{},asChild:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=Yn(),i=t;return U(),(s,r)=>(C(),R(v(X).input,W(v(n).getInputProps(),{"as-child":s.asChild,value:s.modelValue,onInput:r[0]||(r[0]=a=>i("update:modelValue",a.target.value))}),{default:S(()=>[V(s.$slots,"default")]),_:3},16,["as-child","value"]))}}),g6=$({__name:"field-textarea",props:{modelValue:{},asChild:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=Yn(),i=t;return U(),(s,r)=>(C(),R(v(X).textarea,W(v(n).getTextareaProps(),{value:s.modelValue,onInput:r[0]||(r[0]=a=>i("update:modelValue",a.target.value)),"as-child":s.asChild}),{default:S(()=>[V(s.$slots,"default")]),_:3},16,["value","as-child"]))}}),m6=$({__name:"field-select",props:{modelValue:{},asChild:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=Yn(),i=t;return U(),(s,r)=>(C(),R(v(X).select,W(v(n).getSelectProps(),{value:s.modelValue,onChange:r[0]||(r[0]=a=>i("update:modelValue",a.target.value)),"as-child":s.asChild}),{default:S(()=>[V(s.$slots,"default")]),_:3},16,["value","as-child"]))}}),v6=$({__name:"field-helper-text",props:{asChild:{type:Boolean}},setup(e){const t=Yn();return U(),(n,i)=>(C(),R(v(X).span,W(v(t).getHelperTextProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),y6=$({__name:"field-error-text",props:{asChild:{type:Boolean}},setup(e){const t=Yn();return U(),(n,i)=>v(t).invalid?(C(),R(v(X).span,W({key:0},v(t).getErrorTextProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"])):tt("",!0)}}),b6=$({__name:"field-context",setup(e){const t=Yn();return(n,i)=>V(n.$slots,"default",hn(on(v(t))))}}),_o=Object.freeze(Object.defineProperty({__proto__:null,Context:b6,ErrorText:y6,HelperText:v6,Input:p6,Label:f6,Root:d6,RootProvider:h6,Select:m6,Textarea:g6},Symbol.toStringTag,{value:"Module"})),E6=$({__name:"TextInput",props:Vn({label:null},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=mn(e,"modelValue"),n=e;return(i,s)=>(C(),R(v(_o).Root,{class:"flex flex-col gap-1.5"},{default:S(()=>[e.label?(C(),R(v(_o).Label,{key:0,class:"text-sm font-medium"},{default:S(()=>[qe(ue(n.label),1)]),_:1})):tt("",!0),O(v(_o).Input,{modelValue:t.value,"onUpdate:modelValue":s[0]||(s[0]=r=>t.value=r),class:sn(["px-3 h-10 text-surface-500 ","rounded border border-gray-300","focus:outline-none focus:ring focus:ring-gray-700"])},null,8,["modelValue"])]),_:1}))}}),_6=$({__name:"Textarea",props:Vn({label:null},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=mn(e,"modelValue"),n=e;return(i,s)=>(C(),R(v(_o).Root,{class:"flex flex-col gap-1.5"},{default:S(()=>[O(v(_o).Label,{class:"text-sm font-medium"},{default:S(()=>[qe(ue(n.label),1)]),_:1}),O(v(_o).Textarea,{modelValue:t.value,"onUpdate:modelValue":s[0]||(s[0]=r=>t.value=r),class:sn(["px-2 py-2 h-20 text-surface-500 appearance-none relative","rounded border border-gray-300 outline-0","focus:ring focus:ring-gray-700"])},null,8,["modelValue"])]),_:1}))}}),C6={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function S6(e,t){return C(),te("svg",C6,t[0]||(t[0]=[L("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"m4.5 12.75l6 6l9-13.5"},null,-1)]))}const x6=bt({name:"heroicons-check",render:S6});function T6(e){return e.mozInputSource===0&&e.isTrusted?!0:e.detail===0&&!e.pointerType}function w6(e){return!(e.metaKey||!px()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}var I6=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function O6(e,t,n){const i=n?Zi(n):null,s=Xi(i);return e=e||i instanceof s.HTMLInputElement&&!I6.has(i==null?void 0:i.type)||i instanceof s.HTMLTextAreaElement||i instanceof s.HTMLElement&&i.isContentEditable,!(e&&t==="keyboard"&&n instanceof s.KeyboardEvent&&!Reflect.has(k6,n.key))}var Ba=null,mm=new Set,eu=new Map,Aa=!1,vm=!1,k6={Tab:!0,Escape:!0};function Ff(e,t){for(let n of mm)n(e,t)}function Sh(e){Aa=!0,w6(e)&&(Ba="keyboard",Ff("keyboard",e))}function cs(e){Ba="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(Aa=!0,Ff("pointer",e))}function wT(e){T6(e)&&(Aa=!0,Ba="virtual")}function IT(e){const t=Zi(e);t===Xi(t)||t===ur(t)||(!Aa&&!vm&&(Ba="virtual",Ff("virtual",e)),Aa=!1,vm=!1)}function OT(){Aa=!1,vm=!0}function A6(e){if(typeof window>"u"||eu.get(Xi(e)))return;const t=Xi(e),n=ur(e);let i=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){Ba="virtual",Ff("virtual",null),Aa=!0,i.apply(this,arguments)},n.addEventListener("keydown",Sh,!0),n.addEventListener("keyup",Sh,!0),n.addEventListener("click",wT,!0),t.addEventListener("focus",IT,!0),t.addEventListener("blur",OT,!1),typeof t.PointerEvent<"u"?(n.addEventListener("pointerdown",cs,!0),n.addEventListener("pointermove",cs,!0),n.addEventListener("pointerup",cs,!0)):(n.addEventListener("mousedown",cs,!0),n.addEventListener("mousemove",cs,!0),n.addEventListener("mouseup",cs,!0)),t.addEventListener("beforeunload",()=>{P6(e)},{once:!0}),eu.set(t,{focus:i})}var P6=(e,t)=>{const n=Xi(e),i=ur(e);eu.has(n)&&(n.HTMLElement.prototype.focus=eu.get(n).focus,i.removeEventListener("keydown",Sh,!0),i.removeEventListener("keyup",Sh,!0),i.removeEventListener("click",wT,!0),n.removeEventListener("focus",IT,!0),n.removeEventListener("blur",OT,!1),typeof n.PointerEvent<"u"?(i.removeEventListener("pointerdown",cs,!0),i.removeEventListener("pointermove",cs,!0),i.removeEventListener("pointerup",cs,!0)):(i.removeEventListener("mousedown",cs,!0),i.removeEventListener("mousemove",cs,!0),i.removeEventListener("mouseup",cs,!0)),eu.delete(n))};function xh(){return Ba==="keyboard"}function kT(e={}){const{isTextInput:t,autoFocus:n,onChange:i,root:s}=e;A6(s),i==null||i({isFocusVisible:n||xh(),modality:Ba});const r=(a,u)=>{O6(!!t,a,u)&&(i==null||i({isFocusVisible:xh(),modality:a}))};return mm.add(r),()=>{mm.delete(r)}}var $6=Object.defineProperty,M6=(e,t,n)=>t in e?$6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Oe=(e,t,n)=>M6(e,typeof t!="symbol"?t+"":t,n);function AT(e,...t){for(const n of t){const i=Te(n);for(const s in i)bi(n[s])?(e[s]||(e[s]={}),AT(e[s],n[s])):e[s]=n[s]}return e}function V0(e){return bn(e)}function Es(e){return q(e)?{type:e}:e}function zr(e){return e?Qe(e)?e.slice():[e]:[]}function PT(e){return Ce(e)&&e.predicate!=null}var N6=()=>!0;function ay(e,t,n,i){return s=>{var r;return q(s)?!!((r=e[s])!=null&&r.call(e,t,n,i)):We(s)?s(t,n,i):s.predicate(e)(t,n,i)}}function R6(...e){return{predicate:t=>(n,i,s)=>e.map(ay(t,n,i,s)).some(Boolean)}}function D6(...e){return{predicate:t=>(n,i,s)=>e.map(ay(t,n,i,s)).every(Boolean)}}function L6(e){return{predicate:t=>(n,i,s)=>!ay(t,n,i,s)(e)}}function F6(...e){return(t,n,i)=>i.state.matches(...e)}var V6={or:R6,and:D6,not:L6,stateIn:F6};function $T(e,t){return e=e??N6,(n,i,s)=>{if(q(e)){const r=t[e];return We(r)?r(n,i,s):r}return PT(e)?e.predicate(t)(n,i,s):e==null?void 0:e(n,i,s)}}function Xp(e,t){return(n,i,s)=>PT(e)?e.predicate(t)(n,i,s):e}function B6(e){var r,a;const t=e.computed??Q({}),n=e.context??Q({}),i=e.initial?(a=(r=e.states)==null?void 0:r[e.initial])==null?void 0:a.tags:[],s=qn({value:e.initial??"",previousValue:"",event:Q({}),previousEvent:Q({}),context:mi(n,t),done:!1,tags:i??[],hasTag(u){return this.tags.includes(u)},matches(...u){return u.includes(this.value)},can(u){return Q(this).nextEvents.includes(u)},get nextEvents(){var l,c;const u=((c=(l=e.states)==null?void 0:l[this.value])==null?void 0:c.on)??{},o=(e==null?void 0:e.on)??{};return Object.keys({...u,...o})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return Q(s)}function uc(e,t){return(n,i)=>{if(yi(e))return e;if(We(e))return e(n,i);if(q(e)){const s=Number.parseFloat(e);if(!Number.isNaN(s))return s;if(t){const r=t==null?void 0:t[e];return He(r==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${e}\`. It doesn't exist in \`options.delays\``),We(r)?r(n,i):r}}}}function H6(e){return q(e)?{target:e}:e}function j6(e,t){return(n,i,s)=>zr(e).map(H6).find(r=>$T(r.guard,t)(n,i,s)??r.target??r.actions)}var U6=class{constructor(t,n){var i,s,r,a,u;Oe(this,"status","Not Started"),Oe(this,"state"),Oe(this,"initialState"),Oe(this,"initialContext"),Oe(this,"id"),Oe(this,"type","machine"),Oe(this,"activityEvents",new Map),Oe(this,"delayedEvents",new Map),Oe(this,"stateListeners",new Set),Oe(this,"doneListeners",new Set),Oe(this,"contextWatchers",new Set),Oe(this,"removeStateListener",ni),Oe(this,"parent"),Oe(this,"children",new Map),Oe(this,"guardMap"),Oe(this,"actionMap"),Oe(this,"delayMap"),Oe(this,"activityMap"),Oe(this,"sync"),Oe(this,"options"),Oe(this,"config"),Oe(this,"_created",()=>{var l;const o=Es("machine.created");this.executeActions((l=this.config)==null?void 0:l.created,o)}),Oe(this,"start",o=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=Pt(this.state,()=>{this.stateListeners.forEach(p=>{p(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(Es("machine.start"),zr(this.config.activities),"machine.start"),this.executeActions(this.config.entry,Es("machine.start"));const l=Es("machine.init"),c=Ce(o)?o.value:o,d=Ce(o)?o.context:void 0;d&&this.setContext(d);const h={target:c??this.config.initial},f=this.getNextStateInfo(h,l);return this.initialState=f,this.performStateChangeEffects(this.state.value,f,l),this}),Oe(this,"setupContextWatchers",()=>{const{watch:o}=this.config;if(!o)return;let l=_e(this.state.context);const c=Pt(this.state.context,()=>{var h;const d=_e(this.state.context);for(const[f,p]of Object.entries(o))(((h=this.options.compareFns)==null?void 0:h[f])??Object.is)(l[f],d[f])||this.executeActions(p,this.state.event);l=d});this.contextWatchers.add(c)}),Oe(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,Es("machine.stop")),this.executeActions(this.config.exit,Es("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),Oe(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),Oe(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(o=>o()),this.contextWatchers.clear()}),Oe(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(o=>{o.forEach(l=>l())}),this.delayedEvents.clear()}),Oe(this,"stopActivities",o=>{var l,c;o?((l=this.activityEvents.get(o))==null||l.forEach(d=>d()),(c=this.activityEvents.get(o))==null||c.clear(),this.activityEvents.delete(o)):(this.activityEvents.forEach(d=>{d.forEach(h=>h()),d.clear()}),this.activityEvents.clear())}),Oe(this,"sendChild",(o,l)=>{const c=Es(o),d=$t(l,this.contextSnapshot),h=this.children.get(d);h||He(`[@zag-js/core] Cannot send '${c.type}' event to unknown child`),h.send(c)}),Oe(this,"stopChild",o=>{this.children.has(o)||He(`[@zag-js/core > stop-child] Cannot stop unknown child ${o}`),this.children.get(o).stop(),this.children.delete(o)}),Oe(this,"removeChild",o=>{this.children.delete(o)}),Oe(this,"stopChildren",()=>{this.children.forEach(o=>o.stop()),this.children.clear()}),Oe(this,"setParent",o=>{this.parent=o}),Oe(this,"spawn",(o,l)=>{const c=$t(o);return l&&(c.id=l),c.type="machine.actor",c.setParent(this),this.children.set(c.id,Q(c)),c.onDone(()=>{this.removeChild(c.id)}).start(),Q(Ke(c))}),Oe(this,"stopActivity",o=>{var c;if(!this.state.value)return;const l=this.activityEvents.get(this.state.value);(c=l==null?void 0:l.get(o))==null||c(),l==null||l.delete(o)}),Oe(this,"addActivityCleanup",(o,l,c)=>{var d;o&&(this.activityEvents.has(o)?(d=this.activityEvents.get(o))==null||d.set(l,c):this.activityEvents.set(o,new Map([[l,c]])))}),Oe(this,"setState",o=>{this.state.previousValue=this.state.value,this.state.value=o;const l=this.getStateNode(o);o==null?vi(this.state.tags):this.state.tags=zr(l==null?void 0:l.tags)}),Oe(this,"setContext",o=>{o&&AT(this.state.context,Te(o))}),Oe(this,"setOptions",o=>{const l=Te(o);this.actionMap={...this.actionMap,...l.actions},this.delayMap={...this.delayMap,...l.delays},this.activityMap={...this.activityMap,...l.activities},this.guardMap={...this.guardMap,...l.guards}}),Oe(this,"getStateNode",o=>{var l;if(o)return(l=this.config.states)==null?void 0:l[o]}),Oe(this,"getNextStateInfo",(o,l)=>{const c=this.determineTransition(o,l),d=!(c!=null&&c.target),h=(c==null?void 0:c.target)??this.state.value,f=this.state.value!==h,p=this.getStateNode(h),m={reenter:!d&&!f&&!(c!=null&&c.internal),transition:c,stateNode:p,target:h,changed:f};return this.log("NextState:",`[${l.type}]`,this.state.value,"---->",m.target),m}),Oe(this,"getAfterActions",(o,l)=>{let c;const d=this.state.value;return{entry:()=>{c=globalThis.setTimeout(()=>{const h=this.getNextStateInfo(o,this.state.event);this.performStateChangeEffects(d,h,this.state.event)},l)},exit:()=>{globalThis.clearTimeout(c)}}}),Oe(this,"getDelayedEventActions",o=>{const l=this.getStateNode(o),c=this.state.event;if(!l||!l.after)return;const d=[],h=[];if(Qe(l.after)){const f=this.determineTransition(l.after,c);if(!f)return;if(!wn(f,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(f)}`);const g=uc(f.delay,this.delayMap)(this.contextSnapshot,c),m=this.getAfterActions(f,g);return d.push(m.entry),h.push(m.exit),{entries:d,exits:h}}if(Ce(l.after))for(const f in l.after){const p=l.after[f],m=uc(f,this.delayMap)(this.contextSnapshot,c),y=this.getAfterActions(p,m);d.push(y.entry),h.push(y.exit)}return{entries:d,exits:h}}),Oe(this,"executeActions",(o,l)=>{var d;const c=Xp(o,this.guardMap)(this.contextSnapshot,l,this.guardMeta);for(const h of zr(c)){const f=q(h)?(d=this.actionMap)==null?void 0:d[h]:h;nt(q(h)&&!f,`[@zag-js/core > execute-actions] No implementation found for action: \`${h}\``),f==null||f(this.state.context,l,this.meta)}}),Oe(this,"executeActivities",(o,l,c)=>{var d;for(const h of l){const f=q(h)?(d=this.activityMap)==null?void 0:d[h]:h;if(!f){nt(`[@zag-js/core > execute-activity] No implementation found for activity: \`${h}\``);continue}const p=f(this.state.context,o,this.meta);if(p){const g=q(h)?h:h.name||Rt();this.addActivityCleanup(c??this.state.value,g,p)}}}),Oe(this,"createEveryActivities",(o,l)=>{if(o)if(Qe(o)){const c=zr(o).find(p=>{const g=p.delay,y=uc(g,this.delayMap)(this.contextSnapshot,this.state.event);return $T(p.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??y!=null});if(!c)return;const h=uc(c.delay,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const p=globalThis.setInterval(()=>{this.executeActions(c.actions,this.state.event)},h);return()=>{globalThis.clearInterval(p)}})}else for(const c in o){const d=o==null?void 0:o[c],f=uc(c,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const g=globalThis.setInterval(()=>{this.executeActions(d,this.state.event)},f);return()=>{globalThis.clearInterval(g)}})}}),Oe(this,"setEvent",o=>{this.state.previousEvent=this.state.event,this.state.event=Ke(Es(o))}),Oe(this,"performExitEffects",(o,l)=>{const c=this.state.value;if(c==="")return;const d=o?this.getStateNode(o):void 0;this.stopActivities(c);const h=Xp(d==null?void 0:d.exit,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=zr(h),p=this.delayedEvents.get(c);p&&f.push(...p),this.executeActions(f,l),this.delayedEvents.delete(c)}),Oe(this,"performEntryEffects",(o,l)=>{const c=this.getStateNode(o),d=zr(c==null?void 0:c.activities);this.createEveryActivities(c==null?void 0:c.every,g=>{d.unshift(g)}),d.length>0&&this.executeActivities(l,d);const h=Xp(c==null?void 0:c.entry,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=zr(h),p=this.getDelayedEventActions(o);c!=null&&c.after&&p&&(this.delayedEvents.set(o,p==null?void 0:p.exits),f.push(...p.entries)),this.executeActions(f,l),(c==null?void 0:c.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(g=>{g(this.stateSnapshot)}),this.stop())}),Oe(this,"performTransitionEffects",(o,l)=>{const c=this.determineTransition(o,l);this.executeActions(c==null?void 0:c.actions,l)}),Oe(this,"performStateChangeEffects",(o,l,c)=>{this.setEvent(c);const d=l.changed||l.reenter;d&&this.performExitEffects(o,c),this.performTransitionEffects(l.transition,c),this.setState(l.target),d&&this.performEntryEffects(l.target,c)}),Oe(this,"determineTransition",(o,l)=>{const c=j6(o,this.guardMap);return c==null?void 0:c(this.contextSnapshot,l,this.guardMeta)}),Oe(this,"sendParent",o=>{var c;this.parent||He("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const l=Es(o);(c=this.parent)==null||c.send(l)}),Oe(this,"log",(...o)=>{}),Oe(this,"send",o=>{const l=Es(o);this.transition(this.state.value,l)}),Oe(this,"transition",(o,l)=>{var p,g;const c=q(o)?this.getStateNode(o):o==null?void 0:o.stateNode,d=Es(l);if(!c&&!this.config.on){const m=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${o}, \`event\`: ${d.type}`;nt(m);return}const h=((p=c==null?void 0:c.on)==null?void 0:p[d.type])??((g=this.config.on)==null?void 0:g[d.type]),f=this.getNextStateInfo(h,d);return this.performStateChangeEffects(this.state.value,f,d),f.stateNode}),Oe(this,"subscribe",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),()=>{this.stateListeners.delete(o)})),Oe(this,"onDone",o=>(this.doneListeners.add(o),this)),Oe(this,"onTransition",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),this)),this.config=V0(t),this.options=V0(n??{}),this.id=this.config.id??`machine-${Rt()}`,this.guardMap=((i=this.options)==null?void 0:i.guards)??{},this.actionMap=((s=this.options)==null?void 0:s.actions)??{},this.delayMap=((r=this.options)==null?void 0:r.delays)??{},this.activityMap=((a=this.options)==null?void 0:a.activities)??{},this.sync=((u=this.options)==null?void 0:u.sync)??!1,this.state=B6(this.config),this.initialContext=_e(this.state.context)}get stateSnapshot(){return Q(_e(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const t=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return t.stateSnapshot},get initialContext(){return t.initialContext},get initialState(){var n;return((n=t.initialState)==null?void 0:n.target)??""}}}get meta(){var t;return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:((t=this.initialState)==null?void 0:t.target)??"",getState:()=>this.stateSnapshot,getAction:n=>this.actionMap[n],getGuard:n=>this.guardMap[n]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){const t=this.getState();return{value:t.value,tags:t.tags}}},G6=(e,t)=>new U6(e,t),ly=e=>e.ownerDocument.defaultView||window;function MT(e,t){const{type:n="HTMLInputElement",property:i="value"}=t,s=ly(e)[n].prototype;return Object.getOwnPropertyDescriptor(s,i)??{}}function W6(e,t,n={}){var s;(s=MT(e,n).set)==null||s.call(e,t),e.setAttribute("value",t)}function NT(e,t){var i;(i=MT(e,{type:"HTMLInputElement",property:"checked"}).set)==null||i.call(e,t),t?e.setAttribute("checked",""):e.removeAttribute("checked")}function RT(e,t){const{value:n,bubbles:i=!0}=t;if(!e)return;const s=ly(e);e instanceof s.HTMLInputElement&&(W6(e,`${n}`),e.dispatchEvent(new s.Event("input",{bubbles:i})))}function DT(e,t){const{checked:n,bubbles:i=!0}=t;if(!e)return;const s=ly(e);e instanceof s.HTMLInputElement&&(NT(e,n),e.dispatchEvent(new s.Event("click",{bubbles:i})))}function z6(e){return K6(e)?e.form:e.closest("form")}function K6(e){return e.matches("textarea, input, select, button")}function q6(e,t){if(!e)return;const n=z6(e);return n==null||n.addEventListener("reset",t,{passive:!0}),()=>{n==null||n.removeEventListener("reset",t)}}function Y6(e,t){const n=e==null?void 0:e.closest("fieldset");if(!n)return;t(n.disabled);const i=n.ownerDocument.defaultView||window,s=new i.MutationObserver(()=>t(n.disabled));return s.observe(n,{attributes:!0,attributeFilter:["disabled"]}),()=>s.disconnect()}function Xl(e,t){if(!e)return;const{onFieldsetDisabledChange:n,onFormReset:i}=t,s=[q6(e,i),Y6(e,n)];return()=>{s.forEach(r=>r==null?void 0:r())}}var LT=Dn("checkbox").parts("root","label","control","indicator"),bd=LT.build(),Gn=Pi({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`checkbox:${e.id}`},getLabelId:e=>{var t;return((t=e.ids)==null?void 0:t.label)??`checkbox:${e.id}:label`},getControlId:e=>{var t;return((t=e.ids)==null?void 0:t.control)??`checkbox:${e.id}:control`},getHiddenInputId:e=>{var t;return((t=e.ids)==null?void 0:t.hiddenInput)??`checkbox:${e.id}:input`},getRootEl:e=>Gn.getById(e,Gn.getRootId(e)),getHiddenInputEl:e=>Gn.getById(e,Gn.getHiddenInputId(e))});function J6(e,t,n){const i=e.context.isDisabled,s=e.context.readOnly,r=!i&&e.context.focused,a=!i&&e.context.focusVisible,u=e.context.isChecked,o=e.context.isIndeterminate,l={"data-active":H(e.context.active),"data-focus":H(r),"data-focus-visible":H(a),"data-readonly":H(s),"data-hover":H(e.context.hovered),"data-disabled":H(i),"data-state":o?"indeterminate":e.context.checked?"checked":"unchecked","data-invalid":H(e.context.invalid)};return{checked:u,disabled:i,indeterminate:o,focused:r,checkedState:e.context.checked,setChecked(c){t({type:"CHECKED.SET",checked:c,isTrusted:!1})},toggleChecked(){t({type:"CHECKED.TOGGLE",checked:u,isTrusted:!1})},getRootProps(){return n.label({...bd.root.attrs,...l,dir:e.context.dir,id:Gn.getRootId(e.context),htmlFor:Gn.getHiddenInputId(e.context),onPointerMove(){i||t({type:"CONTEXT.SET",context:{hovered:!0}})},onPointerLeave(){i||t({type:"CONTEXT.SET",context:{hovered:!1}})},onClick(c){Zi(c)===Gn.getHiddenInputEl(e.context)&&c.stopPropagation()}})},getLabelProps(){return n.element({...bd.label.attrs,...l,dir:e.context.dir,id:Gn.getLabelId(e.context)})},getControlProps(){return n.element({...bd.control.attrs,...l,dir:e.context.dir,id:Gn.getControlId(e.context),"aria-hidden":!0})},getIndicatorProps(){return n.element({...bd.indicator.attrs,...l,dir:e.context.dir,hidden:!o&&!e.context.checked})},getHiddenInputProps(){return n.input({id:Gn.getHiddenInputId(e.context),type:"checkbox",required:e.context.required,defaultChecked:u,disabled:i,"aria-labelledby":Gn.getLabelId(e.context),"aria-invalid":e.context.invalid,name:e.context.name,form:e.context.form,value:e.context.value,style:Bu,onFocus(){const c=xh();t({type:"CONTEXT.SET",context:{focused:!0,focusVisible:c}})},onBlur(){t({type:"CONTEXT.SET",context:{focused:!1,focusVisible:!1}})},onClick(c){if(s){c.preventDefault();return}const d=c.currentTarget.checked;t({type:"CHECKED.SET",checked:d,isTrusted:!0})}})}}}var{not:B0}=V6;function X6(e){const t=Te(e);return G6({id:"checkbox",initial:"ready",context:{checked:!1,value:"on",disabled:!1,...t,fieldsetDisabled:!1,focusVisible:!1},watch:{disabled:"removeFocusIfNeeded",checked:"syncInputElement"},activities:["trackFormControlState","trackPressEvent","trackFocusVisible"],on:{"CHECKED.TOGGLE":[{guard:B0("isTrusted"),actions:["toggleChecked","dispatchChangeEvent"]},{actions:["toggleChecked"]}],"CHECKED.SET":[{guard:B0("isTrusted"),actions:["setChecked","dispatchChangeEvent"]},{actions:["setChecked"]}],"CONTEXT.SET":{actions:["setContext"]}},computed:{isIndeterminate:n=>ym(n.checked),isChecked:n=>H0(n.checked),isDisabled:n=>!!n.disabled||n.fieldsetDisabled},states:{ready:{}}},{guards:{isTrusted:(n,i)=>!!i.isTrusted},activities:{trackPressEvent(n){if(!n.isDisabled)return vR({pointerNode:Gn.getRootEl(n),keyboardNode:Gn.getHiddenInputEl(n),isValidKey:i=>i.key===" ",onPress:()=>n.active=!1,onPressStart:()=>n.active=!0,onPressEnd:()=>n.active=!1})},trackFocusVisible(n){if(!n.isDisabled)return kT({root:Gn.getRootNode(n)})},trackFormControlState(n,i,{send:s,initialContext:r}){return Xl(Gn.getHiddenInputEl(n),{onFieldsetDisabledChange(a){n.fieldsetDisabled=a},onFormReset(){s({type:"CHECKED.SET",checked:!!r.checked})}})}},actions:{setContext(n,i){Object.assign(n,i.context)},syncInputElement(n){const i=Gn.getHiddenInputEl(n);i&&(NT(i,n.isChecked),i.indeterminate=n.isIndeterminate)},removeFocusIfNeeded(n){n.disabled&&n.focused&&(n.focused=!1,n.focusVisible=!1)},setChecked(n,i){j0.checked(n,i.checked)},toggleChecked(n){const i=ym(n.checked)?!0:!n.checked;j0.checked(n,i)},dispatchChangeEvent(n){const i=Gn.getHiddenInputEl(n);DT(i,{checked:H0(n.checked)})}}})}function ym(e){return e==="indeterminate"}function H0(e){return ym(e)?!1:!!e}var Z6={change:e=>{var t;(t=e.onCheckedChange)==null||t.call(e,{checked:e.checked})}},j0={checked:(e,t)=>{dn(e.checked,t)||(e.checked=t,Z6.change(e))}};tn()(["checked","dir","disabled","form","getRootNode","id","ids","invalid","name","onCheckedChange","readOnly","required","value"]);const[Q6,eG]=gt("CheckboxGroupContext"),tG=(e,t)=>{const n=Kn(),i=Qi(),s=Ni(Mi),r=Yn(),a=eG(),u=K(()=>Bo(e,(a==null?void 0:a.value.getItemProps({value:e.value}))??{})),o=K(()=>({id:n,ids:{label:r==null?void 0:r.value.ids.label,hiddenInput:r==null?void 0:r.value.ids.control},disabled:r==null?void 0:r.value.disabled,readOnly:r==null?void 0:r.value.readOnly,invalid:r==null?void 0:r.value.invalid,required:r==null?void 0:r.value.required,dir:s.value.dir,checked:u.value.defaultChecked,getRootNode:i==null?void 0:i.value.getRootNode,onCheckedChange(d){t==null||t("checkedChange",d),t==null||t("update:checked",d.checked)},...es(u.value)})),[l,c]=Ei(X6(o.value),{context:o});return K(()=>J6(l.value,c,$i))},[FT,Ku]=gt("CheckboxContext");function nG(e,t,n,i={}){var h,f,p;const{passive:s=!1,eventName:r,defaultValue:a}=i,u=ms(),o=n||(u==null?void 0:u.emit)||((h=u==null?void 0:u.$emit)==null?void 0:h.bind(u))||((p=(f=u==null?void 0:u.proxy)==null?void 0:f.$emit)==null?void 0:p.bind(u==null?void 0:u.proxy)),l=t,c=()=>e[l]??a,d=g=>{if(!r)o(r||`update:${l.toString()}`,g);else for(const m of r)o(m,g)};if(s){const g=c(),m=st(g);let y=!1;return qt(()=>e[l],b=>{y||(y=!0,m.value=b,Ta(()=>{y=!1}))}),qt(m,b=>{!y&&b!==e[l]&&d(b)}),m}return K({get(){return c()},set(g){d(g)}})}function iG(e,t){const n=K(()=>!(e.disabled||e.readOnly)),{defaultValue:i}=GS(e),s=nG(e,"modelValue",t,{defaultValue:(i==null?void 0:i.value)??[],passive:e.modelValue===void 0,eventName:["valueChange","update:modelValue"]}),r=d=>s.value.some(h=>String(h)===String(d)),a=d=>{r(d)?o(d):u(d)},u=d=>{n.value&&(r(d)||(s.value=s.value.concat(d)))},o=d=>{n.value&&(s.value=s.value.filter(h=>String(h)!==String(d)))},l=d=>({checked:d.value!=null?r(d.value):void 0,onCheckedChange(){d.value!=null&&a(d.value)},name:e.name,disabled:e.disabled,readOnly:e.readOnly,invalid:e.invalid}),c=d=>{s.value=d};return K(()=>({isChecked:r,value:s.value,name:e.name,disabled:e.disabled,readOnly:e.readOnly,invalid:e.invalid,addValue:u,setValue:c,toggleValue:a,getItemProps:l}))}const sG=LT.extendWith("group"),rG=$({__name:"checkbox-context",setup(e){const t=Ku();return(n,i)=>V(n.$slots,"default",hn(on(v(t))))}}),oG=$({__name:"checkbox-control",props:{asChild:{type:Boolean}},setup(e){const t=Ku();return U(),(n,i)=>(C(),R(v(X).div,W(v(t).getControlProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),aG=$({__name:"checkbox-group",props:On({defaultValue:{},modelValue:{},disabled:{type:Boolean},readOnly:{type:Boolean},name:{},invalid:{type:Boolean},asChild:{type:Boolean}},{disabled:void 0,readOnly:void 0,invalid:void 0}),emits:["valueChange","update:modelValue"],setup(e,{emit:t}){const s=iG(e,t);return Q6(s),U(),(r,a)=>(C(),R(v(X).div,W({role:"group"},{...v(sG).build().group.attrs},{"as-child":r.asChild}),{default:S(()=>[V(r.$slots,"default")]),_:3},16,["as-child"]))}}),lG=$({__name:"checkbox-hidden-input",props:{asChild:{type:Boolean}},setup(e){const t=Ku(),n=Yn();return U(),(i,s)=>{var r;return C(),R(v(X).input,W({"aria-describedby":(r=v(n))==null?void 0:r.ariaDescribedby},v(t).getHiddenInputProps(),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["aria-describedby","as-child"])}}}),cG=$({__name:"checkbox-indicator",props:{indeterminate:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,n=Ku(),i=K(()=>t.indeterminate?n.value.indeterminate:n.value.checked);return U(),(s,r)=>(C(),R(v(X).div,W(v(n).getIndicatorProps(),{hidden:!i.value,"as-child":s.asChild}),{default:S(()=>[V(s.$slots,"default")]),_:3},16,["hidden","as-child"]))}}),uG=$({__name:"checkbox-label",props:{asChild:{type:Boolean}},setup(e){const t=Ku();return U(),(n,i)=>(C(),R(v(X).span,W(v(t).getLabelProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),dG=$({__name:"checkbox-root-provider",props:{value:{},asChild:{type:Boolean}},setup(e){const t=e,n=K(()=>t.value);return FT(n),U(),(i,s)=>(C(),R(v(X).label,W(n.value.getRootProps(),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["as-child"]))}}),hG=$({__name:"checkbox-root",props:On({checked:{},defaultChecked:{},disabled:{type:Boolean},form:{},id:{},ids:{},invalid:{type:Boolean},name:{},readOnly:{type:Boolean},required:{type:Boolean},value:{},asChild:{type:Boolean}},{checked:void 0,defaultChecked:void 0,disabled:void 0,invalid:void 0,readOnly:void 0,required:void 0}),emits:["checkedChange","update:checked"],setup(e,{emit:t}){const s=tG(e,t);return FT(s),U(),(r,a)=>(C(),R(v(X).label,W(v(s).getRootProps(),{"as-child":r.asChild}),{default:S(()=>[V(r.$slots,"default")]),_:3},16,["as-child"]))}}),dc=Object.freeze(Object.defineProperty({__proto__:null,Context:rG,Control:oG,Group:aG,HiddenInput:lG,Indicator:cG,Label:uG,Root:hG,RootProvider:dG},Symbol.toStringTag,{value:"Module"})),cy=$({__name:"Checkbox",props:Vn({label:null},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=mn(e,"modelValue"),n=e;return(i,s)=>{const r=x6;return C(),R(v(dc).Root,{checked:t.value,"onUpdate:checked":s[0]||(s[0]=a=>t.value=a),class:"gap-2 flex items-center"},{default:S(()=>[O(v(dc).Control,{class:sn(["w-4 h-4 rounded-sm border bg-white border-zinc-400 cursor-pointer flex items-center justify-center text-white","data-[state=checked]:bg-gray-700 data-[state=checked]:border-gray-700"])},{default:S(()=>[O(v(dc).Indicator,null,{default:S(()=>[O(r,{class:"w-3"})]),_:1})]),_:1}),e.label?(C(),R(v(dc).Label,{key:0},{default:S(()=>[qe(ue(n.label),1)]),_:1})):tt("",!0),O(v(dc).HiddenInput)]),_:1},8,["checked"])}}}),fG={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function pG(e,t){return C(),te("svg",fG,t[0]||(t[0]=[L("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"m19.5 8.25l-7.5 7.5l-7.5-7.5"},null,-1)]))}const Lr=bt({name:"heroicons-chevron-down",render:pG}),gG={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function mG(e,t){return C(),te("svg",gG,t[0]||(t[0]=[L("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"m4.5 15.75l7.5-7.5l7.5 7.5"},null,-1)]))}const vG=bt({name:"heroicons-chevron-up",render:mG});function yG(e,t){return(e%t+t)%t}function tu(e){if(typeof window.devicePixelRatio!="number")return Math.round(e);const t=window.devicePixelRatio;return Math.floor(e*t+.5)/t}function Ed(e,t){return Math.min(Math.max(Pa(e),t.min),t.max)}function U0(e){if(!Number.isFinite(e))return 0;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n+=1;return n}var bG=(e,t)=>VT(Pa(e),"+",t),EG=(e,t)=>VT(Pa(e),"-",t);function Pa(e){return Number.isNaN(e)?0:e}function _G(e,t){return Pa(e)>=t.max}function CG(e,t){return Pa(e)<=t.min}function SG(e,t){return Pa(e)>=t.min&&Pa(e)<=t.max}function VT(e,t,n){let i=t==="+"?e+n:e-n;if(e%1!==0||n%1!==0){const s=10**Math.max(U0(e),U0(n));e=Math.round(e*s),n=Math.round(n*s),i=t==="+"?e+n:e-n,i/=s}return i}var xG=Object.defineProperty,TG=(e,t,n)=>t in e?xG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ke=(e,t,n)=>TG(e,typeof t!="symbol"?t+"":t,n);function BT(e,...t){for(const n of t){const i=Te(n);for(const s in i)bi(n[s])?(e[s]||(e[s]={}),BT(e[s],n[s])):e[s]=n[s]}return e}function G0(e){return bn(e)}function _s(e){return q(e)?{type:e}:e}function Kr(e){return e?Qe(e)?e.slice():[e]:[]}function HT(e){return Ce(e)&&e.predicate!=null}var jT=()=>!0;function Vf(e,t,n,i){return s=>{var r;return q(s)?!!((r=e[s])!=null&&r.call(e,t,n,i)):We(s)?s(t,n,i):s.predicate(e)(t,n,i)}}function wG(...e){return{predicate:t=>(n,i,s)=>e.map(Vf(t,n,i,s)).some(Boolean)}}function IG(...e){return{predicate:t=>(n,i,s)=>e.map(Vf(t,n,i,s)).every(Boolean)}}function OG(e){return{predicate:t=>(n,i,s)=>!Vf(t,n,i,s)(e)}}function kG(...e){return(t,n,i)=>i.state.matches(...e)}var AG={or:wG,and:IG,not:OG,stateIn:kG};function PG(e){return{predicate:t=>(n,i,s)=>{var r;return(r=e.find(a=>{const u=a.guard??jT;return Vf(t,n,i,s)(u)}))==null?void 0:r.actions}}}function UT(e,t){return e=e??jT,(n,i,s)=>{if(q(e)){const r=t[e];return We(r)?r(n,i,s):r}return HT(e)?e.predicate(t)(n,i,s):e==null?void 0:e(n,i,s)}}function Zp(e,t){return(n,i,s)=>HT(e)?e.predicate(t)(n,i,s):e}function $G(e){var r,a;const t=e.computed??Q({}),n=e.context??Q({}),i=e.initial?(a=(r=e.states)==null?void 0:r[e.initial])==null?void 0:a.tags:[],s=qn({value:e.initial??"",previousValue:"",event:Q({}),previousEvent:Q({}),context:mi(n,t),done:!1,tags:i??[],hasTag(u){return this.tags.includes(u)},matches(...u){return u.includes(this.value)},can(u){return Q(this).nextEvents.includes(u)},get nextEvents(){var l,c;const u=((c=(l=e.states)==null?void 0:l[this.value])==null?void 0:c.on)??{},o=(e==null?void 0:e.on)??{};return Object.keys({...u,...o})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return Q(s)}function hc(e,t){return(n,i)=>{if(yi(e))return e;if(We(e))return e(n,i);if(q(e)){const s=Number.parseFloat(e);if(!Number.isNaN(s))return s;if(t){const r=t==null?void 0:t[e];return He(r==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${e}\`. It doesn't exist in \`options.delays\``),We(r)?r(n,i):r}}}}function MG(e){return q(e)?{target:e}:e}function NG(e,t){return(n,i,s)=>Kr(e).map(MG).find(r=>UT(r.guard,t)(n,i,s)??r.target??r.actions)}var RG=class{constructor(t,n){var i,s,r,a,u;ke(this,"status","Not Started"),ke(this,"state"),ke(this,"initialState"),ke(this,"initialContext"),ke(this,"id"),ke(this,"type","machine"),ke(this,"activityEvents",new Map),ke(this,"delayedEvents",new Map),ke(this,"stateListeners",new Set),ke(this,"doneListeners",new Set),ke(this,"contextWatchers",new Set),ke(this,"removeStateListener",ni),ke(this,"parent"),ke(this,"children",new Map),ke(this,"guardMap"),ke(this,"actionMap"),ke(this,"delayMap"),ke(this,"activityMap"),ke(this,"sync"),ke(this,"options"),ke(this,"config"),ke(this,"_created",()=>{var l;const o=_s("machine.created");this.executeActions((l=this.config)==null?void 0:l.created,o)}),ke(this,"start",o=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=Pt(this.state,()=>{this.stateListeners.forEach(p=>{p(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(_s("machine.start"),Kr(this.config.activities),"machine.start"),this.executeActions(this.config.entry,_s("machine.start"));const l=_s("machine.init"),c=Ce(o)?o.value:o,d=Ce(o)?o.context:void 0;d&&this.setContext(d);const h={target:c??this.config.initial},f=this.getNextStateInfo(h,l);return this.initialState=f,this.performStateChangeEffects(this.state.value,f,l),this}),ke(this,"setupContextWatchers",()=>{const{watch:o}=this.config;if(!o)return;let l=_e(this.state.context);const c=Pt(this.state.context,()=>{var h;const d=_e(this.state.context);for(const[f,p]of Object.entries(o))(((h=this.options.compareFns)==null?void 0:h[f])??Object.is)(l[f],d[f])||this.executeActions(p,this.state.event);l=d});this.contextWatchers.add(c)}),ke(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,_s("machine.stop")),this.executeActions(this.config.exit,_s("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),ke(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),ke(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(o=>o()),this.contextWatchers.clear()}),ke(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(o=>{o.forEach(l=>l())}),this.delayedEvents.clear()}),ke(this,"stopActivities",o=>{var l,c;o?((l=this.activityEvents.get(o))==null||l.forEach(d=>d()),(c=this.activityEvents.get(o))==null||c.clear(),this.activityEvents.delete(o)):(this.activityEvents.forEach(d=>{d.forEach(h=>h()),d.clear()}),this.activityEvents.clear())}),ke(this,"sendChild",(o,l)=>{const c=_s(o),d=$t(l,this.contextSnapshot),h=this.children.get(d);h||He(`[@zag-js/core] Cannot send '${c.type}' event to unknown child`),h.send(c)}),ke(this,"stopChild",o=>{this.children.has(o)||He(`[@zag-js/core > stop-child] Cannot stop unknown child ${o}`),this.children.get(o).stop(),this.children.delete(o)}),ke(this,"removeChild",o=>{this.children.delete(o)}),ke(this,"stopChildren",()=>{this.children.forEach(o=>o.stop()),this.children.clear()}),ke(this,"setParent",o=>{this.parent=o}),ke(this,"spawn",(o,l)=>{const c=$t(o);return l&&(c.id=l),c.type="machine.actor",c.setParent(this),this.children.set(c.id,Q(c)),c.onDone(()=>{this.removeChild(c.id)}).start(),Q(Ke(c))}),ke(this,"stopActivity",o=>{var c;if(!this.state.value)return;const l=this.activityEvents.get(this.state.value);(c=l==null?void 0:l.get(o))==null||c(),l==null||l.delete(o)}),ke(this,"addActivityCleanup",(o,l,c)=>{var d;o&&(this.activityEvents.has(o)?(d=this.activityEvents.get(o))==null||d.set(l,c):this.activityEvents.set(o,new Map([[l,c]])))}),ke(this,"setState",o=>{this.state.previousValue=this.state.value,this.state.value=o;const l=this.getStateNode(o);o==null?vi(this.state.tags):this.state.tags=Kr(l==null?void 0:l.tags)}),ke(this,"setContext",o=>{o&&BT(this.state.context,Te(o))}),ke(this,"setOptions",o=>{const l=Te(o);this.actionMap={...this.actionMap,...l.actions},this.delayMap={...this.delayMap,...l.delays},this.activityMap={...this.activityMap,...l.activities},this.guardMap={...this.guardMap,...l.guards}}),ke(this,"getStateNode",o=>{var l;if(o)return(l=this.config.states)==null?void 0:l[o]}),ke(this,"getNextStateInfo",(o,l)=>{const c=this.determineTransition(o,l),d=!(c!=null&&c.target),h=(c==null?void 0:c.target)??this.state.value,f=this.state.value!==h,p=this.getStateNode(h),m={reenter:!d&&!f&&!(c!=null&&c.internal),transition:c,stateNode:p,target:h,changed:f};return this.log("NextState:",`[${l.type}]`,this.state.value,"---->",m.target),m}),ke(this,"getAfterActions",(o,l)=>{let c;const d=this.state.value;return{entry:()=>{c=globalThis.setTimeout(()=>{const h=this.getNextStateInfo(o,this.state.event);this.performStateChangeEffects(d,h,this.state.event)},l)},exit:()=>{globalThis.clearTimeout(c)}}}),ke(this,"getDelayedEventActions",o=>{const l=this.getStateNode(o),c=this.state.event;if(!l||!l.after)return;const d=[],h=[];if(Qe(l.after)){const f=this.determineTransition(l.after,c);if(!f)return;if(!wn(f,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(f)}`);const g=hc(f.delay,this.delayMap)(this.contextSnapshot,c),m=this.getAfterActions(f,g);return d.push(m.entry),h.push(m.exit),{entries:d,exits:h}}if(Ce(l.after))for(const f in l.after){const p=l.after[f],m=hc(f,this.delayMap)(this.contextSnapshot,c),y=this.getAfterActions(p,m);d.push(y.entry),h.push(y.exit)}return{entries:d,exits:h}}),ke(this,"executeActions",(o,l)=>{var d;const c=Zp(o,this.guardMap)(this.contextSnapshot,l,this.guardMeta);for(const h of Kr(c)){const f=q(h)?(d=this.actionMap)==null?void 0:d[h]:h;nt(q(h)&&!f,`[@zag-js/core > execute-actions] No implementation found for action: \`${h}\``),f==null||f(this.state.context,l,this.meta)}}),ke(this,"executeActivities",(o,l,c)=>{var d;for(const h of l){const f=q(h)?(d=this.activityMap)==null?void 0:d[h]:h;if(!f){nt(`[@zag-js/core > execute-activity] No implementation found for activity: \`${h}\``);continue}const p=f(this.state.context,o,this.meta);if(p){const g=q(h)?h:h.name||Rt();this.addActivityCleanup(c??this.state.value,g,p)}}}),ke(this,"createEveryActivities",(o,l)=>{if(o)if(Qe(o)){const c=Kr(o).find(p=>{const g=p.delay,y=hc(g,this.delayMap)(this.contextSnapshot,this.state.event);return UT(p.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??y!=null});if(!c)return;const h=hc(c.delay,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const p=globalThis.setInterval(()=>{this.executeActions(c.actions,this.state.event)},h);return()=>{globalThis.clearInterval(p)}})}else for(const c in o){const d=o==null?void 0:o[c],f=hc(c,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const g=globalThis.setInterval(()=>{this.executeActions(d,this.state.event)},f);return()=>{globalThis.clearInterval(g)}})}}),ke(this,"setEvent",o=>{this.state.previousEvent=this.state.event,this.state.event=Ke(_s(o))}),ke(this,"performExitEffects",(o,l)=>{const c=this.state.value;if(c==="")return;const d=o?this.getStateNode(o):void 0;this.stopActivities(c);const h=Zp(d==null?void 0:d.exit,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=Kr(h),p=this.delayedEvents.get(c);p&&f.push(...p),this.executeActions(f,l),this.delayedEvents.delete(c)}),ke(this,"performEntryEffects",(o,l)=>{const c=this.getStateNode(o),d=Kr(c==null?void 0:c.activities);this.createEveryActivities(c==null?void 0:c.every,g=>{d.unshift(g)}),d.length>0&&this.executeActivities(l,d);const h=Zp(c==null?void 0:c.entry,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=Kr(h),p=this.getDelayedEventActions(o);c!=null&&c.after&&p&&(this.delayedEvents.set(o,p==null?void 0:p.exits),f.push(...p.entries)),this.executeActions(f,l),(c==null?void 0:c.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(g=>{g(this.stateSnapshot)}),this.stop())}),ke(this,"performTransitionEffects",(o,l)=>{const c=this.determineTransition(o,l);this.executeActions(c==null?void 0:c.actions,l)}),ke(this,"performStateChangeEffects",(o,l,c)=>{this.setEvent(c);const d=l.changed||l.reenter;d&&this.performExitEffects(o,c),this.performTransitionEffects(l.transition,c),this.setState(l.target),d&&this.performEntryEffects(l.target,c)}),ke(this,"determineTransition",(o,l)=>{const c=NG(o,this.guardMap);return c==null?void 0:c(this.contextSnapshot,l,this.guardMeta)}),ke(this,"sendParent",o=>{var c;this.parent||He("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const l=_s(o);(c=this.parent)==null||c.send(l)}),ke(this,"log",(...o)=>{}),ke(this,"send",o=>{const l=_s(o);this.transition(this.state.value,l)}),ke(this,"transition",(o,l)=>{var p,g;const c=q(o)?this.getStateNode(o):o==null?void 0:o.stateNode,d=_s(l);if(!c&&!this.config.on){const m=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${o}, \`event\`: ${d.type}`;nt(m);return}const h=((p=c==null?void 0:c.on)==null?void 0:p[d.type])??((g=this.config.on)==null?void 0:g[d.type]),f=this.getNextStateInfo(h,d);return this.performStateChangeEffects(this.state.value,f,d),f.stateNode}),ke(this,"subscribe",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),()=>{this.stateListeners.delete(o)})),ke(this,"onDone",o=>(this.doneListeners.add(o),this)),ke(this,"onTransition",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),this)),this.config=G0(t),this.options=G0(n??{}),this.id=this.config.id??`machine-${Rt()}`,this.guardMap=((i=this.options)==null?void 0:i.guards)??{},this.actionMap=((s=this.options)==null?void 0:s.actions)??{},this.delayMap=((r=this.options)==null?void 0:r.delays)??{},this.activityMap=((a=this.options)==null?void 0:a.activities)??{},this.sync=((u=this.options)==null?void 0:u.sync)??!1,this.state=$G(this.config),this.initialContext=_e(this.state.context)}get stateSnapshot(){return Q(_e(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const t=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return t.stateSnapshot},get initialContext(){return t.initialContext},get initialState(){var n;return((n=t.initialState)==null?void 0:n.target)??""}}}get meta(){var t;return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:((t=this.initialState)==null?void 0:t.target)??"",getState:()=>this.stateSnapshot,getAction:n=>this.actionMap[n],getGuard:n=>this.guardMap[n]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){const t=this.getState();return{value:t.value,tags:t.tags}}},DG=(e,t)=>new RG(e,t);let Qp=new Map,bm=!1;try{bm=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let Th=!1;try{Th=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const GT={degree:{narrow:{default:"°","ja-JP":" 度","zh-TW":"度","sl-SI":" °"}}};class LG{format(t){let n="";if(!bm&&this.options.signDisplay!=null?n=VG(this.numberFormatter,this.options.signDisplay,t):n=this.numberFormatter.format(t),this.options.style==="unit"&&!Th){var i;let{unit:s,unitDisplay:r="short",locale:a}=this.resolvedOptions();if(!s)return n;let u=(i=GT[s])===null||i===void 0?void 0:i[r];n+=u[a]||u.default}return n}formatToParts(t){return this.numberFormatter.formatToParts(t)}formatRange(t,n){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(t,n);if(n<t)throw new RangeError("End date must be >= start date");return`${this.format(t)} – ${this.format(n)}`}formatRangeToParts(t,n){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(t,n);if(n<t)throw new RangeError("End date must be >= start date");let i=this.numberFormatter.formatToParts(t),s=this.numberFormatter.formatToParts(n);return[...i.map(r=>({...r,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...s.map(r=>({...r,source:"endRange"}))]}resolvedOptions(){let t=this.numberFormatter.resolvedOptions();return!bm&&this.options.signDisplay!=null&&(t={...t,signDisplay:this.options.signDisplay}),!Th&&this.options.style==="unit"&&(t={...t,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),t}constructor(t,n={}){this.numberFormatter=FG(t,n),this.options=n}}function FG(e,t={}){let{numberingSystem:n}=t;if(n&&e.includes("-nu-")&&(e.includes("-u-")||(e+="-u-"),e+=`-nu-${n}`),t.style==="unit"&&!Th){var i;let{unit:a,unitDisplay:u="short"}=t;if(!a)throw new Error('unit option must be provided with style: "unit"');if(!(!((i=GT[a])===null||i===void 0)&&i[u]))throw new Error(`Unsupported unit ${a} with unitDisplay = ${u}`);t={...t,style:"decimal"}}let s=e+(t?Object.entries(t).sort((a,u)=>a[0]<u[0]?-1:1).join():"");if(Qp.has(s))return Qp.get(s);let r=new Intl.NumberFormat(e,t);return Qp.set(s,r),r}function VG(e,t,n){if(t==="auto")return e.format(n);if(t==="never")return e.format(Math.abs(n));{let i=!1;if(t==="always"?i=n>0||Object.is(n,0):t==="exceptZero"&&(Object.is(n,-0)||Object.is(n,0)?n=Math.abs(n):i=n>0),i){let s=e.format(-n),r=e.format(n),a=s.replace(r,"").replace(/\u200e|\u061C/,"");return[...a].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),s.replace(r,"!!!").replace(a,"+").replace("!!!",r)}else return e.format(n)}}const BG=new RegExp("^.*\\(.*\\).*$"),HG=["latn","arab","hanidec"];class WT{parse(t){return eg(this.locale,this.options,t).parse(t)}isValidPartialNumber(t,n,i){return eg(this.locale,this.options,t).isValidPartialNumber(t,n,i)}getNumberingSystem(t){return eg(this.locale,this.options,t).options.numberingSystem}constructor(t,n={}){this.locale=t,this.options=n}}const W0=new Map;function eg(e,t,n){let i=z0(e,t);if(!e.includes("-nu-")&&!i.isValidPartialNumber(n)){for(let s of HG)if(s!==i.options.numberingSystem){let r=z0(e+(e.includes("-u-")?"-nu-":"-u-nu-")+s,t);if(r.isValidPartialNumber(n))return r}}return i}function z0(e,t){let n=e+(t?Object.entries(t).sort((s,r)=>s[0]<r[0]?-1:1).join():""),i=W0.get(n);return i||(i=new jG(e,t),W0.set(n,i)),i}class jG{parse(t){let n=this.sanitize(t);if(this.symbols.group&&(n=_d(n,this.symbols.group,"")),this.symbols.decimal&&(n=n.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(n=n.replace(this.symbols.minusSign,"-")),n=n.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let a=n.indexOf("-");n=n.replace("-","");let u=n.indexOf(".");u===-1&&(u=n.length),n=n.replace(".",""),u-2===0?n=`0.${n}`:u-2===-1?n=`0.0${n}`:u-2===-2?n="0.00":n=`${n.slice(0,u-2)}.${n.slice(u-2)}`,a>-1&&(n=`-${n}`)}let i=n?+n:NaN;if(isNaN(i))return NaN;if(this.options.style==="percent"){var s,r;let a={...this.options,style:"decimal",minimumFractionDigits:Math.min(((s=this.options.minimumFractionDigits)!==null&&s!==void 0?s:0)+2,20),maximumFractionDigits:Math.min(((r=this.options.maximumFractionDigits)!==null&&r!==void 0?r:0)+2,20)};return new WT(this.locale,a).parse(new LG(this.locale,a).format(i))}return this.options.currencySign==="accounting"&&BG.test(t)&&(i=-1*i),i}sanitize(t){return t=t.replace(this.symbols.literals,""),this.symbols.minusSign&&(t=t.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(t=t.replace(",",this.symbols.decimal),t=t.replace("،",this.symbols.decimal)),this.symbols.group&&(t=_d(t,".",this.symbols.group))),this.options.locale==="fr-FR"&&(t=_d(t,"."," ")),t}isValidPartialNumber(t,n=-1/0,i=1/0){return t=this.sanitize(t),this.symbols.minusSign&&t.startsWith(this.symbols.minusSign)&&n<0?t=t.slice(this.symbols.minusSign.length):this.symbols.plusSign&&t.startsWith(this.symbols.plusSign)&&i>0&&(t=t.slice(this.symbols.plusSign.length)),this.symbols.group&&t.startsWith(this.symbols.group)||this.symbols.decimal&&t.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(t=_d(t,this.symbols.group,"")),t=t.replace(this.symbols.numeral,""),this.symbols.decimal&&(t=t.replace(this.symbols.decimal,"")),t.length===0)}constructor(t,n={}){this.locale=t,this.formatter=new Intl.NumberFormat(t,n),this.options=this.formatter.resolvedOptions(),this.symbols=GG(t,this.formatter,this.options,n);var i,s;this.options.style==="percent"&&(((i=this.options.minimumFractionDigits)!==null&&i!==void 0?i:0)>18||((s=this.options.maximumFractionDigits)!==null&&s!==void 0?s:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}}const K0=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),UG=[0,4,2,1,11,20,3,7,100,21,.1,1.1];function GG(e,t,n,i){var s,r,a,u;let o=new Intl.NumberFormat(e,{...n,minimumSignificantDigits:1,maximumSignificantDigits:21}),l=o.formatToParts(-10000.111),c=o.formatToParts(10000.111),d=UG.map(j=>o.formatToParts(j));var h;let f=(h=(s=l.find(j=>j.type==="minusSign"))===null||s===void 0?void 0:s.value)!==null&&h!==void 0?h:"-",p=(r=c.find(j=>j.type==="plusSign"))===null||r===void 0?void 0:r.value;!p&&((i==null?void 0:i.signDisplay)==="exceptZero"||(i==null?void 0:i.signDisplay)==="always")&&(p="+");let m=(a=new Intl.NumberFormat(e,{...n,minimumFractionDigits:2,maximumFractionDigits:2}).formatToParts(.001).find(j=>j.type==="decimal"))===null||a===void 0?void 0:a.value,y=(u=l.find(j=>j.type==="group"))===null||u===void 0?void 0:u.value,b=l.filter(j=>!K0.has(j.type)).map(j=>q0(j.value)),E=d.flatMap(j=>j.filter(se=>!K0.has(se.type)).map(se=>q0(se.value))),_=[...new Set([...b,...E])].sort((j,se)=>se.length-j.length),I=_.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${_.join("|")}|[\\p{White_Space}]`,"gu"),P=[...new Intl.NumberFormat(n.locale,{useGrouping:!1}).format(9876543210)].reverse(),M=new Map(P.map((j,se)=>[j,se])),z=new RegExp(`[${P.join("")}]`,"g");return{minusSign:f,plusSign:p,decimal:m,group:y,literals:I,numeral:z,index:j=>String(M.get(j))}}function _d(e,t,n){return e.replaceAll?e.replaceAll(t,n):e.split(t).join(n)}function q0(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var WG=Dn("numberInput").parts("root","label","input","control","valueText","incrementTrigger","decrementTrigger","scrubber"),Br=WG.build(),ct=Pi({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`number-input:${e.id}`},getInputId:e=>{var t;return((t=e.ids)==null?void 0:t.input)??`number-input:${e.id}:input`},getIncrementTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.incrementTrigger)??`number-input:${e.id}:inc`},getDecrementTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.decrementTrigger)??`number-input:${e.id}:dec`},getScrubberId:e=>{var t;return((t=e.ids)==null?void 0:t.scrubber)??`number-input:${e.id}:scrubber`},getCursorId:e=>`number-input:${e.id}:cursor`,getLabelId:e=>{var t;return((t=e.ids)==null?void 0:t.label)??`number-input:${e.id}:label`},getInputEl:e=>ct.getById(e,ct.getInputId(e)),getIncrementTriggerEl:e=>ct.getById(e,ct.getIncrementTriggerId(e)),getDecrementTriggerEl:e=>ct.getById(e,ct.getDecrementTriggerId(e)),getScrubberEl:e=>ct.getById(e,ct.getScrubberId(e)),getCursorEl:e=>ct.getDoc(e).getElementById(ct.getCursorId(e)),getPressedTriggerEl:(e,t=e.hint)=>{let n=null;return t==="increment"&&(n=ct.getIncrementTriggerEl(e)),t==="decrement"&&(n=ct.getDecrementTriggerEl(e)),n},setupVirtualCursor(e){if(!wf())return ct.createVirtualCursor(e),()=>{var t;(t=ct.getCursorEl(e))==null||t.remove()}},preventTextSelection(e){const t=ct.getDoc(e),n=t.documentElement,i=t.body;return i.style.pointerEvents="none",n.style.userSelect="none",n.style.cursor="ew-resize",()=>{i.style.pointerEvents="",n.style.userSelect="",n.style.cursor="",n.style.length||n.removeAttribute("style"),i.style.length||i.removeAttribute("style")}},getMousementValue(e,t){const n=tu(t.movementX),i=tu(t.movementY);let s=n>0?"increment":n<0?"decrement":null;e.isRtl&&s==="increment"&&(s="decrement"),e.isRtl&&s==="decrement"&&(s="increment");const r={x:e.scrubberCursorPoint.x+n,y:e.scrubberCursorPoint.y+i},u=ct.getWin(e).innerWidth,o=tu(7.5);return r.x=yG(r.x+o,u)-o,{hint:s,point:r}},createVirtualCursor(e){const t=ct.getDoc(e),n=t.createElement("div");n.className="scrubber--cursor",n.id=ct.getCursorId(e),Object.assign(n.style,{width:"15px",height:"15px",position:"fixed",pointerEvents:"none",left:"0px",top:"0px",zIndex:FM,transform:e.scrubberCursorPoint?`translate3d(${e.scrubberCursorPoint.x}px, ${e.scrubberCursorPoint.y}px, 0px)`:void 0,willChange:"transform"}),n.innerHTML=`
        <svg width="46" height="15" style="left: -15.5px; position: absolute; top: 0; filter: drop-shadow(rgba(0, 0, 0, 0.4) 0px 1px 1.1px);">
          <g transform="translate(2 3)">
            <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z" style="stroke-width: 2px; stroke: white;"></path>
            <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z"></path>
          </g>
        </svg>`,t.body.appendChild(n)}});function zG(e,t,n){const i=e.hasTag("focus"),s=e.context.isDisabled,r=e.context.readOnly,a=e.context.isValueEmpty,u=e.context.isOutOfRange||!!e.context.invalid,o=s||!e.context.canIncrement||r,l=s||!e.context.canDecrement||r,c=e.context.translations;return{focused:i,invalid:u,empty:a,value:e.context.formattedValue,valueAsNumber:e.context.valueAsNumber,setValue(d){t({type:"VALUE.SET",value:d})},clearValue(){t("VALUE.CLEAR")},increment(){t("VALUE.INCREMENT")},decrement(){t("VALUE.DECREMENT")},setToMax(){t({type:"VALUE.SET",value:e.context.max})},setToMin(){t({type:"VALUE.SET",value:e.context.min})},focus(){var d;(d=ct.getInputEl(e.context))==null||d.focus()},getRootProps(){return n.element({id:ct.getRootId(e.context),...Br.root.attrs,dir:e.context.dir,"data-disabled":H(s),"data-focus":H(i),"data-invalid":H(u)})},getLabelProps(){return n.label({...Br.label.attrs,dir:e.context.dir,"data-disabled":H(s),"data-focus":H(i),"data-invalid":H(u),id:ct.getLabelId(e.context),htmlFor:ct.getInputId(e.context)})},getControlProps(){return n.element({...Br.control.attrs,dir:e.context.dir,role:"group","aria-disabled":s,"data-focus":H(i),"data-disabled":H(s),"data-invalid":H(u),"aria-invalid":Eo(e.context.invalid)})},getValueTextProps(){return n.element({...Br.valueText.attrs,dir:e.context.dir,"data-disabled":H(s),"data-invalid":H(u),"data-focus":H(i)})},getInputProps(){return n.input({...Br.input.attrs,dir:e.context.dir,name:e.context.name,form:e.context.form,id:ct.getInputId(e.context),role:"spinbutton",defaultValue:e.context.formattedValue,pattern:e.context.pattern,inputMode:e.context.inputMode,"aria-invalid":Eo(u),"data-invalid":H(u),disabled:s,"data-disabled":H(s),readOnly:e.context.readOnly,required:e.context.required,autoComplete:"off",autoCorrect:"off",spellCheck:"false",type:"text","aria-roledescription":"numberfield","aria-valuemin":e.context.min,"aria-valuemax":e.context.max,"aria-valuenow":Number.isNaN(e.context.valueAsNumber)?void 0:e.context.valueAsNumber,"aria-valuetext":e.context.valueText,onFocus(){t("INPUT.FOCUS")},onBlur(){t("INPUT.BLUR")},onChange(d){t({type:"INPUT.CHANGE",target:d.currentTarget,hint:"set"})},onBeforeInput(d){try{const{selectionStart:h,selectionEnd:f,value:p}=d.currentTarget,g=p.slice(0,h)+(d.data??"")+p.slice(f);e.context.parser.isValidPartialNumber(g)||d.preventDefault()}catch{}},onKeyDown(d){if(d.defaultPrevented||r||mx(d))return;const h=ph(d)*e.context.step,p={ArrowUp(){t({type:"INPUT.ARROW_UP",step:h}),d.preventDefault()},ArrowDown(){t({type:"INPUT.ARROW_DOWN",step:h}),d.preventDefault()},Home(){$l(d)||(t("INPUT.HOME"),d.preventDefault())},End(){$l(d)||(t("INPUT.END"),d.preventDefault())},Enter(){t("INPUT.ENTER")}}[d.key];p==null||p(d)}})},getDecrementTriggerProps(){return n.button({...Br.decrementTrigger.attrs,dir:e.context.dir,id:ct.getDecrementTriggerId(e.context),disabled:l,"data-disabled":H(l),"aria-label":c.decrementLabel,type:"button",tabIndex:-1,"aria-controls":ct.getInputId(e.context),onPointerDown(d){var h;l||!Pl(d)||(t({type:"TRIGGER.PRESS_DOWN",hint:"decrement",pointerType:d.pointerType}),d.pointerType==="mouse"&&d.preventDefault(),d.pointerType==="touch"&&((h=d.currentTarget)==null||h.focus({preventScroll:!0})))},onPointerUp(d){t({type:"TRIGGER.PRESS_UP",hint:"decrement",pointerType:d.pointerType})},onPointerLeave(){l||t({type:"TRIGGER.PRESS_UP",hint:"decrement"})}})},getIncrementTriggerProps(){return n.button({...Br.incrementTrigger.attrs,dir:e.context.dir,id:ct.getIncrementTriggerId(e.context),disabled:o,"data-disabled":H(o),"aria-label":c.incrementLabel,type:"button",tabIndex:-1,"aria-controls":ct.getInputId(e.context),onPointerDown(d){var h;o||!Pl(d)||(t({type:"TRIGGER.PRESS_DOWN",hint:"increment",pointerType:d.pointerType}),d.pointerType==="mouse"&&d.preventDefault(),d.pointerType==="touch"&&((h=d.currentTarget)==null||h.focus({preventScroll:!0})))},onPointerUp(d){t({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:d.pointerType})},onPointerLeave(d){t({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:d.pointerType})}})},getScrubberProps(){return n.element({...Br.scrubber.attrs,dir:e.context.dir,"data-disabled":H(s),id:ct.getScrubberId(e.context),role:"presentation",onMouseDown(d){if(s)return;const h=Ar(d);h.x=h.x-tu(7.5),h.y=h.y-tu(7.5),t({type:"SCRUBBER.PRESS_DOWN",point:h}),d.preventDefault()},style:{cursor:s?void 0:"ew-resize"}})}}}function KG(e){if(e.ownerDocument.activeElement===e)try{const{selectionStart:t,selectionEnd:n,value:i}=e,s=i.substring(0,t),r=i.substring(n);return{start:t,end:n,value:i,beforeTxt:s,afterTxt:r}}catch{}}function qG(e,t){if(e.ownerDocument.activeElement===e){if(!t){e.setSelectionRange(e.value.length,e.value.length);return}try{const{value:n}=e,{beforeTxt:i="",afterTxt:s="",start:r}=t;let a=n.length;if(n.endsWith(s))a=n.length-s.length;else if(n.startsWith(i))a=i.length;else if(r!=null){const u=i[r-1],o=n.indexOf(u,r-1);o!==-1&&(a=o+1)}e.setSelectionRange(a,a)}catch{}}}var Y0=(e,t={})=>Ke(new Intl.NumberFormat(e,t)),J0=(e,t={})=>Ke(new WT(e,t)),X0=(e,t)=>e.formatOptions?e.parser.parse(String(t)):parseFloat(t),na=(e,t)=>Number.isNaN(t)?"":e.formatOptions?e.formatter.format(t):t.toString(),{not:tg,and:Cd}=AG;function YG(e){const t=Te(e);return DG({id:"number-input",initial:"idle",context:{dir:"ltr",locale:"en-US",focusInputOnChange:!0,clampValueOnBlur:!0,allowOverflow:!1,inputMode:"decimal",pattern:"[0-9]*(.[0-9]+)?",value:"",step:1,min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,invalid:!1,spinOnPress:!0,disabled:!1,readOnly:!1,...t,hint:null,scrubberCursorPoint:null,fieldsetDisabled:!1,formatter:Y0(t.locale||"en-US",t.formatOptions),parser:J0(t.locale||"en-US",t.formatOptions),translations:{incrementLabel:"increment value",decrementLabel:"decrease value",...t.translations}},computed:{isRtl:n=>n.dir==="rtl",valueAsNumber:n=>X0(n,n.value),formattedValue:n=>na(n,n.valueAsNumber),isAtMin:n=>CG(n.valueAsNumber,n),isAtMax:n=>_G(n.valueAsNumber,n),isOutOfRange:n=>!SG(n.valueAsNumber,n),isValueEmpty:n=>n.value==="",isDisabled:n=>!!n.disabled||n.fieldsetDisabled,canIncrement:n=>n.allowOverflow||!n.isAtMax,canDecrement:n=>n.allowOverflow||!n.isAtMin,valueText:n=>{var i,s;return(s=(i=n.translations).valueText)==null?void 0:s.call(i,n.value)}},watch:{formatOptions:["setFormatterAndParser","syncInputElement"],locale:["setFormatterAndParser","syncInputElement"],value:["syncInputElement"],isOutOfRange:["invokeOnInvalid"],scrubberCursorPoint:["setVirtualCursorPosition"]},activities:["trackFormControl"],on:{"VALUE.SET":{actions:["setRawValue","setHintToSet"]},"VALUE.CLEAR":{actions:["clearValue"]},"VALUE.INCREMENT":{actions:["increment"]},"VALUE.DECREMENT":{actions:["decrement"]}},states:{idle:{on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","invokeOnFocus","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","invokeOnFocus","setHint","setCursorPoint"]},"INPUT.FOCUS":{target:"focused",actions:["focusInput","invokeOnFocus"]}}},focused:{tags:"focus",activities:"attachWheelListener",on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","setHint","setCursorPoint"]},"INPUT.ARROW_UP":{actions:"increment"},"INPUT.ARROW_DOWN":{actions:"decrement"},"INPUT.HOME":{actions:"decrementToMin"},"INPUT.END":{actions:"incrementToMax"},"INPUT.CHANGE":{actions:["setValue","setHint"]},"INPUT.BLUR":[{guard:Cd("clampValueOnBlur",tg("isInRange")),target:"idle",actions:["setClampedValue","clearHint","invokeOnBlur"]},{target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur"]}],"INPUT.ENTER":{actions:["setFormattedValue","clearHint","invokeOnBlur"]}}},"before:spin":{tags:"focus",activities:"trackButtonDisabled",entry:PG([{guard:"isIncrementHint",actions:"increment"},{guard:"isDecrementHint",actions:"decrement"}]),after:{CHANGE_DELAY:{target:"spinning",guard:Cd("isInRange","spinOnPress")}},on:{"TRIGGER.PRESS_UP":[{guard:"isTouchPointer",target:"focused",actions:"clearHint"},{target:"focused",actions:["focusInput","clearHint"]}]}},spinning:{tags:"focus",activities:"trackButtonDisabled",every:[{delay:"CHANGE_INTERVAL",guard:Cd(tg("isAtMin"),"isIncrementHint"),actions:"increment"},{delay:"CHANGE_INTERVAL",guard:Cd(tg("isAtMax"),"isDecrementHint"),actions:"decrement"}],on:{"TRIGGER.PRESS_UP":{target:"focused",actions:["focusInput","clearHint"]}}},scrubbing:{tags:"focus",activities:["activatePointerLock","trackMousemove","setupVirtualCursor","preventTextSelection"],on:{"SCRUBBER.POINTER_UP":{target:"focused",actions:["focusInput","clearCursorPoint"]},"SCRUBBER.POINTER_MOVE":[{guard:"isIncrementHint",actions:["increment","setCursorPoint"]},{guard:"isDecrementHint",actions:["decrement","setCursorPoint"]}]}}}},{delays:{CHANGE_INTERVAL:50,CHANGE_DELAY:300},guards:{clampValueOnBlur:n=>n.clampValueOnBlur,isAtMin:n=>n.isAtMin,spinOnPress:n=>!!n.spinOnPress,isAtMax:n=>n.isAtMax,isInRange:n=>!n.isOutOfRange,isDecrementHint:(n,i)=>(i.hint??n.hint)==="decrement",isIncrementHint:(n,i)=>(i.hint??n.hint)==="increment",isTouchPointer:(n,i)=>i.pointerType==="touch"},activities:{trackFormControl(n,i,{initialContext:s}){const r=ct.getInputEl(n);return Xl(r,{onFieldsetDisabledChange(a){n.fieldsetDisabled=a},onFormReset(){Xs.value(n,s.value)}})},setupVirtualCursor(n){return ct.setupVirtualCursor(n)},preventTextSelection(n){return ct.preventTextSelection(n)},trackButtonDisabled(n,i,{send:s}){const r=ct.getPressedTriggerEl(n,n.hint);return kf(r,{attributes:["disabled"],callback(){s({type:"TRIGGER.PRESS_UP",src:"attr"})}})},attachWheelListener(n,i,{send:s}){const r=ct.getInputEl(n);if(!r||!ct.isActiveElement(n,r)||!n.allowMouseWheel)return;function a(u){u.preventDefault();const o=Math.sign(u.deltaY)*-1;o===1?s("VALUE.INCREMENT"):o===-1&&s("VALUE.DECREMENT")}return pn(r,"wheel",a,{passive:!1})},activatePointerLock(n){if(!wf())return hR(ct.getDoc(n))},trackMousemove(n,i,{send:s}){const r=ct.getDoc(n);function a(o){if(!n.scrubberCursorPoint)return;const l=ct.getMousementValue(n,o);l.hint&&s({type:"SCRUBBER.POINTER_MOVE",hint:l.hint,point:l.point})}function u(){s("SCRUBBER.POINTER_UP")}return Eu(pn(r,"mousemove",a,!1),pn(r,"mouseup",u,!1))}},actions:{focusInput(n){if(!n.focusInputOnChange)return;const i=ct.getInputEl(n);ct.isActiveElement(n,i)||Je(()=>i==null?void 0:i.focus({preventScroll:!0}))},increment(n,i){const s=bG(n.valueAsNumber,i.step??n.step),r=na(n,Ed(s,n));Xs.value(n,r)},decrement(n,i){const s=EG(n.valueAsNumber,i.step??n.step),r=na(n,Ed(s,n));Xs.value(n,r)},setClampedValue(n){const i=Ed(n.valueAsNumber,n);Xs.value(n,na(n,i))},setRawValue(n,i){const s=X0(n,i.value),r=na(n,Ed(s,n));Xs.value(n,r)},setValue(n,i){var r;const s=((r=i.target)==null?void 0:r.value)??i.value;Xs.value(n,s)},clearValue(n){Xs.value(n,"")},incrementToMax(n){const i=na(n,n.max);Xs.value(n,i)},decrementToMin(n){const i=na(n,n.min);Xs.value(n,i)},setHint(n,i){n.hint=i.hint},clearHint(n){n.hint=null},setHintToSet(n){n.hint="set"},invokeOnFocus(n){var i;(i=n.onFocusChange)==null||i.call(n,{focused:!0,value:n.formattedValue,valueAsNumber:n.valueAsNumber})},invokeOnBlur(n){var i;(i=n.onFocusChange)==null||i.call(n,{focused:!1,value:n.formattedValue,valueAsNumber:n.valueAsNumber})},invokeOnInvalid(n){var s;if(!n.isOutOfRange)return;const i=n.valueAsNumber>n.max?"rangeOverflow":"rangeUnderflow";(s=n.onValueInvalid)==null||s.call(n,{reason:i,value:n.formattedValue,valueAsNumber:n.valueAsNumber})},syncInputElement(n,i){const s=i.type.endsWith("CHANGE")?n.value:n.formattedValue;JG.input(n,s)},setFormattedValue(n){Xs.value(n,n.formattedValue)},setCursorPoint(n,i){n.scrubberCursorPoint=i.point},clearCursorPoint(n){n.scrubberCursorPoint=null},setVirtualCursorPosition(n){const i=ct.getCursorEl(n);if(!i||!n.scrubberCursorPoint)return;const{x:s,y:r}=n.scrubberCursorPoint;i.style.transform=`translate3d(${s}px, ${r}px, 0px)`},setFormatterAndParser(n){n.locale&&(n.formatter=Y0(n.locale,n.formatOptions),n.parser=J0(n.locale,n.formatOptions))}},compareFns:{formatOptions:(n,i)=>dn(n,i),scrubberCursorPoint:(n,i)=>dn(n,i)}})}var JG={input(e,t){const n=ct.getInputEl(e);if(!n)return;const i=KG(n);Je(()=>{ct.setValue(n,t),qG(n,i)})}},XG={onChange:e=>{var t;(t=e.onValueChange)==null||t.call(e,{value:e.value,valueAsNumber:e.valueAsNumber})}},Xs={value:(e,t)=>{dn(e.value,t)||(e.value=t,XG.onChange(e))}};const ZG=(e,t)=>{const n=Kn(),i=Qi(),s=Ni(Mi),r=Yn(),a=K(()=>({id:n,ids:{label:r==null?void 0:r.value.ids.label,input:r==null?void 0:r.value.ids.control},disabled:r==null?void 0:r.value.disabled,readOnly:r==null?void 0:r.value.readOnly,required:r==null?void 0:r.value.required,invalid:r==null?void 0:r.value.invalid,dir:s.value.dir,value:e.modelValue??e.defaultValue,getRootNode:i==null?void 0:i.value.getRootNode,onValueChange:l=>{t==null||t("valueChange",l),t==null||t("update:modelValue",l.value)},onFocusChange:l=>t==null?void 0:t("focusChange",l),onValueInvalid:l=>t==null?void 0:t("valueInvalid",l),...es(e)})),[u,o]=Ei(YG(a.value),{context:a});return K(()=>zG(u.value,o,$i))},[zT,Uo]=gt("NumberInputContext"),QG=$({__name:"number-input-context",setup(e){const t=Uo();return(n,i)=>V(n.$slots,"default",hn(on(v(t))))}}),eW=$({__name:"number-input-control",props:{asChild:{type:Boolean}},setup(e){const t=Uo();return U(),(n,i)=>(C(),R(v(X).div,W(v(t).getControlProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),tW=$({__name:"number-input-decrement-trigger",props:{asChild:{type:Boolean}},setup(e){const t=Uo();return U(),(n,i)=>(C(),R(v(X).button,W(v(t).getDecrementTriggerProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),nW=$({__name:"number-input-increment-trigger",props:{asChild:{type:Boolean}},setup(e){const t=Uo();return U(),(n,i)=>(C(),R(v(X).button,W(v(t).getIncrementTriggerProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),iW=$({__name:"number-input-value-text",props:{asChild:{type:Boolean}},setup(e){const t=Uo();return U(),(n,i)=>(C(),R(v(X).span,W(v(t).getValueTextProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),sW=$({__name:"number-input-input",props:{asChild:{type:Boolean}},setup(e){const t=Uo(),n=Yn();return U(),(i,s)=>{var r;return C(),R(v(X).input,W({"aria-describedby":(r=v(n))==null?void 0:r.ariaDescribedby},v(t).getInputProps(),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["aria-describedby","as-child"])}}}),rW=$({__name:"number-input-label",props:{asChild:{type:Boolean}},setup(e){const t=Uo();return U(),(n,i)=>(C(),R(v(X).label,W(v(t).getLabelProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),oW=$({__name:"number-input-root-provider",props:{value:{},asChild:{type:Boolean}},setup(e){const t=e,n=K(()=>t.value);return zT(n),U(),(i,s)=>(C(),R(v(X).div,W(n.value.getRootProps(),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["as-child"]))}}),aW=$({__name:"number-input-root",props:On({allowMouseWheel:{type:Boolean},allowOverflow:{type:Boolean},clampValueOnBlur:{type:Boolean},defaultValue:{},disabled:{type:Boolean},focusInputOnChange:{type:Boolean},form:{},formatOptions:{},id:{},ids:{},inputMode:{},invalid:{type:Boolean},locale:{},max:{},min:{},modelValue:{},name:{},pattern:{},readOnly:{type:Boolean},required:{type:Boolean},spinOnPress:{type:Boolean},step:{},translations:{},asChild:{type:Boolean}},{allowMouseWheel:void 0,allowOverflow:void 0,clampValueOnBlur:void 0,disabled:void 0,focusInputOnChange:void 0,invalid:void 0,readOnly:void 0,required:void 0,spinOnPress:void 0}),emits:["focusChange","valueChange","valueInvalid","update:modelValue"],setup(e,{emit:t}){const s=ZG(e,t);return zT(s),U(),(r,a)=>(C(),R(v(X).div,W(v(s).getRootProps(),{"as-child":r.asChild}),{default:S(()=>[V(r.$slots,"default")]),_:3},16,["as-child"]))}}),lW=$({__name:"number-input-scrubber",props:{asChild:{type:Boolean}},setup(e){const t=Uo();return U(),(n,i)=>(C(),R(v(X).div,W(v(t).getScrubberProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),Qa=Object.freeze(Object.defineProperty({__proto__:null,Context:QG,Control:eW,DecrementTrigger:tW,IncrementTrigger:nW,Input:sW,Label:rW,Root:aW,RootProvider:oW,Scrubber:lW,ValueText:iW},Symbol.toStringTag,{value:"Module"})),cW=$({__name:"NumberInput",props:Vn({label:null},{modelValue:{default:"0"},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=mn(e,"modelValue"),n=e;return(i,s)=>{const r=vG,a=Lr;return C(),R(v(Qa).Root,{modelValue:t.value,"onUpdate:modelValue":s[0]||(s[0]=u=>t.value=u),class:"flex flex-col gap-1.5"},{default:S(()=>[O(v(Qa).Label,{class:"text-sm font-medium"},{default:S(()=>[qe(ue(n.label),1)]),_:1}),O(v(Qa).Control,{class:sn(["ps-3 h-10 overflow-hidden","text-md","border rounded","grid grid-cols-[1fr_32px] grid-rows-[1fr_1fr]","focus-within:ring focus-within:ring-gray-700"])},{default:S(()=>[O(v(Qa).Input,{class:"border-none bg-transparent row-span-2 outline-none w-full"}),O(v(Qa).IncrementTrigger,{class:"text-gray-600 cursor-pointer inline-flex items-center justify-center border-s border-e-0"},{default:S(()=>[O(r,{class:"w-4"})]),_:1}),O(v(Qa).DecrementTrigger,{class:"text-gray-600 cursor-pointer inline-flex items-center justify-center border-t border-s border-e-0"},{default:S(()=>[O(a,{class:"w-4"})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}});var uW=Object.defineProperty,dW=(e,t,n)=>t in e?uW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ae=(e,t,n)=>dW(e,typeof t!="symbol"?t+"":t,n);function KT(e,...t){for(const n of t){const i=Te(n);for(const s in i)bi(n[s])?(e[s]||(e[s]={}),KT(e[s],n[s])):e[s]=n[s]}return e}function Z0(e){return bn(e)}function Cs(e){return q(e)?{type:e}:e}function qr(e){return e?Qe(e)?e.slice():[e]:[]}function qT(e){return Ce(e)&&e.predicate!=null}var hW=()=>!0;function uy(e,t,n,i){return s=>{var r;return q(s)?!!((r=e[s])!=null&&r.call(e,t,n,i)):We(s)?s(t,n,i):s.predicate(e)(t,n,i)}}function fW(...e){return{predicate:t=>(n,i,s)=>e.map(uy(t,n,i,s)).some(Boolean)}}function pW(...e){return{predicate:t=>(n,i,s)=>e.map(uy(t,n,i,s)).every(Boolean)}}function gW(e){return{predicate:t=>(n,i,s)=>!uy(t,n,i,s)(e)}}function mW(...e){return(t,n,i)=>i.state.matches(...e)}var vW={or:fW,and:pW,not:gW,stateIn:mW};function YT(e,t){return e=e??hW,(n,i,s)=>{if(q(e)){const r=t[e];return We(r)?r(n,i,s):r}return qT(e)?e.predicate(t)(n,i,s):e==null?void 0:e(n,i,s)}}function ng(e,t){return(n,i,s)=>qT(e)?e.predicate(t)(n,i,s):e}function yW(e){var r,a;const t=e.computed??Q({}),n=e.context??Q({}),i=e.initial?(a=(r=e.states)==null?void 0:r[e.initial])==null?void 0:a.tags:[],s=qn({value:e.initial??"",previousValue:"",event:Q({}),previousEvent:Q({}),context:mi(n,t),done:!1,tags:i??[],hasTag(u){return this.tags.includes(u)},matches(...u){return u.includes(this.value)},can(u){return Q(this).nextEvents.includes(u)},get nextEvents(){var l,c;const u=((c=(l=e.states)==null?void 0:l[this.value])==null?void 0:c.on)??{},o=(e==null?void 0:e.on)??{};return Object.keys({...u,...o})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return Q(s)}function fc(e,t){return(n,i)=>{if(yi(e))return e;if(We(e))return e(n,i);if(q(e)){const s=Number.parseFloat(e);if(!Number.isNaN(s))return s;if(t){const r=t==null?void 0:t[e];return He(r==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${e}\`. It doesn't exist in \`options.delays\``),We(r)?r(n,i):r}}}}function bW(e){return q(e)?{target:e}:e}function EW(e,t){return(n,i,s)=>qr(e).map(bW).find(r=>YT(r.guard,t)(n,i,s)??r.target??r.actions)}var _W=class{constructor(t,n){var i,s,r,a,u;Ae(this,"status","Not Started"),Ae(this,"state"),Ae(this,"initialState"),Ae(this,"initialContext"),Ae(this,"id"),Ae(this,"type","machine"),Ae(this,"activityEvents",new Map),Ae(this,"delayedEvents",new Map),Ae(this,"stateListeners",new Set),Ae(this,"doneListeners",new Set),Ae(this,"contextWatchers",new Set),Ae(this,"removeStateListener",ni),Ae(this,"parent"),Ae(this,"children",new Map),Ae(this,"guardMap"),Ae(this,"actionMap"),Ae(this,"delayMap"),Ae(this,"activityMap"),Ae(this,"sync"),Ae(this,"options"),Ae(this,"config"),Ae(this,"_created",()=>{var l;const o=Cs("machine.created");this.executeActions((l=this.config)==null?void 0:l.created,o)}),Ae(this,"start",o=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=Pt(this.state,()=>{this.stateListeners.forEach(p=>{p(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(Cs("machine.start"),qr(this.config.activities),"machine.start"),this.executeActions(this.config.entry,Cs("machine.start"));const l=Cs("machine.init"),c=Ce(o)?o.value:o,d=Ce(o)?o.context:void 0;d&&this.setContext(d);const h={target:c??this.config.initial},f=this.getNextStateInfo(h,l);return this.initialState=f,this.performStateChangeEffects(this.state.value,f,l),this}),Ae(this,"setupContextWatchers",()=>{const{watch:o}=this.config;if(!o)return;let l=_e(this.state.context);const c=Pt(this.state.context,()=>{var h;const d=_e(this.state.context);for(const[f,p]of Object.entries(o))(((h=this.options.compareFns)==null?void 0:h[f])??Object.is)(l[f],d[f])||this.executeActions(p,this.state.event);l=d});this.contextWatchers.add(c)}),Ae(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,Cs("machine.stop")),this.executeActions(this.config.exit,Cs("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),Ae(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),Ae(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(o=>o()),this.contextWatchers.clear()}),Ae(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(o=>{o.forEach(l=>l())}),this.delayedEvents.clear()}),Ae(this,"stopActivities",o=>{var l,c;o?((l=this.activityEvents.get(o))==null||l.forEach(d=>d()),(c=this.activityEvents.get(o))==null||c.clear(),this.activityEvents.delete(o)):(this.activityEvents.forEach(d=>{d.forEach(h=>h()),d.clear()}),this.activityEvents.clear())}),Ae(this,"sendChild",(o,l)=>{const c=Cs(o),d=$t(l,this.contextSnapshot),h=this.children.get(d);h||He(`[@zag-js/core] Cannot send '${c.type}' event to unknown child`),h.send(c)}),Ae(this,"stopChild",o=>{this.children.has(o)||He(`[@zag-js/core > stop-child] Cannot stop unknown child ${o}`),this.children.get(o).stop(),this.children.delete(o)}),Ae(this,"removeChild",o=>{this.children.delete(o)}),Ae(this,"stopChildren",()=>{this.children.forEach(o=>o.stop()),this.children.clear()}),Ae(this,"setParent",o=>{this.parent=o}),Ae(this,"spawn",(o,l)=>{const c=$t(o);return l&&(c.id=l),c.type="machine.actor",c.setParent(this),this.children.set(c.id,Q(c)),c.onDone(()=>{this.removeChild(c.id)}).start(),Q(Ke(c))}),Ae(this,"stopActivity",o=>{var c;if(!this.state.value)return;const l=this.activityEvents.get(this.state.value);(c=l==null?void 0:l.get(o))==null||c(),l==null||l.delete(o)}),Ae(this,"addActivityCleanup",(o,l,c)=>{var d;o&&(this.activityEvents.has(o)?(d=this.activityEvents.get(o))==null||d.set(l,c):this.activityEvents.set(o,new Map([[l,c]])))}),Ae(this,"setState",o=>{this.state.previousValue=this.state.value,this.state.value=o;const l=this.getStateNode(o);o==null?vi(this.state.tags):this.state.tags=qr(l==null?void 0:l.tags)}),Ae(this,"setContext",o=>{o&&KT(this.state.context,Te(o))}),Ae(this,"setOptions",o=>{const l=Te(o);this.actionMap={...this.actionMap,...l.actions},this.delayMap={...this.delayMap,...l.delays},this.activityMap={...this.activityMap,...l.activities},this.guardMap={...this.guardMap,...l.guards}}),Ae(this,"getStateNode",o=>{var l;if(o)return(l=this.config.states)==null?void 0:l[o]}),Ae(this,"getNextStateInfo",(o,l)=>{const c=this.determineTransition(o,l),d=!(c!=null&&c.target),h=(c==null?void 0:c.target)??this.state.value,f=this.state.value!==h,p=this.getStateNode(h),m={reenter:!d&&!f&&!(c!=null&&c.internal),transition:c,stateNode:p,target:h,changed:f};return this.log("NextState:",`[${l.type}]`,this.state.value,"---->",m.target),m}),Ae(this,"getAfterActions",(o,l)=>{let c;const d=this.state.value;return{entry:()=>{c=globalThis.setTimeout(()=>{const h=this.getNextStateInfo(o,this.state.event);this.performStateChangeEffects(d,h,this.state.event)},l)},exit:()=>{globalThis.clearTimeout(c)}}}),Ae(this,"getDelayedEventActions",o=>{const l=this.getStateNode(o),c=this.state.event;if(!l||!l.after)return;const d=[],h=[];if(Qe(l.after)){const f=this.determineTransition(l.after,c);if(!f)return;if(!wn(f,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(f)}`);const g=fc(f.delay,this.delayMap)(this.contextSnapshot,c),m=this.getAfterActions(f,g);return d.push(m.entry),h.push(m.exit),{entries:d,exits:h}}if(Ce(l.after))for(const f in l.after){const p=l.after[f],m=fc(f,this.delayMap)(this.contextSnapshot,c),y=this.getAfterActions(p,m);d.push(y.entry),h.push(y.exit)}return{entries:d,exits:h}}),Ae(this,"executeActions",(o,l)=>{var d;const c=ng(o,this.guardMap)(this.contextSnapshot,l,this.guardMeta);for(const h of qr(c)){const f=q(h)?(d=this.actionMap)==null?void 0:d[h]:h;nt(q(h)&&!f,`[@zag-js/core > execute-actions] No implementation found for action: \`${h}\``),f==null||f(this.state.context,l,this.meta)}}),Ae(this,"executeActivities",(o,l,c)=>{var d;for(const h of l){const f=q(h)?(d=this.activityMap)==null?void 0:d[h]:h;if(!f){nt(`[@zag-js/core > execute-activity] No implementation found for activity: \`${h}\``);continue}const p=f(this.state.context,o,this.meta);if(p){const g=q(h)?h:h.name||Rt();this.addActivityCleanup(c??this.state.value,g,p)}}}),Ae(this,"createEveryActivities",(o,l)=>{if(o)if(Qe(o)){const c=qr(o).find(p=>{const g=p.delay,y=fc(g,this.delayMap)(this.contextSnapshot,this.state.event);return YT(p.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??y!=null});if(!c)return;const h=fc(c.delay,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const p=globalThis.setInterval(()=>{this.executeActions(c.actions,this.state.event)},h);return()=>{globalThis.clearInterval(p)}})}else for(const c in o){const d=o==null?void 0:o[c],f=fc(c,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const g=globalThis.setInterval(()=>{this.executeActions(d,this.state.event)},f);return()=>{globalThis.clearInterval(g)}})}}),Ae(this,"setEvent",o=>{this.state.previousEvent=this.state.event,this.state.event=Ke(Cs(o))}),Ae(this,"performExitEffects",(o,l)=>{const c=this.state.value;if(c==="")return;const d=o?this.getStateNode(o):void 0;this.stopActivities(c);const h=ng(d==null?void 0:d.exit,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=qr(h),p=this.delayedEvents.get(c);p&&f.push(...p),this.executeActions(f,l),this.delayedEvents.delete(c)}),Ae(this,"performEntryEffects",(o,l)=>{const c=this.getStateNode(o),d=qr(c==null?void 0:c.activities);this.createEveryActivities(c==null?void 0:c.every,g=>{d.unshift(g)}),d.length>0&&this.executeActivities(l,d);const h=ng(c==null?void 0:c.entry,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=qr(h),p=this.getDelayedEventActions(o);c!=null&&c.after&&p&&(this.delayedEvents.set(o,p==null?void 0:p.exits),f.push(...p.entries)),this.executeActions(f,l),(c==null?void 0:c.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(g=>{g(this.stateSnapshot)}),this.stop())}),Ae(this,"performTransitionEffects",(o,l)=>{const c=this.determineTransition(o,l);this.executeActions(c==null?void 0:c.actions,l)}),Ae(this,"performStateChangeEffects",(o,l,c)=>{this.setEvent(c);const d=l.changed||l.reenter;d&&this.performExitEffects(o,c),this.performTransitionEffects(l.transition,c),this.setState(l.target),d&&this.performEntryEffects(l.target,c)}),Ae(this,"determineTransition",(o,l)=>{const c=EW(o,this.guardMap);return c==null?void 0:c(this.contextSnapshot,l,this.guardMeta)}),Ae(this,"sendParent",o=>{var c;this.parent||He("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const l=Cs(o);(c=this.parent)==null||c.send(l)}),Ae(this,"log",(...o)=>{}),Ae(this,"send",o=>{const l=Cs(o);this.transition(this.state.value,l)}),Ae(this,"transition",(o,l)=>{var p,g;const c=q(o)?this.getStateNode(o):o==null?void 0:o.stateNode,d=Cs(l);if(!c&&!this.config.on){const m=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${o}, \`event\`: ${d.type}`;nt(m);return}const h=((p=c==null?void 0:c.on)==null?void 0:p[d.type])??((g=this.config.on)==null?void 0:g[d.type]),f=this.getNextStateInfo(h,d);return this.performStateChangeEffects(this.state.value,f,d),f.stateNode}),Ae(this,"subscribe",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),()=>{this.stateListeners.delete(o)})),Ae(this,"onDone",o=>(this.doneListeners.add(o),this)),Ae(this,"onTransition",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),this)),this.config=Z0(t),this.options=Z0(n??{}),this.id=this.config.id??`machine-${Rt()}`,this.guardMap=((i=this.options)==null?void 0:i.guards)??{},this.actionMap=((s=this.options)==null?void 0:s.actions)??{},this.delayMap=((r=this.options)==null?void 0:r.delays)??{},this.activityMap=((a=this.options)==null?void 0:a.activities)??{},this.sync=((u=this.options)==null?void 0:u.sync)??!1,this.state=yW(this.config),this.initialContext=_e(this.state.context)}get stateSnapshot(){return Q(_e(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const t=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return t.stateSnapshot},get initialContext(){return t.initialContext},get initialState(){var n;return((n=t.initialState)==null?void 0:n.target)??""}}}get meta(){var t;return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:((t=this.initialState)==null?void 0:t.target)??"",getState:()=>this.stateSnapshot,getAction:n=>this.actionMap[n],getGuard:n=>this.guardMap[n]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){const t=this.getState();return{value:t.value,tags:t.tags}}},CW=(e,t)=>new _W(e,t),Em,la=new Map,SW=e=>e.getBoundingClientRect();function xW(e,t){const{scope:n="rect",getRect:i=SW,onChange:s}=t,r=TW({scope:n,getRect:i}),a=la.get(e);return a?(a.callbacks.push(s),s(i(e))):(la.set(e,{rect:{},callbacks:[s]}),la.size===1&&(Em=requestAnimationFrame(r))),function(){const o=la.get(e);if(!o)return;const l=o.callbacks.indexOf(s);l>-1&&o.callbacks.splice(l,1),o.callbacks.length===0&&(la.delete(e),la.size===0&&cancelAnimationFrame(Em))}}function TW(e){const{scope:t,getRect:n}=e,i=IW(t);return function s(){const r=[];la.forEach((a,u)=>{const o=n(u);i(a.rect,o)||(a.rect=o,r.push(a))}),r.forEach(a=>{a.callbacks.forEach(u=>u(a.rect))}),Em=requestAnimationFrame(s)}}var JT=(e,t)=>e.width===t.width&&e.height===t.height,XT=(e,t)=>e.top===t.top&&e.left===t.left,wW=(e,t)=>JT(e,t)&&XT(e,t);function IW(e){return e==="size"?JT:e==="position"?XT:wW}var OW=Dn("radio-group").parts("root","label","item","itemText","itemControl","indicator"),el=OW.build(),Ct=Pi({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`radio-group:${e.id}`},getLabelId:e=>{var t;return((t=e.ids)==null?void 0:t.label)??`radio-group:${e.id}:label`},getItemId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.item)==null?void 0:i.call(n,t))??`radio-group:${e.id}:radio:${t}`},getItemHiddenInputId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.itemHiddenInput)==null?void 0:i.call(n,t))??`radio-group:${e.id}:radio:input:${t}`},getItemControlId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.itemControl)==null?void 0:i.call(n,t))??`radio-group:${e.id}:radio:control:${t}`},getItemLabelId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.itemLabel)==null?void 0:i.call(n,t))??`radio-group:${e.id}:radio:label:${t}`},getIndicatorId:e=>{var t;return((t=e.ids)==null?void 0:t.indicator)??`radio-group:${e.id}:indicator`},getRootEl:e=>Ct.getById(e,Ct.getRootId(e)),getItemHiddenInputEl:(e,t)=>Ct.getById(e,Ct.getItemHiddenInputId(e,t)),getIndicatorEl:e=>Ct.getById(e,Ct.getIndicatorId(e)),getFirstEnabledInputEl:e=>{var t;return(t=Ct.getRootEl(e))==null?void 0:t.querySelector("input:not(:disabled)")},getFirstEnabledAndCheckedInputEl:e=>{var t;return(t=Ct.getRootEl(e))==null?void 0:t.querySelector("input:not(:disabled):checked")},getInputEls:e=>{const n=`input[type=radio][data-ownedby='${CSS.escape(Ct.getRootId(e))}']:not([disabled])`;return Tr(Ct.getRootEl(e),n)},getActiveRadioEl:e=>{if(e.value)return Ct.getById(e,Ct.getItemId(e,e.value))},getOffsetRect:e=>({left:(e==null?void 0:e.offsetLeft)??0,top:(e==null?void 0:e.offsetTop)??0,width:(e==null?void 0:e.offsetWidth)??0,height:(e==null?void 0:e.offsetHeight)??0}),getRectById:(e,t)=>{const n=Ct.getById(e,Ct.getItemId(e,t));if(n)return Ct.resolveRect(Ct.getOffsetRect(n))},resolveRect:e=>({width:`${e.width}px`,height:`${e.height}px`,left:`${e.left}px`,top:`${e.top}px`})});function kW(e,t,n){const i=e.context.isDisabled,s=e.context.readOnly;function r(o){return{invalid:!!o.invalid,disabled:!!o.disabled||i,checked:e.context.value===o.value,focused:e.context.focusedValue===o.value,hovered:e.context.hoveredValue===o.value,active:e.context.activeValue===o.value}}function a(o){const l=r(o);return{"data-focus":H(l.focused),"data-focus-visible":H(l.focused&&e.context.focusVisible),"data-disabled":H(l.disabled),"data-readonly":H(s),"data-state":l.checked?"checked":"unchecked","data-hover":H(l.hovered),"data-invalid":H(l.invalid),"data-orientation":e.context.orientation,"data-ssr":H(e.context.ssr)}}const u=()=>{const o=Ct.getFirstEnabledAndCheckedInputEl(e.context);if(o){o.focus();return}const l=Ct.getFirstEnabledInputEl(e.context);l==null||l.focus()};return{focus:u,value:e.context.value,setValue(o){t({type:"SET_VALUE",value:o,isTrusted:!1})},clearValue(){t({type:"SET_VALUE",value:null,isTrusted:!1})},getRootProps(){return n.element({...el.root.attrs,role:"radiogroup",id:Ct.getRootId(e.context),"aria-labelledby":Ct.getLabelId(e.context),"data-orientation":e.context.orientation,"data-disabled":H(i),"aria-orientation":e.context.orientation,dir:e.context.dir,style:{position:"relative"}})},getLabelProps(){return n.element({...el.label.attrs,dir:e.context.dir,"data-orientation":e.context.orientation,"data-disabled":H(i),id:Ct.getLabelId(e.context),onClick:u})},getItemState:r,getItemProps(o){const l=r(o);return n.label({...el.item.attrs,dir:e.context.dir,id:Ct.getItemId(e.context,o.value),htmlFor:Ct.getItemHiddenInputId(e.context,o.value),...a(o),onPointerMove(){l.disabled||l.hovered||t({type:"SET_HOVERED",value:o.value,hovered:!0})},onPointerLeave(){l.disabled||t({type:"SET_HOVERED",value:null})},onPointerDown(c){l.disabled||(l.focused&&c.pointerType==="mouse"&&c.preventDefault(),t({type:"SET_ACTIVE",value:o.value,active:!0}))},onPointerUp(){l.disabled||t({type:"SET_ACTIVE",value:null})}})},getItemTextProps(o){return n.element({...el.itemText.attrs,dir:e.context.dir,id:Ct.getItemLabelId(e.context,o.value),...a(o)})},getItemControlProps(o){const l=r(o);return n.element({...el.itemControl.attrs,dir:e.context.dir,id:Ct.getItemControlId(e.context,o.value),"data-active":H(l.active),"aria-hidden":!0,...a(o)})},getItemHiddenInputProps(o){const l=r(o);return n.input({"data-ownedby":Ct.getRootId(e.context),id:Ct.getItemHiddenInputId(e.context,o.value),type:"radio",name:e.context.name||e.context.id,form:e.context.form,value:o.value,onClick(c){if(s){c.preventDefault();return}c.currentTarget.checked&&t({type:"SET_VALUE",value:o.value,isTrusted:!0})},onBlur(){t({type:"SET_FOCUSED",value:null,focused:!1,focusVisible:!1})},onFocus(){const c=xh();t({type:"SET_FOCUSED",value:o.value,focused:!0,focusVisible:c})},onKeyDown(c){c.defaultPrevented||c.key===" "&&t({type:"SET_ACTIVE",value:o.value,active:!0})},onKeyUp(c){c.defaultPrevented||c.key===" "&&t({type:"SET_ACTIVE",value:null})},disabled:l.disabled,defaultChecked:l.checked,style:Bu})},getIndicatorProps(){var o,l,c,d;return n.element({id:Ct.getIndicatorId(e.context),...el.indicator.attrs,dir:e.context.dir,hidden:e.context.value==null,"data-disabled":H(i),"data-orientation":e.context.orientation,style:{"--transition-property":"left, top, width, height","--left":(o=e.context.indicatorRect)==null?void 0:o.left,"--top":(l=e.context.indicatorRect)==null?void 0:l.top,"--width":(c=e.context.indicatorRect)==null?void 0:c.width,"--height":(d=e.context.indicatorRect)==null?void 0:d.height,position:"absolute",willChange:"var(--transition-property)",transitionProperty:"var(--transition-property)",transitionDuration:e.context.canIndicatorTransition?"var(--transition-duration, 150ms)":"0ms",transitionTimingFunction:"var(--transition-timing-function)",[e.context.orientation==="horizontal"?"left":"top"]:e.context.orientation==="horizontal"?"var(--left)":"var(--top)"}})}}}var{not:AW}=vW;function PW(e){const t=Te(e);return CW({id:"radio",initial:"idle",context:{value:null,activeValue:null,focusedValue:null,hoveredValue:null,disabled:!1,orientation:"vertical",...t,indicatorRect:{},canIndicatorTransition:!1,fieldsetDisabled:!1,focusVisible:!1,ssr:!0},computed:{isDisabled:n=>!!n.disabled||n.fieldsetDisabled},entry:["syncIndicatorRect","syncSsr"],exit:["cleanupObserver"],activities:["trackFormControlState","trackFocusVisible"],watch:{value:["setIndicatorTransition","syncIndicatorRect","syncInputElements"]},on:{SET_VALUE:[{guard:AW("isTrusted"),actions:["setValue","dispatchChangeEvent"]},{actions:["setValue"]}],SET_HOVERED:{actions:"setHovered"},SET_ACTIVE:{actions:"setActive"},SET_FOCUSED:{actions:"setFocused"}},states:{idle:{}}},{guards:{isTrusted:(n,i)=>!!i.isTrusted},activities:{trackFormControlState(n,i,{send:s,initialContext:r}){return Xl(Ct.getRootEl(n),{onFieldsetDisabledChange(a){n.fieldsetDisabled=a},onFormReset(){s({type:"SET_VALUE",value:r.value})}})},trackFocusVisible(n){return kT({root:Ct.getRootNode(n)})}},actions:{setValue(n,i){MW.value(n,i.value)},setHovered(n,i){n.hoveredValue=i.value},setActive(n,i){n.activeValue=i.value},setFocused(n,i){n.focusedValue=i.value,n.focusVisible=i.focusVisible},syncInputElements(n){Ct.getInputEls(n).forEach(s=>{s.checked=s.value===n.value})},setIndicatorTransition(n){n.canIndicatorTransition=q(n.value)},cleanupObserver(n){var i;(i=n.indicatorCleanup)==null||i.call(n)},syncSsr(n){n.ssr=!1},syncIndicatorRect(n){var r;if((r=n.indicatorCleanup)==null||r.call(n),!Ct.getIndicatorEl(n))return;const i=n.value,s=Ct.getActiveRadioEl(n);if(i==null||!s){n.indicatorRect={};return}n.indicatorCleanup=xW(s,{getRect(a){return Ct.getOffsetRect(a)},onChange(a){n.indicatorRect=Ct.resolveRect(a),Of(()=>{n.canIndicatorTransition=!1})}})},dispatchChangeEvent(n){Ct.getInputEls(n).forEach(s=>{const r=s.value===n.value;r!==s.checked&&DT(s,{checked:r})})}}})}var $W={change:e=>{var t;e.value!=null&&((t=e.onValueChange)==null||t.call(e,{value:e.value}))}},MW={value:(e,t)=>{dn(e.value,t)||(e.value=t,$W.change(e))}};tn()(["dir","disabled","form","getRootNode","id","ids","name","onValueChange","orientation","readOnly","value"]);tn()(["value","disabled","invalid"]);const NW=(e,t)=>{const n=Kn(),i=Qi(),s=Ni(Mi),r=K(()=>({id:n,dir:s.value.dir,value:e.modelValue??e.defaultValue,getRootNode:i==null?void 0:i.value.getRootNode,onValueChange:o=>{t==null||t("valueChange",o),t==null||t("update:modelValue",o.value)},...es(e)})),[a,u]=Ei(PW(r.value),{context:r});return K(()=>kW(a.value,u,$i))},[ZT,Ha]=gt("RadioGroupContext"),[RW,DW]=gt("RadioGroupItemContext"),LW=$({__name:"radio-group-context",setup(e){const t=Ha();return(n,i)=>V(n.$slots,"default",hn(on(v(t))))}}),FW=$({__name:"radio-group-indicator",props:{asChild:{type:Boolean}},setup(e){const t=Ha();return U(),(n,i)=>(C(),R(v(X).div,W(v(t).getIndicatorProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),VW=$({__name:"radio-group-item-context",setup(e){const t=DW();return(n,i)=>V(n.$slots,"default",hn(on(v(t))))}}),[BW,dy]=gt("RadioGroupItemPropsContext"),HW=$({__name:"radio-group-item-control",props:{asChild:{type:Boolean}},setup(e){const t=Ha(),n=dy();return U(),(i,s)=>(C(),R(v(X).div,W(v(t).getItemControlProps(v(n)),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["as-child"]))}}),jW=$({__name:"radio-group-item-hidden-input",props:{asChild:{type:Boolean}},setup(e){const t=Ha(),n=dy();return U(),(i,s)=>(C(),R(v(X).input,W(v(t).getItemHiddenInputProps(v(n)),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["as-child"]))}}),UW=$({__name:"radio-group-item-text",props:{asChild:{type:Boolean}},setup(e){const t=Ha(),n=dy();return U(),(i,s)=>(C(),R(v(X).span,W(v(t).getItemTextProps(v(n)),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["as-child"]))}}),GW=$({__name:"radio-group-item",props:{value:{},disabled:{type:Boolean},invalid:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,n=Ha();return BW(t),RW(K(()=>n.value.getItemState(t))),U(),(i,s)=>(C(),R(v(X).label,W(v(n).getItemProps(t),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["as-child"]))}}),WW=$({__name:"radio-group-label",props:{asChild:{type:Boolean}},setup(e){const t=Ha();return U(),(n,i)=>(C(),R(v(X).label,W(v(t).getLabelProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),zW=$({__name:"radio-group-root-provider",props:{value:{},asChild:{type:Boolean}},setup(e){const t=e,n=K(()=>t.value);return ZT(n),U(),(i,s)=>(C(),R(v(X).div,W(n.value.getRootProps(),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["as-child"]))}}),KW=$({__name:"radio-group-root",props:On({defaultValue:{},disabled:{type:Boolean},form:{},id:{},ids:{},modelValue:{},name:{},orientation:{},readOnly:{type:Boolean},asChild:{type:Boolean}},{disabled:void 0,readOnly:void 0}),emits:["valueChange","update:modelValue"],setup(e,{emit:t}){const s=NW(e,t);return ZT(s),U(),(r,a)=>(C(),R(v(X).div,W(v(s).getRootProps(),{"as-child":r.asChild}),{default:S(()=>[V(r.$slots,"default")]),_:3},16,["as-child"]))}}),ia=Object.freeze(Object.defineProperty({__proto__:null,Context:LW,Indicator:FW,Item:GW,ItemContext:VW,ItemControl:HW,ItemHiddenInput:jW,ItemText:UW,Label:WW,Root:KW,RootProvider:zW},Symbol.toStringTag,{value:"Module"})),qW=$({__name:"RadioGroup",props:Vn({label:null,options:null},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=mn(e,"modelValue");return(n,i)=>(C(),R(v(ia).Root,{modelValue:t.value,"onUpdate:modelValue":i[0]||(i[0]=s=>t.value=s),class:"relative gap-4 flex flex-col"},{default:S(()=>[O(v(ia).Label,{class:"text-sm font-medium"},{default:S(()=>[qe(ue(e.label),1)]),_:1}),O(v(ia).Indicator),(C(!0),te(Ye,null,Kt(e.options,s=>(C(),R(v(ia).Item,{key:s.label,value:s.value,class:"flex items-center gap-3 cursor-pointer"},{default:S(()=>[O(v(ia).ItemControl,{class:"w-5 h-5 rounded-full border data-[state=checked]:outline data-[state=checked]:outline-4 data-[state=checked]:-outline-offset-8 data-[state=checked]:border-gray-700"}),O(v(ia).ItemText,{class:"text-md font-medium"},{default:S(()=>[qe(ue(s.label),1)]),_:2},1024),O(v(ia).ItemHiddenInput)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]))}});function YW(e,t,n){return e===0?n:t[e-1]}function JW(e,t,n){return e===t.length-1?n:t[e+1]}function XW(e,t,n){return Math.round((e-t)/n)*n+t}function Ki(e,t,n){return Math.min(Math.max(e,t),n)}function Bf(e,t,n){return(e-t)/(n-t)}function hy(e,t,n,i){const s=e*(n-t)+t,r=XW(s,t,i);return Ki(r,t,n)}function Sd(e,t){let n=e,i=t.toString(),s=i.indexOf("."),r=s>=0?i.length-s:0;if(r>0){let a=Math.pow(10,r);n=Math.round(n*a)/a}return n}function wh(e,t,n,i){t=Number(t),n=Number(n);let s=(e-(isNaN(t)?0:t))%i,r=Sd(Math.abs(s)*2>=i?e+Math.sign(s)*(i-Math.abs(s)):e-s,i);return isNaN(t)?!isNaN(n)&&r>n&&(r=Math.floor(Sd(n/i,i))*i):r<t?r=t:!isNaN(n)&&r>n&&(r=t+Math.floor(Sd((n-t)/i,i))*i),r=Sd(r,i),r}function ZW(e,t,n){return e[t]===n?e:[...e.slice(0,t),n,...e.slice(t+1)]}function QT(e,t){const n=YW(e,t.values,t.min),i=JW(e,t.values,t.max);let s=t.values.slice();return function(a){let u=wh(a,n,i,t.step);return s=ZW(s,e,a),s[e]=u,s}}function QW(e,t){const n=t.values[e]+t.step;return QT(e,t)(n)}function e8(e,t){const n=t.values[e]-t.step;return QT(e,t)(n)}function t8(e,t){let n=e.findIndex(r=>t-r<0);if(n===0)return n;if(n===-1)return e.length-1;let i=e[n-1],s=e[n];return Math.abs(i-t)<Math.abs(s-t)?n-1:n}function n8(e,t,n,i){return e.map((s,r)=>{const a=r===0?t:e[r-1]+i,u=r===e.length-1?n:e[r+1]-i;return{min:a,max:u,value:s}})}function _m(e,t){const n={min:e[0],max:e[1]},i={min:t[0],max:t[1]};return function(r){if(n.min===n.max||i.min===i.max)return i.min;const a=(i.max-i.min)/(n.max-n.min);return i.min+a*(r-n.min)}}function zt(e,t=0,n=10){const i=Math.pow(n,t);return Math.round(e*i)/i}function ew(e,t){return(e%t+t)%t}var i8=Object.defineProperty,s8=(e,t,n)=>t in e?i8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pe=(e,t,n)=>s8(e,typeof t!="symbol"?t+"":t,n);function tw(e,...t){for(const n of t){const i=Te(n);for(const s in i)bi(n[s])?(e[s]||(e[s]={}),tw(e[s],n[s])):e[s]=n[s]}return e}function Q0(e){return bn(e)}function Ss(e){return q(e)?{type:e}:e}function Yr(e){return e?Qe(e)?e.slice():[e]:[]}function nw(e){return Ce(e)&&e.predicate!=null}var r8=()=>!0;function iw(e,t){return e=e??r8,(n,i,s)=>{if(q(e)){const r=t[e];return We(r)?r(n,i,s):r}return nw(e)?e.predicate(t)(n,i,s):e==null?void 0:e(n,i,s)}}function ig(e,t){return(n,i,s)=>nw(e)?e.predicate(t)(n,i,s):e}function o8(e){var r,a;const t=e.computed??Q({}),n=e.context??Q({}),i=e.initial?(a=(r=e.states)==null?void 0:r[e.initial])==null?void 0:a.tags:[],s=qn({value:e.initial??"",previousValue:"",event:Q({}),previousEvent:Q({}),context:mi(n,t),done:!1,tags:i??[],hasTag(u){return this.tags.includes(u)},matches(...u){return u.includes(this.value)},can(u){return Q(this).nextEvents.includes(u)},get nextEvents(){var l,c;const u=((c=(l=e.states)==null?void 0:l[this.value])==null?void 0:c.on)??{},o=(e==null?void 0:e.on)??{};return Object.keys({...u,...o})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return Q(s)}function pc(e,t){return(n,i)=>{if(yi(e))return e;if(We(e))return e(n,i);if(q(e)){const s=Number.parseFloat(e);if(!Number.isNaN(s))return s;if(t){const r=t==null?void 0:t[e];return He(r==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${e}\`. It doesn't exist in \`options.delays\``),We(r)?r(n,i):r}}}}function a8(e){return q(e)?{target:e}:e}function l8(e,t){return(n,i,s)=>Yr(e).map(a8).find(r=>iw(r.guard,t)(n,i,s)??r.target??r.actions)}var c8=class{constructor(t,n){var i,s,r,a,u;Pe(this,"status","Not Started"),Pe(this,"state"),Pe(this,"initialState"),Pe(this,"initialContext"),Pe(this,"id"),Pe(this,"type","machine"),Pe(this,"activityEvents",new Map),Pe(this,"delayedEvents",new Map),Pe(this,"stateListeners",new Set),Pe(this,"doneListeners",new Set),Pe(this,"contextWatchers",new Set),Pe(this,"removeStateListener",ni),Pe(this,"parent"),Pe(this,"children",new Map),Pe(this,"guardMap"),Pe(this,"actionMap"),Pe(this,"delayMap"),Pe(this,"activityMap"),Pe(this,"sync"),Pe(this,"options"),Pe(this,"config"),Pe(this,"_created",()=>{var l;const o=Ss("machine.created");this.executeActions((l=this.config)==null?void 0:l.created,o)}),Pe(this,"start",o=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=Pt(this.state,()=>{this.stateListeners.forEach(p=>{p(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(Ss("machine.start"),Yr(this.config.activities),"machine.start"),this.executeActions(this.config.entry,Ss("machine.start"));const l=Ss("machine.init"),c=Ce(o)?o.value:o,d=Ce(o)?o.context:void 0;d&&this.setContext(d);const h={target:c??this.config.initial},f=this.getNextStateInfo(h,l);return this.initialState=f,this.performStateChangeEffects(this.state.value,f,l),this}),Pe(this,"setupContextWatchers",()=>{const{watch:o}=this.config;if(!o)return;let l=_e(this.state.context);const c=Pt(this.state.context,()=>{var h;const d=_e(this.state.context);for(const[f,p]of Object.entries(o))(((h=this.options.compareFns)==null?void 0:h[f])??Object.is)(l[f],d[f])||this.executeActions(p,this.state.event);l=d});this.contextWatchers.add(c)}),Pe(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,Ss("machine.stop")),this.executeActions(this.config.exit,Ss("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),Pe(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),Pe(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(o=>o()),this.contextWatchers.clear()}),Pe(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(o=>{o.forEach(l=>l())}),this.delayedEvents.clear()}),Pe(this,"stopActivities",o=>{var l,c;o?((l=this.activityEvents.get(o))==null||l.forEach(d=>d()),(c=this.activityEvents.get(o))==null||c.clear(),this.activityEvents.delete(o)):(this.activityEvents.forEach(d=>{d.forEach(h=>h()),d.clear()}),this.activityEvents.clear())}),Pe(this,"sendChild",(o,l)=>{const c=Ss(o),d=$t(l,this.contextSnapshot),h=this.children.get(d);h||He(`[@zag-js/core] Cannot send '${c.type}' event to unknown child`),h.send(c)}),Pe(this,"stopChild",o=>{this.children.has(o)||He(`[@zag-js/core > stop-child] Cannot stop unknown child ${o}`),this.children.get(o).stop(),this.children.delete(o)}),Pe(this,"removeChild",o=>{this.children.delete(o)}),Pe(this,"stopChildren",()=>{this.children.forEach(o=>o.stop()),this.children.clear()}),Pe(this,"setParent",o=>{this.parent=o}),Pe(this,"spawn",(o,l)=>{const c=$t(o);return l&&(c.id=l),c.type="machine.actor",c.setParent(this),this.children.set(c.id,Q(c)),c.onDone(()=>{this.removeChild(c.id)}).start(),Q(Ke(c))}),Pe(this,"stopActivity",o=>{var c;if(!this.state.value)return;const l=this.activityEvents.get(this.state.value);(c=l==null?void 0:l.get(o))==null||c(),l==null||l.delete(o)}),Pe(this,"addActivityCleanup",(o,l,c)=>{var d;o&&(this.activityEvents.has(o)?(d=this.activityEvents.get(o))==null||d.set(l,c):this.activityEvents.set(o,new Map([[l,c]])))}),Pe(this,"setState",o=>{this.state.previousValue=this.state.value,this.state.value=o;const l=this.getStateNode(o);o==null?vi(this.state.tags):this.state.tags=Yr(l==null?void 0:l.tags)}),Pe(this,"setContext",o=>{o&&tw(this.state.context,Te(o))}),Pe(this,"setOptions",o=>{const l=Te(o);this.actionMap={...this.actionMap,...l.actions},this.delayMap={...this.delayMap,...l.delays},this.activityMap={...this.activityMap,...l.activities},this.guardMap={...this.guardMap,...l.guards}}),Pe(this,"getStateNode",o=>{var l;if(o)return(l=this.config.states)==null?void 0:l[o]}),Pe(this,"getNextStateInfo",(o,l)=>{const c=this.determineTransition(o,l),d=!(c!=null&&c.target),h=(c==null?void 0:c.target)??this.state.value,f=this.state.value!==h,p=this.getStateNode(h),m={reenter:!d&&!f&&!(c!=null&&c.internal),transition:c,stateNode:p,target:h,changed:f};return this.log("NextState:",`[${l.type}]`,this.state.value,"---->",m.target),m}),Pe(this,"getAfterActions",(o,l)=>{let c;const d=this.state.value;return{entry:()=>{c=globalThis.setTimeout(()=>{const h=this.getNextStateInfo(o,this.state.event);this.performStateChangeEffects(d,h,this.state.event)},l)},exit:()=>{globalThis.clearTimeout(c)}}}),Pe(this,"getDelayedEventActions",o=>{const l=this.getStateNode(o),c=this.state.event;if(!l||!l.after)return;const d=[],h=[];if(Qe(l.after)){const f=this.determineTransition(l.after,c);if(!f)return;if(!wn(f,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(f)}`);const g=pc(f.delay,this.delayMap)(this.contextSnapshot,c),m=this.getAfterActions(f,g);return d.push(m.entry),h.push(m.exit),{entries:d,exits:h}}if(Ce(l.after))for(const f in l.after){const p=l.after[f],m=pc(f,this.delayMap)(this.contextSnapshot,c),y=this.getAfterActions(p,m);d.push(y.entry),h.push(y.exit)}return{entries:d,exits:h}}),Pe(this,"executeActions",(o,l)=>{var d;const c=ig(o,this.guardMap)(this.contextSnapshot,l,this.guardMeta);for(const h of Yr(c)){const f=q(h)?(d=this.actionMap)==null?void 0:d[h]:h;nt(q(h)&&!f,`[@zag-js/core > execute-actions] No implementation found for action: \`${h}\``),f==null||f(this.state.context,l,this.meta)}}),Pe(this,"executeActivities",(o,l,c)=>{var d;for(const h of l){const f=q(h)?(d=this.activityMap)==null?void 0:d[h]:h;if(!f){nt(`[@zag-js/core > execute-activity] No implementation found for activity: \`${h}\``);continue}const p=f(this.state.context,o,this.meta);if(p){const g=q(h)?h:h.name||Rt();this.addActivityCleanup(c??this.state.value,g,p)}}}),Pe(this,"createEveryActivities",(o,l)=>{if(o)if(Qe(o)){const c=Yr(o).find(p=>{const g=p.delay,y=pc(g,this.delayMap)(this.contextSnapshot,this.state.event);return iw(p.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??y!=null});if(!c)return;const h=pc(c.delay,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const p=globalThis.setInterval(()=>{this.executeActions(c.actions,this.state.event)},h);return()=>{globalThis.clearInterval(p)}})}else for(const c in o){const d=o==null?void 0:o[c],f=pc(c,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const g=globalThis.setInterval(()=>{this.executeActions(d,this.state.event)},f);return()=>{globalThis.clearInterval(g)}})}}),Pe(this,"setEvent",o=>{this.state.previousEvent=this.state.event,this.state.event=Ke(Ss(o))}),Pe(this,"performExitEffects",(o,l)=>{const c=this.state.value;if(c==="")return;const d=o?this.getStateNode(o):void 0;this.stopActivities(c);const h=ig(d==null?void 0:d.exit,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=Yr(h),p=this.delayedEvents.get(c);p&&f.push(...p),this.executeActions(f,l),this.delayedEvents.delete(c)}),Pe(this,"performEntryEffects",(o,l)=>{const c=this.getStateNode(o),d=Yr(c==null?void 0:c.activities);this.createEveryActivities(c==null?void 0:c.every,g=>{d.unshift(g)}),d.length>0&&this.executeActivities(l,d);const h=ig(c==null?void 0:c.entry,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=Yr(h),p=this.getDelayedEventActions(o);c!=null&&c.after&&p&&(this.delayedEvents.set(o,p==null?void 0:p.exits),f.push(...p.entries)),this.executeActions(f,l),(c==null?void 0:c.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(g=>{g(this.stateSnapshot)}),this.stop())}),Pe(this,"performTransitionEffects",(o,l)=>{const c=this.determineTransition(o,l);this.executeActions(c==null?void 0:c.actions,l)}),Pe(this,"performStateChangeEffects",(o,l,c)=>{this.setEvent(c);const d=l.changed||l.reenter;d&&this.performExitEffects(o,c),this.performTransitionEffects(l.transition,c),this.setState(l.target),d&&this.performEntryEffects(l.target,c)}),Pe(this,"determineTransition",(o,l)=>{const c=l8(o,this.guardMap);return c==null?void 0:c(this.contextSnapshot,l,this.guardMeta)}),Pe(this,"sendParent",o=>{var c;this.parent||He("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const l=Ss(o);(c=this.parent)==null||c.send(l)}),Pe(this,"log",(...o)=>{}),Pe(this,"send",o=>{const l=Ss(o);this.transition(this.state.value,l)}),Pe(this,"transition",(o,l)=>{var p,g;const c=q(o)?this.getStateNode(o):o==null?void 0:o.stateNode,d=Ss(l);if(!c&&!this.config.on){const m=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${o}, \`event\`: ${d.type}`;nt(m);return}const h=((p=c==null?void 0:c.on)==null?void 0:p[d.type])??((g=this.config.on)==null?void 0:g[d.type]),f=this.getNextStateInfo(h,d);return this.performStateChangeEffects(this.state.value,f,d),f.stateNode}),Pe(this,"subscribe",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),()=>{this.stateListeners.delete(o)})),Pe(this,"onDone",o=>(this.doneListeners.add(o),this)),Pe(this,"onTransition",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),this)),this.config=Q0(t),this.options=Q0(n??{}),this.id=this.config.id??`machine-${Rt()}`,this.guardMap=((i=this.options)==null?void 0:i.guards)??{},this.actionMap=((s=this.options)==null?void 0:s.actions)??{},this.delayMap=((r=this.options)==null?void 0:r.delays)??{},this.activityMap=((a=this.options)==null?void 0:a.activities)??{},this.sync=((u=this.options)==null?void 0:u.sync)??!1,this.state=o8(this.config),this.initialContext=_e(this.state.context)}get stateSnapshot(){return Q(_e(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const t=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return t.stateSnapshot},get initialContext(){return t.initialContext},get initialState(){var n;return((n=t.initialState)==null?void 0:n.target)??""}}}get meta(){var t;return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:((t=this.initialState)==null?void 0:t.target)??"",getState:()=>this.stateSnapshot,getAction:n=>this.actionMap[n],getGuard:n=>this.guardMap[n]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){const t=this.getState();return{value:t.value,tags:t.tags}}},u8=(e,t)=>new c8(e,t);function d8(e,t){if(!e){t(void 0);return}t({width:e.offsetWidth,height:e.offsetHeight});const n=e.ownerDocument.defaultView??window,i=new n.ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const[r]=s;let a,u;if("borderBoxSize"in r){const o=r.borderBoxSize,l=Array.isArray(o)?o[0]:o;a=l.inlineSize,u=l.blockSize}else a=e.offsetWidth,u=e.offsetHeight;t({width:a,height:u})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}function h8(e){const{getNodes:t,observeMutation:n=!0,callback:i}=e,s=[];let r=null;function a(){const u=t();r=u[0];const o=u.map((l,c)=>d8(l,d=>{i(d,c)}));s.push(...o)}if(a(),n){const u=f8(r,a);s.push(u)}return()=>{s.forEach(u=>{u==null||u()})}}function f8(e,t){var s;if(!e||!e.parentElement)return;const n=((s=e.ownerDocument)==null?void 0:s.defaultView)??window,i=new n.MutationObserver(()=>{t()});return i.observe(e.parentElement,{childList:!0}),()=>{i.disconnect()}}var p8=Dn("slider").parts("root","label","thumb","valueText","track","range","control","markerGroup","marker"),yr=p8.build();function g8(e){const t=e[0],n=e[e.length-1];return[t,n]}function m8(e){const[t,n]=g8(e.valuePercent);if(e.valuePercent.length===1){if(e.origin==="center"){const i=e.valuePercent[0]<50,s=i?`${e.valuePercent[0]}%`:"50%",r=i?"50%":`${100-e.valuePercent[0]}%`;return{start:s,end:r}}return{start:"0%",end:`${100-n}%`}}return{start:`${t}%`,end:`${100-n}%`}}function v8(e){return e.isVertical?{position:"absolute",bottom:"var(--slider-range-start)",top:"var(--slider-range-end)"}:{position:"absolute",[e.isRtl?"right":"left"]:"var(--slider-range-start)",[e.isRtl?"left":"right"]:"var(--slider-range-end)"}}function y8(e){const{height:t=0}=e.thumbSize??{},n=_m([e.min,e.max],[-t/2,t/2]);return parseFloat(n(e.value).toFixed(2))}function b8(e){const{width:t=0}=e.thumbSize??{};if(e.isRtl){const i=_m([e.max,e.min],[-t/2,t/2]);return-1*parseFloat(i(e.value).toFixed(2))}const n=_m([e.min,e.max],[-t/2,t/2]);return parseFloat(n(e.value).toFixed(2))}function E8(e,t){if(e.thumbAlignment==="center")return`${t}%`;const n=e.isVertical?y8(e):b8(e);return`calc(${t}% - ${n}px)`}function sw(e){let t=Bf(e.value,e.min,e.max)*100;return E8(e,t)}function rw(e){let t="visible";return e.thumbAlignment==="contain"&&!e.hasMeasuredThumbSize&&(t="hidden"),t}function _8(e,t){const n=e.isVertical?"bottom":"insetInlineStart";return{visibility:rw(e),position:"absolute",transform:"var(--slider-thumb-transform)",[n]:`var(--slider-thumb-offset-${t})`}}function C8(){return{touchAction:"none",userSelect:"none",WebkitUserSelect:"none",position:"relative"}}function S8(e){const t=m8(e);return{...e.value.reduce((i,s,r)=>{const a=sw({...e,value:s});return{...i,[`--slider-thumb-offset-${r}`]:a}},{}),"--slider-thumb-transform":e.isVertical?"translateY(50%)":e.isRtl?"translateX(50%)":"translateX(-50%)","--slider-range-start":t.start,"--slider-range-end":t.end}}function x8(e,t){return{visibility:rw(e),position:"absolute",pointerEvents:"none",[e.isHorizontal?"insetInlineStart":"bottom"]:sw({...e,value:t}),translate:"var(--tx) var(--ty)","--tx":e.isHorizontal?e.isRtl?"50%":"-50%":"0%","--ty":e.isHorizontal?"0%":"50%"}}function T8(){return{userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none",position:"relative"}}var w8={getRootStyle:S8,getControlStyle:C8,getThumbStyle:_8,getRangeStyle:v8,getMarkerStyle:x8,getMarkerGroupStyle:T8},ut=Pi({...w8,getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`slider:${e.id}`},getThumbId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.thumb)==null?void 0:i.call(n,t))??`slider:${e.id}:thumb:${t}`},getHiddenInputId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.hiddenInput)==null?void 0:i.call(n,t))??`slider:${e.id}:input:${t}`},getControlId:e=>{var t;return((t=e.ids)==null?void 0:t.control)??`slider:${e.id}:control`},getTrackId:e=>{var t;return((t=e.ids)==null?void 0:t.track)??`slider:${e.id}:track`},getRangeId:e=>{var t;return((t=e.ids)==null?void 0:t.range)??`slider:${e.id}:range`},getLabelId:e=>{var t;return((t=e.ids)==null?void 0:t.label)??`slider:${e.id}:label`},getValueTextId:e=>{var t;return((t=e.ids)==null?void 0:t.valueText)??`slider:${e.id}:value-text`},getMarkerId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.marker)==null?void 0:i.call(n,t))??`slider:${e.id}:marker:${t}`},getRootEl:e=>ut.getById(e,ut.getRootId(e)),getThumbEl:(e,t)=>ut.getById(e,ut.getThumbId(e,t)),getHiddenInputEl:(e,t)=>ut.getById(e,ut.getHiddenInputId(e,t)),getControlEl:e=>ut.getById(e,ut.getControlId(e)),getElements:e=>Tr(ut.getControlEl(e),"[role=slider]"),getFirstEl:e=>ut.getElements(e)[0],getRangeEl:e=>ut.getById(e,ut.getRangeId(e)),getValueFromPoint(e,t){const n=ut.getControlEl(e);if(!n)return;const s=am(t,n).getPercentValue({orientation:e.orientation,dir:e.dir,inverted:{y:!0}});return hy(s,e.min,e.max,e.step)},dispatchChangeEvent(e){Array.from(e.value).forEach((n,i)=>{const s=ut.getHiddenInputEl(e,i);s&&RT(s,{value:n})})}});function e_(e,t){return t.map((n,i,s)=>Cm({...e,value:s},n,i))}function Co(e,t){return n8(e.value,e.min,e.max,e.minStepsBetweenThumbs)[t]}function Cm(e,t,n){const i=Co(e,n),s=wh(t,e.min,e.max,e.step);return Ki(s,i.min,i.max)}function I8(e,t,n){const i=t??e.focusedIndex,s=Co(e,i),r=e8(i,{...s,step:n??e.step,values:e.value});return r[i]=Ki(r[i],s.min,s.max),r}function O8(e,t,n){const i=t??e.focusedIndex,s=Co(e,i),r=QW(i,{...s,step:n??e.step,values:e.value});return r[i]=Ki(r[i],s.min,s.max),r}function k8(e,t){return t8(e.value,t)}function A8(e,t){for(let n=0;n<t.length;n++){const i=t[n];e[n]=i}}function P8(e,t,n){const i=e.context["aria-label"],s=e.context["aria-labelledby"],r=e.context.value,a=e.matches("focus"),u=e.matches("dragging"),o=e.context.isDisabled,l=e.context.invalid,c=e.context.isInteractive,d=e.context.orientation==="horizontal",h=e.context.orientation==="vertical";function f(g){return Bf(g,e.context.min,e.context.max)}function p(g){return hy(g,e.context.min,e.context.max,e.context.step)}return{value:e.context.value,dragging:u,focused:a,setValue(g){t({type:"SET_VALUE",value:g})},getThumbValue(g){return r[g]},setThumbValue(g,m){t({type:"SET_VALUE",index:g,value:m})},getValuePercent:f,getPercentValue:p,getThumbPercent(g){return f(r[g])},setThumbPercent(g,m){const y=p(m);t({type:"SET_VALUE",index:g,value:y})},getThumbMin(g){return Co(e.context,g).min},getThumbMax(g){return Co(e.context,g).max},increment(g){t({type:"INCREMENT",index:g})},decrement(g){t({type:"DECREMENT",index:g})},focus(){c&&t({type:"FOCUS",index:0})},getLabelProps(){return n.label({...yr.label.attrs,dir:e.context.dir,"data-disabled":H(o),"data-orientation":e.context.orientation,"data-invalid":H(l),"data-dragging":H(u),"data-focus":H(a),id:ut.getLabelId(e.context),htmlFor:ut.getHiddenInputId(e.context,0),onClick(g){var m;c&&(g.preventDefault(),(m=ut.getFirstEl(e.context))==null||m.focus())},style:{userSelect:"none",WebkitUserSelect:"none"}})},getRootProps(){return n.element({...yr.root.attrs,"data-disabled":H(o),"data-orientation":e.context.orientation,"data-dragging":H(u),"data-invalid":H(l),"data-focus":H(a),id:ut.getRootId(e.context),dir:e.context.dir,style:ut.getRootStyle(e.context)})},getValueTextProps(){return n.element({...yr.valueText.attrs,dir:e.context.dir,"data-disabled":H(o),"data-orientation":e.context.orientation,"data-invalid":H(l),"data-focus":H(a),id:ut.getValueTextId(e.context)})},getTrackProps(){return n.element({...yr.track.attrs,dir:e.context.dir,id:ut.getTrackId(e.context),"data-disabled":H(o),"data-invalid":H(l),"data-dragging":H(u),"data-orientation":e.context.orientation,"data-focus":H(a),style:{position:"relative"}})},getThumbProps(g){var M,z;const{index:m=0,name:y}=g,b=r[m],E=Co(e.context,m),_=(z=(M=e.context).getAriaValueText)==null?void 0:z.call(M,{value:b,index:m}),I=Array.isArray(i)?i[m]:i,P=Array.isArray(s)?s[m]:s;return n.element({...yr.thumb.attrs,dir:e.context.dir,"data-index":m,"data-name":y,id:ut.getThumbId(e.context,m),"data-disabled":H(o),"data-orientation":e.context.orientation,"data-focus":H(a&&e.context.focusedIndex===m),"data-dragging":H(u&&e.context.focusedIndex===m),draggable:!1,"aria-disabled":Eo(o),"aria-label":I,"aria-labelledby":P??ut.getLabelId(e.context),"aria-orientation":e.context.orientation,"aria-valuemax":E.max,"aria-valuemin":E.min,"aria-valuenow":r[m],"aria-valuetext":_,role:"slider",tabIndex:o?void 0:0,style:ut.getThumbStyle(e.context,m),onPointerDown(D){c&&(t({type:"THUMB_POINTER_DOWN",index:m}),D.stopPropagation())},onBlur(){c&&t("BLUR")},onFocus(){c&&t({type:"FOCUS",index:m})},onKeyDown(D){if(D.defaultPrevented||!c)return;const j=ph(D)*e.context.step,se={ArrowUp(){d||t({type:"ARROW_INC",step:j,src:"ArrowUp"})},ArrowDown(){d||t({type:"ARROW_DEC",step:j,src:"ArrowDown"})},ArrowLeft(){h||t({type:"ARROW_DEC",step:j,src:"ArrowLeft"})},ArrowRight(){h||t({type:"ARROW_INC",step:j,src:"ArrowRight"})},PageUp(){t({type:"ARROW_INC",step:j,src:"PageUp"})},PageDown(){t({type:"ARROW_DEC",step:j,src:"PageDown"})},Home(){t("HOME")},End(){t("END")}},ae=Hs(D,e.context),Y=se[ae];Y&&(Y(D),D.preventDefault(),D.stopPropagation())}})},getHiddenInputProps(g){const{index:m=0,name:y}=g;return n.input({name:y??(e.context.name?e.context.name+(e.context.value.length>1?"[]":""):void 0),form:e.context.form,type:"text",hidden:!0,defaultValue:e.context.value[m],id:ut.getHiddenInputId(e.context,m)})},getRangeProps(){return n.element({id:ut.getRangeId(e.context),...yr.range.attrs,dir:e.context.dir,"data-dragging":H(u),"data-focus":H(a),"data-invalid":H(l),"data-disabled":H(o),"data-orientation":e.context.orientation,style:ut.getRangeStyle(e.context)})},getControlProps(){return n.element({...yr.control.attrs,dir:e.context.dir,id:ut.getControlId(e.context),"data-dragging":H(u),"data-disabled":H(o),"data-orientation":e.context.orientation,"data-invalid":H(l),"data-focus":H(a),style:ut.getControlStyle(),onPointerDown(g){if(!c||!Pl(g)||$l(g))return;const m=Ar(g);t({type:"POINTER_DOWN",point:m}),g.preventDefault(),g.stopPropagation()}})},getMarkerGroupProps(){return n.element({...yr.markerGroup.attrs,role:"presentation",dir:e.context.dir,"aria-hidden":!0,"data-orientation":e.context.orientation,style:ut.getMarkerGroupStyle()})},getMarkerProps(g){const m=ut.getMarkerStyle(e.context,g.value);let y;const b=e.context.value[0],E=e.context.value[e.context.value.length-1];return g.value<b?y="under-value":g.value>E?y="over-value":y="at-value",n.element({...yr.marker.attrs,id:ut.getMarkerId(e.context,g.value),role:"presentation",dir:e.context.dir,"data-orientation":e.context.orientation,"data-value":g.value,"data-disabled":H(o),"data-state":y,style:m})}}}var $8=(e,t)=>(e==null?void 0:e.width)===(t==null?void 0:t.width)&&(e==null?void 0:e.height)===(t==null?void 0:t.height);function M8(e){const t=Te(e);return u8({id:"slider",initial:"idle",context:{thumbSize:null,thumbAlignment:"contain",min:0,max:100,step:1,value:[0],origin:"start",orientation:"horizontal",dir:"ltr",minStepsBetweenThumbs:0,disabled:!1,readOnly:!1,...t,focusedIndex:-1,fieldsetDisabled:!1},computed:{isHorizontal:n=>n.orientation==="horizontal",isVertical:n=>n.orientation==="vertical",isRtl:n=>n.orientation==="horizontal"&&n.dir==="rtl",isDisabled:n=>!!n.disabled||n.fieldsetDisabled,isInteractive:n=>!(n.readOnly||n.isDisabled),hasMeasuredThumbSize:n=>n.thumbSize!=null,valuePercent(n){return n.value.map(i=>100*Bf(i,n.min,n.max))}},watch:{value:["syncInputElements"]},entry:["coarseValue"],activities:["trackFormControlState","trackThumbsSize"],on:{SET_VALUE:[{guard:"hasIndex",actions:"setValueAtIndex"},{actions:"setValue"}],INCREMENT:{actions:"incrementThumbAtIndex"},DECREMENT:{actions:"decrementThumbAtIndex"}},states:{idle:{on:{POINTER_DOWN:{target:"dragging",actions:["setClosestThumbIndex","setPointerValue","focusActiveThumb"]},FOCUS:{target:"focus",actions:"setFocusedIndex"},THUMB_POINTER_DOWN:{target:"dragging",actions:["setFocusedIndex","focusActiveThumb"]}}},focus:{entry:"focusActiveThumb",on:{POINTER_DOWN:{target:"dragging",actions:["setClosestThumbIndex","setPointerValue","focusActiveThumb"]},THUMB_POINTER_DOWN:{target:"dragging",actions:["setFocusedIndex","focusActiveThumb"]},ARROW_DEC:{actions:["decrementThumbAtIndex","invokeOnChangeEnd"]},ARROW_INC:{actions:["incrementThumbAtIndex","invokeOnChangeEnd"]},HOME:{actions:["setFocusedThumbToMin","invokeOnChangeEnd"]},END:{actions:["setFocusedThumbToMax","invokeOnChangeEnd"]},BLUR:{target:"idle",actions:"clearFocusedIndex"}}},dragging:{entry:"focusActiveThumb",activities:"trackPointerMove",on:{POINTER_UP:{target:"focus",actions:"invokeOnChangeEnd"},POINTER_MOVE:{actions:"setPointerValue"}}}}},{guards:{hasIndex:(n,i)=>i.index!=null},activities:{trackFormControlState(n,i,{initialContext:s}){return Xl(ut.getRootEl(n),{onFieldsetDisabledChange(r){n.fieldsetDisabled=r},onFormReset(){ns.value(n,s.value)}})},trackPointerMove(n,i,{send:s}){return Dx(ut.getDoc(n),{onPointerMove(r){s({type:"POINTER_MOVE",point:r.point})},onPointerUp(){s("POINTER_UP")}})},trackThumbsSize(n){if(!(n.thumbAlignment!=="contain"||n.thumbSize))return h8({getNodes:()=>ut.getElements(n),observeMutation:!0,callback(i){!i||$8(n.thumbSize,i)||(n.thumbSize=i)}})}},actions:{syncInputElements(n){n.value.forEach((i,s)=>{const r=ut.getHiddenInputEl(n,s);ut.setValue(r,i)})},invokeOnChangeEnd(n){zd.valueChangeEnd(n)},setClosestThumbIndex(n,i){const s=ut.getValueFromPoint(n,i.point);if(s==null)return;const r=k8(n,s);ns.focusedIndex(n,r)},setFocusedIndex(n,i){ns.focusedIndex(n,i.index)},clearFocusedIndex(n){ns.focusedIndex(n,-1)},setPointerValue(n,i){const s=ut.getValueFromPoint(n,i.point);if(s==null)return;const r=Cm(n,s,n.focusedIndex);ns.valueAtIndex(n,n.focusedIndex,r)},focusActiveThumb(n){Je(()=>{const i=ut.getThumbEl(n,n.focusedIndex);i==null||i.focus({preventScroll:!0})})},decrementThumbAtIndex(n,i){const s=I8(n,i.index,i.step);ns.value(n,s)},incrementThumbAtIndex(n,i){const s=O8(n,i.index,i.step);ns.value(n,s)},setFocusedThumbToMin(n){const{min:i}=Co(n,n.focusedIndex);ns.valueAtIndex(n,n.focusedIndex,i)},setFocusedThumbToMax(n){const{max:i}=Co(n,n.focusedIndex);ns.valueAtIndex(n,n.focusedIndex,i)},coarseValue(n){const i=e_(n,n.value);ns.value(n,i)},setValueAtIndex(n,i){const s=Cm(n,i.value,i.index);ns.valueAtIndex(n,i.index,s)},setValue(n,i){const s=e_(n,i.value);ns.value(n,s)}}})}var zd={valueChange(e){var t;(t=e.onValueChange)==null||t.call(e,{value:Array.from(e.value)}),ut.dispatchChangeEvent(e)},valueChangeEnd(e){var t;(t=e.onValueChangeEnd)==null||t.call(e,{value:Array.from(e.value)})},focusChange(e){var t;(t=e.onFocusChange)==null||t.call(e,{value:Array.from(e.value),focusedIndex:e.focusedIndex})}},ns={valueAtIndex:(e,t,n)=>{dn(e.value[t],n)||(e.value[t]=n,zd.valueChange(e))},value:(e,t)=>{dn(e.value,t)||(A8(e.value,t),zd.valueChange(e))},focusedIndex:(e,t)=>{dn(e.focusedIndex,t)||(e.focusedIndex=t,zd.focusChange(e))}};tn()(["aria-label","aria-labelledby","dir","disabled","form","getAriaValueText","getRootNode","id","ids","invalid","max","min","minStepsBetweenThumbs","name","onFocusChange","onValueChange","onValueChangeEnd","orientation","origin","readOnly","step","thumbAlignment","thumbAlignment","thumbSize","value"]);tn()(["index","name"]);const N8=(e,t)=>{const n=Kn(),i=Qi(),s=Ni(Mi),r=K(()=>({id:n,dir:s.value.dir,value:e.modelValue??e.defaultValue,getRootNode:i==null?void 0:i.value.getRootNode,onFocusChange:o=>t==null?void 0:t("focusChange",o),onValueChangeEnd:o=>t==null?void 0:t("valueChangeEnd",o),onValueChange:o=>{t==null||t("valueChange",o),t==null||t("update:modelValue",o.value)},...es(e)})),[a,u]=Ei(M8(r.value),{context:r});return K(()=>P8(a.value,u,$i))},[ow,fr]=gt("SliderContext"),R8=$({__name:"slider-context",setup(e){const t=fr();return(n,i)=>V(n.$slots,"default",hn(on(v(t))))}}),D8=$({__name:"slider-control",props:{asChild:{type:Boolean}},setup(e){const t=fr();return U(),(n,i)=>(C(),R(v(X).div,W(v(t).getControlProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),[L8,F8]=gt("SliderThumbPropsContext"),V8=$({__name:"slider-hidden-input",props:{asChild:{type:Boolean}},setup(e){const t=fr(),n=F8();return U(),(i,s)=>(C(),R(v(X).input,W(v(t).getHiddenInputProps(v(n)),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["as-child"]))}}),B8=$({__name:"slider-label",props:{asChild:{type:Boolean}},setup(e){const t=fr();return U(),(n,i)=>(C(),R(v(X).label,W(v(t).getLabelProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),H8=$({__name:"slider-marker-group",props:{asChild:{type:Boolean}},setup(e){const t=fr();return U(),(n,i)=>(C(),R(v(X).div,W(v(t).getMarkerGroupProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),j8=$({__name:"slider-marker",props:{value:{},asChild:{type:Boolean}},setup(e){const t=e,n=fr();return U(),(i,s)=>(C(),R(v(X).span,W(v(n).getMarkerProps(t),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["as-child"]))}}),U8=$({__name:"slider-range",props:{asChild:{type:Boolean}},setup(e){const t=fr();return U(),(n,i)=>(C(),R(v(X).div,W(v(t).getRangeProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),G8=$({__name:"slider-root-provider",props:{value:{},asChild:{type:Boolean}},setup(e){const t=e,n=K(()=>t.value);return ow(n),U(),(i,s)=>(C(),R(v(X).div,W(n.value.getRootProps(),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["as-child"]))}}),W8=$({__name:"slider-root",props:On({"aria-label":{},"aria-labelledby":{},defaultValue:{},disabled:{type:Boolean},form:{},getAriaValueText:{type:Function},id:{},ids:{},invalid:{type:Boolean},max:{},min:{},minStepsBetweenThumbs:{},modelValue:{},name:{},orientation:{},origin:{},readOnly:{type:Boolean},step:{},thumbAlignment:{},thumbSize:{},asChild:{type:Boolean}},{disabled:void 0,invalid:void 0,readOnly:void 0}),emits:["focusChange","valueChange","valueChangeEnd","update:modelValue"],setup(e,{emit:t}){const s=N8(e,t);return ow(s),U(),(r,a)=>(C(),R(v(X).div,W(v(s).getRootProps(),{"as-child":r.asChild}),{default:S(()=>[V(r.$slots,"default")]),_:3},16,["as-child"]))}}),z8=$({__name:"slider-thumb",props:{index:{},name:{},asChild:{type:Boolean}},setup(e){const t=e,n=fr();return L8(t),U(),(i,s)=>(C(),R(v(X).div,W(v(n).getThumbProps(t),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["as-child"]))}}),K8=$({__name:"slider-track",props:{asChild:{type:Boolean}},setup(e){const t=fr();return U(),(n,i)=>(C(),R(v(X).div,W(v(t).getTrackProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),q8=$({__name:"slider-value-text",props:{asChild:{type:Boolean}},setup(e){const t=fr(),n=df();return U(),(i,s)=>(C(),R(v(X).span,W(v(t).getValueTextProps(),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default",{},()=>{var r,a;return[qe(ue(((a=(r=v(n)).default)==null?void 0:a.call(r))||v(t).value.join(", ")),1)]})]),_:3},16,["as-child"]))}}),tl=Object.freeze(Object.defineProperty({__proto__:null,Context:R8,Control:D8,HiddenInput:V8,Label:B8,Marker:j8,MarkerGroup:H8,Range:U8,Root:W8,RootProvider:G8,Thumb:z8,Track:K8,ValueText:q8},Symbol.toStringTag,{value:"Module"})),Y8={class:"flex items-center gap-4"},J8={key:0,class:"text-sm text-gray-500"},X8=$({__name:"RangeInput",props:Vn({label:null,min:{default:0},max:{default:100},unit:null,step:{default:1}},{modelValue:{default:0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=e,n=mn(e,"modelValue");function i(r){const a=Number(r);a<t.min?n.value=t.min:a>t.max?n.value=t.max:n.value=a}function s(r){n.value=r.value[0]}return(r,a)=>(C(),R(v(tl).Root,{min:e.min,max:e.max,step:e.step,modelValue:[n.value],class:"gap-3 flex flex-col",onValueChange:s},{default:S(()=>[O(v(tl).Label,{class:"text-sm font-medium"},{default:S(()=>[qe(ue(e.label),1)]),_:1}),L("div",Y8,[O(v(tl).Control,{class:"flex-1 flex items-center h-2 select-none touch-none"},{default:S(()=>[O(v(tl).Track,{class:"flex-1 overflow-hidden h-1 rounded-full bg-gray-100"},{default:S(()=>[O(v(tl).Range,{class:"h-2 bg-gray-700"})]),_:1}),(C(),R(v(tl).Thumb,{index:0,key:0,class:"h-4 w-4 bg-white rounded-full shadow outline-none border-2 border-gray-700"}))]),_:1}),O(v(_o).Root,{class:"flex flex-none items-center w-16 px-2 h-8 rounded border border-gray-300 focus-within:outline-none focus-within:ring focus-within:ring-gray-700"},{default:S(()=>[O(v(_o).Input,{class:"w-full text-sm outline-none appearance-none",type:"number","model-value":n.value,min:e.min,max:e.max,"onUpdate:modelValue":i},null,8,["model-value","min","max"]),e.unit?(C(),te("div",J8,ue(e.unit),1)):tt("",!0)]),_:1})])]),_:1},8,["min","max","step","modelValue"]))}});var Z8=Object.defineProperty,Q8=(e,t,n)=>t in e?Z8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ez=(e,t,n)=>Q8(e,t+"",n),Kd={itemToValue(e){return typeof e=="string"?e:Ce(e)&&wn(e,"value")?e.value:""},itemToString(e){return typeof e=="string"?e:Ce(e)&&wn(e,"label")?e.label:Kd.itemToValue(e)},isItemDisabled(e){return Ce(e)&&wn(e,"disabled")?!!e.disabled:!1}},qu=class{constructor(e){this.options=e,ez(this,"items"),this.items=[...e.items]}isEqual(e){return dn(this.items,e.items)}setItems(e){this.items=Array.from(e)}getValues(e=this.items){return Array.from(e).map(t=>this.getItemValue(t)).filter(Boolean)}find(e){if(e==null)return null;const t=this.items.findIndex(n=>this.getItemValue(n)===e);return t!=null?this.items[t]:null}findMany(e){return Array.from(e).map(t=>this.find(t)).filter(Boolean)}at(e){return this.items[e]??null}sortFn(e,t){const n=this.indexOf(e),i=this.indexOf(t);return(n??0)-(i??0)}sort(e){return[...e].sort(this.sortFn.bind(this))}getItemValue(e){var t,n;return e==null?null:((n=(t=this.options).itemToValue)==null?void 0:n.call(t,e))??Kd.itemToValue(e)}getItemDisabled(e){var t,n;return e==null?!1:((n=(t=this.options).isItemDisabled)==null?void 0:n.call(t,e))??Kd.isItemDisabled(e)}stringifyItem(e){var t,n;return e==null?null:((n=(t=this.options).itemToString)==null?void 0:n.call(t,e))??Kd.itemToString(e)}stringify(e){return e==null?null:this.stringifyItem(this.find(e))}stringifyItems(e,t=", "){return Array.from(e).map(n=>this.stringifyItem(n)).filter(Boolean).join(t)}stringifyMany(e,t){return this.stringifyItems(this.findMany(e),t)}has(e){return this.indexOf(e)!==-1}hasItem(e){return e==null?!1:this.has(this.getItemValue(e))}get size(){return this.items.length}get firstValue(){let e=0;for(;this.getItemDisabled(this.at(e));)e++;return this.getItemValue(this.at(e))}get lastValue(){let e=this.size-1;for(;this.getItemDisabled(this.at(e));)e--;return this.getItemValue(this.at(e))}getNextValue(e,t=1,n=!1){let i=this.indexOf(e);if(i===-1)return null;for(i=n?Math.min(i+t,this.size-1):i+t;i<=this.size&&this.getItemDisabled(this.at(i));)i++;return this.getItemValue(this.at(i))}getPreviousValue(e,t=1,n=!1){let i=this.indexOf(e);if(i===-1)return null;for(i=n?Math.max(i-t,0):i-t;i>=0&&this.getItemDisabled(this.at(i));)i--;return this.getItemValue(this.at(i))}indexOf(e){return e==null?-1:this.items.findIndex(t=>this.getItemValue(t)===e)}getByText(e,t){let n=t!=null?nz(this.items,this.indexOf(t)):this.items;return e.length===1&&(n=n.filter(s=>this.getItemValue(s)!==t)),n.find(s=>tz(this.stringifyItem(s),e))}search(e,t){const{state:n,currentValue:i,timeout:s=350}=t,r=n.keysSoFar+e,u=r.length>1&&Array.from(r).every(h=>h===r[0])?r[0]:r,o=this.getByText(u,i),l=this.getItemValue(o);function c(){clearTimeout(n.timer),n.timer=-1}function d(h){n.keysSoFar=h,c(),h!==""&&(n.timer=+setTimeout(()=>{d(""),c()},s))}return d(r),l}*[Symbol.iterator](){yield*this.items}insertBefore(e,t){const n=this.indexOf(e);n!==-1&&this.items.splice(n,0,t)}insertAfter(e,t){const n=this.indexOf(e);n!==-1&&this.items.splice(n+1,0,t)}reorder(e,t){if(e===-1||t===-1||e===t)return;const[n]=this.items.splice(e,1);this.items.splice(t,0,n)}json(){return{size:this.size,first:this.firstValue,last:this.lastValue}}},tz=(e,t)=>!!(e!=null&&e.toLowerCase().startsWith(t.toLowerCase())),nz=(e,t)=>e.map((n,i)=>e[(Math.max(t,0)+i)%e.length]);const aw=e=>Ke(new qu(e));var iz=Object.defineProperty,sz=(e,t,n)=>t in e?iz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$e=(e,t,n)=>sz(e,typeof t!="symbol"?t+"":t,n);function lw(e,...t){for(const n of t){const i=Te(n);for(const s in i)bi(n[s])?(e[s]||(e[s]={}),lw(e[s],n[s])):e[s]=n[s]}return e}function t_(e){return bn(e)}function xs(e){return q(e)?{type:e}:e}function Jr(e){return e?Qe(e)?e.slice():[e]:[]}function cw(e){return Ce(e)&&e.predicate!=null}var rz=()=>!0;function fy(e,t,n,i){return s=>{var r;return q(s)?!!((r=e[s])!=null&&r.call(e,t,n,i)):We(s)?s(t,n,i):s.predicate(e)(t,n,i)}}function oz(...e){return{predicate:t=>(n,i,s)=>e.map(fy(t,n,i,s)).some(Boolean)}}function az(...e){return{predicate:t=>(n,i,s)=>e.map(fy(t,n,i,s)).every(Boolean)}}function lz(e){return{predicate:t=>(n,i,s)=>!fy(t,n,i,s)(e)}}function cz(...e){return(t,n,i)=>i.state.matches(...e)}var uz={or:oz,and:az,not:lz,stateIn:cz};function uw(e,t){return e=e??rz,(n,i,s)=>{if(q(e)){const r=t[e];return We(r)?r(n,i,s):r}return cw(e)?e.predicate(t)(n,i,s):e==null?void 0:e(n,i,s)}}function sg(e,t){return(n,i,s)=>cw(e)?e.predicate(t)(n,i,s):e}function dz(e){var r,a;const t=e.computed??Q({}),n=e.context??Q({}),i=e.initial?(a=(r=e.states)==null?void 0:r[e.initial])==null?void 0:a.tags:[],s=qn({value:e.initial??"",previousValue:"",event:Q({}),previousEvent:Q({}),context:mi(n,t),done:!1,tags:i??[],hasTag(u){return this.tags.includes(u)},matches(...u){return u.includes(this.value)},can(u){return Q(this).nextEvents.includes(u)},get nextEvents(){var l,c;const u=((c=(l=e.states)==null?void 0:l[this.value])==null?void 0:c.on)??{},o=(e==null?void 0:e.on)??{};return Object.keys({...u,...o})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return Q(s)}function gc(e,t){return(n,i)=>{if(yi(e))return e;if(We(e))return e(n,i);if(q(e)){const s=Number.parseFloat(e);if(!Number.isNaN(s))return s;if(t){const r=t==null?void 0:t[e];return He(r==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${e}\`. It doesn't exist in \`options.delays\``),We(r)?r(n,i):r}}}}function hz(e){return q(e)?{target:e}:e}function fz(e,t){return(n,i,s)=>Jr(e).map(hz).find(r=>uw(r.guard,t)(n,i,s)??r.target??r.actions)}var pz=class{constructor(t,n){var i,s,r,a,u;$e(this,"status","Not Started"),$e(this,"state"),$e(this,"initialState"),$e(this,"initialContext"),$e(this,"id"),$e(this,"type","machine"),$e(this,"activityEvents",new Map),$e(this,"delayedEvents",new Map),$e(this,"stateListeners",new Set),$e(this,"doneListeners",new Set),$e(this,"contextWatchers",new Set),$e(this,"removeStateListener",ni),$e(this,"parent"),$e(this,"children",new Map),$e(this,"guardMap"),$e(this,"actionMap"),$e(this,"delayMap"),$e(this,"activityMap"),$e(this,"sync"),$e(this,"options"),$e(this,"config"),$e(this,"_created",()=>{var l;const o=xs("machine.created");this.executeActions((l=this.config)==null?void 0:l.created,o)}),$e(this,"start",o=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=Pt(this.state,()=>{this.stateListeners.forEach(p=>{p(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(xs("machine.start"),Jr(this.config.activities),"machine.start"),this.executeActions(this.config.entry,xs("machine.start"));const l=xs("machine.init"),c=Ce(o)?o.value:o,d=Ce(o)?o.context:void 0;d&&this.setContext(d);const h={target:c??this.config.initial},f=this.getNextStateInfo(h,l);return this.initialState=f,this.performStateChangeEffects(this.state.value,f,l),this}),$e(this,"setupContextWatchers",()=>{const{watch:o}=this.config;if(!o)return;let l=_e(this.state.context);const c=Pt(this.state.context,()=>{var h;const d=_e(this.state.context);for(const[f,p]of Object.entries(o))(((h=this.options.compareFns)==null?void 0:h[f])??Object.is)(l[f],d[f])||this.executeActions(p,this.state.event);l=d});this.contextWatchers.add(c)}),$e(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,xs("machine.stop")),this.executeActions(this.config.exit,xs("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),$e(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),$e(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(o=>o()),this.contextWatchers.clear()}),$e(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(o=>{o.forEach(l=>l())}),this.delayedEvents.clear()}),$e(this,"stopActivities",o=>{var l,c;o?((l=this.activityEvents.get(o))==null||l.forEach(d=>d()),(c=this.activityEvents.get(o))==null||c.clear(),this.activityEvents.delete(o)):(this.activityEvents.forEach(d=>{d.forEach(h=>h()),d.clear()}),this.activityEvents.clear())}),$e(this,"sendChild",(o,l)=>{const c=xs(o),d=$t(l,this.contextSnapshot),h=this.children.get(d);h||He(`[@zag-js/core] Cannot send '${c.type}' event to unknown child`),h.send(c)}),$e(this,"stopChild",o=>{this.children.has(o)||He(`[@zag-js/core > stop-child] Cannot stop unknown child ${o}`),this.children.get(o).stop(),this.children.delete(o)}),$e(this,"removeChild",o=>{this.children.delete(o)}),$e(this,"stopChildren",()=>{this.children.forEach(o=>o.stop()),this.children.clear()}),$e(this,"setParent",o=>{this.parent=o}),$e(this,"spawn",(o,l)=>{const c=$t(o);return l&&(c.id=l),c.type="machine.actor",c.setParent(this),this.children.set(c.id,Q(c)),c.onDone(()=>{this.removeChild(c.id)}).start(),Q(Ke(c))}),$e(this,"stopActivity",o=>{var c;if(!this.state.value)return;const l=this.activityEvents.get(this.state.value);(c=l==null?void 0:l.get(o))==null||c(),l==null||l.delete(o)}),$e(this,"addActivityCleanup",(o,l,c)=>{var d;o&&(this.activityEvents.has(o)?(d=this.activityEvents.get(o))==null||d.set(l,c):this.activityEvents.set(o,new Map([[l,c]])))}),$e(this,"setState",o=>{this.state.previousValue=this.state.value,this.state.value=o;const l=this.getStateNode(o);o==null?vi(this.state.tags):this.state.tags=Jr(l==null?void 0:l.tags)}),$e(this,"setContext",o=>{o&&lw(this.state.context,Te(o))}),$e(this,"setOptions",o=>{const l=Te(o);this.actionMap={...this.actionMap,...l.actions},this.delayMap={...this.delayMap,...l.delays},this.activityMap={...this.activityMap,...l.activities},this.guardMap={...this.guardMap,...l.guards}}),$e(this,"getStateNode",o=>{var l;if(o)return(l=this.config.states)==null?void 0:l[o]}),$e(this,"getNextStateInfo",(o,l)=>{const c=this.determineTransition(o,l),d=!(c!=null&&c.target),h=(c==null?void 0:c.target)??this.state.value,f=this.state.value!==h,p=this.getStateNode(h),m={reenter:!d&&!f&&!(c!=null&&c.internal),transition:c,stateNode:p,target:h,changed:f};return this.log("NextState:",`[${l.type}]`,this.state.value,"---->",m.target),m}),$e(this,"getAfterActions",(o,l)=>{let c;const d=this.state.value;return{entry:()=>{c=globalThis.setTimeout(()=>{const h=this.getNextStateInfo(o,this.state.event);this.performStateChangeEffects(d,h,this.state.event)},l)},exit:()=>{globalThis.clearTimeout(c)}}}),$e(this,"getDelayedEventActions",o=>{const l=this.getStateNode(o),c=this.state.event;if(!l||!l.after)return;const d=[],h=[];if(Qe(l.after)){const f=this.determineTransition(l.after,c);if(!f)return;if(!wn(f,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(f)}`);const g=gc(f.delay,this.delayMap)(this.contextSnapshot,c),m=this.getAfterActions(f,g);return d.push(m.entry),h.push(m.exit),{entries:d,exits:h}}if(Ce(l.after))for(const f in l.after){const p=l.after[f],m=gc(f,this.delayMap)(this.contextSnapshot,c),y=this.getAfterActions(p,m);d.push(y.entry),h.push(y.exit)}return{entries:d,exits:h}}),$e(this,"executeActions",(o,l)=>{var d;const c=sg(o,this.guardMap)(this.contextSnapshot,l,this.guardMeta);for(const h of Jr(c)){const f=q(h)?(d=this.actionMap)==null?void 0:d[h]:h;nt(q(h)&&!f,`[@zag-js/core > execute-actions] No implementation found for action: \`${h}\``),f==null||f(this.state.context,l,this.meta)}}),$e(this,"executeActivities",(o,l,c)=>{var d;for(const h of l){const f=q(h)?(d=this.activityMap)==null?void 0:d[h]:h;if(!f){nt(`[@zag-js/core > execute-activity] No implementation found for activity: \`${h}\``);continue}const p=f(this.state.context,o,this.meta);if(p){const g=q(h)?h:h.name||Rt();this.addActivityCleanup(c??this.state.value,g,p)}}}),$e(this,"createEveryActivities",(o,l)=>{if(o)if(Qe(o)){const c=Jr(o).find(p=>{const g=p.delay,y=gc(g,this.delayMap)(this.contextSnapshot,this.state.event);return uw(p.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??y!=null});if(!c)return;const h=gc(c.delay,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const p=globalThis.setInterval(()=>{this.executeActions(c.actions,this.state.event)},h);return()=>{globalThis.clearInterval(p)}})}else for(const c in o){const d=o==null?void 0:o[c],f=gc(c,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const g=globalThis.setInterval(()=>{this.executeActions(d,this.state.event)},f);return()=>{globalThis.clearInterval(g)}})}}),$e(this,"setEvent",o=>{this.state.previousEvent=this.state.event,this.state.event=Ke(xs(o))}),$e(this,"performExitEffects",(o,l)=>{const c=this.state.value;if(c==="")return;const d=o?this.getStateNode(o):void 0;this.stopActivities(c);const h=sg(d==null?void 0:d.exit,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=Jr(h),p=this.delayedEvents.get(c);p&&f.push(...p),this.executeActions(f,l),this.delayedEvents.delete(c)}),$e(this,"performEntryEffects",(o,l)=>{const c=this.getStateNode(o),d=Jr(c==null?void 0:c.activities);this.createEveryActivities(c==null?void 0:c.every,g=>{d.unshift(g)}),d.length>0&&this.executeActivities(l,d);const h=sg(c==null?void 0:c.entry,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=Jr(h),p=this.getDelayedEventActions(o);c!=null&&c.after&&p&&(this.delayedEvents.set(o,p==null?void 0:p.exits),f.push(...p.entries)),this.executeActions(f,l),(c==null?void 0:c.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(g=>{g(this.stateSnapshot)}),this.stop())}),$e(this,"performTransitionEffects",(o,l)=>{const c=this.determineTransition(o,l);this.executeActions(c==null?void 0:c.actions,l)}),$e(this,"performStateChangeEffects",(o,l,c)=>{this.setEvent(c);const d=l.changed||l.reenter;d&&this.performExitEffects(o,c),this.performTransitionEffects(l.transition,c),this.setState(l.target),d&&this.performEntryEffects(l.target,c)}),$e(this,"determineTransition",(o,l)=>{const c=fz(o,this.guardMap);return c==null?void 0:c(this.contextSnapshot,l,this.guardMeta)}),$e(this,"sendParent",o=>{var c;this.parent||He("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const l=xs(o);(c=this.parent)==null||c.send(l)}),$e(this,"log",(...o)=>{}),$e(this,"send",o=>{const l=xs(o);this.transition(this.state.value,l)}),$e(this,"transition",(o,l)=>{var p,g;const c=q(o)?this.getStateNode(o):o==null?void 0:o.stateNode,d=xs(l);if(!c&&!this.config.on){const m=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${o}, \`event\`: ${d.type}`;nt(m);return}const h=((p=c==null?void 0:c.on)==null?void 0:p[d.type])??((g=this.config.on)==null?void 0:g[d.type]),f=this.getNextStateInfo(h,d);return this.performStateChangeEffects(this.state.value,f,d),f.stateNode}),$e(this,"subscribe",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),()=>{this.stateListeners.delete(o)})),$e(this,"onDone",o=>(this.doneListeners.add(o),this)),$e(this,"onTransition",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),this)),this.config=t_(t),this.options=t_(n??{}),this.id=this.config.id??`machine-${Rt()}`,this.guardMap=((i=this.options)==null?void 0:i.guards)??{},this.actionMap=((s=this.options)==null?void 0:s.actions)??{},this.delayMap=((r=this.options)==null?void 0:r.delays)??{},this.activityMap=((a=this.options)==null?void 0:a.activities)??{},this.sync=((u=this.options)==null?void 0:u.sync)??!1,this.state=dz(this.config),this.initialContext=_e(this.state.context)}get stateSnapshot(){return Q(_e(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const t=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return t.stateSnapshot},get initialContext(){return t.initialContext},get initialState(){var n;return((n=t.initialState)==null?void 0:n.target)??""}}}get meta(){var t;return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:((t=this.initialState)==null?void 0:t.target)??"",getState:()=>this.stateSnapshot,getAction:n=>this.actionMap[n],getGuard:n=>this.guardMap[n]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){const t=this.getState();return{value:t.value,tags:t.tags}}},gz=(e,t)=>new pz(e,t);const mz=["top","right","bottom","left"],Oo=Math.min,ji=Math.max,Ih=Math.round,xd=Math.floor,ko=e=>({x:e,y:e}),vz={left:"right",right:"left",bottom:"top",top:"bottom"},yz={start:"end",end:"start"};function Sm(e,t,n){return ji(e,Oo(t,n))}function Mr(e,t){return typeof e=="function"?e(t):e}function Nr(e){return e.split("-")[0]}function Zl(e){return e.split("-")[1]}function py(e){return e==="x"?"y":"x"}function gy(e){return e==="y"?"height":"width"}function Ao(e){return["top","bottom"].includes(Nr(e))?"y":"x"}function my(e){return py(Ao(e))}function bz(e,t,n){n===void 0&&(n=!1);const i=Zl(e),s=my(e),r=gy(s);let a=s==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[r]>t.floating[r]&&(a=Oh(a)),[a,Oh(a)]}function Ez(e){const t=Oh(e);return[xm(e),t,xm(t)]}function xm(e){return e.replace(/start|end/g,t=>yz[t])}function _z(e,t,n){const i=["left","right"],s=["right","left"],r=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:i:t?i:s;case"left":case"right":return t?r:a;default:return[]}}function Cz(e,t,n,i){const s=Zl(e);let r=_z(Nr(e),n==="start",i);return s&&(r=r.map(a=>a+"-"+s),t&&(r=r.concat(r.map(xm)))),r}function Oh(e){return e.replace(/left|right|bottom|top/g,t=>vz[t])}function Sz(e){return{top:0,right:0,bottom:0,left:0,...e}}function dw(e){return typeof e!="number"?Sz(e):{top:e,right:e,bottom:e,left:e}}function kh(e){const{x:t,y:n,width:i,height:s}=e;return{width:i,height:s,top:n,left:t,right:t+i,bottom:n+s,x:t,y:n}}function n_(e,t,n){let{reference:i,floating:s}=e;const r=Ao(t),a=my(t),u=gy(a),o=Nr(t),l=r==="y",c=i.x+i.width/2-s.width/2,d=i.y+i.height/2-s.height/2,h=i[u]/2-s[u]/2;let f;switch(o){case"top":f={x:c,y:i.y-s.height};break;case"bottom":f={x:c,y:i.y+i.height};break;case"right":f={x:i.x+i.width,y:d};break;case"left":f={x:i.x-s.width,y:d};break;default:f={x:i.x,y:i.y}}switch(Zl(t)){case"start":f[a]-=h*(n&&l?-1:1);break;case"end":f[a]+=h*(n&&l?-1:1);break}return f}const xz=async(e,t,n)=>{const{placement:i="bottom",strategy:s="absolute",middleware:r=[],platform:a}=n,u=r.filter(Boolean),o=await(a.isRTL==null?void 0:a.isRTL(t));let l=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:c,y:d}=n_(l,i,o),h=i,f={},p=0;for(let g=0;g<u.length;g++){const{name:m,fn:y}=u[g],{x:b,y:E,data:_,reset:I}=await y({x:c,y:d,initialPlacement:i,placement:h,strategy:s,middlewareData:f,rects:l,platform:a,elements:{reference:e,floating:t}});c=b??c,d=E??d,f={...f,[m]:{...f[m],..._}},I&&p<=50&&(p++,typeof I=="object"&&(I.placement&&(h=I.placement),I.rects&&(l=I.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):I.rects),{x:c,y:d}=n_(l,h,o)),g=-1)}return{x:c,y:d,placement:h,strategy:s,middlewareData:f}};async function _u(e,t){var n;t===void 0&&(t={});const{x:i,y:s,platform:r,rects:a,elements:u,strategy:o}=e,{boundary:l="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=Mr(t,e),p=dw(f),m=u[h?d==="floating"?"reference":"floating":d],y=kh(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(m)))==null||n?m:m.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(u.floating)),boundary:l,rootBoundary:c,strategy:o})),b=d==="floating"?{x:i,y:s,width:a.floating.width,height:a.floating.height}:a.reference,E=await(r.getOffsetParent==null?void 0:r.getOffsetParent(u.floating)),_=await(r.isElement==null?void 0:r.isElement(E))?await(r.getScale==null?void 0:r.getScale(E))||{x:1,y:1}:{x:1,y:1},I=kh(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:b,offsetParent:E,strategy:o}):b);return{top:(y.top-I.top+p.top)/_.y,bottom:(I.bottom-y.bottom+p.bottom)/_.y,left:(y.left-I.left+p.left)/_.x,right:(I.right-y.right+p.right)/_.x}}const Tz=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:i,placement:s,rects:r,platform:a,elements:u,middlewareData:o}=t,{element:l,padding:c=0}=Mr(e,t)||{};if(l==null)return{};const d=dw(c),h={x:n,y:i},f=my(s),p=gy(f),g=await a.getDimensions(l),m=f==="y",y=m?"top":"left",b=m?"bottom":"right",E=m?"clientHeight":"clientWidth",_=r.reference[p]+r.reference[f]-h[f]-r.floating[p],I=h[f]-r.reference[f],P=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l));let M=P?P[E]:0;(!M||!await(a.isElement==null?void 0:a.isElement(P)))&&(M=u.floating[E]||r.floating[p]);const z=_/2-I/2,D=M/2-g[p]/2-1,j=Oo(d[y],D),se=Oo(d[b],D),ae=j,Y=M-g[p]-se,Z=M/2-g[p]/2+z,de=Sm(ae,Z,Y),ce=!o.arrow&&Zl(s)!=null&&Z!==de&&r.reference[p]/2-(Z<ae?j:se)-g[p]/2<0,re=ce?Z<ae?Z-ae:Z-Y:0;return{[f]:h[f]+re,data:{[f]:de,centerOffset:Z-de-re,...ce&&{alignmentOffset:re}},reset:ce}}}),wz=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:s,middlewareData:r,rects:a,initialPlacement:u,platform:o,elements:l}=t,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...m}=Mr(e,t);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const y=Nr(s),b=Ao(u),E=Nr(u)===u,_=await(o.isRTL==null?void 0:o.isRTL(l.floating)),I=h||(E||!g?[Oh(u)]:Ez(u)),P=p!=="none";!h&&P&&I.push(...Cz(u,g,p,_));const M=[u,...I],z=await _u(t,m),D=[];let j=((i=r.flip)==null?void 0:i.overflows)||[];if(c&&D.push(z[y]),d){const Z=bz(s,a,_);D.push(z[Z[0]],z[Z[1]])}if(j=[...j,{placement:s,overflows:D}],!D.every(Z=>Z<=0)){var se,ae;const Z=(((se=r.flip)==null?void 0:se.index)||0)+1,de=M[Z];if(de)return{data:{index:Z,overflows:j},reset:{placement:de}};let ce=(ae=j.filter(re=>re.overflows[0]<=0).sort((re,he)=>re.overflows[1]-he.overflows[1])[0])==null?void 0:ae.placement;if(!ce)switch(f){case"bestFit":{var Y;const re=(Y=j.filter(he=>{if(P){const je=Ao(he.placement);return je===b||je==="y"}return!0}).map(he=>[he.placement,he.overflows.filter(je=>je>0).reduce((je,lt)=>je+lt,0)]).sort((he,je)=>he[1]-je[1])[0])==null?void 0:Y[0];re&&(ce=re);break}case"initialPlacement":ce=u;break}if(s!==ce)return{reset:{placement:ce}}}return{}}}};function i_(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function s_(e){return mz.some(t=>e[t]>=0)}const Iz=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:i="referenceHidden",...s}=Mr(e,t);switch(i){case"referenceHidden":{const r=await _u(t,{...s,elementContext:"reference"}),a=i_(r,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:s_(a)}}}case"escaped":{const r=await _u(t,{...s,altBoundary:!0}),a=i_(r,n.floating);return{data:{escapedOffsets:a,escaped:s_(a)}}}default:return{}}}}};async function Oz(e,t){const{placement:n,platform:i,elements:s}=e,r=await(i.isRTL==null?void 0:i.isRTL(s.floating)),a=Nr(n),u=Zl(n),o=Ao(n)==="y",l=["left","top"].includes(a)?-1:1,c=r&&o?-1:1,d=Mr(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return u&&typeof p=="number"&&(f=u==="end"?p*-1:p),o?{x:f*c,y:h*l}:{x:h*l,y:f*c}}const kz=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:s,y:r,placement:a,middlewareData:u}=t,o=await Oz(t,e);return a===((n=u.offset)==null?void 0:n.placement)&&(i=u.arrow)!=null&&i.alignmentOffset?{}:{x:s+o.x,y:r+o.y,data:{...o,placement:a}}}}},Az=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:s}=t,{mainAxis:r=!0,crossAxis:a=!1,limiter:u={fn:m=>{let{x:y,y:b}=m;return{x:y,y:b}}},...o}=Mr(e,t),l={x:n,y:i},c=await _u(t,o),d=Ao(Nr(s)),h=py(d);let f=l[h],p=l[d];if(r){const m=h==="y"?"top":"left",y=h==="y"?"bottom":"right",b=f+c[m],E=f-c[y];f=Sm(b,f,E)}if(a){const m=d==="y"?"top":"left",y=d==="y"?"bottom":"right",b=p+c[m],E=p-c[y];p=Sm(b,p,E)}const g=u.fn({...t,[h]:f,[d]:p});return{...g,data:{x:g.x-n,y:g.y-i,enabled:{[h]:r,[d]:a}}}}}},Pz=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:i,placement:s,rects:r,middlewareData:a}=t,{offset:u=0,mainAxis:o=!0,crossAxis:l=!0}=Mr(e,t),c={x:n,y:i},d=Ao(s),h=py(d);let f=c[h],p=c[d];const g=Mr(u,t),m=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(o){const E=h==="y"?"height":"width",_=r.reference[h]-r.floating[E]+m.mainAxis,I=r.reference[h]+r.reference[E]-m.mainAxis;f<_?f=_:f>I&&(f=I)}if(l){var y,b;const E=h==="y"?"width":"height",_=["top","left"].includes(Nr(s)),I=r.reference[d]-r.floating[E]+(_&&((y=a.offset)==null?void 0:y[d])||0)+(_?0:m.crossAxis),P=r.reference[d]+r.reference[E]+(_?0:((b=a.offset)==null?void 0:b[d])||0)-(_?m.crossAxis:0);p<I?p=I:p>P&&(p=P)}return{[h]:f,[d]:p}}}},$z=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,i;const{placement:s,rects:r,platform:a,elements:u}=t,{apply:o=()=>{},...l}=Mr(e,t),c=await _u(t,l),d=Nr(s),h=Zl(s),f=Ao(s)==="y",{width:p,height:g}=r.floating;let m,y;d==="top"||d==="bottom"?(m=d,y=h===(await(a.isRTL==null?void 0:a.isRTL(u.floating))?"start":"end")?"left":"right"):(y=d,m=h==="end"?"top":"bottom");const b=g-c.top-c.bottom,E=p-c.left-c.right,_=Oo(g-c[m],b),I=Oo(p-c[y],E),P=!t.middlewareData.shift;let M=_,z=I;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(z=E),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(M=b),P&&!h){const j=ji(c.left,0),se=ji(c.right,0),ae=ji(c.top,0),Y=ji(c.bottom,0);f?z=p-2*(j!==0||se!==0?j+se:ji(c.left,c.right)):M=g-2*(ae!==0||Y!==0?ae+Y:ji(c.top,c.bottom))}await o({...t,availableWidth:z,availableHeight:M});const D=await a.getDimensions(u.floating);return p!==D.width||g!==D.height?{reset:{rects:!0}}:{}}}};function Hf(){return typeof window<"u"}function Ql(e){return hw(e)?(e.nodeName||"").toLowerCase():"#document"}function qi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function pr(e){var t;return(t=(hw(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function hw(e){return Hf()?e instanceof Node||e instanceof qi(e).Node:!1}function js(e){return Hf()?e instanceof Element||e instanceof qi(e).Element:!1}function ar(e){return Hf()?e instanceof HTMLElement||e instanceof qi(e).HTMLElement:!1}function r_(e){return!Hf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof qi(e).ShadowRoot}function Yu(e){const{overflow:t,overflowX:n,overflowY:i,display:s}=Us(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!["inline","contents"].includes(s)}function Mz(e){return["table","td","th"].includes(Ql(e))}function jf(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function vy(e){const t=yy(),n=js(e)?Us(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function Nz(e){let t=Po(e);for(;ar(t)&&!Ml(t);){if(vy(t))return t;if(jf(t))return null;t=Po(t)}return null}function yy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ml(e){return["html","body","#document"].includes(Ql(e))}function Us(e){return qi(e).getComputedStyle(e)}function Uf(e){return js(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Po(e){if(Ql(e)==="html")return e;const t=e.assignedSlot||e.parentNode||r_(e)&&e.host||pr(e);return r_(t)?t.host:t}function fw(e){const t=Po(e);return Ml(t)?e.ownerDocument?e.ownerDocument.body:e.body:ar(t)&&Yu(t)?t:fw(t)}function Cu(e,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=fw(e),r=s===((i=e.ownerDocument)==null?void 0:i.body),a=qi(s);if(r){const u=Tm(a);return t.concat(a,a.visualViewport||[],Yu(s)?s:[],u&&n?Cu(u):[])}return t.concat(s,Cu(s,[],n))}function Tm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function pw(e){const t=Us(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const s=ar(e),r=s?e.offsetWidth:n,a=s?e.offsetHeight:i,u=Ih(n)!==r||Ih(i)!==a;return u&&(n=r,i=a),{width:n,height:i,$:u}}function by(e){return js(e)?e:e.contextElement}function Cl(e){const t=by(e);if(!ar(t))return ko(1);const n=t.getBoundingClientRect(),{width:i,height:s,$:r}=pw(t);let a=(r?Ih(n.width):n.width)/i,u=(r?Ih(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!u||!Number.isFinite(u))&&(u=1),{x:a,y:u}}const Rz=ko(0);function gw(e){const t=qi(e);return!yy()||!t.visualViewport?Rz:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Dz(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==qi(e)?!1:t}function $a(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),r=by(e);let a=ko(1);t&&(i?js(i)&&(a=Cl(i)):a=Cl(e));const u=Dz(r,n,i)?gw(r):ko(0);let o=(s.left+u.x)/a.x,l=(s.top+u.y)/a.y,c=s.width/a.x,d=s.height/a.y;if(r){const h=qi(r),f=i&&js(i)?qi(i):i;let p=h,g=Tm(p);for(;g&&i&&f!==p;){const m=Cl(g),y=g.getBoundingClientRect(),b=Us(g),E=y.left+(g.clientLeft+parseFloat(b.paddingLeft))*m.x,_=y.top+(g.clientTop+parseFloat(b.paddingTop))*m.y;o*=m.x,l*=m.y,c*=m.x,d*=m.y,o+=E,l+=_,p=qi(g),g=Tm(p)}}return kh({width:c,height:d,x:o,y:l})}function Lz(e){let{elements:t,rect:n,offsetParent:i,strategy:s}=e;const r=s==="fixed",a=pr(i),u=t?jf(t.floating):!1;if(i===a||u&&r)return n;let o={scrollLeft:0,scrollTop:0},l=ko(1);const c=ko(0),d=ar(i);if((d||!d&&!r)&&((Ql(i)!=="body"||Yu(a))&&(o=Uf(i)),ar(i))){const h=$a(i);l=Cl(i),c.x=h.x+i.clientLeft,c.y=h.y+i.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-o.scrollLeft*l.x+c.x,y:n.y*l.y-o.scrollTop*l.y+c.y}}function Fz(e){return Array.from(e.getClientRects())}function wm(e,t){const n=Uf(e).scrollLeft;return t?t.left+n:$a(pr(e)).left+n}function Vz(e){const t=pr(e),n=Uf(e),i=e.ownerDocument.body,s=ji(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),r=ji(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let a=-n.scrollLeft+wm(e);const u=-n.scrollTop;return Us(i).direction==="rtl"&&(a+=ji(t.clientWidth,i.clientWidth)-s),{width:s,height:r,x:a,y:u}}function Bz(e,t){const n=qi(e),i=pr(e),s=n.visualViewport;let r=i.clientWidth,a=i.clientHeight,u=0,o=0;if(s){r=s.width,a=s.height;const l=yy();(!l||l&&t==="fixed")&&(u=s.offsetLeft,o=s.offsetTop)}return{width:r,height:a,x:u,y:o}}function Hz(e,t){const n=$a(e,!0,t==="fixed"),i=n.top+e.clientTop,s=n.left+e.clientLeft,r=ar(e)?Cl(e):ko(1),a=e.clientWidth*r.x,u=e.clientHeight*r.y,o=s*r.x,l=i*r.y;return{width:a,height:u,x:o,y:l}}function o_(e,t,n){let i;if(t==="viewport")i=Bz(e,n);else if(t==="document")i=Vz(pr(e));else if(js(t))i=Hz(t,n);else{const s=gw(e);i={...t,x:t.x-s.x,y:t.y-s.y}}return kh(i)}function mw(e,t){const n=Po(e);return n===t||!js(n)||Ml(n)?!1:Us(n).position==="fixed"||mw(n,t)}function jz(e,t){const n=t.get(e);if(n)return n;let i=Cu(e,[],!1).filter(u=>js(u)&&Ql(u)!=="body"),s=null;const r=Us(e).position==="fixed";let a=r?Po(e):e;for(;js(a)&&!Ml(a);){const u=Us(a),o=vy(a);!o&&u.position==="fixed"&&(s=null),(r?!o&&!s:!o&&u.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Yu(a)&&!o&&mw(e,a))?i=i.filter(c=>c!==a):s=u,a=Po(a)}return t.set(e,i),i}function Uz(e){let{element:t,boundary:n,rootBoundary:i,strategy:s}=e;const a=[...n==="clippingAncestors"?jf(t)?[]:jz(t,this._c):[].concat(n),i],u=a[0],o=a.reduce((l,c)=>{const d=o_(t,c,s);return l.top=ji(d.top,l.top),l.right=Oo(d.right,l.right),l.bottom=Oo(d.bottom,l.bottom),l.left=ji(d.left,l.left),l},o_(t,u,s));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}}function Gz(e){const{width:t,height:n}=pw(e);return{width:t,height:n}}function Wz(e,t,n){const i=ar(t),s=pr(t),r=n==="fixed",a=$a(e,!0,r,t);let u={scrollLeft:0,scrollTop:0};const o=ko(0);if(i||!i&&!r)if((Ql(t)!=="body"||Yu(s))&&(u=Uf(t)),i){const f=$a(t,!0,r,t);o.x=f.x+t.clientLeft,o.y=f.y+t.clientTop}else s&&(o.x=wm(s));let l=0,c=0;if(s&&!i&&!r){const f=s.getBoundingClientRect();c=f.top+u.scrollTop,l=f.left+u.scrollLeft-wm(s,f)}const d=a.left+u.scrollLeft-o.x-l,h=a.top+u.scrollTop-o.y-c;return{x:d,y:h,width:a.width,height:a.height}}function rg(e){return Us(e).position==="static"}function a_(e,t){if(!ar(e)||Us(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return pr(e)===n&&(n=n.ownerDocument.body),n}function vw(e,t){const n=qi(e);if(jf(e))return n;if(!ar(e)){let s=Po(e);for(;s&&!Ml(s);){if(js(s)&&!rg(s))return s;s=Po(s)}return n}let i=a_(e,t);for(;i&&Mz(i)&&rg(i);)i=a_(i,t);return i&&Ml(i)&&rg(i)&&!vy(i)?n:i||Nz(e)||n}const zz=async function(e){const t=this.getOffsetParent||vw,n=this.getDimensions,i=await n(e.floating);return{reference:Wz(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function Kz(e){return Us(e).direction==="rtl"}const qz={convertOffsetParentRelativeRectToViewportRelativeRect:Lz,getDocumentElement:pr,getClippingRect:Uz,getOffsetParent:vw,getElementRects:zz,getClientRects:Fz,getDimensions:Gz,getScale:Cl,isElement:js,isRTL:Kz};function Yz(e,t){let n=null,i;const s=pr(e);function r(){var u;clearTimeout(i),(u=n)==null||u.disconnect(),n=null}function a(u,o){u===void 0&&(u=!1),o===void 0&&(o=1),r();const{left:l,top:c,width:d,height:h}=e.getBoundingClientRect();if(u||t(),!d||!h)return;const f=xd(c),p=xd(s.clientWidth-(l+d)),g=xd(s.clientHeight-(c+h)),m=xd(l),b={rootMargin:-f+"px "+-p+"px "+-g+"px "+-m+"px",threshold:ji(0,Oo(1,o))||1};let E=!0;function _(I){const P=I[0].intersectionRatio;if(P!==o){if(!E)return a();P?a(!1,P):i=setTimeout(()=>{a(!1,1e-7)},1e3)}E=!1}try{n=new IntersectionObserver(_,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(_,b)}n.observe(e)}return a(!0),r}function Jz(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:r=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:o=!1}=i,l=by(e),c=s||r?[...l?Cu(l):[],...Cu(t)]:[];c.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),r&&y.addEventListener("resize",n)});const d=l&&u?Yz(l,n):null;let h=-1,f=null;a&&(f=new ResizeObserver(y=>{let[b]=y;b&&b.target===l&&f&&(f.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var E;(E=f)==null||E.observe(t)})),n()}),l&&!o&&f.observe(l),f.observe(t));let p,g=o?$a(e):null;o&&m();function m(){const y=$a(e);g&&(y.x!==g.x||y.y!==g.y||y.width!==g.width||y.height!==g.height)&&n(),g=y,p=requestAnimationFrame(m)}return n(),()=>{var y;c.forEach(b=>{s&&b.removeEventListener("scroll",n),r&&b.removeEventListener("resize",n)}),d==null||d(),(y=f)==null||y.disconnect(),f=null,o&&cancelAnimationFrame(p)}}const Xz=kz,Zz=Az,Qz=wz,e7=$z,t7=Iz,n7=Tz,i7=Pz,s7=(e,t,n)=>{const i=new Map,s={platform:qz,...n},r={...s.platform,_c:i};return xz(e,t,{...s,platform:r})};function l_(e=0,t=0,n=0,i=0){if(typeof DOMRect=="function")return new DOMRect(e,t,n,i);const s={x:e,y:t,width:n,height:i,top:t,right:e+n,bottom:t+i,left:e};return{...s,toJSON:()=>s}}function r7(e){if(!e)return l_();const{x:t,y:n,width:i,height:s}=e;return l_(t,n,i,s)}function o7(e,t){return{contextElement:Ji(e)?e:void 0,getBoundingClientRect:()=>{const n=e,i=t==null?void 0:t(n);return i||!n?r7(i):n.getBoundingClientRect()}}}var mc=e=>({variable:e,reference:`var(${e})`}),Cr={arrowSize:mc("--arrow-size"),arrowSizeHalf:mc("--arrow-size-half"),arrowBg:mc("--arrow-background"),transformOrigin:mc("--transform-origin"),arrowOffset:mc("--arrow-offset")},a7=e=>({top:"bottom center","top-start":e?`${e.x}px bottom`:"left bottom","top-end":e?`${e.x}px bottom`:"right bottom",bottom:"top center","bottom-start":e?`${e.x}px top`:"top left","bottom-end":e?`${e.x}px top`:"top right",left:"right center","left-start":e?`right ${e.y}px`:"right top","left-end":e?`right ${e.y}px`:"right bottom",right:"left center","right-start":e?`left ${e.y}px`:"left top","right-end":e?`left ${e.y}px`:"left bottom"}),l7={name:"transformOrigin",fn({placement:e,elements:t,middlewareData:n}){const{arrow:i}=n,s=a7(i)[e],{floating:r}=t;return r.style.setProperty(Cr.transformOrigin.variable,s),{data:{transformOrigin:s}}}},c7={name:"rects",fn({rects:e}){return{data:e}}},u7=e=>{if(e)return{name:"shiftArrow",fn({placement:t,middlewareData:n}){if(!n.arrow)return{};const{x:i,y:s}=n.arrow,r=t.split("-")[0];return Object.assign(e.style,{left:i!=null?`${i}px`:"",top:s!=null?`${s}px`:"",[r]:`calc(100% + ${Cr.arrowOffset.reference})`}),{}}}};function d7(e){const[t,n]=e.split("-");return{side:t,align:n,hasAlign:n!=null}}function h7(e){return e.split("-")[0]}var f7={strategy:"absolute",placement:"bottom",listeners:!0,gutter:8,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,overflowPadding:8,arrowPadding:4};function c_(e,t){const n=e.devicePixelRatio||1;return Math.round(t*n)/n}function yw(e){return $t(e.boundary)}function p7(e,t){if(e)return n7({element:e,padding:t.arrowPadding})}function g7(e,t){if(!HN(t.offset??t.gutter))return Xz(({placement:n})=>{var l,c;const i=((e==null?void 0:e.clientHeight)||0)/2,s=((l=t.offset)==null?void 0:l.mainAxis)??t.gutter,r=typeof s=="number"?s+i:s??i,{hasAlign:a}=d7(n),u=a?void 0:t.shift,o=((c=t.offset)==null?void 0:c.crossAxis)??u;return Te({crossAxis:o,mainAxis:r,alignmentAxis:t.shift})})}function m7(e){if(e.flip)return Qz({boundary:yw(e),padding:e.overflowPadding,fallbackPlacements:e.flip===!0?void 0:e.flip})}function v7(e){if(!(!e.slide&&!e.overlap))return Zz({boundary:yw(e),mainAxis:e.slide,crossAxis:e.overlap,padding:e.overflowPadding,limiter:i7()})}function y7(e){return e7({padding:e.overflowPadding,apply({elements:t,rects:n,availableHeight:i,availableWidth:s}){const r=t.floating,a=Math.round(n.reference.width);s=Math.floor(s),i=Math.floor(i),r.style.setProperty("--reference-width",`${a}px`),r.style.setProperty("--available-width",`${s}px`),r.style.setProperty("--available-height",`${i}px`)}})}function b7(e){var t;if(e.hideWhenDetached)return t7({strategy:"referenceHidden",boundary:((t=e.boundary)==null?void 0:t.call(e))??"clippingAncestors"})}function E7(e){return e?e===!0?{ancestorResize:!0,ancestorScroll:!0,elementResize:!0,layoutShift:!0}:e:{}}function _7(e,t,n={}){const i=o7(e,n.getAnchorRect);if(!t||!i)return;const s=Object.assign({},f7,n),r=t.querySelector("[data-part=arrow]"),a=[g7(r,s),m7(s),v7(s),p7(r,s),u7(r),l7,y7(s),b7(s),c7],{placement:u,strategy:o,onComplete:l,onPositioned:c}=s,d=async()=>{var _;if(!i||!t)return;const g=await s7(i,t,{placement:u,middleware:a,strategy:o});l==null||l(g),c==null||c({placed:!0});const m=Xi(t),y=c_(m,g.x),b=c_(m,g.y);t.style.setProperty("--x",`${y}px`),t.style.setProperty("--y",`${b}px`),s.hideWhenDetached&&((_=g.middlewareData.hide)!=null&&_.referenceHidden)&&t.style.setProperty("visibility","hidden");const E=t.firstElementChild;if(E){const I=m.getComputedStyle(E).zIndex;t.style.setProperty("--z-index",I)}},h=async()=>{n.updatePosition?(await n.updatePosition({updatePosition:d}),c==null||c({placed:!0})):await d()},f=E7(s.listeners),p=s.listeners?Jz(i,t,h,f):ni;return h(),()=>{p==null||p(),c==null||c({placed:!1})}}function Rr(e,t,n={}){const{defer:i,...s}=n,r=i?Je:u=>u(),a=[];return a.push(r(()=>{const u=typeof e=="function"?e():e,o=typeof t=="function"?t():t;a.push(_7(u,o,s))})),()=>{a.forEach(u=>u==null?void 0:u())}}var C7={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function Ju(e={}){const{placement:t,sameWidth:n,fitViewport:i,strategy:s="absolute"}=e;return{arrow:{position:"absolute",width:Cr.arrowSize.reference,height:Cr.arrowSize.reference,[Cr.arrowSizeHalf.variable]:`calc(${Cr.arrowSize.reference} / 2)`,[Cr.arrowOffset.variable]:`calc(${Cr.arrowSizeHalf.reference} * -1)`},arrowTip:{transform:t?C7[t.split("-")[0]]:void 0,background:Cr.arrowBg.reference,top:"0",left:"0",width:"100%",height:"100%",position:"absolute",zIndex:"inherit"},floating:{position:s,isolation:"isolate",minWidth:n?void 0:"max-content",width:n?"var(--reference-width)":void 0,maxWidth:i?"var(--available-width)":void 0,maxHeight:i?"var(--available-height)":void 0,top:"0px",left:"0px",transform:t?"translate3d(var(--x), var(--y), 0)":"translate3d(0, -100vh, 0)",zIndex:"var(--z-index)"}}}var S7=Dn("select").parts("label","positioner","trigger","indicator","clearTrigger","item","itemText","itemIndicator","itemGroup","itemGroupLabel","list","content","root","control","valueText"),ri=S7.build(),bw=e=>Ke(new qu(e));bw.empty=()=>Ke(new qu({items:[]}));var ze=Pi({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`select:${e.id}`},getContentId:e=>{var t;return((t=e.ids)==null?void 0:t.content)??`select:${e.id}:content`},getTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.trigger)??`select:${e.id}:trigger`},getClearTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.clearTrigger)??`select:${e.id}:clear-trigger`},getLabelId:e=>{var t;return((t=e.ids)==null?void 0:t.label)??`select:${e.id}:label`},getControlId:e=>{var t;return((t=e.ids)==null?void 0:t.control)??`select:${e.id}:control`},getItemId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.item)==null?void 0:i.call(n,t))??`select:${e.id}:option:${t}`},getHiddenSelectId:e=>{var t;return((t=e.ids)==null?void 0:t.hiddenSelect)??`select:${e.id}:select`},getPositionerId:e=>{var t;return((t=e.ids)==null?void 0:t.positioner)??`select:${e.id}:positioner`},getItemGroupId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.itemGroup)==null?void 0:i.call(n,t))??`select:${e.id}:optgroup:${t}`},getItemGroupLabelId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.itemGroupLabel)==null?void 0:i.call(n,t))??`select:${e.id}:optgroup-label:${t}`},getHiddenSelectEl:e=>ze.getById(e,ze.getHiddenSelectId(e)),getContentEl:e=>ze.getById(e,ze.getContentId(e)),getControlEl:e=>ze.getById(e,ze.getControlId(e)),getTriggerEl:e=>ze.getById(e,ze.getTriggerId(e)),getClearTriggerEl:e=>ze.getById(e,ze.getClearTriggerId(e)),getPositionerEl:e=>ze.getById(e,ze.getPositionerId(e)),getHighlightedOptionEl(e){return e.highlightedValue?ze.getById(e,ze.getItemId(e,e.highlightedValue)):null}});function x7(e,t,n){const i=e.context.isDisabled,s=e.context.invalid,r=e.context.readOnly,a=e.context.isInteractive,u=e.context.composite,o=e.hasTag("open"),l=e.matches("focused"),c=e.context.highlightedValue,d=e.context.highlightedItem,h=e.context.selectedItems,f=e.context.isTypingAhead,p=e.context.collection,g=c?ze.getItemId(e.context,c):void 0;function m(b){const E=p.getItemDisabled(b.item),_=p.getItemValue(b.item);return{value:_,disabled:!!(i||E),highlighted:c===_,selected:e.context.value.includes(_)}}const y=Ju({...e.context.positioning,placement:e.context.currentPlacement});return{open:o,focused:l,empty:e.context.value.length===0,highlightedItem:d,highlightedValue:c,selectedItems:h,hasSelectedItems:e.context.hasSelectedItems,value:e.context.value,valueAsString:e.context.valueAsString,collection:p,multiple:!!e.context.multiple,disabled:!!i,setCollection(b){t({type:"COLLECTION.SET",value:b})},reposition(b={}){t({type:"POSITIONING.SET",options:b})},focus(){var b;(b=ze.getTriggerEl(e.context))==null||b.focus({preventScroll:!0})},setOpen(b){b!==o&&t(b?"OPEN":"CLOSE")},selectValue(b){t({type:"ITEM.SELECT",value:b})},setValue(b){t({type:"VALUE.SET",value:b})},selectAll(){t({type:"VALUE.SET",value:p.getValues()})},highlightValue(b){t({type:"HIGHLIGHTED_VALUE.SET",value:b})},clearValue(b){t(b?{type:"ITEM.CLEAR",value:b}:{type:"VALUE.CLEAR"})},getItemState:m,getRootProps(){return n.element({...ri.root.attrs,dir:e.context.dir,id:ze.getRootId(e.context),"data-invalid":H(s),"data-readonly":H(r)})},getLabelProps(){return n.label({dir:e.context.dir,id:ze.getLabelId(e.context),...ri.label.attrs,"data-disabled":H(i),"data-invalid":H(s),"data-readonly":H(r),htmlFor:ze.getHiddenSelectId(e.context),onClick(b){var E;b.defaultPrevented||i||(E=ze.getTriggerEl(e.context))==null||E.focus({preventScroll:!0})}})},getControlProps(){return n.element({...ri.control.attrs,dir:e.context.dir,id:ze.getControlId(e.context),"data-state":o?"open":"closed","data-focus":H(l),"data-disabled":H(i),"data-invalid":H(s)})},getValueTextProps(){return n.element({...ri.valueText.attrs,dir:e.context.dir,"data-disabled":H(i),"data-invalid":H(s),"data-focus":H(l)})},getTriggerProps(){return n.button({id:ze.getTriggerId(e.context),disabled:i,dir:e.context.dir,type:"button",role:"combobox","aria-controls":ze.getContentId(e.context),"aria-expanded":o,"aria-haspopup":"listbox","data-state":o?"open":"closed","aria-invalid":s,"aria-labelledby":ze.getLabelId(e.context),...ri.trigger.attrs,"data-disabled":H(i),"data-invalid":H(s),"data-readonly":H(r),"data-placement":e.context.currentPlacement,"data-placeholder-shown":H(!e.context.hasSelectedItems),onClick(b){a&&(b.defaultPrevented||t({type:"TRIGGER.CLICK"}))},onFocus(){t("TRIGGER.FOCUS")},onBlur(){t("TRIGGER.BLUR")},onKeyDown(b){if(b.defaultPrevented||!a)return;const _={ArrowUp(){t({type:"TRIGGER.ARROW_UP"})},ArrowDown(I){t({type:I.altKey?"OPEN":"TRIGGER.ARROW_DOWN"})},ArrowLeft(){t({type:"TRIGGER.ARROW_LEFT"})},ArrowRight(){t({type:"TRIGGER.ARROW_RIGHT"})},Home(){t({type:"TRIGGER.HOME"})},End(){t({type:"TRIGGER.END"})},Enter(){t({type:"TRIGGER.ENTER"})},Space(I){t(f?{type:"TRIGGER.TYPEAHEAD",key:I.key}:{type:"TRIGGER.ENTER"})}}[Hs(b,e.context)];if(_){_(b),b.preventDefault();return}vu.isValidEvent(b)&&(t({type:"TRIGGER.TYPEAHEAD",key:b.key}),b.preventDefault())}})},getIndicatorProps(){return n.element({...ri.indicator.attrs,dir:e.context.dir,"aria-hidden":!0,"data-state":o?"open":"closed","data-disabled":H(i),"data-invalid":H(s),"data-readonly":H(r)})},getItemProps(b){const E=m(b);return n.element({id:ze.getItemId(e.context,E.value),role:"option",...ri.item.attrs,dir:e.context.dir,"data-value":E.value,"aria-selected":E.selected,"data-state":E.selected?"checked":"unchecked","data-highlighted":H(E.highlighted),"data-disabled":H(E.disabled),"aria-disabled":Eo(E.disabled),onPointerMove(_){E.disabled||_.pointerType!=="mouse"||E.value!==e.context.highlightedValue&&t({type:"ITEM.POINTER_MOVE",value:E.value})},onClick(_){_.defaultPrevented||E.disabled||t({type:"ITEM.CLICK",src:"pointerup",value:E.value})},onPointerLeave(_){E.disabled||b.persistFocus||_.pointerType!=="mouse"||!e.previousEvent.type.includes("POINTER")||t({type:"ITEM.POINTER_LEAVE"})}})},getItemTextProps(b){const E=m(b);return n.element({...ri.itemText.attrs,"data-state":E.selected?"checked":"unchecked","data-disabled":H(E.disabled),"data-highlighted":H(E.highlighted)})},getItemIndicatorProps(b){const E=m(b);return n.element({"aria-hidden":!0,...ri.itemIndicator.attrs,"data-state":E.selected?"checked":"unchecked",hidden:!E.selected})},getItemGroupLabelProps(b){const{htmlFor:E}=b;return n.element({...ri.itemGroupLabel.attrs,id:ze.getItemGroupLabelId(e.context,E),role:"group",dir:e.context.dir})},getItemGroupProps(b){const{id:E}=b;return n.element({...ri.itemGroup.attrs,"data-disabled":H(i),id:ze.getItemGroupId(e.context,E),"aria-labelledby":ze.getItemGroupLabelId(e.context,E),dir:e.context.dir})},getClearTriggerProps(){return n.button({...ri.clearTrigger.attrs,id:ze.getClearTriggerId(e.context),type:"button","aria-label":"Clear value","data-invalid":H(s),disabled:i,hidden:!e.context.hasSelectedItems,dir:e.context.dir,onClick(b){b.defaultPrevented||t("CLEAR.CLICK")}})},getHiddenSelectProps(){return n.select({name:e.context.name,form:e.context.form,disabled:i,multiple:e.context.multiple,required:e.context.required,"aria-hidden":!0,id:ze.getHiddenSelectId(e.context),defaultValue:e.context.multiple?e.context.value:e.context.value[0],style:Bu,tabIndex:-1,onFocus(){var b;(b=ze.getTriggerEl(e.context))==null||b.focus({preventScroll:!0})},"aria-labelledby":ze.getLabelId(e.context)})},getPositionerProps(){return n.element({...ri.positioner.attrs,dir:e.context.dir,id:ze.getPositionerId(e.context),style:y.floating})},getContentProps(){return n.element({hidden:!o,dir:e.context.dir,id:ze.getContentId(e.context),role:u?"listbox":"dialog",...ri.content.attrs,"data-state":o?"open":"closed","data-placement":e.context.currentPlacement,"data-activedescendant":g,"aria-activedescendant":u?g:void 0,"aria-multiselectable":e.context.multiple&&u?!0:void 0,"aria-labelledby":ze.getLabelId(e.context),tabIndex:0,onKeyDown(b){if(!a||!mu(b))return;if(b.key==="Tab"&&!Ex(b)){b.preventDefault();return}const E={ArrowUp(){t({type:"CONTENT.ARROW_UP"})},ArrowDown(){t({type:"CONTENT.ARROW_DOWN"})},Home(){t({type:"CONTENT.HOME"})},End(){t({type:"CONTENT.END"})},Enter(){t({type:"ITEM.CLICK",src:"keydown.enter"})},Space(P){var M;f?t({type:"CONTENT.TYPEAHEAD",key:P.key}):(M=E.Enter)==null||M.call(E,P)}},_=E[Hs(b)];if(_){_(b),b.preventDefault();return}const I=Zi(b);jv(I)||vu.isValidEvent(b)&&(t({type:"CONTENT.TYPEAHEAD",key:b.key}),b.preventDefault())}})},getListProps(){return n.element({...ri.list.attrs,tabIndex:0,role:u?void 0:"listbox","aria-labelledby":ze.getTriggerId(e.context),"aria-activedescendant":u?void 0:g,"aria-multiselectable":!u&&e.context.multiple?!0:void 0})}}}var{and:vc,not:sa,or:T7}=uz;function w7(e){const t=Te(e);return gz({id:"select",context:{value:[],highlightedValue:null,loopFocus:!1,closeOnSelect:!t.multiple,disabled:!1,readOnly:!1,composite:!0,...t,highlightedItem:null,selectedItems:[],valueAsString:"",collection:t.collection??bw.empty(),typeahead:vu.defaultOptions,fieldsetDisabled:!1,positioning:{placement:"bottom-start",gutter:8,...t.positioning}},computed:{hasSelectedItems:n=>n.value.length>0,isTypingAhead:n=>n.typeahead.keysSoFar!=="",isDisabled:n=>!!n.disabled||n.fieldsetDisabled,isInteractive:n=>!(n.isDisabled||n.readOnly)},initial:t.open?"open":"idle",created:["syncCollection"],entry:["syncSelectElement"],watch:{open:["toggleVisibility"],value:["syncSelectedItems","syncSelectElement"],highlightedValue:["syncHighlightedItem"],collection:["syncCollection"]},on:{"HIGHLIGHTED_VALUE.SET":{actions:["setHighlightedItem"]},"ITEM.SELECT":{actions:["selectItem"]},"ITEM.CLEAR":{actions:["clearItem"]},"VALUE.SET":{actions:["setSelectedItems"]},"VALUE.CLEAR":{actions:["clearSelectedItems"]},"CLEAR.CLICK":{actions:["clearSelectedItems","focusTriggerEl"]},"COLLECTION.SET":{actions:["setCollection"]}},activities:["trackFormControlState"],states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":[{guard:"isTriggerClickEvent",target:"open",actions:["setInitialFocus","highlightFirstSelectedItem"]},{target:"open",actions:["setInitialFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus","highlightFirstSelectedItem"]}],"TRIGGER.FOCUS":{target:"focused"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen"]}]}},focused:{tags:["closed"],on:{"CONTROLLED.OPEN":[{guard:"isTriggerClickEvent",target:"open",actions:["setInitialFocus","highlightFirstSelectedItem"]},{guard:"isTriggerArrowUpEvent",target:"open",actions:["setInitialFocus","highlightComputedLastItem"]},{guard:T7("isTriggerArrowDownEvent","isTriggerEnterEvent"),target:"open",actions:["setInitialFocus","highlightComputedFirstItem"]},{target:"open",actions:["setInitialFocus"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen"]}],"TRIGGER.BLUR":{target:"idle"},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightFirstSelectedItem"]}],"TRIGGER.ENTER":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedFirstItem"]}],"TRIGGER.ARROW_UP":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedLastItem"]}],"TRIGGER.ARROW_DOWN":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedFirstItem"]}],"TRIGGER.ARROW_LEFT":[{guard:vc(sa("multiple"),"hasSelectedItems"),actions:["selectPreviousItem"]},{guard:sa("multiple"),actions:["selectLastItem"]}],"TRIGGER.ARROW_RIGHT":[{guard:vc(sa("multiple"),"hasSelectedItems"),actions:["selectNextItem"]},{guard:sa("multiple"),actions:["selectFirstItem"]}],"TRIGGER.HOME":{guard:sa("multiple"),actions:["selectFirstItem"]},"TRIGGER.END":{guard:sa("multiple"),actions:["selectLastItem"]},"TRIGGER.TYPEAHEAD":{guard:sa("multiple"),actions:["selectMatchingItem"]}}},open:{tags:["open"],exit:["scrollContentToTop"],activities:["trackDismissableElement","computePlacement","scrollToHighlightedItem"],on:{"CONTROLLED.CLOSE":{target:"focused",actions:["focusTriggerEl","clearHighlightedItem"]},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","focusTriggerEl","clearHighlightedItem"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","clearHighlightedItem"]}],"ITEM.CLICK":[{guard:vc("closeOnSelect","isOpenControlled"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","focusTriggerEl","clearHighlightedItem"]},{actions:["selectHighlightedItem"]}],"CONTENT.HOME":{actions:["highlightFirstItem"]},"CONTENT.END":{actions:["highlightLastItem"]},"CONTENT.ARROW_DOWN":[{guard:vc("hasHighlightedItem","loop","isLastItemHighlighted"),actions:["highlightFirstItem"]},{guard:"hasHighlightedItem",actions:["highlightNextItem"]},{actions:["highlightFirstItem"]}],"CONTENT.ARROW_UP":[{guard:vc("hasHighlightedItem","loop","isFirstItemHighlighted"),actions:["highlightLastItem"]},{guard:"hasHighlightedItem",actions:["highlightPreviousItem"]},{actions:["highlightLastItem"]}],"CONTENT.TYPEAHEAD":{actions:["highlightMatchingItem"]},"ITEM.POINTER_MOVE":{actions:["highlightItem"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedItem"]},"POSITIONING.SET":{actions:["reposition"]}}}}},{guards:{loop:n=>!!n.loopFocus,multiple:n=>!!n.multiple,hasSelectedItems:n=>!!n.hasSelectedItems,hasHighlightedItem:n=>n.highlightedValue!=null,isFirstItemHighlighted:n=>n.highlightedValue===n.collection.firstValue,isLastItemHighlighted:n=>n.highlightedValue===n.collection.lastValue,closeOnSelect:(n,i)=>!!(i.closeOnSelect??n.closeOnSelect),isOpenControlled:n=>!!n["open.controlled"],isTriggerClickEvent:(n,i)=>{var s;return((s=i.previousEvent)==null?void 0:s.type)==="TRIGGER.CLICK"},isTriggerEnterEvent:(n,i)=>{var s;return((s=i.previousEvent)==null?void 0:s.type)==="TRIGGER.ENTER"},isTriggerArrowUpEvent:(n,i)=>{var s;return((s=i.previousEvent)==null?void 0:s.type)==="TRIGGER.ARROW_UP"},isTriggerArrowDownEvent:(n,i)=>{var s;return((s=i.previousEvent)==null?void 0:s.type)==="TRIGGER.ARROW_DOWN"}},activities:{trackFormControlState(n,i,{initialContext:s}){return Xl(ze.getHiddenSelectEl(n),{onFieldsetDisabledChange(r){n.fieldsetDisabled=r},onFormReset(){ln.selectedItems(n,s.value)}})},trackDismissableElement(n,i,{send:s}){const r=()=>ze.getContentEl(n);let a=!0;return Ul(r,{defer:!0,exclude:[ze.getTriggerEl(n),ze.getClearTriggerEl(n)],onFocusOutside:n.onFocusOutside,onPointerDownOutside:n.onPointerDownOutside,onInteractOutside(u){var o;(o=n.onInteractOutside)==null||o.call(n,u),a=!(u.detail.focusable||u.detail.contextmenu)},onDismiss(){s({type:"CLOSE",src:"interact-outside",restoreFocus:a})}})},computePlacement(n){return n.currentPlacement=n.positioning.placement,Rr(()=>ze.getTriggerEl(n),()=>ze.getPositionerEl(n),{defer:!0,...n.positioning,onComplete(r){n.currentPlacement=r.placement}})},scrollToHighlightedItem(n,i,{getState:s}){const r=u=>{if(n.highlightedValue==null||s().event.type.includes("POINTER"))return;const l=ze.getHighlightedOptionEl(n),c=ze.getContentEl(n);if(n.scrollToIndexFn){const d=n.collection.indexOf(n.highlightedValue);n.scrollToIndexFn({index:d,immediate:u});return}Uv(l,{rootEl:c,block:"nearest"})};return Je(()=>r(!0)),kf(()=>ze.getContentEl(n),{defer:!0,attributes:["data-activedescendant"],callback(){r(!1)}})}},actions:{reposition(n,i){const s=()=>ze.getPositionerEl(n);Rr(ze.getTriggerEl(n),s,{...n.positioning,...i.options,defer:!0,listeners:!1,onComplete(r){n.currentPlacement=r.placement}})},toggleVisibility(n,i,{send:s}){s({type:n.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:i})},highlightPreviousItem(n){if(n.highlightedValue==null)return;const i=n.collection.getPreviousValue(n.highlightedValue);ln.highlightedItem(n,i)},highlightNextItem(n){if(n.highlightedValue==null)return;const i=n.collection.getNextValue(n.highlightedValue);ln.highlightedItem(n,i)},highlightFirstItem(n){const i=n.collection.firstValue;ln.highlightedItem(n,i)},highlightLastItem(n){const i=n.collection.lastValue;ln.highlightedItem(n,i)},setInitialFocus(n){Je(()=>{const i=bu({root:ze.getContentEl(n)});i==null||i.focus({preventScroll:!0})})},focusTriggerEl(n,i){var r;const s=i.restoreFocus??((r=i.previousEvent)==null?void 0:r.restoreFocus);s!=null&&!s||Je(()=>{const a=ze.getTriggerEl(n);a==null||a.focus({preventScroll:!0})})},selectHighlightedItem(n,i){let s=i.value??n.highlightedValue;if(s==null)return;const r=n.deselectable&&!n.multiple&&n.value.includes(s);s=r?null:s,ln.selectedItem(n,s,r)},highlightComputedFirstItem(n){const i=n.hasSelectedItems?n.collection.sort(n.value)[0]:n.collection.firstValue;ln.highlightedItem(n,i)},highlightComputedLastItem(n){const i=n.hasSelectedItems?n.collection.sort(n.value)[0]:n.collection.lastValue;ln.highlightedItem(n,i)},highlightFirstSelectedItem(n){if(!n.hasSelectedItems)return;const[i]=n.collection.sort(n.value);ln.highlightedItem(n,i)},highlightItem(n,i){ln.highlightedItem(n,i.value)},highlightMatchingItem(n,i){const s=n.collection.search(i.key,{state:n.typeahead,currentValue:n.highlightedValue});s!=null&&ln.highlightedItem(n,s)},setHighlightedItem(n,i){ln.highlightedItem(n,i.value)},clearHighlightedItem(n){ln.highlightedItem(n,null,!0)},selectItem(n,i){const s=n.deselectable&&!n.multiple&&n.value.includes(i.value),r=s?null:i.value;ln.selectedItem(n,r,s)},clearItem(n,i){const s=n.value.filter(r=>r!==i.value);ln.selectedItems(n,s)},setSelectedItems(n,i){ln.selectedItems(n,i.value)},clearSelectedItems(n){ln.selectedItems(n,[])},selectPreviousItem(n){const i=n.collection.getPreviousValue(n.value[0]);ln.selectedItem(n,i)},selectNextItem(n){const i=n.collection.getNextValue(n.value[0]);ln.selectedItem(n,i)},selectFirstItem(n){const i=n.collection.firstValue;ln.selectedItem(n,i)},selectLastItem(n){const i=n.collection.lastValue;ln.selectedItem(n,i)},selectMatchingItem(n,i){const s=n.collection.search(i.key,{state:n.typeahead,currentValue:n.value[0]});s!=null&&ln.selectedItem(n,s)},scrollContentToTop(n){var i;n.scrollToIndexFn?n.scrollToIndexFn({index:0,immediate:!0}):(i=ze.getContentEl(n))==null||i.scrollTo(0,0)},invokeOnOpen(n){var i;(i=n.onOpenChange)==null||i.call(n,{open:!0})},invokeOnClose(n){var i;(i=n.onOpenChange)==null||i.call(n,{open:!1})},syncSelectElement(n){const i=ze.getHiddenSelectEl(n);if(i){if(n.value.length===0&&!n.multiple){i.selectedIndex=-1;return}for(const s of i.options)s.selected=n.value.includes(s.value)}},setCollection(n,i){n.collection=i.value},syncCollection(n){const i=n.collection.findMany(n.value),s=n.collection.stringifyItems(i);n.highlightedItem=n.collection.find(n.highlightedValue),n.selectedItems=i,n.valueAsString=s},syncSelectedItems(n){Ah.valueChange(n)},syncHighlightedItem(n){Ah.highlightChange(n)}}})}function I7(e){Je(()=>{const t=ze.getHiddenSelectEl(e);if(!t)return;const n=ze.getWin(e),i=new n.Event("change",{bubbles:!0,composed:!0});t.dispatchEvent(i)})}var Ah={valueChange:e=>{const t=e.selectedItems;e.selectedItems=e.value.map(n=>{const i=t.find(s=>e.collection.getItemValue(s)===n);return i||e.collection.find(n)}),e.valueAsString=e.collection.stringifyItems(e.selectedItems)},highlightChange:e=>{e.highlightedItem=e.collection.find(e.highlightedValue)}},Td={valueChange:e=>{var t;Ah.valueChange(e),(t=e.onValueChange)==null||t.call(e,{value:Array.from(e.value),items:Array.from(e.selectedItems)}),I7(e)},highlightChange:e=>{var t;Ah.highlightChange(e),(t=e.onHighlightChange)==null||t.call(e,{highlightedValue:e.highlightedValue,highlightedItem:e.highlightedItem,highlightedIndex:e.collection.indexOf(e.highlightedValue)})}},ln={selectedItem:(e,t,n=!1)=>{if(!dn(e.value,t)&&!(t==null&&!n)){if(t==null&&n){e.value=[],Td.valueChange(e);return}e.value=e.multiple?wx(e.value,t):[t],Td.valueChange(e)}},selectedItems:(e,t)=>{dn(e.value,t)||(e.value=t,Td.valueChange(e))},highlightedItem:(e,t,n=!1)=>{dn(e.highlightedValue,t)||t==null&&!n||(e.highlightedValue=t??null,Td.highlightChange(e))}};tn()(["closeOnSelect","collection","dir","disabled","deselectable","form","getRootNode","highlightedValue","id","ids","invalid","loopFocus","multiple","name","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onValueChange","open.controlled","open","composite","positioning","required","readOnly","scrollToIndexFn","value"]);tn()(["item","persistFocus"]);tn()(["id"]);tn()(["htmlFor"]);const O7=(e,t)=>{const n=Kn(),i=Qi(),s=Ni(Mi),r=Yn(),a=K(()=>({id:n,ids:{label:r==null?void 0:r.value.ids.label,hiddenSelect:r==null?void 0:r.value.ids.control},disabled:r==null?void 0:r.value.disabled,readOnly:r==null?void 0:r.value.readOnly,invalid:r==null?void 0:r.value.invalid,required:r==null?void 0:r.value.required,dir:s.value.dir,open:e.defaultOpen,"open.controlled":e.open!==void 0,value:e.modelValue??e.defaultValue,getRootNode:i==null?void 0:i.value.getRootNode,onValueChange:c=>{t==null||t("valueChange",c),t==null||t("update:modelValue",c.value)},onHighlightChange:c=>t==null?void 0:t("highlightChange",c),onOpenChange:c=>{t==null||t("openChange",c),t==null||t("update:open",c.open)},onFocusOutside:c=>t==null?void 0:t("focusOutside",c),onInteractOutside:c=>t==null?void 0:t("interactOutside",c),onPointerDownOutside:c=>t==null?void 0:t("pointerDownOutside",c),...es(e)})),[u,o,l]=Ei(w7(a.value),{context:K(()=>Ax(a.value,["collection"]))});return qt(()=>e.collection,c=>{l.setContext({collection:c})}),K(()=>x7(u.value,o,$i))},[Ew,ii]=gt("SelectContext"),[k7,A7]=gt("SelectItemContext"),P7=$({__name:"select-clear-trigger",props:{asChild:{type:Boolean}},setup(e){const t=ii();return U(),(n,i)=>(C(),R(v(X).button,W(v(t).getClearTriggerProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),$7=$({__name:"select-content",props:{asChild:{type:Boolean}},setup(e){const t=ii(),n=Gl(),i=K(()=>Bo(t.value.getContentProps(),n.value.presenceProps));return U(),(s,r)=>v(n).unmounted?tt("",!0):(C(),R(v(X).div,W({key:0},i.value,{"as-child":s.asChild}),{default:S(()=>[V(s.$slots,"default")]),_:3},16,["as-child"]))}}),M7=$({__name:"select-context",setup(e){const t=ii();return(n,i)=>V(n.$slots,"default",hn(on(v(t))))}}),N7=$({__name:"select-control",props:{asChild:{type:Boolean}},setup(e){const t=ii();return U(),(n,i)=>(C(),R(v(X).div,W(v(t).getControlProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),R7={key:0,value:""},D7=["value","disabled"],L7=$({__name:"select-hidden-select",props:{asChild:{type:Boolean}},setup(e){const t=ii(),n=Yn();return U(),(i,s)=>{var r;return C(),R(v(X).select,W({"aria-describedby":(r=v(n))==null?void 0:r.ariaDescribedby},v(t).getHiddenSelectProps()),{default:S(()=>[v(t).value.length===0?(C(),te("option",R7)):tt("",!0),(C(!0),te(Ye,null,Kt(v(t).collection.items,a=>(C(),te("option",{key:a.value,value:v(t).collection.getItemValue(a),disabled:v(t).collection.getItemDisabled(a)},null,8,D7))),128))]),_:1},16,["aria-describedby"])}}}),F7=$({__name:"select-indicator",props:{asChild:{type:Boolean}},setup(e){const t=ii();return U(),(n,i)=>(C(),R(v(X).div,W(v(t).getIndicatorProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),V7=$({__name:"select-list",props:{asChild:{type:Boolean}},setup(e){const t=ii();return U(),(n,i)=>(C(),R(v(X).div,W(v(t).getListProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),B7=$({__name:"select-item-context",setup(e){const t=A7();return(n,i)=>V(n.$slots,"default",hn(on(v(t))))}}),[H7,j7]=gt("SelectItemGroupPropsContext"),U7=$({__name:"select-item-group-label",props:{asChild:{type:Boolean}},setup(e){const t=ii(),n=j7();return U(),(i,s)=>(C(),R(v(X).div,W(v(t).getItemGroupLabelProps({htmlFor:v(n).id}),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["as-child"]))}}),G7=$({__name:"select-item-group",props:{id:{},asChild:{type:Boolean}},setup(e){const t=e,n=ii(),i=t.id??Kn();return H7({id:i}),U(),(s,r)=>(C(),R(v(X).div,W(v(n).getItemGroupProps({id:v(i)}),{"as-child":s.asChild}),{default:S(()=>[V(s.$slots,"default")]),_:3},16,["as-child"]))}}),[W7,_w]=gt("SelectItemPropsContext"),z7=$({__name:"select-item-indicator",props:{asChild:{type:Boolean}},setup(e){const t=ii(),n=_w();return U(),(i,s)=>(C(),R(v(X).div,W(v(t).getItemIndicatorProps(v(n)),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["as-child"]))}}),K7=$({__name:"select-item-text",props:{asChild:{type:Boolean}},setup(e){const t=ii(),n=_w();return U(),(i,s)=>(C(),R(v(X).span,W(v(t).getItemTextProps(v(n)),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["as-child"]))}}),q7=$({__name:"select-item",props:{item:{},persistFocus:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,n=ii();return W7(t),k7(K(()=>n.value.getItemState(t))),U(),(i,s)=>(C(),R(v(X).div,W(v(n).getItemProps(t),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["as-child"]))}}),Y7=$({__name:"select-label",props:{asChild:{type:Boolean}},setup(e){const t=ii();return U(),(n,i)=>(C(),R(v(X).label,W(v(t).getLabelProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),J7=$({__name:"select-positioner",props:{asChild:{type:Boolean}},setup(e){const t=ii(),n=jo(),i=Da(K(()=>({...n.value,present:t.value.open})));return La(i),U(),(s,r)=>v(i).unmounted?tt("",!0):(C(),R(v(X).div,W({key:0},v(t).getPositionerProps(),{"as-child":s.asChild}),{default:S(()=>[V(s.$slots,"default")]),_:3},16,["as-child"]))}}),X7=$({__name:"select-root-provider",props:{value:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,n=K(()=>t.value);return Ew(n),Ri(K(()=>({lazyMount:t.lazyMount,unmountOnExit:t.unmountOnExit}))),U(),(i,s)=>(C(),R(v(X).div,W(n.value.getRootProps(),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["as-child"]))}}),Z7=$({__name:"select-root",props:On({closeOnSelect:{type:Boolean},collection:{},composite:{type:Boolean},defaultOpen:{type:Boolean},defaultValue:{},deselectable:{type:Boolean},disabled:{type:Boolean},form:{},highlightedValue:{},id:{},ids:{},invalid:{type:Boolean},loopFocus:{type:Boolean},modelValue:{},multiple:{type:Boolean},name:{},open:{type:Boolean},positioning:{},readOnly:{type:Boolean},required:{type:Boolean},scrollToIndexFn:{type:Function},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},{closeOnSelect:void 0,composite:void 0,defaultOpen:void 0,deselectable:void 0,disabled:void 0,invalid:void 0,loopFocus:void 0,multiple:void 0,open:void 0,readOnly:void 0,required:void 0}),emits:["focusOutside","highlightChange","interactOutside","openChange","pointerDownOutside","valueChange","update:modelValue","update:open"],setup(e,{emit:t}){const n=e,s=O7(n,t);return Ew(s),Ri(K(()=>({lazyMount:n.lazyMount,unmountOnExit:n.unmountOnExit}))),U(),(r,a)=>(C(),R(v(X).div,W(v(s).getRootProps(),{"as-child":r.asChild}),{default:S(()=>[V(r.$slots,"default")]),_:3},16,["as-child"]))}}),Q7=$({__name:"select-trigger",props:{asChild:{type:Boolean}},setup(e){const t=ii();return U(),(n,i)=>(C(),R(v(X).button,W(v(t).getTriggerProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),e9=$({__name:"select-value-text",props:{placeholder:{},asChild:{type:Boolean}},setup(e){const t=e,n=ii(),i=df();return U(),(s,r)=>(C(),R(v(X).span,W(v(n).getValueTextProps(),{"as-child":s.asChild}),{default:S(()=>[V(s.$slots,"default",{},()=>{var a,u;return[qe(ue(((u=(a=v(i)).default)==null?void 0:u.call(a))||v(n).valueAsString||t.placeholder),1)]})]),_:3},16,["as-child"]))}}),is=Object.freeze(Object.defineProperty({__proto__:null,ClearTrigger:P7,Content:$7,Context:M7,Control:N7,HiddenSelect:L7,Indicator:F7,Item:q7,ItemContext:B7,ItemGroup:G7,ItemGroupLabel:U7,ItemIndicator:z7,ItemText:K7,Label:Y7,List:V7,Positioner:J7,Root:Z7,RootProvider:X7,Trigger:Q7,ValueText:e9},Symbol.toStringTag,{value:"Module"})),t9=$({__name:"Select",props:Vn({label:null,options:null},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=e,n=mn(e,"modelValue"),i=K(()=>aw({items:t.options}));return(s,r)=>{const a=Lr;return C(),R(v(is).Root,{collection:v(i),class:"gap-2 flex flex-col","model-value":[n.value],"onUpdate:modelValue":r[0]||(r[0]=u=>n.value=u[0])},{default:S(()=>[O(v(is).Label,{class:"text-sm font-medium"},{default:S(()=>[qe(ue(e.label),1)]),_:1}),O(v(is).Control,null,{default:S(()=>[O(v(is).Trigger,{class:"text-gray-500 border px-3 h-10 gap-2 font-medium w-full cursor-pointer rounded inline-flex outline-0 items-center appearance-none justify-between focus:shadow focus:ring focus:ring-gray-700"},{default:S(()=>[O(v(is).ValueText),O(v(is).Indicator,null,{default:S(()=>[O(a,{class:"w-4 h-4"})]),_:1})]),_:1})]),_:1}),(C(),R(lf,{to:"body"},[O(v(is).Positioner,{class:"w-[var(--reference-width)]"},{default:S(()=>[O(v(is).Content,{class:"bg-white rounded shadow gap-1 p-1 flex flex-col border data-[state=open]:animate-fade-in"},{default:S(()=>[(C(!0),te(Ye,null,Kt(v(i).items,u=>(C(),R(v(is).Item,{key:u.value,item:u.value,class:"rounded cursor-pointer flex items-center justify-between px-2 h-10 data-[highlighted]:bg-gray-100"},{default:S(()=>[O(v(is).ItemText,null,{default:S(()=>[qe(ue(u.label),1)]),_:2},1024),O(v(is).ItemIndicator,null,{default:S(()=>r[1]||(r[1]=[qe("✓")])),_:1})]),_:2},1032,["item"]))),128))]),_:1})]),_:1})])),O(v(is).HiddenSelect)]),_:1},8,["collection","model-value"])}}}),n9={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function i9(e,t){return C(),te("svg",n9,t[0]||(t[0]=[L("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"m15 11.25l1.5 1.5l.75-.75V8.758l2.276-.61a3 3 0 1 0-3.675-3.675l-.61 2.277H12l-.75.75l1.5 1.5M15 11.25l-8.47 8.47c-.34.34-.8.53-1.28.53s-.94.19-1.28.53l-.97.97l-.75-.75l.97-.97c.34-.34.53-.8.53-1.28s.19-.94.53-1.28L12.75 9M15 11.25L12.75 9"},null,-1)]))}const s9=bt({name:"heroicons-eye-dropper",render:i9});var r9=Object.defineProperty,o9=(e,t,n)=>t in e?r9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ey=(e,t,n)=>o9(e,t+"",n),a9=(e,t,n)=>{const i=`linear-gradient(to ${e[+!t]}, transparent, #000)`;return{areaStyles:{backgroundImage:`linear-gradient(to ${e[Number(t)]},rgb(${n},0,0),rgb(${n},255,0))`},areaGradientStyles:{backgroundImage:`linear-gradient(to ${e[Number(t)]},rgb(${n},0,255),rgb(${n},255,255))`,WebkitMaskImage:i,maskImage:i}}},l9=(e,t,n)=>{const i=`linear-gradient(to ${e[+!t]}, transparent, #000)`;return{areaStyles:{backgroundImage:`linear-gradient(to ${e[Number(t)]},rgb(0,${n},0),rgb(255,${n},0))`},areaGradientStyles:{backgroundImage:`linear-gradient(to ${e[Number(t)]},rgb(0,${n},255),rgb(255,${n},255))`,WebkitMaskImage:i,maskImage:i}}},c9=(e,t,n)=>{const i=`linear-gradient(to ${e[+!t]}, transparent, #000)`;return{areaStyles:{backgroundImage:`linear-gradient(to ${e[Number(t)]},rgb(0,0,${n}),rgb(255,0,${n}))`},areaGradientStyles:{backgroundImage:`linear-gradient(to ${e[Number(t)]},rgb(0,255,${n}),rgb(255,255,${n}))`,WebkitMaskImage:i,maskImage:i}}},u9=(e,t,n)=>({areaStyles:{},areaGradientStyles:{background:[`linear-gradient(to ${e[Number(t)]}, hsla(0,0%,0%,1) 0%, hsla(0,0%,0%,0) 50%, hsla(0,0%,100%,0) 50%, hsla(0,0%,100%,1) 100%)`,`linear-gradient(to ${e[+!t]},hsl(0,0%,50%),hsla(0,0%,50%,0))`,`hsl(${n}, 100%, 50%)`].join(",")}}),d9=(e,t,n)=>({areaStyles:{},areaGradientStyles:{background:[`linear-gradient(to ${e[+!t]}, hsla(0,0%,0%,${n}) 0%, hsla(0,0%,0%,0) 50%, hsla(0,0%,100%,0) 50%, hsla(0,0%,100%,${n}) 100%)`,`linear-gradient(to ${e[Number(t)]},hsla(0,100%,50%,${n}),hsla(60,100%,50%,${n}),hsla(120,100%,50%,${n}),hsla(180,100%,50%,${n}),hsla(240,100%,50%,${n}),hsla(300,100%,50%,${n}),hsla(359,100%,50%,${n}))`,"hsl(0, 0%, 50%)"].join(",")}}),h9=(e,t,n)=>({areaStyles:{},areaGradientStyles:{backgroundImage:[`linear-gradient(to ${e[+!t]},hsl(0,0%,${n}%),hsla(0,0%,${n}%,0))`,`linear-gradient(to ${e[Number(t)]},hsl(0,100%,${n}%),hsl(60,100%,${n}%),hsl(120,100%,${n}%),hsl(180,100%,${n}%),hsl(240,100%,${n}%),hsl(300,100%,${n}%),hsl(360,100%,${n}%))`].join(",")}}),f9=(e,t,n)=>({areaStyles:{},areaGradientStyles:{background:[`linear-gradient(to ${e[Number(t)]},hsl(0,0%,0%),hsla(0,0%,0%,0))`,`linear-gradient(to ${e[+!t]},hsl(0,0%,100%),hsla(0,0%,100%,0))`,`hsl(${n}, 100%, 50%)`].join(",")}}),p9=(e,t,n)=>({areaStyles:{},areaGradientStyles:{background:[`linear-gradient(to ${e[+!t]},hsla(0,0%,0%,${n}),hsla(0,0%,0%,0))`,`linear-gradient(to ${e[Number(t)]},hsla(0,100%,50%,${n}),hsla(60,100%,50%,${n}),hsla(120,100%,50%,${n}),hsla(180,100%,50%,${n}),hsla(240,100%,50%,${n}),hsla(300,100%,50%,${n}),hsla(359,100%,50%,${n}))`,`linear-gradient(to ${e[+!t]},hsl(0,0%,0%),hsl(0,0%,100%))`].join(",")}}),g9=(e,t,n)=>({areaStyles:{},areaGradientStyles:{background:[`linear-gradient(to ${e[+!t]},hsla(0,0%,100%,${n}),hsla(0,0%,100%,0))`,`linear-gradient(to ${e[Number(t)]},hsla(0,100%,50%,${n}),hsla(60,100%,50%,${n}),hsla(120,100%,50%,${n}),hsla(180,100%,50%,${n}),hsla(240,100%,50%,${n}),hsla(300,100%,50%,${n}),hsla(359,100%,50%,${n}))`,"#000"].join(",")}});function u_(e,t){const{xChannel:n,yChannel:i,dir:s="ltr"}=t,{zChannel:r}=e.getColorAxes({xChannel:n,yChannel:i}),a=e.getChannelValue(r),{minValue:u,maxValue:o}=e.getChannelRange(r),l=["top",s==="rtl"?"left":"right"];let c=!1,d={areaStyles:{},areaGradientStyles:{}},h=(a-u)/(o-u),f=e.getFormat()==="hsla";switch(r){case"red":{c=n==="green",d=a9(l,c,a);break}case"green":{c=n==="red",d=l9(l,c,a);break}case"blue":{c=n==="red",d=c9(l,c,a);break}case"hue":{c=n!=="saturation",f?d=u9(l,c,a):d=f9(l,c,a);break}case"saturation":{c=n==="hue",f?d=d9(l,c,h):d=p9(l,c,h);break}case"brightness":{c=n==="hue",d=g9(l,c,h);break}case"lightness":{c=n==="hue",d=h9(l,c,a);break}}return d}var m9=(e,t)=>{if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e)if(e[n]!==t[n])return!1;return!0},_y=class{toHexInt(){return this.toFormat("rgba").toHexInt()}getChannelValue(e){if(e in this)return this[e];throw new Error("Unsupported color channel: "+e)}getChannelValuePercent(e,t){const n=t??this.getChannelValue(e),{minValue:i,maxValue:s}=this.getChannelRange(e);return Bf(n,i,s)}getChannelPercentValue(e,t){const{minValue:n,maxValue:i,step:s}=this.getChannelRange(e),r=hy(t,n,i,s);return wh(r,n,i,s)}withChannelValue(e,t){const{minValue:n,maxValue:i}=this.getChannelRange(e);if(e in this){let s=this.clone();return s[e]=Ki(t,n,i),s}throw new Error("Unsupported color channel: "+e)}getColorAxes(e){let{xChannel:t,yChannel:n}=e,i=t||this.getChannels().find(a=>a!==n),s=n||this.getChannels().find(a=>a!==i),r=this.getChannels().find(a=>a!==i&&a!==s);return{xChannel:i,yChannel:s,zChannel:r}}incrementChannel(e,t){const{minValue:n,maxValue:i,step:s}=this.getChannelRange(e),r=wh(Ki(this.getChannelValue(e)+t,n,i),n,i,s);return this.withChannelValue(e,r)}decrementChannel(e,t){return this.incrementChannel(e,-t)}isEqual(e){return m9(this.toJSON(),e.toJSON())&&this.getChannelValue("alpha")===e.getChannelValue("alpha")}},Cw=class qd extends _y{constructor(t,n,i,s){super(),this.red=t,this.green=n,this.blue=i,this.alpha=s}static parse(t){let n=[];if(/^#[\da-f]+$/i.test(t)&&[4,5,7,9].includes(t.length)){const s=(t.length<6?t.replace(/[^#]/gi,"$&$&"):t).slice(1).split("");for(;s.length>0;)n.push(parseInt(s.splice(0,2).join(""),16));n[3]=n[3]!==void 0?n[3]/255:void 0}const i=t.match(/^rgba?\((.*)\)$/);return i!=null&&i[1]&&(n=i[1].split(",").map(s=>Number(s.trim())).map((s,r)=>Ki(s,0,r<3?255:1))),n.length<3?void 0:new qd(n[0],n[1],n[2],n[3]??1)}toString(t){switch(t){case"hex":return"#"+(this.red.toString(16).padStart(2,"0")+this.green.toString(16).padStart(2,"0")+this.blue.toString(16).padStart(2,"0")).toUpperCase();case"hexa":return"#"+(this.red.toString(16).padStart(2,"0")+this.green.toString(16).padStart(2,"0")+this.blue.toString(16).padStart(2,"0")+Math.round(this.alpha*255).toString(16).padStart(2,"0")).toUpperCase();case"rgb":return`rgb(${this.red}, ${this.green}, ${this.blue})`;case"css":case"rgba":return`rgba(${this.red}, ${this.green}, ${this.blue}, ${this.alpha})`;case"hsl":return this.toHSL().toString("hsl");case"hsb":return this.toHSB().toString("hsb");default:return this.toFormat(t).toString(t)}}toFormat(t){switch(t){case"rgba":return this;case"hsba":return this.toHSB();case"hsla":return this.toHSL();default:throw new Error("Unsupported color conversion: rgb -> "+t)}}toHexInt(){return this.red<<16|this.green<<8|this.blue}toHSB(){const t=this.red/255,n=this.green/255,i=this.blue/255,s=Math.min(t,n,i),r=Math.max(t,n,i),a=r-s,u=r===0?0:a/r;let o=0;if(a!==0){switch(r){case t:o=(n-i)/a+(n<i?6:0);break;case n:o=(i-t)/a+2;break;case i:o=(t-n)/a+4;break}o/=6}return new xy(zt(o*360,2),zt(u*100,2),zt(r*100,2),zt(this.alpha,2))}toHSL(){const t=this.red/255,n=this.green/255,i=this.blue/255,s=Math.min(t,n,i),r=Math.max(t,n,i),a=(r+s)/2,u=r-s;let o=-1,l=-1;if(u===0)o=l=0;else{switch(l=u/(a<.5?r+s:2-r-s),r){case t:o=(n-i)/u+(n<i?6:0);break;case n:o=(i-t)/u+2;break;case i:o=(t-n)/u+4;break}o/=6}return new Sy(zt(o*360,2),zt(l*100,2),zt(a*100,2),zt(this.alpha,2))}clone(){return new qd(this.red,this.green,this.blue,this.alpha)}getChannelFormatOptions(t){switch(t){case"red":case"green":case"blue":return{style:"decimal"};case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+t)}}formatChannelValue(t,n){let i=this.getChannelFormatOptions(t),s=this.getChannelValue(t);return new Intl.NumberFormat(n,i).format(s)}getChannelRange(t){switch(t){case"red":case"green":case"blue":return{minValue:0,maxValue:255,step:1,pageSize:17};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+t)}}toJSON(){return{r:this.red,g:this.green,b:this.blue,a:this.alpha}}getFormat(){return"rgba"}getChannels(){return qd.colorChannels}};Ey(Cw,"colorChannels",["red","green","blue"]);var Cy=Cw,v9=/hsl\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%)\)|hsla\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d(.\d+)?)\)/,Sw=class Yd extends _y{constructor(t,n,i,s){super(),this.hue=t,this.saturation=n,this.lightness=i,this.alpha=s}static parse(t){let n;if(n=t.match(v9)){const[i,s,r,a]=(n[1]??n[2]).split(",").map(u=>Number(u.trim().replace("%","")));return new Yd(ew(i,360),Ki(s,0,100),Ki(r,0,100),Ki(a??1,0,1))}}toString(t){switch(t){case"hex":return this.toRGB().toString("hex");case"hexa":return this.toRGB().toString("hexa");case"hsl":return`hsl(${this.hue}, ${zt(this.saturation,2)}%, ${zt(this.lightness,2)}%)`;case"css":case"hsla":return`hsla(${this.hue}, ${zt(this.saturation,2)}%, ${zt(this.lightness,2)}%, ${this.alpha})`;case"hsb":return this.toHSB().toString("hsb");case"rgb":return this.toRGB().toString("rgb");default:return this.toFormat(t).toString(t)}}toFormat(t){switch(t){case"hsla":return this;case"hsba":return this.toHSB();case"rgba":return this.toRGB();default:throw new Error("Unsupported color conversion: hsl -> "+t)}}toHSB(){let t=this.saturation/100,n=this.lightness/100,i=n+t*Math.min(n,1-n);return t=i===0?0:2*(1-n/i),new xy(zt(this.hue,2),zt(t*100,2),zt(i*100,2),zt(this.alpha,2))}toRGB(){let t=this.hue,n=this.saturation/100,i=this.lightness/100,s=n*Math.min(i,1-i),r=(a,u=(a+t/30)%12)=>i-s*Math.max(Math.min(u-3,9-u,1),-1);return new Cy(Math.round(r(0)*255),Math.round(r(8)*255),Math.round(r(4)*255),zt(this.alpha,2))}clone(){return new Yd(this.hue,this.saturation,this.lightness,this.alpha)}getChannelFormatOptions(t){switch(t){case"hue":return{style:"unit",unit:"degree",unitDisplay:"narrow"};case"saturation":case"lightness":case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+t)}}formatChannelValue(t,n){let i=this.getChannelFormatOptions(t),s=this.getChannelValue(t);return(t==="saturation"||t==="lightness")&&(s/=100),new Intl.NumberFormat(n,i).format(s)}getChannelRange(t){switch(t){case"hue":return{minValue:0,maxValue:360,step:1,pageSize:15};case"saturation":case"lightness":return{minValue:0,maxValue:100,step:1,pageSize:10};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+t)}}toJSON(){return{h:this.hue,s:this.saturation,l:this.lightness,a:this.alpha}}getFormat(){return"hsla"}getChannels(){return Yd.colorChannels}};Ey(Sw,"colorChannels",["hue","saturation","lightness"]);var Sy=Sw,y9=/hsb\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%)\)|hsba\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d(.\d+)?)\)/,xw=class Jd extends _y{constructor(t,n,i,s){super(),this.hue=t,this.saturation=n,this.brightness=i,this.alpha=s}static parse(t){let n;if(n=t.match(y9)){const[i,s,r,a]=(n[1]??n[2]).split(",").map(u=>Number(u.trim().replace("%","")));return new Jd(ew(i,360),Ki(s,0,100),Ki(r,0,100),Ki(a??1,0,1))}}toString(t){switch(t){case"css":return this.toHSL().toString("css");case"hex":return this.toRGB().toString("hex");case"hexa":return this.toRGB().toString("hexa");case"hsb":return`hsb(${this.hue}, ${zt(this.saturation,2)}%, ${zt(this.brightness,2)}%)`;case"hsba":return`hsba(${this.hue}, ${zt(this.saturation,2)}%, ${zt(this.brightness,2)}%, ${this.alpha})`;case"hsl":return this.toHSL().toString("hsl");case"rgb":return this.toRGB().toString("rgb");default:return this.toFormat(t).toString(t)}}toFormat(t){switch(t){case"hsba":return this;case"hsla":return this.toHSL();case"rgba":return this.toRGB();default:throw new Error("Unsupported color conversion: hsb -> "+t)}}toHSL(){let t=this.saturation/100,n=this.brightness/100,i=n*(1-t/2);return t=i===0||i===1?0:(n-i)/Math.min(i,1-i),new Sy(zt(this.hue,2),zt(t*100,2),zt(i*100,2),zt(this.alpha,2))}toRGB(){let t=this.hue,n=this.saturation/100,i=this.brightness/100,s=(r,a=(r+t/60)%6)=>i-n*i*Math.max(Math.min(a,4-a,1),0);return new Cy(Math.round(s(5)*255),Math.round(s(3)*255),Math.round(s(1)*255),zt(this.alpha,2))}clone(){return new Jd(this.hue,this.saturation,this.brightness,this.alpha)}getChannelFormatOptions(t){switch(t){case"hue":return{style:"unit",unit:"degree",unitDisplay:"narrow"};case"saturation":case"brightness":case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+t)}}formatChannelValue(t,n){let i=this.getChannelFormatOptions(t),s=this.getChannelValue(t);return(t==="saturation"||t==="brightness")&&(s/=100),new Intl.NumberFormat(n,i).format(s)}getChannelRange(t){switch(t){case"hue":return{minValue:0,maxValue:360,step:1,pageSize:15};case"saturation":case"brightness":return{minValue:0,maxValue:100,step:1,pageSize:10};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+t)}}toJSON(){return{h:this.hue,s:this.saturation,b:this.brightness,a:this.alpha}}getFormat(){return"hsba"}getChannels(){return Jd.colorChannels}};Ey(xw,"colorChannels",["hue","saturation","brightness"]);var xy=xw,b9="aliceblue:f0f8ff,antiquewhite:faebd7,aqua:00ffff,aquamarine:7fffd4,azure:f0ffff,beige:f5f5dc,bisque:ffe4c4,black:000000,blanchedalmond:ffebcd,blue:0000ff,blueviolet:8a2be2,brown:a52a2a,burlywood:deb887,cadetblue:5f9ea0,chartreuse:7fff00,chocolate:d2691e,coral:ff7f50,cornflowerblue:6495ed,cornsilk:fff8dc,crimson:dc143c,cyan:00ffff,darkblue:00008b,darkcyan:008b8b,darkgoldenrod:b8860b,darkgray:a9a9a9,darkgreen:006400,darkkhaki:bdb76b,darkmagenta:8b008b,darkolivegreen:556b2f,darkorange:ff8c00,darkorchid:9932cc,darkred:8b0000,darksalmon:e9967a,darkseagreen:8fbc8f,darkslateblue:483d8b,darkslategray:2f4f4f,darkturquoise:00ced1,darkviolet:9400d3,deeppink:ff1493,deepskyblue:00bfff,dimgray:696969,dodgerblue:1e90ff,firebrick:b22222,floralwhite:fffaf0,forestgreen:228b22,fuchsia:ff00ff,gainsboro:dcdcdc,ghostwhite:f8f8ff,gold:ffd700,goldenrod:daa520,gray:808080,green:008000,greenyellow:adff2f,honeydew:f0fff0,hotpink:ff69b4,indianred:cd5c5c,indigo:4b0082,ivory:fffff0,khaki:f0e68c,lavender:e6e6fa,lavenderblush:fff0f5,lawngreen:7cfc00,lemonchiffon:fffacd,lightblue:add8e6,lightcoral:f08080,lightcyan:e0ffff,lightgoldenrodyellow:fafad2,lightgrey:d3d3d3,lightgreen:90ee90,lightpink:ffb6c1,lightsalmon:ffa07a,lightseagreen:20b2aa,lightskyblue:87cefa,lightslategray:778899,lightsteelblue:b0c4de,lightyellow:ffffe0,lime:00ff00,limegreen:32cd32,linen:faf0e6,magenta:ff00ff,maroon:800000,mediumaquamarine:66cdaa,mediumblue:0000cd,mediumorchid:ba55d3,mediumpurple:9370d8,mediumseagreen:3cb371,mediumslateblue:7b68ee,mediumspringgreen:00fa9a,mediumturquoise:48d1cc,mediumvioletred:c71585,midnightblue:191970,mintcream:f5fffa,mistyrose:ffe4e1,moccasin:ffe4b5,navajowhite:ffdead,navy:000080,oldlace:fdf5e6,olive:808000,olivedrab:6b8e23,orange:ffa500,orangered:ff4500,orchid:da70d6,palegoldenrod:eee8aa,palegreen:98fb98,paleturquoise:afeeee,palevioletred:d87093,papayawhip:ffefd5,peachpuff:ffdab9,peru:cd853f,pink:ffc0cb,plum:dda0dd,powderblue:b0e0e6,purple:800080,rebeccapurple:663399,red:ff0000,rosybrown:bc8f8f,royalblue:4169e1,saddlebrown:8b4513,salmon:fa8072,sandybrown:f4a460,seagreen:2e8b57,seashell:fff5ee,sienna:a0522d,silver:c0c0c0,skyblue:87ceeb,slateblue:6a5acd,slategray:708090,snow:fffafa,springgreen:00ff7f,steelblue:4682b4,tan:d2b48c,teal:008080,thistle:d8bfd8,tomato:ff6347,turquoise:40e0d0,violet:ee82ee,wheat:f5deb3,white:ffffff,whitesmoke:f5f5f5,yellow:ffff00,yellowgreen:9acd32",E9=e=>{const t=new Map,n=e.split(",");for(let i=0;i<n.length;i++){const[s,r]=n[i].split(":");t.set(s,`#${r}`),s.includes("gray")&&t.set(s.replace("gray","grey"),`#${r}`)}return t},d_=E9(b9),$o=e=>{var n;if(d_.has(e))return $o(d_.get(e));const t=Cy.parse(e)||xy.parse(e)||Sy.parse(e);if(!t){const i=new Error("Invalid color value: "+e);throw(n=Error.captureStackTrace)==null||n.call(Error,i,$o),i}return t},h_=e=>typeof e=="string"?$o(e):e,_9=Object.defineProperty,C9=(e,t,n)=>t in e?_9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Me=(e,t,n)=>C9(e,typeof t!="symbol"?t+"":t,n);function Tw(e,...t){for(const n of t){const i=Te(n);for(const s in i)bi(n[s])?(e[s]||(e[s]={}),Tw(e[s],n[s])):e[s]=n[s]}return e}function f_(e){return bn(e)}function Ts(e){return q(e)?{type:e}:e}function Xr(e){return e?Qe(e)?e.slice():[e]:[]}function ww(e){return Ce(e)&&e.predicate!=null}var S9=()=>!0;function Ty(e,t,n,i){return s=>{var r;return q(s)?!!((r=e[s])!=null&&r.call(e,t,n,i)):We(s)?s(t,n,i):s.predicate(e)(t,n,i)}}function x9(...e){return{predicate:t=>(n,i,s)=>e.map(Ty(t,n,i,s)).some(Boolean)}}function T9(...e){return{predicate:t=>(n,i,s)=>e.map(Ty(t,n,i,s)).every(Boolean)}}function w9(e){return{predicate:t=>(n,i,s)=>!Ty(t,n,i,s)(e)}}function I9(...e){return(t,n,i)=>i.state.matches(...e)}var O9={or:x9,and:T9,not:w9,stateIn:I9};function Iw(e,t){return e=e??S9,(n,i,s)=>{if(q(e)){const r=t[e];return We(r)?r(n,i,s):r}return ww(e)?e.predicate(t)(n,i,s):e==null?void 0:e(n,i,s)}}function og(e,t){return(n,i,s)=>ww(e)?e.predicate(t)(n,i,s):e}function k9(e){var r,a;const t=e.computed??Q({}),n=e.context??Q({}),i=e.initial?(a=(r=e.states)==null?void 0:r[e.initial])==null?void 0:a.tags:[],s=qn({value:e.initial??"",previousValue:"",event:Q({}),previousEvent:Q({}),context:mi(n,t),done:!1,tags:i??[],hasTag(u){return this.tags.includes(u)},matches(...u){return u.includes(this.value)},can(u){return Q(this).nextEvents.includes(u)},get nextEvents(){var l,c;const u=((c=(l=e.states)==null?void 0:l[this.value])==null?void 0:c.on)??{},o=(e==null?void 0:e.on)??{};return Object.keys({...u,...o})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return Q(s)}function yc(e,t){return(n,i)=>{if(yi(e))return e;if(We(e))return e(n,i);if(q(e)){const s=Number.parseFloat(e);if(!Number.isNaN(s))return s;if(t){const r=t==null?void 0:t[e];return He(r==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${e}\`. It doesn't exist in \`options.delays\``),We(r)?r(n,i):r}}}}function A9(e){return q(e)?{target:e}:e}function P9(e,t){return(n,i,s)=>Xr(e).map(A9).find(r=>Iw(r.guard,t)(n,i,s)??r.target??r.actions)}var $9=class{constructor(t,n){var i,s,r,a,u;Me(this,"status","Not Started"),Me(this,"state"),Me(this,"initialState"),Me(this,"initialContext"),Me(this,"id"),Me(this,"type","machine"),Me(this,"activityEvents",new Map),Me(this,"delayedEvents",new Map),Me(this,"stateListeners",new Set),Me(this,"doneListeners",new Set),Me(this,"contextWatchers",new Set),Me(this,"removeStateListener",ni),Me(this,"parent"),Me(this,"children",new Map),Me(this,"guardMap"),Me(this,"actionMap"),Me(this,"delayMap"),Me(this,"activityMap"),Me(this,"sync"),Me(this,"options"),Me(this,"config"),Me(this,"_created",()=>{var l;const o=Ts("machine.created");this.executeActions((l=this.config)==null?void 0:l.created,o)}),Me(this,"start",o=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=Pt(this.state,()=>{this.stateListeners.forEach(p=>{p(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(Ts("machine.start"),Xr(this.config.activities),"machine.start"),this.executeActions(this.config.entry,Ts("machine.start"));const l=Ts("machine.init"),c=Ce(o)?o.value:o,d=Ce(o)?o.context:void 0;d&&this.setContext(d);const h={target:c??this.config.initial},f=this.getNextStateInfo(h,l);return this.initialState=f,this.performStateChangeEffects(this.state.value,f,l),this}),Me(this,"setupContextWatchers",()=>{const{watch:o}=this.config;if(!o)return;let l=_e(this.state.context);const c=Pt(this.state.context,()=>{var h;const d=_e(this.state.context);for(const[f,p]of Object.entries(o))(((h=this.options.compareFns)==null?void 0:h[f])??Object.is)(l[f],d[f])||this.executeActions(p,this.state.event);l=d});this.contextWatchers.add(c)}),Me(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,Ts("machine.stop")),this.executeActions(this.config.exit,Ts("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),Me(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),Me(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(o=>o()),this.contextWatchers.clear()}),Me(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(o=>{o.forEach(l=>l())}),this.delayedEvents.clear()}),Me(this,"stopActivities",o=>{var l,c;o?((l=this.activityEvents.get(o))==null||l.forEach(d=>d()),(c=this.activityEvents.get(o))==null||c.clear(),this.activityEvents.delete(o)):(this.activityEvents.forEach(d=>{d.forEach(h=>h()),d.clear()}),this.activityEvents.clear())}),Me(this,"sendChild",(o,l)=>{const c=Ts(o),d=$t(l,this.contextSnapshot),h=this.children.get(d);h||He(`[@zag-js/core] Cannot send '${c.type}' event to unknown child`),h.send(c)}),Me(this,"stopChild",o=>{this.children.has(o)||He(`[@zag-js/core > stop-child] Cannot stop unknown child ${o}`),this.children.get(o).stop(),this.children.delete(o)}),Me(this,"removeChild",o=>{this.children.delete(o)}),Me(this,"stopChildren",()=>{this.children.forEach(o=>o.stop()),this.children.clear()}),Me(this,"setParent",o=>{this.parent=o}),Me(this,"spawn",(o,l)=>{const c=$t(o);return l&&(c.id=l),c.type="machine.actor",c.setParent(this),this.children.set(c.id,Q(c)),c.onDone(()=>{this.removeChild(c.id)}).start(),Q(Ke(c))}),Me(this,"stopActivity",o=>{var c;if(!this.state.value)return;const l=this.activityEvents.get(this.state.value);(c=l==null?void 0:l.get(o))==null||c(),l==null||l.delete(o)}),Me(this,"addActivityCleanup",(o,l,c)=>{var d;o&&(this.activityEvents.has(o)?(d=this.activityEvents.get(o))==null||d.set(l,c):this.activityEvents.set(o,new Map([[l,c]])))}),Me(this,"setState",o=>{this.state.previousValue=this.state.value,this.state.value=o;const l=this.getStateNode(o);o==null?vi(this.state.tags):this.state.tags=Xr(l==null?void 0:l.tags)}),Me(this,"setContext",o=>{o&&Tw(this.state.context,Te(o))}),Me(this,"setOptions",o=>{const l=Te(o);this.actionMap={...this.actionMap,...l.actions},this.delayMap={...this.delayMap,...l.delays},this.activityMap={...this.activityMap,...l.activities},this.guardMap={...this.guardMap,...l.guards}}),Me(this,"getStateNode",o=>{var l;if(o)return(l=this.config.states)==null?void 0:l[o]}),Me(this,"getNextStateInfo",(o,l)=>{const c=this.determineTransition(o,l),d=!(c!=null&&c.target),h=(c==null?void 0:c.target)??this.state.value,f=this.state.value!==h,p=this.getStateNode(h),m={reenter:!d&&!f&&!(c!=null&&c.internal),transition:c,stateNode:p,target:h,changed:f};return this.log("NextState:",`[${l.type}]`,this.state.value,"---->",m.target),m}),Me(this,"getAfterActions",(o,l)=>{let c;const d=this.state.value;return{entry:()=>{c=globalThis.setTimeout(()=>{const h=this.getNextStateInfo(o,this.state.event);this.performStateChangeEffects(d,h,this.state.event)},l)},exit:()=>{globalThis.clearTimeout(c)}}}),Me(this,"getDelayedEventActions",o=>{const l=this.getStateNode(o),c=this.state.event;if(!l||!l.after)return;const d=[],h=[];if(Qe(l.after)){const f=this.determineTransition(l.after,c);if(!f)return;if(!wn(f,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(f)}`);const g=yc(f.delay,this.delayMap)(this.contextSnapshot,c),m=this.getAfterActions(f,g);return d.push(m.entry),h.push(m.exit),{entries:d,exits:h}}if(Ce(l.after))for(const f in l.after){const p=l.after[f],m=yc(f,this.delayMap)(this.contextSnapshot,c),y=this.getAfterActions(p,m);d.push(y.entry),h.push(y.exit)}return{entries:d,exits:h}}),Me(this,"executeActions",(o,l)=>{var d;const c=og(o,this.guardMap)(this.contextSnapshot,l,this.guardMeta);for(const h of Xr(c)){const f=q(h)?(d=this.actionMap)==null?void 0:d[h]:h;nt(q(h)&&!f,`[@zag-js/core > execute-actions] No implementation found for action: \`${h}\``),f==null||f(this.state.context,l,this.meta)}}),Me(this,"executeActivities",(o,l,c)=>{var d;for(const h of l){const f=q(h)?(d=this.activityMap)==null?void 0:d[h]:h;if(!f){nt(`[@zag-js/core > execute-activity] No implementation found for activity: \`${h}\``);continue}const p=f(this.state.context,o,this.meta);if(p){const g=q(h)?h:h.name||Rt();this.addActivityCleanup(c??this.state.value,g,p)}}}),Me(this,"createEveryActivities",(o,l)=>{if(o)if(Qe(o)){const c=Xr(o).find(p=>{const g=p.delay,y=yc(g,this.delayMap)(this.contextSnapshot,this.state.event);return Iw(p.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??y!=null});if(!c)return;const h=yc(c.delay,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const p=globalThis.setInterval(()=>{this.executeActions(c.actions,this.state.event)},h);return()=>{globalThis.clearInterval(p)}})}else for(const c in o){const d=o==null?void 0:o[c],f=yc(c,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const g=globalThis.setInterval(()=>{this.executeActions(d,this.state.event)},f);return()=>{globalThis.clearInterval(g)}})}}),Me(this,"setEvent",o=>{this.state.previousEvent=this.state.event,this.state.event=Ke(Ts(o))}),Me(this,"performExitEffects",(o,l)=>{const c=this.state.value;if(c==="")return;const d=o?this.getStateNode(o):void 0;this.stopActivities(c);const h=og(d==null?void 0:d.exit,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=Xr(h),p=this.delayedEvents.get(c);p&&f.push(...p),this.executeActions(f,l),this.delayedEvents.delete(c)}),Me(this,"performEntryEffects",(o,l)=>{const c=this.getStateNode(o),d=Xr(c==null?void 0:c.activities);this.createEveryActivities(c==null?void 0:c.every,g=>{d.unshift(g)}),d.length>0&&this.executeActivities(l,d);const h=og(c==null?void 0:c.entry,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=Xr(h),p=this.getDelayedEventActions(o);c!=null&&c.after&&p&&(this.delayedEvents.set(o,p==null?void 0:p.exits),f.push(...p.entries)),this.executeActions(f,l),(c==null?void 0:c.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(g=>{g(this.stateSnapshot)}),this.stop())}),Me(this,"performTransitionEffects",(o,l)=>{const c=this.determineTransition(o,l);this.executeActions(c==null?void 0:c.actions,l)}),Me(this,"performStateChangeEffects",(o,l,c)=>{this.setEvent(c);const d=l.changed||l.reenter;d&&this.performExitEffects(o,c),this.performTransitionEffects(l.transition,c),this.setState(l.target),d&&this.performEntryEffects(l.target,c)}),Me(this,"determineTransition",(o,l)=>{const c=P9(o,this.guardMap);return c==null?void 0:c(this.contextSnapshot,l,this.guardMeta)}),Me(this,"sendParent",o=>{var c;this.parent||He("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const l=Ts(o);(c=this.parent)==null||c.send(l)}),Me(this,"log",(...o)=>{}),Me(this,"send",o=>{const l=Ts(o);this.transition(this.state.value,l)}),Me(this,"transition",(o,l)=>{var p,g;const c=q(o)?this.getStateNode(o):o==null?void 0:o.stateNode,d=Ts(l);if(!c&&!this.config.on){const m=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${o}, \`event\`: ${d.type}`;nt(m);return}const h=((p=c==null?void 0:c.on)==null?void 0:p[d.type])??((g=this.config.on)==null?void 0:g[d.type]),f=this.getNextStateInfo(h,d);return this.performStateChangeEffects(this.state.value,f,d),f.stateNode}),Me(this,"subscribe",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),()=>{this.stateListeners.delete(o)})),Me(this,"onDone",o=>(this.doneListeners.add(o),this)),Me(this,"onTransition",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),this)),this.config=f_(t),this.options=f_(n??{}),this.id=this.config.id??`machine-${Rt()}`,this.guardMap=((i=this.options)==null?void 0:i.guards)??{},this.actionMap=((s=this.options)==null?void 0:s.actions)??{},this.delayMap=((r=this.options)==null?void 0:r.delays)??{},this.activityMap=((a=this.options)==null?void 0:a.activities)??{},this.sync=((u=this.options)==null?void 0:u.sync)??!1,this.state=k9(this.config),this.initialContext=_e(this.state.context)}get stateSnapshot(){return Q(_e(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const t=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return t.stateSnapshot},get initialContext(){return t.initialContext},get initialState(){var n;return((n=t.initialState)==null?void 0:n.target)??""}}}get meta(){var t;return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:((t=this.initialState)==null?void 0:t.target)??"",getState:()=>this.stateSnapshot,getAction:n=>this.actionMap[n],getGuard:n=>this.guardMap[n]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){const t=this.getState();return{value:t.value,tags:t.tags}}},M9=(e,t)=>new $9(e,t),Ow=Dn("color-picker",["root","label","control","trigger","positioner","content","area","areaThumb","valueText","areaBackground","channelSlider","channelSliderLabel","channelSliderTrack","channelSliderThumb","channelSliderValueText","channelInput","transparencyGrid","swatchGroup","swatchTrigger","swatchIndicator","swatch","eyeDropperTrigger","formatTrigger","formatSelect"]),Qt=Ow.build(),be=Pi({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`color-picker:${e.id}`},getLabelId:e=>{var t;return((t=e.ids)==null?void 0:t.label)??`color-picker:${e.id}:label`},getHiddenInputId:e=>{var t;return((t=e.ids)==null?void 0:t.hiddenInput)??`color-picker:${e.id}:hidden-input`},getControlId:e=>{var t;return((t=e.ids)==null?void 0:t.control)??`color-picker:${e.id}:control`},getTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.trigger)??`color-picker:${e.id}:trigger`},getContentId:e=>{var t;return((t=e.ids)==null?void 0:t.content)??`color-picker:${e.id}:content`},getPositionerId:e=>{var t;return((t=e.ids)==null?void 0:t.positioner)??`color-picker:${e.id}:positioner`},getFormatSelectId:e=>{var t;return((t=e.ids)==null?void 0:t.formatSelect)??`color-picker:${e.id}:format-select`},getAreaId:e=>{var t;return((t=e.ids)==null?void 0:t.area)??`color-picker:${e.id}:area`},getAreaGradientId:e=>{var t;return((t=e.ids)==null?void 0:t.areaGradient)??`color-picker:${e.id}:area-gradient`},getAreaThumbId:e=>{var t;return((t=e.ids)==null?void 0:t.areaThumb)??`color-picker:${e.id}:area-thumb`},getChannelSliderTrackId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.channelSliderTrack)==null?void 0:i.call(n,t))??`color-picker:${e.id}:slider-track:${t}`},getChannelSliderThumbId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.channelSliderThumb)==null?void 0:i.call(n,t))??`color-picker:${e.id}:slider-thumb:${t}`},getContentEl:e=>be.getById(e,be.getContentId(e)),getAreaThumbEl:e=>be.getById(e,be.getAreaThumbId(e)),getChannelSliderThumbEl:(e,t)=>be.getById(e,be.getChannelSliderThumbId(e,t)),getChannelInputEl:(e,t)=>{const n=`input[data-channel="${t}"]`;return[...Tr(be.getContentEl(e),n),...Tr(be.getControlEl(e),n)]},getFormatSelectEl:e=>be.getById(e,be.getFormatSelectId(e)),getHiddenInputEl:e=>be.getById(e,be.getHiddenInputId(e)),getAreaEl:e=>be.getById(e,be.getAreaId(e)),getAreaValueFromPoint(e,t){const n=be.getAreaEl(e);if(!n)return;const{percent:i}=am(t,n);return i},getControlEl:e=>be.getById(e,be.getControlId(e)),getTriggerEl:e=>be.getById(e,be.getTriggerId(e)),getPositionerEl:e=>be.getById(e,be.getPositionerId(e)),getChannelSliderTrackEl:(e,t)=>be.getById(e,be.getChannelSliderTrackId(e,t)),getChannelSliderValueFromPoint(e,t,n){const i=be.getChannelSliderTrackEl(e,n);if(!i)return;const{percent:s}=am(t,i);return s},getChannelInputEls:e=>[...Tr(be.getContentEl(e),"input[data-channel]"),...Tr(be.getControlEl(e),"input[data-channel]")]});function N9(e,t){switch(t){case"hue":return $o(`hsl(${e.getChannelValue("hue")}, 100%, 50%)`);case"lightness":case"brightness":case"saturation":case"red":case"green":case"blue":return e.withChannelValue("alpha",1);case"alpha":return e;default:throw new Error("Unknown color channel: "+t)}}function Im(e,t){if(t==null)return"";if(t==="hex")return e.toString("hex");if(t==="css")return e.toString("css");if(t in e)return e.getChannelValue(t).toString();const n=e.getFormat()==="hsla";switch(t){case"hue":return n?e.toFormat("hsla").getChannelValue("hue").toString():e.toFormat("hsba").getChannelValue("hue").toString();case"saturation":return n?e.toFormat("hsla").getChannelValue("saturation").toString():e.toFormat("hsba").getChannelValue("saturation").toString();case"lightness":return e.toFormat("hsla").getChannelValue("lightness").toString();case"brightness":return e.toFormat("hsba").getChannelValue("brightness").toString();case"red":case"green":case"blue":return e.toFormat("rgba").getChannelValue(t).toString();default:return e.getChannelValue(t).toString()}}function R9(e,t){switch(t){case"hex":const n=$o("#000000"),i=$o("#FFFFFF");return{minValue:n.toHexInt(),maxValue:i.toHexInt(),pageSize:10,step:1};case"css":return;case"hue":case"saturation":case"lightness":return e.toFormat("hsla").getChannelRange(t);case"brightness":return e.toFormat("hsba").getChannelRange(t);case"red":case"green":case"blue":return e.toFormat("rgba").getChannelRange(t);default:return e.getChannelRange(t)}}function D9(e,t){return e==="vertical"?"top":t==="ltr"?"right":"left"}var L9=e=>{const{channel:t,value:n,dir:i}=e,s=D9(e.orientation,i),{minValue:r,maxValue:a}=n.getChannelRange(t);switch(t){case"hue":return`linear-gradient(to ${s}, rgb(255, 0, 0) 0%, rgb(255, 255, 0) 17%, rgb(0, 255, 0) 33%, rgb(0, 255, 255) 50%, rgb(0, 0, 255) 67%, rgb(255, 0, 255) 83%, rgb(255, 0, 0) 100%)`;case"lightness":{let u=n.withChannelValue(t,r).toString("css"),o=n.withChannelValue(t,(a-r)/2).toString("css"),l=n.withChannelValue(t,a).toString("css");return`linear-gradient(to ${s}, ${u}, ${o}, ${l})`}case"saturation":case"brightness":case"red":case"green":case"blue":case"alpha":{let u=n.withChannelValue(t,r).toString("css"),o=n.withChannelValue(t,a).toString("css");return`linear-gradient(to ${s}, ${u}, ${o})`}default:throw new Error("Unknown color channel: "+t)}};function F9(e,t,n){const i=e.context.value,s=e.context.areaValue,r=e.context.valueAsString,a=e.context.isDisabled,u=e.context.isInteractive,o=e.hasTag("dragging"),l=e.hasTag("open"),c=e.hasTag("focused"),d=g=>{const m=s.getChannels();return{xChannel:g.xChannel??m[1],yChannel:g.yChannel??m[2]}},h=e.context.currentPlacement,f=Ju({...e.context.positioning,placement:h});function p(g){const m=h_(g.value).toFormat(e.context.format);return{value:m,valueAsString:m.toString("hex"),checked:m.isEqual(i),disabled:g.disabled||!u}}return{dragging:o,open:l,valueAsString:r,value:i,setOpen(g){g!==l&&t({type:g?"OPEN":"CLOSE"})},setValue(g){t({type:"VALUE.SET",value:h_(g),src:"set-color"})},getChannelValue(g){return Im(i,g)},getChannelValueText(g,m){return i.formatChannelValue(g,m)},setChannelValue(g,m){const y=i.withChannelValue(g,m);t({type:"VALUE.SET",value:y,src:"set-channel"})},format:e.context.format,setFormat(g){const m=i.toFormat(g);t({type:"VALUE.SET",value:m,src:"set-format"})},alpha:i.getChannelValue("alpha"),setAlpha(g){const m=i.withChannelValue("alpha",g);t({type:"VALUE.SET",value:m,src:"set-alpha"})},getRootProps(){return n.element({...Qt.root.attrs,dir:e.context.dir,id:be.getRootId(e.context),"data-disabled":H(a),"data-readonly":H(e.context.readOnly),style:{"--value":i.toString("css")}})},getLabelProps(){return n.element({...Qt.label.attrs,dir:e.context.dir,id:be.getLabelId(e.context),htmlFor:be.getHiddenInputId(e.context),"data-disabled":H(a),"data-readonly":H(e.context.readOnly),"data-focus":H(c),onClick(g){g.preventDefault();const m=Sx(be.getControlEl(e.context),"[data-channel=hex]");m==null||m.focus({preventScroll:!0})}})},getControlProps(){return n.element({...Qt.control.attrs,id:be.getControlId(e.context),dir:e.context.dir,"data-disabled":H(a),"data-readonly":H(e.context.readOnly),"data-state":l?"open":"closed","data-focus":H(c)})},getTriggerProps(){return n.button({...Qt.trigger.attrs,id:be.getTriggerId(e.context),dir:e.context.dir,disabled:a,"aria-label":`select color. current color is ${r}`,"aria-controls":be.getContentId(e.context),"aria-labelledby":be.getLabelId(e.context),"data-disabled":H(a),"data-readonly":H(e.context.readOnly),"data-placement":h,"aria-expanded":H(l),"data-state":l?"open":"closed","data-focus":H(c),type:"button",onClick(){u&&t({type:"TRIGGER.CLICK"})},onBlur(){u&&t({type:"TRIGGER.BLUR"})},style:{position:"relative"}})},getPositionerProps(){return n.element({...Qt.positioner.attrs,id:be.getPositionerId(e.context),dir:e.context.dir,style:f.floating})},getContentProps(){return n.element({...Qt.content.attrs,id:be.getContentId(e.context),dir:e.context.dir,"data-placement":h,"data-state":l?"open":"closed",hidden:!l})},getValueTextProps(){return n.element({...Qt.valueText.attrs,dir:e.context.dir,"data-disabled":H(a),"data-focus":H(c)})},getAreaProps(g={}){const{xChannel:m,yChannel:y}=d(g),{areaStyles:b}=u_(s,{xChannel:m,yChannel:y,dir:e.context.dir});return n.element({...Qt.area.attrs,id:be.getAreaId(e.context),role:"group",onPointerDown(E){if(!u||!Pl(E)||$l(E))return;const _=Ar(E);t({type:"AREA.POINTER_DOWN",point:_,channel:{xChannel:m,yChannel:y},id:"area"}),E.preventDefault()},style:{position:"relative",touchAction:"none",forcedColorAdjust:"none",...b}})},getAreaBackgroundProps(g={}){const{xChannel:m,yChannel:y}=d(g),{areaGradientStyles:b}=u_(s,{xChannel:m,yChannel:y,dir:e.context.dir});return n.element({...Qt.areaBackground.attrs,id:be.getAreaGradientId(e.context),style:{position:"relative",touchAction:"none",forcedColorAdjust:"none",...b}})},getAreaThumbProps(g={}){const{xChannel:m,yChannel:y}=d(g),b={xChannel:m,yChannel:y},E=s.getChannelValuePercent(m),_=1-s.getChannelValuePercent(y),I=s.getChannelValue(m),P=s.getChannelValue(y);return n.element({...Qt.areaThumb.attrs,id:be.getAreaThumbId(e.context),dir:e.context.dir,tabIndex:a?void 0:0,"data-disabled":H(a),role:"slider","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":I,"aria-label":`${m} and ${y}`,"aria-roledescription":"2d slider","aria-valuetext":`${m} ${I}, ${y} ${P}`,style:{position:"absolute",left:`${E*100}%`,top:`${_*100}%`,transform:"translate(-50%, -50%)",touchAction:"none",forcedColorAdjust:"none",background:s.withChannelValue("alpha",1).toString("css")},onFocus(){u&&t({type:"AREA.FOCUS",id:"area",channel:b})},onKeyDown(M){if(M.defaultPrevented||!u)return;const z=ph(M),j={ArrowUp(){t({type:"AREA.ARROW_UP",channel:b,step:z})},ArrowDown(){t({type:"AREA.ARROW_DOWN",channel:b,step:z})},ArrowLeft(){t({type:"AREA.ARROW_LEFT",channel:b,step:z})},ArrowRight(){t({type:"AREA.ARROW_RIGHT",channel:b,step:z})},PageUp(){t({type:"AREA.PAGE_UP",channel:b,step:z})},PageDown(){t({type:"AREA.PAGE_DOWN",channel:b,step:z})},Escape(se){se.stopPropagation()}}[Hs(M,e.context)];j&&(j(M),M.preventDefault())}})},getTransparencyGridProps(g={}){const{size:m="12px"}=g;return n.element({...Qt.transparencyGrid.attrs,style:{"--size":m,width:"100%",height:"100%",position:"absolute",backgroundColor:"#fff",backgroundImage:"conic-gradient(#eeeeee 0 25%, transparent 0 50%, #eeeeee 0 75%, transparent 0)",backgroundSize:"var(--size) var(--size)",inset:"0px",zIndex:"auto",pointerEvents:"none"}})},getChannelSliderProps(g){const{orientation:m="horizontal",channel:y,format:b}=g;return n.element({...Qt.channelSlider.attrs,"data-channel":y,"data-orientation":m,role:"presentation",onPointerDown(E){if(!u||!Pl(E)||$l(E))return;const _=Ar(E);t({type:"CHANNEL_SLIDER.POINTER_DOWN",channel:y,format:b,point:_,id:y,orientation:m}),E.preventDefault()},style:{position:"relative",touchAction:"none"}})},getChannelSliderTrackProps(g){const{orientation:m="horizontal",channel:y,format:b}=g,E=b?i.toFormat(b):s;return n.element({...Qt.channelSliderTrack.attrs,id:be.getChannelSliderTrackId(e.context,y),role:"group","data-channel":y,"data-orientation":m,style:{position:"relative",forcedColorAdjust:"none",backgroundImage:L9({orientation:m,channel:y,dir:e.context.dir,value:E})}})},getChannelSliderLabelProps(g){const{channel:m}=g;return n.element({...Qt.channelSliderLabel.attrs,"data-channel":m,onClick(y){var E;if(!u)return;y.preventDefault();const b=be.getChannelSliderThumbId(e.context,m);(E=be.getById(e.context,b))==null||E.focus({preventScroll:!0})},style:{userSelect:"none",WebkitUserSelect:"none"}})},getChannelSliderValueTextProps(g){return n.element({...Qt.channelSliderValueText.attrs,"data-channel":g.channel})},getChannelSliderThumbProps(g){const{orientation:m="horizontal",channel:y,format:b}=g,E=b?i.toFormat(b):s,_=E.getChannelRange(y),I=E.getChannelValue(y),P=(I-_.minValue)/(_.maxValue-_.minValue),M=m==="horizontal"?{left:`${P*100}%`,top:"50%"}:{top:`${P*100}%`,left:"50%"};return n.element({...Qt.channelSliderThumb.attrs,id:be.getChannelSliderThumbId(e.context,y),role:"slider","aria-label":y,tabIndex:a?void 0:0,"data-channel":y,"data-disabled":H(a),"data-orientation":m,"aria-disabled":H(a),"aria-orientation":m,"aria-valuemax":_.maxValue,"aria-valuemin":_.minValue,"aria-valuenow":I,"aria-valuetext":`${y} ${I}`,style:{forcedColorAdjust:"none",position:"absolute",background:N9(s,y).toString("css"),...M},onFocus(){u&&t({type:"CHANNEL_SLIDER.FOCUS",channel:y})},onKeyDown(z){if(z.defaultPrevented||!u)return;const D=ph(z)*_.step,se={ArrowUp(){t({type:"CHANNEL_SLIDER.ARROW_UP",channel:y,step:D})},ArrowDown(){t({type:"CHANNEL_SLIDER.ARROW_DOWN",channel:y,step:D})},ArrowLeft(){t({type:"CHANNEL_SLIDER.ARROW_LEFT",channel:y,step:D})},ArrowRight(){t({type:"CHANNEL_SLIDER.ARROW_RIGHT",channel:y,step:D})},PageUp(){t({type:"CHANNEL_SLIDER.PAGE_UP",channel:y})},PageDown(){t({type:"CHANNEL_SLIDER.PAGE_DOWN",channel:y})},Home(){t({type:"CHANNEL_SLIDER.HOME",channel:y})},End(){t({type:"CHANNEL_SLIDER.END",channel:y})},Escape(ae){ae.stopPropagation()}}[Hs(z,e.context)];se&&(se(z),z.preventDefault())}})},getChannelInputProps(g){const{channel:m}=g,y=m==="hex"||m==="css",b=R9(i,m);return n.input({...Qt.channelInput.attrs,dir:e.context.dir,type:y?"text":"number","data-channel":m,"aria-label":m,spellCheck:!1,autoComplete:"off",disabled:a,"data-disabled":H(a),readOnly:e.context.readOnly,defaultValue:Im(i,m),min:b==null?void 0:b.minValue,max:b==null?void 0:b.maxValue,step:b==null?void 0:b.step,onBeforeInput(E){if(y||!u)return;E.currentTarget.value.match(/[^0-9.]/g)&&E.preventDefault()},onFocus(E){u&&(t({type:"CHANNEL_INPUT.FOCUS",channel:m}),E.currentTarget.select())},onBlur(E){if(!u)return;const _=y?E.currentTarget.value:E.currentTarget.valueAsNumber;t({type:"CHANNEL_INPUT.BLUR",channel:m,value:_,isTextField:y})},onKeyDown(E){if(!E.defaultPrevented&&u&&E.key==="Enter"){const _=y?E.currentTarget.value:E.currentTarget.valueAsNumber;t({type:"CHANNEL_INPUT.CHANGE",channel:m,value:_,isTextField:y}),E.preventDefault()}},style:{appearance:"none",WebkitAppearance:"none",MozAppearance:"textfield"}})},getHiddenInputProps(){return n.input({type:"text",disabled:a,name:e.context.name,readOnly:e.context.readOnly,required:e.context.required,id:be.getHiddenInputId(e.context),style:Bu,defaultValue:r})},getEyeDropperTriggerProps(){return n.button({...Qt.eyeDropperTrigger.attrs,type:"button",dir:e.context.dir,disabled:a,"data-disabled":H(a),"aria-label":"Pick a color from the screen",onClick(){u&&t("EYEDROPPER.CLICK")}})},getSwatchGroupProps(){return n.element({...Qt.swatchGroup.attrs,role:"group"})},getSwatchTriggerState:p,getSwatchTriggerProps(g){const m=p(g);return n.button({...Qt.swatchTrigger.attrs,disabled:m.disabled,dir:e.context.dir,type:"button","aria-label":`select ${m.valueAsString} as the color`,"data-state":m.checked?"checked":"unchecked","data-value":m.valueAsString,"data-disabled":H(m.disabled),onClick(){m.disabled||t({type:"SWATCH_TRIGGER.CLICK",value:m.value})},style:{position:"relative"}})},getSwatchIndicatorProps(g){const m=p(g);return n.element({...Qt.swatchIndicator.attrs,dir:e.context.dir,hidden:!m.checked})},getSwatchProps(g){const{respectAlpha:m=!0}=g,y=p(g);return n.element({...Qt.swatch.attrs,dir:e.context.dir,"data-state":y.checked?"checked":"unchecked","data-value":y.valueAsString,style:{position:"relative",background:y.value.toString(m?"css":"hex")}})},getFormatTriggerProps(){return n.button({...Qt.formatTrigger.attrs,dir:e.context.dir,type:"button","aria-label":`change color format to ${p_(e.context.format)}`,onClick(g){if(g.currentTarget.disabled)return;const m=p_(e.context.format);t({type:"FORMAT.SET",format:m,src:"format-trigger"})}})},getFormatSelectProps(){return n.select({...Qt.formatSelect.attrs,"aria-label":"change color format",dir:e.context.dir,defaultValue:e.context.format,disabled:a,onChange(g){const m=B9(g.currentTarget.value);t({type:"FORMAT.SET",format:m,src:"format-select"})}})}}}var Xd=["hsba","hsla","rgba"],V9=new RegExp(`^(${Xd.join("|")})$`);function p_(e){const t=Xd.indexOf(e);return Xd[t+1]??Xd[0]}function B9(e){if(V9.test(e))return e;throw new Error(`Unsupported color format: ${e}`)}var Ph=e=>$o(e),{and:H9}=O9;function j9(e){const t=Te(e);return M9({id:"color-picker",initial:t.open?"open":"idle",context:{dir:"ltr",value:Ph("#000000"),format:"rgba",disabled:!1,closeOnSelect:!1,...t,activeId:null,activeChannel:null,activeOrientation:null,fieldsetDisabled:!1,restoreFocus:!0,positioning:{...t.positioning,placement:"bottom"}},computed:{isRtl:n=>n.dir==="rtl",isDisabled:n=>!!n.disabled||n.fieldsetDisabled,isInteractive:n=>!(n.isDisabled||n.readOnly),valueAsString:n=>n.value.toString(n.format),areaValue:n=>{const i=n.format.startsWith("hsl")?"hsla":"hsba";return n.value.toFormat(i)}},activities:["trackFormControl"],watch:{value:["syncInputElements"],format:["syncFormatSelectElement"],open:["toggleVisibility"]},on:{"VALUE.SET":{actions:["setValue"]},"FORMAT.SET":{actions:["setFormat"]},"CHANNEL_INPUT.CHANGE":{actions:["setChannelColorFromInput"]},"EYEDROPPER.CLICK":{actions:["openEyeDropper"]}},states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":{target:"open",actions:["setInitialFocus"]},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],"CHANNEL_INPUT.FOCUS":{target:"focused",actions:["setActiveChannel"]}}},focused:{tags:["closed","focused"],on:{"CONTROLLED.OPEN":{target:"open",actions:["setInitialFocus"]},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],"CHANNEL_INPUT.FOCUS":{actions:["setActiveChannel"]},"CHANNEL_INPUT.BLUR":{target:"idle",actions:["setChannelColorFromInput"]},"TRIGGER.BLUR":{target:"idle"}}},open:{tags:["open"],activities:["trackPositioning","trackDismissableElement"],on:{"CONTROLLED.CLOSE":[{guard:"shouldRestoreFocus",target:"focused",actions:["setReturnFocus"]},{target:"idle"}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}],"AREA.POINTER_DOWN":{target:"open:dragging",actions:["setActiveChannel","setAreaColorFromPoint","focusAreaThumb"]},"AREA.FOCUS":{actions:["setActiveChannel"]},"CHANNEL_SLIDER.POINTER_DOWN":{target:"open:dragging",actions:["setActiveChannel","setChannelColorFromPoint","focusChannelThumb"]},"CHANNEL_SLIDER.FOCUS":{actions:["setActiveChannel"]},"AREA.ARROW_LEFT":{actions:["decrementAreaXChannel"]},"AREA.ARROW_RIGHT":{actions:["incrementAreaXChannel"]},"AREA.ARROW_UP":{actions:["incrementAreaYChannel"]},"AREA.ARROW_DOWN":{actions:["decrementAreaYChannel"]},"AREA.PAGE_UP":{actions:["incrementAreaXChannel"]},"AREA.PAGE_DOWN":{actions:["decrementAreaXChannel"]},"CHANNEL_SLIDER.ARROW_LEFT":{actions:["decrementChannel"]},"CHANNEL_SLIDER.ARROW_RIGHT":{actions:["incrementChannel"]},"CHANNEL_SLIDER.ARROW_UP":{actions:["incrementChannel"]},"CHANNEL_SLIDER.ARROW_DOWN":{actions:["decrementChannel"]},"CHANNEL_SLIDER.PAGE_UP":{actions:["incrementChannel"]},"CHANNEL_SLIDER.PAGE_DOWN":{actions:["decrementChannel"]},"CHANNEL_SLIDER.HOME":{actions:["setChannelToMin"]},"CHANNEL_SLIDER.END":{actions:["setChannelToMax"]},"CHANNEL_INPUT.BLUR":{actions:["setChannelColorFromInput"]},INTERACT_OUTSIDE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{guard:"shouldRestoreFocus",target:"focused",actions:["invokeOnClose","setReturnFocus"]},{target:"idle",actions:["invokeOnClose"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}],"SWATCH_TRIGGER.CLICK":[{guard:H9("isOpenControlled","closeOnSelect"),actions:["setValue","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["setValue","invokeOnClose","setReturnFocus"]},{actions:["setValue"]}]}},"open:dragging":{tags:["open"],exit:["clearActiveChannel"],activities:["trackPointerMove","disableTextSelection","trackPositioning","trackDismissableElement"],on:{"CONTROLLED.CLOSE":[{guard:"shouldRestoreFocus",target:"focused",actions:["setReturnFocus"]},{target:"idle"}],"AREA.POINTER_MOVE":{actions:["setAreaColorFromPoint","focusAreaThumb"]},"AREA.POINTER_UP":{target:"open",actions:["invokeOnChangeEnd"]},"CHANNEL_SLIDER.POINTER_MOVE":{actions:["setChannelColorFromPoint","focusChannelThumb"]},"CHANNEL_SLIDER.POINTER_UP":{target:"open",actions:["invokeOnChangeEnd"]},INTERACT_OUTSIDE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{guard:"shouldRestoreFocus",target:"focused",actions:["invokeOnClose","setReturnFocus"]},{target:"idle",actions:["invokeOnClose"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}]}}}},{guards:{closeOnSelect:n=>!!n.closeOnSelect,isOpenControlled:n=>!!n["open.controlled"],shouldRestoreFocus:n=>!!n.restoreFocus},activities:{trackPositioning(n){n.currentPlacement=n.positioning.placement;const i=be.getTriggerEl(n);return Rr(i,()=>be.getPositionerEl(n),{...n.positioning,defer:!0,onComplete(r){n.currentPlacement=r.placement}})},trackDismissableElement(n,i,{send:s}){return Ul(()=>be.getContentEl(n),{exclude:be.getTriggerEl(n),defer:!0,onInteractOutside(a){var u;(u=n.onInteractOutside)==null||u.call(n,a),!a.defaultPrevented&&(n.restoreFocus=!(a.detail.focusable||a.detail.contextmenu))},onPointerDownOutside:n.onPointerDownOutside,onFocusOutside:n.onFocusOutside,onDismiss(){s({type:"INTERACT_OUTSIDE"})}})},trackFormControl(n,i,{send:s,initialContext:r}){const a=be.getHiddenInputEl(n);return Xl(a,{onFieldsetDisabledChange(u){n.fieldsetDisabled=u},onFormReset(){s({type:"VALUE.SET",value:r.value,src:"form.reset"})}})},trackPointerMove(n,i,{send:s}){return Dx(be.getDoc(n),{onPointerMove({point:r}){const a=n.activeId==="area"?"AREA.POINTER_MOVE":"CHANNEL_SLIDER.POINTER_MOVE";s({type:a,point:r,format:i.format})},onPointerUp(){const r=n.activeId==="area"?"AREA.POINTER_UP":"CHANNEL_SLIDER.POINTER_UP";s({type:r})}})},disableTextSelection(n){return Nx({doc:be.getDoc(n),target:be.getContentEl(n)})}},actions:{openEyeDropper(n){if(!("EyeDropper"in be.getWin(n)))return;const s=be.getWin(n);new s.EyeDropper().open().then(({sRGBHex:a})=>{var l;const u=n.value.getFormat(),o=$o(a).toFormat(u);Si.value(n,o),(l=n.onValueChangeEnd)==null||l.call(n,{value:n.value,valueAsString:n.valueAsString})}).catch(()=>{})},setActiveChannel(n,i){n.activeId=i.id,i.channel&&(n.activeChannel=i.channel),i.orientation&&(n.activeOrientation=i.orientation)},clearActiveChannel(n){n.activeChannel=null,n.activeId=null,n.activeOrientation=null},setAreaColorFromPoint(n,i){const s=i.format?n.value.toFormat(i.format):n.areaValue,{xChannel:r,yChannel:a}=i.channel||n.activeChannel,u=be.getAreaValueFromPoint(n,i.point);if(!u)return;const o=s.getChannelPercentValue(r,u.x),l=s.getChannelPercentValue(a,1-u.y),c=s.withChannelValue(r,o).withChannelValue(a,l);Si.value(n,c)},setChannelColorFromPoint(n,i){const s=i.channel||n.activeId,r=i.format?n.value.toFormat(i.format):n.areaValue,a=be.getChannelSliderValueFromPoint(n,i.point,s);if(!a)return;const o=(n.activeOrientation||"horizontal")==="horizontal"?a.x:a.y,l=r.getChannelPercentValue(s,o),c=r.withChannelValue(s,l);Si.value(n,c)},setValue(n,i){Si.value(n,i.value)},setFormat(n,i){Si.format(n,i.format)},syncInputElements(n){ag.inputs(n)},invokeOnChangeEnd(n){Om.changeEnd(n)},setChannelColorFromInput(n,i){const{channel:s,isTextField:r,value:a}=i,u=n.value.getChannelValue("alpha");let o;if(s==="alpha"){let l=parseFloat(a);l=Number.isNaN(l)?u:l,o=n.value.withChannelValue("alpha",l)}else if(r)o=Ix(()=>Ph(a).withChannelValue("alpha",u),()=>n.value);else{const l=n.value.toFormat(n.format),c=Number.isNaN(a)?l.getChannelValue(s):a;o=l.withChannelValue(s,c)}ag.inputs(n,o),Si.value(n,o)},incrementChannel(n,i){const s=n.value.incrementChannel(i.channel,i.step);Si.value(n,s)},decrementChannel(n,i){const s=n.value.decrementChannel(i.channel,i.step);Si.value(n,s)},incrementAreaXChannel(n,i){const{xChannel:s}=i.channel,r=n.areaValue.incrementChannel(s,i.step);Si.value(n,r)},decrementAreaXChannel(n,i){const{xChannel:s}=i.channel,r=n.areaValue.decrementChannel(s,i.step);Si.value(n,r)},incrementAreaYChannel(n,i){const{yChannel:s}=i.channel,r=n.areaValue.incrementChannel(s,i.step);Si.value(n,r)},decrementAreaYChannel(n,i){const{yChannel:s}=i.channel,r=n.areaValue.decrementChannel(s,i.step);Si.value(n,r)},setChannelToMax(n,i){const s=n.value.getChannelRange(i.channel),r=n.value.withChannelValue(i.channel,s.maxValue);Si.value(n,r)},setChannelToMin(n,i){const s=n.value.getChannelRange(i.channel),r=n.value.withChannelValue(i.channel,s.minValue);Si.value(n,r)},focusAreaThumb(n){Je(()=>{var i;(i=be.getAreaThumbEl(n))==null||i.focus({preventScroll:!0})})},focusChannelThumb(n,i){Je(()=>{var s;(s=be.getChannelSliderThumbEl(n,i.channel))==null||s.focus({preventScroll:!0})})},setInitialFocus(n){Je(()=>{const i=bu({root:be.getContentEl(n),getInitialEl:n.initialFocusEl});i==null||i.focus({preventScroll:!0})})},setReturnFocus(n){Je(()=>{var i;(i=be.getTriggerEl(n))==null||i.focus({preventScroll:!0})})},syncFormatSelectElement(n){ag.formatSelect(n)},invokeOnOpen(n){var i;(i=n.onOpenChange)==null||i.call(n,{open:!0})},invokeOnClose(n){var i;(i=n.onOpenChange)==null||i.call(n,{open:!1})},toggleVisibility(n,i,{send:s}){s({type:n.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:i})}},compareFns:{value:(n,i)=>n.isEqual(i)}})}var ag={inputs(e,t){const n=be.getChannelInputEls(e);Je(()=>{n.forEach(i=>{const s=i.dataset.channel;be.setValue(i,Im(t||e.value,s))})})},formatSelect(e){const t=be.getFormatSelectEl(e);Je(()=>{be.setValue(t,e.format)})}},Om={changeEnd(e){var n;const t=e.value.toFormat(e.format);(n=e.onValueChangeEnd)==null||n.call(e,{value:t,valueAsString:e.valueAsString})},change(e){var n;const t=e.value.toFormat(e.format);(n=e.onValueChange)==null||n.call(e,{value:t,valueAsString:e.valueAsString}),RT(be.getHiddenInputEl(e),{value:e.valueAsString})},formatChange(e){var t;(t=e.onFormatChange)==null||t.call(e,{format:e.format})}},Si={value(e,t){!t||e.value.isEqual(t)||(e.value=t,Om.change(e))},format(e,t){e.format!==t&&(e.format=t,Om.formatChange(e))}};const kw=Ow.extendWith("view"),U9=(e,t)=>{const n=Kn(),i=Qi(),s=Ni(Mi),r=Yn(),a=K(()=>({id:n,ids:{label:r==null?void 0:r.value.ids.label,input:r==null?void 0:r.value.ids.control},disabled:r==null?void 0:r.value.disabled,readOnly:r==null?void 0:r.value.readOnly,required:r==null?void 0:r.value.required,dir:s.value.dir,open:e.defaultOpen,"open.controlled":e.open!==void 0,value:e.defaultValue??e.modelValue,getRootNode:i==null?void 0:i.value.getRootNode,onOpenChange(l){t==null||t("openChange",l),t==null||t("update:open",l.open)},onValueChange(l){t==null||t("valueChange",l),t==null||t("update:modelValue",l.value)},onFocusOutside:l=>t==null?void 0:t("focusOutside",l),onFormatChange:l=>t==null?void 0:t("formatChange",l),onInteractOutside:l=>t==null?void 0:t("interactOutside",l),onPointerDownOutside:l=>t==null?void 0:t("pointerDownOutside",l),onValueChangeEnd:l=>t==null?void 0:t("valueChangeEnd",l),...es(e)})),[u,o]=Ei(j9(a.value),{context:a});return K(()=>F9(u.value,o,$i))},[Aw,Yt]=gt("ColorPickerContext"),[G9,Pw]=gt("ColorPickerAreaPropsContext"),W9=$({__name:"color-picker-area-background",props:{asChild:{type:Boolean}},setup(e){const t=Yt(),n=Pw();return U(),(i,s)=>(C(),R(v(X).div,W(v(t).getAreaBackgroundProps(v(n)),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["as-child"]))}}),z9=$({__name:"color-picker-area-thumb",props:{asChild:{type:Boolean}},setup(e){const t=Yt(),n=Pw();return U(),(i,s)=>(C(),R(v(X).div,W(v(t).getAreaThumbProps(v(n)),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["as-child"]))}}),K9=$({__name:"color-picker-area",props:{xChannel:{},yChannel:{},asChild:{type:Boolean}},setup(e){const t=e,n=Yt();return G9(t),U(),(i,s)=>(C(),R(v(X).div,W(v(n).getAreaProps(t),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["as-child"]))}}),q9=$({__name:"color-picker-channel-input",props:{channel:{},orientation:{},asChild:{type:Boolean}},setup(e){const t=e,n=Yt();return U(),(i,s)=>(C(),R(v(X).input,W(v(n).getChannelInputProps(t),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["as-child"]))}}),[Y9,Gf]=gt("ColorPickerChannelPropsContext"),[J9,wy]=gt("ColorPickerFormatProps"),X9=$({__name:"color-picker-channel-slider-thumb",props:{asChild:{type:Boolean}},setup(e){const t=Yt(),n=wy(),i=Gf(),s=K(()=>({...i,...n}));return U(),(r,a)=>(C(),R(v(X).div,W(v(t).getChannelSliderThumbProps(s.value),{"as-child":r.asChild}),{default:S(()=>[V(r.$slots,"default")]),_:3},16,["as-child"]))}}),Z9=$({__name:"color-picker-channel-slider-value-text",props:{asChild:{type:Boolean}},setup(e){const t=Yt(),n=Gf(),i=df(),s=Ni(Mi);return U(),(r,a)=>(C(),R(v(X).span,W(v(t).getChannelSliderValueTextProps(v(n)),{"as-child":r.asChild}),{default:S(()=>[V(r.$slots,"default",{},()=>{var u,o;return[qe(ue(((o=(u=v(i)).default)==null?void 0:o.call(u))||v(t).getChannelValueText(v(n).channel,v(s).locale)),1)]})]),_:3},16,["as-child"]))}}),Q9=$({__name:"color-picker-channel-slider-label",props:{asChild:{type:Boolean}},setup(e){const t=Yt(),n=Gf();return U(),(i,s)=>(C(),R(v(X).label,W(v(t).getChannelSliderLabelProps(v(n)),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["as-child"]))}}),eK=$({__name:"color-picker-channel-slider-track",props:{asChild:{type:Boolean}},setup(e){const t=Yt(),n=wy(),i=Gf(),s=K(()=>({...i,...n}));return U(),(r,a)=>(C(),R(v(X).div,W(v(t).getChannelSliderTrackProps(s.value),{"as-child":r.asChild}),{default:S(()=>[V(r.$slots,"default")]),_:3},16,["as-child"]))}}),tK=$({__name:"color-picker-channel-slider",props:{channel:{},orientation:{},asChild:{type:Boolean}},setup(e){const t=e,n=Yt(),i=wy(),s=K(()=>({...t,...i}));return Y9(t),U(),(r,a)=>(C(),R(v(X).div,W(v(n).getChannelSliderProps(s.value),{"as-child":r.asChild}),{default:S(()=>[V(r.$slots,"default")]),_:3},16,["as-child"]))}}),nK=$({__name:"color-picker-content",props:{immediate:{type:Boolean},lazyMount:{type:Boolean},present:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=Yt(),n=Gl(),i=K(()=>Bo(t.value.getContentProps(),n.value.presenceProps));return U(),(s,r)=>v(n).unmounted?tt("",!0):(C(),R(v(X).div,W({key:0},i.value,{"as-child":s.asChild}),{default:S(()=>[V(s.$slots,"default")]),_:3},16,["as-child"]))}}),iK=$({__name:"color-picker-context",setup(e){const t=Yt();return(n,i)=>V(n.$slots,"default",hn(on(v(t))))}}),sK=$({__name:"color-picker-control",props:{asChild:{type:Boolean}},setup(e){const t=Yt();return U(),(n,i)=>(C(),R(v(X).div,W(v(t).getControlProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),rK=$({__name:"color-picker-eye-dropper-trigger",props:{asChild:{type:Boolean}},setup(e){const t=Yt();return U(),(n,i)=>(C(),R(v(X).button,W(v(t).getEyeDropperTriggerProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),oK=$({__name:"color-picker-format-select",props:{asChild:{type:Boolean}},setup(e){const t=Yt();return U(),(n,i)=>(C(),R(v(X).select,hn(on(v(t).getFormatSelectProps())),{default:S(()=>[(C(),te(Ye,null,Kt(["rgba","hsla","hsba"],s=>O(v(X).option,{key:s,value:s},{default:S(()=>[qe(ue(s),1)]),_:2},1032,["value"])),64))]),_:1},16))}}),aK=$({__name:"color-picker-format-trigger",props:{asChild:{type:Boolean}},setup(e){const t=Yt();return U(),(n,i)=>(C(),R(v(X).button,W(v(t).getFormatTriggerProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),lK=$({__name:"color-picker-hidden-input",props:{asChild:{type:Boolean}},setup(e){const t=Yt(),n=Yn();return U(),(i,s)=>{var r;return C(),R(v(X).input,W({"aria-describedby":(r=v(n))==null?void 0:r.ariaDescribedby},v(t).getHiddenInputProps(),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["aria-describedby","as-child"])}}}),cK=$({__name:"color-picker-label",props:{asChild:{type:Boolean}},setup(e){const t=Yt();return U(),(n,i)=>(C(),R(v(X).label,W(v(t).getLabelProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),uK=$({__name:"color-picker-positioner",props:{asChild:{type:Boolean}},setup(e){const t=Yt(),n=jo(),i=Da(K(()=>({...n.value,present:t.value.open})));return La(i),U(),(s,r)=>v(i).unmounted?tt("",!0):(C(),R(v(X).div,W({key:0},v(t).getPositionerProps(),{"as-child":s.asChild}),{default:S(()=>[V(s.$slots,"default")]),_:3},16,["as-child"]))}}),dK=$({__name:"color-picker-root-provider",props:{value:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,n=K(()=>t.value);return Aw(n),Ri(K(()=>({lazyMount:t.lazyMount,unmountOnExit:t.unmountOnExit}))),U(),(i,s)=>(C(),R(v(X).div,W(n.value.getRootProps(),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["as-child"]))}}),hK=$({__name:"color-picker-root",props:On({closeOnSelect:{type:Boolean},defaultOpen:{type:Boolean},defaultValue:{},disabled:{type:Boolean},format:{},id:{},ids:{},initialFocusEl:{type:Function},modelValue:{},name:{},open:{type:Boolean},positioning:{},readOnly:{type:Boolean},required:{type:Boolean},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},{closeOnSelect:void 0,defaultOpen:void 0,disabled:void 0,open:void 0,readOnly:void 0,required:void 0}),emits:["focusOutside","formatChange","interactOutside","openChange","pointerDownOutside","valueChange","valueChangeEnd","update:modelValue","update:open"],setup(e,{emit:t}){const n=e,s=U9(n,t);return Aw(s),Ri(K(()=>({lazyMount:n.lazyMount,unmountOnExit:n.unmountOnExit}))),U(),(r,a)=>(C(),R(v(X).div,W(v(s).getRootProps(),{"as-child":r.asChild}),{default:S(()=>[V(r.$slots,"default")]),_:3},16,["as-child"]))}}),fK=$({__name:"color-picker-swatch-group",props:{asChild:{type:Boolean}},setup(e){return U(),(t,n)=>(C(),R(v(X).div,W(v(kw).build().swatchGroup.attrs,{"as-child":t.asChild}),{default:S(()=>[V(t.$slots,"default")]),_:3},16,["as-child"]))}}),[$w,pK]=gt("ColorPickerSwatchPropsContext"),gK=$({__name:"color-picker-swatch-indicator",props:{asChild:{type:Boolean}},setup(e){const t=Yt(),n=pK();return U(),(i,s)=>(C(),R(v(X).div,W(v(t).getSwatchIndicatorProps(v(n)),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["as-child"]))}}),mK=$({__name:"color-picker-swatch-trigger",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,n=Yt();return U(),(i,s)=>(C(),R(v(X).button,W(v(n).getSwatchTriggerProps(t),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["as-child"]))}}),vK=$({__name:"color-picker-swatch",props:{value:{},respectAlpha:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,n=Yt();return $w(t),U(),(i,s)=>(C(),R(v(X).div,W(v(n).getSwatchProps(t),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["as-child"]))}}),yK=$({__name:"color-picker-value-swatch",props:{respectAlpha:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,n=Yt(),i=K(()=>({value:n.value.value,respectAlpha:t.respectAlpha}));return $w(i.value),U(),(s,r)=>(C(),R(v(X).div,W(v(n).getSwatchProps(i.value),{"as-child":s.asChild}),{default:S(()=>[V(s.$slots,"default")]),_:3},16,["as-child"]))}}),bK=$({__name:"color-picker-transparency-grid",props:{size:{},asChild:{type:Boolean}},setup(e){const t=e,n=Yt();return U(),(i,s)=>(C(),R(v(X).div,W(v(n).getTransparencyGridProps(t),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["as-child"]))}}),EK=$({__name:"color-picker-trigger",props:{asChild:{type:Boolean}},setup(e){const t=Yt();return U(),(n,i)=>(C(),R(v(X).button,W(v(t).getTriggerProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),_K=$({__name:"color-picker-value-text",props:{asChild:{type:Boolean}},setup(e){const t=Yt(),n=df();return U(),(i,s)=>(C(),R(v(X).span,W(v(t).getValueTextProps(),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default",{},()=>{var r,a;return[qe(ue(((a=(r=v(n)).default)==null?void 0:a.call(r))||v(t).valueAsString),1)]})]),_:3},16,["as-child"]))}}),CK=$({__name:"color-picker-view",props:{format:{},asChild:{type:Boolean}},setup(e){const t=e,n=Yt();return J9(t),U(),(i,s)=>v(n).format===i.format?(C(),R(v(X).div,W({key:0},v(kw).build().view.attrs,{"data-format":i.format,"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["data-format","as-child"])):tt("",!0)}}),Mt=Object.freeze(Object.defineProperty({__proto__:null,Area:K9,AreaBackground:W9,AreaThumb:z9,ChannelInput:q9,ChannelSlider:tK,ChannelSliderLabel:Q9,ChannelSliderThumb:X9,ChannelSliderTrack:eK,ChannelSliderValueText:Z9,Content:nK,Context:iK,Control:sK,EyeDropperTrigger:rK,FormatSelect:oK,FormatTrigger:aK,HiddenInput:lK,Label:cK,Positioner:uK,Root:hK,RootProvider:dK,Swatch:vK,SwatchGroup:fK,SwatchIndicator:gK,SwatchTrigger:mK,TransparencyGrid:bK,Trigger:EK,ValueSwatch:yK,ValueText:_K,View:CK},Symbol.toStringTag,{value:"Module"})),SK={class:"flex gap-2"},xK={class:"flex flex-col gap-2 w-full"},TK={key:0},wK={class:"text-xs font-medium"},IK={class:"text-xs font-medium"},OK=$({__name:"ColorPicker",props:Vn({usedColors:{default:()=>[]},label:null},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=mn(e,"modelValue",{set(a){return a.toString("hexa")},get(a){return Ph(a)}}),n=e,i=K(()=>n.usedColors.map(a=>Ph(a))),s=st([]);function r(a){i.value.some(u=>u.toHexInt()===a.toHexInt())||s.value.some(u=>u.toHexInt()===a.toHexInt())||s.value.unshift(a)}return(a,u)=>{const o=s9;return C(),R(v(Mt).Root,{format:"rgba",class:"flex flex-col gap-1.5",modelValue:t.value,"onUpdate:modelValue":[u[0]||(u[0]=l=>t.value=l),r]},{default:S(()=>[O(v(Mt).Label,{class:"font-medium text-sm"},{default:S(()=>[qe(ue(e.label),1)]),_:1}),O(v(Mt).Control,{class:"flex gap-2"},{default:S(()=>[O(v(Mt).Trigger,{class:"appearance-none rounded cursor-pointer inline-flex items-center justify-center outline-none h-10 min-w-10 gap-2 border border-zinc-300"},{default:S(()=>[O(v(Mt).TransparencyGrid,{class:"rounded"}),O(v(Mt).ValueSwatch,{class:"h-7 w-7 rounded shadow"})]),_:1}),O(v(Mt).ChannelInput,{channel:"hex",class:"appearance-none rounded bg-none outline-0 relative w-full border px-3 h-10 min-w-10 focus:ring focus:ring-gray-700"})]),_:1}),O(v(Mt).Positioner,{class:"w-60 !z-20 pl-1"},{default:S(()=>[O(v(Mt).Content,{class:"flex flex-col p-4 gap-3 rounded bg-white border shadow-sm data-[state=open]:animate-fade-in data-[state=closed]:animate-fade-out data-[state=closed]:hidden"},{default:S(()=>[O(v(Mt).Area,{class:"rounded overflow-hidden h-36 touch-none forced-color-adjust-none"},{default:S(()=>[O(v(Mt).AreaBackground,{class:"h-full rounded"}),O(v(Mt).AreaThumb,{class:"rounded-full w-2.5 h-2.5 outline-none border-2 border-white"})]),_:1}),L("div",SK,[O(v(Mt).EyeDropperTrigger,{class:"appearance-none rounded cursor-pointer inline-flex outline-none relative select-none items-center justify-center border h-8 min-w-8"},{default:S(()=>[O(o,{class:"w-4 h-4"})]),_:1}),L("div",xK,[O(v(Mt).ChannelSlider,{channel:"hue",class:"rounded w-full"},{default:S(()=>[O(v(Mt).ChannelSliderTrack,{class:"h-2.5 rounded"}),O(v(Mt).ChannelSliderThumb,{class:"h-2.5 w-2.5 cursor-pointer rounded-full outline-none border-2 border-white -translate-x-1/2 -translate-y-1/2"})]),_:1}),O(v(Mt).ChannelSlider,{channel:"alpha",class:"rounded w-full"},{default:S(()=>[O(v(Mt).TransparencyGrid),O(v(Mt).ChannelSliderTrack,{class:"h-2.5 rounded"}),O(v(Mt).ChannelSliderThumb,{class:"h-2.5 w-2.5 cursor-pointer rounded-full outline-none border-2 border-white -translate-x-1/2 -translate-y-1/2"})]),_:1})])]),O(v(Mt).View,{format:"rgba",class:"flex gap-3"},{default:S(()=>[O(v(Mt).ChannelInput,{channel:"hex",class:"flex-1 border px-3 h-8 w-0 rounded outline-0 focus:ring focus:ring-gray-700"}),O(v(Mt).ChannelInput,{channel:"alpha",class:"flex-none border px-3 h-8 rounded outline-0 focus:ring focus:ring-gray-700"})]),_:1}),v(s).length>0?(C(),te("div",TK,[L("p",wK,ue(a.$t("Recently selected")),1),O(v(Mt).SwatchGroup,{class:"grid grid-cols-6 gap-2 mt-2"},{default:S(()=>[(C(!0),te(Ye,null,Kt(v(s).slice(0,6),l=>(C(),R(v(Mt).SwatchTrigger,{value:l,key:l.toHexInt()},{default:S(()=>[O(v(Mt).Swatch,{value:l,class:"w-6 h-6 rounded border"},null,8,["value"])]),_:2},1032,["value"]))),128))]),_:1})])):tt("",!0),L("div",null,[L("p",IK,ue(a.$t("Currently used")),1),O(v(Mt).SwatchGroup,{class:"grid grid-cols-6 gap-2 mt-2"},{default:S(()=>[(C(!0),te(Ye,null,Kt(v(i),l=>(C(),R(v(Mt).SwatchTrigger,{value:l,key:l},{default:S(()=>[O(v(Mt).Swatch,{value:l,class:"w-6 h-6 rounded border"},null,8,["value"])]),_:2},1032,["value"]))),128))]),_:1})])]),_:1})]),_:1}),O(v(Mt).HiddenInput)]),_:1},8,["modelValue"])}}}),kK={class:"border rounded-lg overflow-hidden p-1 relative bg-white"},AK=["src"],PK={class:"absolute bg-black/50 inset-0 flex items-center justify-center"},$K={class:"text-xs text-center truncate overflow-hidden max-w-full"},MK=$({__name:"ImagePreview",props:{image:null,selected:{type:Boolean}},setup(e){return(t,n)=>{const i=cy;return C(),te("div",{class:sn(["group flex flex-col items-center justify-center p-3 gap-3 rounded-lg cursor-pointer hover:bg-neutral-100",{"bg-neutral-100":e.selected,"pointer-events-none":e.image.uploading}])},[L("div",kK,[L("img",{class:sn(["hover:bg-neutral-200 object-cover w-full aspect-square rounded",{"bg-neutral-200":e.selected}]),src:e.image.url},null,10,AK),L("div",{class:sn(["absolute p-2 rounded-md inset-1 group-hover:block group-hover:bg-neutral-900/10",{hidden:!e.selected}])},[O(i,{"model-value":e.selected},null,8,["model-value"])],2),wa(L("div",PK,n[0]||(n[0]=[L("svg",{class:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[L("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),L("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]),512),[[qg,e.image.uploading]])]),L("p",$K,ue(e.image.name),1)],2)}}});function NK(e){const t=new Map;return function(i,s){const r=i+(s?Object.entries(s).sort((u,o)=>u[0]<o[0]?-1:1).join():"");if(t.has(r))return t.get(r);let a=new e(i,s);return t.set(r,a),a}}var RK=NK(Intl.NumberFormat);function DK(e,t,n={}){return RK(t,n).format(e)}var LK=["","kilo","mega","giga","tera"],FK=["","kilo","mega","giga","tera","peta"],VK=(e,t="en-US",n={})=>{if(isNaN(e))return"";if(e===0)return"0 B";const{unit:i="byte",unitDisplay:s="short"}=n,r=i==="bit"?LK:FK,a=Math.max(0,Math.min(Math.floor(Math.log10(e)/3),r.length-1)),u=r[a]+i,o=s||"short",l=parseFloat((e/Math.pow(1e3,a)).toPrecision(3));return DK(l,t,{style:"unit",unit:u,unitDisplay:o})};function BK(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function HK(e){return/^.*\.[\w]+$/.test(e)}var g_=e=>BK(e)||HK(e);function jK(e){if(e)return typeof e=="string"?e:Array.isArray(e)?e.filter(g_).join(","):Object.entries(e).reduce((t,[n,i])=>[...t,n,...i],[]).filter(g_).join(",")}var UK=(e,t)=>e.name===t.name&&e.size===t.size&&e.type===t.type,bc=e=>e!=null;function GK(e,t,n){if(bc(e.size))if(bc(t)&&bc(n)){if(e.size>n)return[!1,"FILE_TOO_LARGE"];if(e.size<t)return[!1,"FILE_TOO_SMALL"]}else{if(bc(t)&&e.size<t)return[!1,"FILE_TOO_SMALL"];if(bc(n)&&e.size>n)return[!1,"FILE_TOO_LARGE"]}return[!0,null]}function WK(e,t){if(e&&t){const n=Array.isArray(t)?t:t.split(","),i=e.name||"",s=(e.type||"").toLowerCase(),r=s.replace(/\/.*$/,"");return n.some(a=>{const u=a.trim().toLowerCase();return u.charAt(0)==="."?i.toLowerCase().endsWith(u):u.endsWith("/*")?r===u.replace(/\/.*$/,""):s===u})}return!0}function zK(e,t){const n=e.type==="application/x-moz-file"||WK(e,t);return[n,n?null:"FILE_INVALID_TYPE"]}var KK=Object.defineProperty,qK=(e,t,n)=>t in e?KK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ne=(e,t,n)=>qK(e,typeof t!="symbol"?t+"":t,n);function Mw(e,...t){for(const n of t){const i=Te(n);for(const s in i)bi(n[s])?(e[s]||(e[s]={}),Mw(e[s],n[s])):e[s]=n[s]}return e}function m_(e){return bn(e)}function ws(e){return q(e)?{type:e}:e}function Zr(e){return e?Qe(e)?e.slice():[e]:[]}function Nw(e){return Ce(e)&&e.predicate!=null}var YK=()=>!0;function Rw(e,t){return e=e??YK,(n,i,s)=>{if(q(e)){const r=t[e];return We(r)?r(n,i,s):r}return Nw(e)?e.predicate(t)(n,i,s):e==null?void 0:e(n,i,s)}}function lg(e,t){return(n,i,s)=>Nw(e)?e.predicate(t)(n,i,s):e}function JK(e){var r,a;const t=e.computed??Q({}),n=e.context??Q({}),i=e.initial?(a=(r=e.states)==null?void 0:r[e.initial])==null?void 0:a.tags:[],s=qn({value:e.initial??"",previousValue:"",event:Q({}),previousEvent:Q({}),context:mi(n,t),done:!1,tags:i??[],hasTag(u){return this.tags.includes(u)},matches(...u){return u.includes(this.value)},can(u){return Q(this).nextEvents.includes(u)},get nextEvents(){var l,c;const u=((c=(l=e.states)==null?void 0:l[this.value])==null?void 0:c.on)??{},o=(e==null?void 0:e.on)??{};return Object.keys({...u,...o})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return Q(s)}function Ec(e,t){return(n,i)=>{if(yi(e))return e;if(We(e))return e(n,i);if(q(e)){const s=Number.parseFloat(e);if(!Number.isNaN(s))return s;if(t){const r=t==null?void 0:t[e];return He(r==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${e}\`. It doesn't exist in \`options.delays\``),We(r)?r(n,i):r}}}}function XK(e){return q(e)?{target:e}:e}function ZK(e,t){return(n,i,s)=>Zr(e).map(XK).find(r=>Rw(r.guard,t)(n,i,s)??r.target??r.actions)}var QK=class{constructor(t,n){var i,s,r,a,u;Ne(this,"status","Not Started"),Ne(this,"state"),Ne(this,"initialState"),Ne(this,"initialContext"),Ne(this,"id"),Ne(this,"type","machine"),Ne(this,"activityEvents",new Map),Ne(this,"delayedEvents",new Map),Ne(this,"stateListeners",new Set),Ne(this,"doneListeners",new Set),Ne(this,"contextWatchers",new Set),Ne(this,"removeStateListener",ni),Ne(this,"parent"),Ne(this,"children",new Map),Ne(this,"guardMap"),Ne(this,"actionMap"),Ne(this,"delayMap"),Ne(this,"activityMap"),Ne(this,"sync"),Ne(this,"options"),Ne(this,"config"),Ne(this,"_created",()=>{var l;const o=ws("machine.created");this.executeActions((l=this.config)==null?void 0:l.created,o)}),Ne(this,"start",o=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=Pt(this.state,()=>{this.stateListeners.forEach(p=>{p(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(ws("machine.start"),Zr(this.config.activities),"machine.start"),this.executeActions(this.config.entry,ws("machine.start"));const l=ws("machine.init"),c=Ce(o)?o.value:o,d=Ce(o)?o.context:void 0;d&&this.setContext(d);const h={target:c??this.config.initial},f=this.getNextStateInfo(h,l);return this.initialState=f,this.performStateChangeEffects(this.state.value,f,l),this}),Ne(this,"setupContextWatchers",()=>{const{watch:o}=this.config;if(!o)return;let l=_e(this.state.context);const c=Pt(this.state.context,()=>{var h;const d=_e(this.state.context);for(const[f,p]of Object.entries(o))(((h=this.options.compareFns)==null?void 0:h[f])??Object.is)(l[f],d[f])||this.executeActions(p,this.state.event);l=d});this.contextWatchers.add(c)}),Ne(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,ws("machine.stop")),this.executeActions(this.config.exit,ws("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),Ne(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),Ne(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(o=>o()),this.contextWatchers.clear()}),Ne(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(o=>{o.forEach(l=>l())}),this.delayedEvents.clear()}),Ne(this,"stopActivities",o=>{var l,c;o?((l=this.activityEvents.get(o))==null||l.forEach(d=>d()),(c=this.activityEvents.get(o))==null||c.clear(),this.activityEvents.delete(o)):(this.activityEvents.forEach(d=>{d.forEach(h=>h()),d.clear()}),this.activityEvents.clear())}),Ne(this,"sendChild",(o,l)=>{const c=ws(o),d=$t(l,this.contextSnapshot),h=this.children.get(d);h||He(`[@zag-js/core] Cannot send '${c.type}' event to unknown child`),h.send(c)}),Ne(this,"stopChild",o=>{this.children.has(o)||He(`[@zag-js/core > stop-child] Cannot stop unknown child ${o}`),this.children.get(o).stop(),this.children.delete(o)}),Ne(this,"removeChild",o=>{this.children.delete(o)}),Ne(this,"stopChildren",()=>{this.children.forEach(o=>o.stop()),this.children.clear()}),Ne(this,"setParent",o=>{this.parent=o}),Ne(this,"spawn",(o,l)=>{const c=$t(o);return l&&(c.id=l),c.type="machine.actor",c.setParent(this),this.children.set(c.id,Q(c)),c.onDone(()=>{this.removeChild(c.id)}).start(),Q(Ke(c))}),Ne(this,"stopActivity",o=>{var c;if(!this.state.value)return;const l=this.activityEvents.get(this.state.value);(c=l==null?void 0:l.get(o))==null||c(),l==null||l.delete(o)}),Ne(this,"addActivityCleanup",(o,l,c)=>{var d;o&&(this.activityEvents.has(o)?(d=this.activityEvents.get(o))==null||d.set(l,c):this.activityEvents.set(o,new Map([[l,c]])))}),Ne(this,"setState",o=>{this.state.previousValue=this.state.value,this.state.value=o;const l=this.getStateNode(o);o==null?vi(this.state.tags):this.state.tags=Zr(l==null?void 0:l.tags)}),Ne(this,"setContext",o=>{o&&Mw(this.state.context,Te(o))}),Ne(this,"setOptions",o=>{const l=Te(o);this.actionMap={...this.actionMap,...l.actions},this.delayMap={...this.delayMap,...l.delays},this.activityMap={...this.activityMap,...l.activities},this.guardMap={...this.guardMap,...l.guards}}),Ne(this,"getStateNode",o=>{var l;if(o)return(l=this.config.states)==null?void 0:l[o]}),Ne(this,"getNextStateInfo",(o,l)=>{const c=this.determineTransition(o,l),d=!(c!=null&&c.target),h=(c==null?void 0:c.target)??this.state.value,f=this.state.value!==h,p=this.getStateNode(h),m={reenter:!d&&!f&&!(c!=null&&c.internal),transition:c,stateNode:p,target:h,changed:f};return this.log("NextState:",`[${l.type}]`,this.state.value,"---->",m.target),m}),Ne(this,"getAfterActions",(o,l)=>{let c;const d=this.state.value;return{entry:()=>{c=globalThis.setTimeout(()=>{const h=this.getNextStateInfo(o,this.state.event);this.performStateChangeEffects(d,h,this.state.event)},l)},exit:()=>{globalThis.clearTimeout(c)}}}),Ne(this,"getDelayedEventActions",o=>{const l=this.getStateNode(o),c=this.state.event;if(!l||!l.after)return;const d=[],h=[];if(Qe(l.after)){const f=this.determineTransition(l.after,c);if(!f)return;if(!wn(f,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(f)}`);const g=Ec(f.delay,this.delayMap)(this.contextSnapshot,c),m=this.getAfterActions(f,g);return d.push(m.entry),h.push(m.exit),{entries:d,exits:h}}if(Ce(l.after))for(const f in l.after){const p=l.after[f],m=Ec(f,this.delayMap)(this.contextSnapshot,c),y=this.getAfterActions(p,m);d.push(y.entry),h.push(y.exit)}return{entries:d,exits:h}}),Ne(this,"executeActions",(o,l)=>{var d;const c=lg(o,this.guardMap)(this.contextSnapshot,l,this.guardMeta);for(const h of Zr(c)){const f=q(h)?(d=this.actionMap)==null?void 0:d[h]:h;nt(q(h)&&!f,`[@zag-js/core > execute-actions] No implementation found for action: \`${h}\``),f==null||f(this.state.context,l,this.meta)}}),Ne(this,"executeActivities",(o,l,c)=>{var d;for(const h of l){const f=q(h)?(d=this.activityMap)==null?void 0:d[h]:h;if(!f){nt(`[@zag-js/core > execute-activity] No implementation found for activity: \`${h}\``);continue}const p=f(this.state.context,o,this.meta);if(p){const g=q(h)?h:h.name||Rt();this.addActivityCleanup(c??this.state.value,g,p)}}}),Ne(this,"createEveryActivities",(o,l)=>{if(o)if(Qe(o)){const c=Zr(o).find(p=>{const g=p.delay,y=Ec(g,this.delayMap)(this.contextSnapshot,this.state.event);return Rw(p.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??y!=null});if(!c)return;const h=Ec(c.delay,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const p=globalThis.setInterval(()=>{this.executeActions(c.actions,this.state.event)},h);return()=>{globalThis.clearInterval(p)}})}else for(const c in o){const d=o==null?void 0:o[c],f=Ec(c,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const g=globalThis.setInterval(()=>{this.executeActions(d,this.state.event)},f);return()=>{globalThis.clearInterval(g)}})}}),Ne(this,"setEvent",o=>{this.state.previousEvent=this.state.event,this.state.event=Ke(ws(o))}),Ne(this,"performExitEffects",(o,l)=>{const c=this.state.value;if(c==="")return;const d=o?this.getStateNode(o):void 0;this.stopActivities(c);const h=lg(d==null?void 0:d.exit,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=Zr(h),p=this.delayedEvents.get(c);p&&f.push(...p),this.executeActions(f,l),this.delayedEvents.delete(c)}),Ne(this,"performEntryEffects",(o,l)=>{const c=this.getStateNode(o),d=Zr(c==null?void 0:c.activities);this.createEveryActivities(c==null?void 0:c.every,g=>{d.unshift(g)}),d.length>0&&this.executeActivities(l,d);const h=lg(c==null?void 0:c.entry,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=Zr(h),p=this.getDelayedEventActions(o);c!=null&&c.after&&p&&(this.delayedEvents.set(o,p==null?void 0:p.exits),f.push(...p.entries)),this.executeActions(f,l),(c==null?void 0:c.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(g=>{g(this.stateSnapshot)}),this.stop())}),Ne(this,"performTransitionEffects",(o,l)=>{const c=this.determineTransition(o,l);this.executeActions(c==null?void 0:c.actions,l)}),Ne(this,"performStateChangeEffects",(o,l,c)=>{this.setEvent(c);const d=l.changed||l.reenter;d&&this.performExitEffects(o,c),this.performTransitionEffects(l.transition,c),this.setState(l.target),d&&this.performEntryEffects(l.target,c)}),Ne(this,"determineTransition",(o,l)=>{const c=ZK(o,this.guardMap);return c==null?void 0:c(this.contextSnapshot,l,this.guardMeta)}),Ne(this,"sendParent",o=>{var c;this.parent||He("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const l=ws(o);(c=this.parent)==null||c.send(l)}),Ne(this,"log",(...o)=>{}),Ne(this,"send",o=>{const l=ws(o);this.transition(this.state.value,l)}),Ne(this,"transition",(o,l)=>{var p,g;const c=q(o)?this.getStateNode(o):o==null?void 0:o.stateNode,d=ws(l);if(!c&&!this.config.on){const m=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${o}, \`event\`: ${d.type}`;nt(m);return}const h=((p=c==null?void 0:c.on)==null?void 0:p[d.type])??((g=this.config.on)==null?void 0:g[d.type]),f=this.getNextStateInfo(h,d);return this.performStateChangeEffects(this.state.value,f,d),f.stateNode}),Ne(this,"subscribe",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),()=>{this.stateListeners.delete(o)})),Ne(this,"onDone",o=>(this.doneListeners.add(o),this)),Ne(this,"onTransition",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),this)),this.config=m_(t),this.options=m_(n??{}),this.id=this.config.id??`machine-${Rt()}`,this.guardMap=((i=this.options)==null?void 0:i.guards)??{},this.actionMap=((s=this.options)==null?void 0:s.actions)??{},this.delayMap=((r=this.options)==null?void 0:r.delays)??{},this.activityMap=((a=this.options)==null?void 0:a.activities)??{},this.sync=((u=this.options)==null?void 0:u.sync)??!1,this.state=JK(this.config),this.initialContext=_e(this.state.context)}get stateSnapshot(){return Q(_e(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const t=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return t.stateSnapshot},get initialContext(){return t.initialContext},get initialState(){var n;return((n=t.initialState)==null?void 0:n.target)??""}}}get meta(){var t;return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:((t=this.initialState)==null?void 0:t.target)??"",getState:()=>this.stateSnapshot,getAction:n=>this.actionMap[n],getGuard:n=>this.guardMap[n]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){const t=this.getState();return{value:t.value,tags:t.tags}}},eq=(e,t)=>new QK(e,t),tq=Dn("file-upload").parts("root","dropzone","item","itemDeleteTrigger","itemGroup","itemName","itemPreview","itemPreviewImage","itemSizeText","label","trigger","clearTrigger"),ss=tq.build(),Cn=Pi({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`file:${e.id}`},getDropzoneId:e=>{var t;return((t=e.ids)==null?void 0:t.dropzone)??`file:${e.id}:dropzone`},getHiddenInputId:e=>{var t;return((t=e.ids)==null?void 0:t.hiddenInput)??`file:${e.id}:input`},getTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.trigger)??`file:${e.id}:trigger`},getLabelId:e=>{var t;return((t=e.ids)==null?void 0:t.label)??`file:${e.id}:label`},getItemId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.item)==null?void 0:i.call(n,t))??`file:${e.id}:item:${t}`},getItemNameId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.itemName)==null?void 0:i.call(n,t))??`file:${e.id}:item-name:${t}`},getItemSizeTextId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.itemSizeText)==null?void 0:i.call(n,t))??`file:${e.id}:item-size:${t}`},getItemPreviewId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.itemPreview)==null?void 0:i.call(n,t))??`file:${e.id}:item-preview:${t}`},getHiddenInputEl:e=>Cn.getById(e,Cn.getHiddenInputId(e)),getDropzoneEl:e=>Cn.getById(e,Cn.getDropzoneId(e))});function v_(e){const t=Zi(e);return e.dataTransfer?e.dataTransfer.types.some(n=>n==="Files"||n==="application/x-moz-file"):!!t&&"files"in t}function nq(e,t){return!e.multiple&&t>1?!1:!e.multiple&&t+e.acceptedFiles.length===2?!0:!(t+e.acceptedFiles.length>e.maxFiles)}function iq(e,t){const n=[],i=[];return t.forEach(s=>{var d;const[r,a]=zK(s,e.acceptAttr),[u,o]=GK(s,e.minFileSize,e.maxFileSize),l=(d=e.validate)==null?void 0:d.call(e,s),c=l?l.length===0:!0;if(r&&u&&c)n.push(s);else{const h=[a,o];c||h.push(...l??[]),i.push({file:s,errors:h.filter(Boolean)})}}),nq(e,n.length)||(n.forEach(s=>{i.push({file:s,errors:["TOO_MANY_FILES"]})}),n.splice(0)),{acceptedFiles:n,rejectedFiles:i}}function sq(e,t,n){const i=e.context.disabled,s=e.context.allowDrop,r=e.context.translations,a=e.matches("dragging"),u=e.matches("focused")&&!i;return{dragging:a,focused:u,openFilePicker(){t("OPEN")},deleteFile(o){t({type:"FILE.DELETE",file:o})},acceptedFiles:e.context.acceptedFiles,rejectedFiles:e.context.rejectedFiles,setFiles(o){const l=o.length;t({type:"FILES.SET",files:o,count:l})},clearRejectedFiles(){t({type:"REJECTED_FILES.CLEAR"})},clearFiles(){t({type:"FILES.CLEAR"})},getFileSize(o){return VK(o.size,e.context.locale)},createFileUrl(o,l){const c=Cn.getWin(e.context),d=c.URL.createObjectURL(o);return l(d),()=>c.URL.revokeObjectURL(d)},getRootProps(){return n.element({...ss.root.attrs,dir:e.context.dir,id:Cn.getRootId(e.context),"data-disabled":H(i),"data-dragging":H(a)})},getDropzoneProps(){return n.element({...ss.dropzone.attrs,dir:e.context.dir,id:Cn.getDropzoneId(e.context),tabIndex:i?void 0:0,role:"button","aria-label":r.dropzone,"aria-disabled":i,"data-invalid":H(e.context.invalid),"data-disabled":H(i),"data-dragging":H(a),onKeyDown(o){o.defaultPrevented||mu(o)&&(o.key!=="Enter"&&o.key!==" "||t({type:"DROPZONE.CLICK",src:"keydown"}))},onClick(o){o.currentTarget.localName==="label"&&o.preventDefault(),t("DROPZONE.CLICK")},onDragOver(o){if(!s)return;o.preventDefault(),o.stopPropagation();try{o.dataTransfer.dropEffect="copy"}catch{}if(!v_(o))return;const c=o.dataTransfer.items.length;t({type:"DROPZONE.DRAG_OVER",count:c})},onDragLeave(o){!s||i||$r(o.currentTarget,o.relatedTarget)||t({type:"DROPZONE.DRAG_LEAVE"})},onDrop(o){s&&(o.preventDefault(),o.stopPropagation());const l=v_(o);i||!l||t({type:"DROPZONE.DROP",files:Array.from(o.dataTransfer.files)})},onFocus(){t("DROPZONE.FOCUS")},onBlur(){t("DROPZONE.BLUR")}})},getTriggerProps(){return n.button({...ss.trigger.attrs,dir:e.context.dir,id:Cn.getTriggerId(e.context),disabled:i,"data-disabled":H(i),"data-invalid":H(e.context.invalid),type:"button",onClick(o){i||($r(Cn.getDropzoneEl(e.context),o.currentTarget)&&o.stopPropagation(),t("OPEN"))}})},getHiddenInputProps(){return n.input({id:Cn.getHiddenInputId(e.context),tabIndex:-1,disabled:i,type:"file",required:e.context.required,capture:e.context.capture,name:e.context.name,accept:e.context.acceptAttr,webkitdirectory:e.context.directory?"":void 0,multiple:e.context.multiple||e.context.maxFiles>1,onClick(o){o.stopPropagation(),o.currentTarget.value=""},onChange(o){if(i)return;const{files:l}=o.currentTarget;t({type:"FILES.SET",files:l?Array.from(l):[]})},style:Bu})},getItemGroupProps(){return n.element({...ss.itemGroup.attrs,dir:e.context.dir,"data-disabled":H(i)})},getItemProps(o){const{file:l}=o;return n.element({...ss.item.attrs,dir:e.context.dir,id:Cn.getItemId(e.context,l.name),"data-disabled":H(i)})},getItemNameProps(o){const{file:l}=o;return n.element({...ss.itemName.attrs,dir:e.context.dir,id:Cn.getItemNameId(e.context,l.name),"data-disabled":H(i)})},getItemSizeTextProps(o){const{file:l}=o;return n.element({...ss.itemSizeText.attrs,dir:e.context.dir,id:Cn.getItemSizeTextId(e.context,l.name),"data-disabled":H(i)})},getItemPreviewProps(o){const{file:l}=o;return n.element({...ss.itemPreview.attrs,dir:e.context.dir,id:Cn.getItemPreviewId(e.context,l.name),"data-disabled":H(i)})},getItemPreviewImageProps(o){var h;const{file:l,url:c}=o;if(!l.type.startsWith("image/"))throw new Error("Preview Image is only supported for image files");return n.img({...ss.itemPreviewImage.attrs,alt:(h=r.itemPreview)==null?void 0:h.call(r,l),src:c,"data-disabled":H(i)})},getItemDeleteTriggerProps(o){var c;const{file:l}=o;return n.button({...ss.itemDeleteTrigger.attrs,dir:e.context.dir,type:"button",disabled:i,"data-disabled":H(i),"aria-label":(c=r.deleteFile)==null?void 0:c.call(r,l),onClick(){i||t({type:"FILE.DELETE",file:l})}})},getLabelProps(){return n.label({...ss.label.attrs,dir:e.context.dir,id:Cn.getLabelId(e.context),htmlFor:Cn.getHiddenInputId(e.context),"data-disabled":H(i)})},getClearTriggerProps(){return n.button({...ss.clearTrigger.attrs,dir:e.context.dir,type:"button",disabled:i,hidden:e.context.acceptedFiles.length===0,"data-disabled":H(i),onClick(o){o.defaultPrevented||i||t({type:"FILES.CLEAR"})}})}}}function rq(e){const t=Te(e);return eq({id:"fileupload",initial:"idle",context:{minFileSize:0,maxFileSize:1/0,maxFiles:1,allowDrop:!0,...t,acceptedFiles:Ke([]),rejectedFiles:Ke([]),translations:{dropzone:"dropzone",itemPreview:n=>`preview of ${n.name}`,deleteFile:n=>`delete file ${n.name}`,...t.translations}},computed:{acceptAttr:n=>jK(n.accept),multiple:n=>n.maxFiles>1},on:{"FILES.SET":{actions:["setFilesFromEvent"]},"FILE.DELETE":{actions:["removeFile"]},"FILES.CLEAR":{actions:["clearFiles"]},"REJECTED_FILES.CLEAR":{actions:["clearRejectedFiles"]}},states:{idle:{on:{OPEN:{actions:["openFilePicker"]},"DROPZONE.CLICK":{actions:["openFilePicker"]},"DROPZONE.FOCUS":"focused","DROPZONE.DRAG_OVER":{target:"dragging"}}},focused:{on:{"DROPZONE.BLUR":"idle",OPEN:{actions:["openFilePicker"]},"DROPZONE.CLICK":{actions:["openFilePicker"]},"DROPZONE.DRAG_OVER":{target:"dragging"}}},dragging:{on:{"DROPZONE.DROP":{target:"idle",actions:["setFilesFromEvent","syncInputElement"]},"DROPZONE.DRAG_LEAVE":{target:"idle"}}}}},{actions:{syncInputElement(n){const i=Cn.getHiddenInputEl(n);if(!i)return;const s=Cn.getWin(n),r=new s.DataTransfer;n.acceptedFiles.forEach(a=>{r.items.add(a)}),i.files=r.files},openFilePicker(n){Je(()=>{var i;(i=Cn.getHiddenInputEl(n))==null||i.click()})},setFilesFromEvent(n,i){const s=iq(n,i.files),{acceptedFiles:r,rejectedFiles:a}=s;if(n.multiple){const u=Ke([...n.acceptedFiles,...r]);cg.files(n,u,a);return}if(r.length){const u=Ke([r[0]]);cg.files(n,u,a)}else a.length&&cg.files(n,n.acceptedFiles,a)},removeFile(n,i){const s=n.acceptedFiles.filter(r=>r!==i.file);n.acceptedFiles=Ke(s),Sl.change(n)},clearRejectedFiles(n){n.rejectedFiles=Ke([]),Sl.change(n)},clearFiles(n){n.acceptedFiles=Ke([]),n.rejectedFiles=Ke([]),Sl.change(n)}},compareFns:{acceptedFiles:(n,i)=>n.length===i.length&&n.every((s,r)=>UK(s,i[r]))}})}var Sl={change:e=>{var t;(t=e.onFileChange)==null||t.call(e,{acceptedFiles:e.acceptedFiles,rejectedFiles:e.rejectedFiles})},accept:e=>{var t;(t=e.onFileAccept)==null||t.call(e,{files:e.acceptedFiles})},reject:e=>{var t;(t=e.onFileReject)==null||t.call(e,{files:e.rejectedFiles})}},cg={files:(e,t,n)=>{e.acceptedFiles=Ke(t),Sl.accept(e),n&&(e.rejectedFiles=Ke(n),Sl.reject(e)),Sl.change(e)}};tn()(["accept","allowDrop","capture","dir","directory","disabled","getRootNode","id","ids","locale","maxFiles","maxFileSize","minFileSize","name","invalid","onFileAccept","onFileReject","onFileChange","required","translations","validate"]);tn()(["file"]);const oq={class:"flex flex-col gap-2"},aq={key:0,class:"text-sm"},lq={key:1,class:"min-h-24 border border-dashed rounded flex flex-col items-center justify-center"},cq={key:2},uq={class:"rounded-t p-3 bg-neutral-100 relative"},dq=["src"],hq={class:"rounded-b p-3 bg-neutral-100 border-t border-white"},fq={class:"flex-none h-12 border-b border-neutral-200 flex gap-3 px-4 items-center justify-between"},pq={class:"flex-1 flex flex-col gap-3 min-h-0 p-3 overflow-y-auto"},gq={class:"grid grid-cols-2 gap-3"},mq={class:"flex-none flex items-center gap-3 p-3 justify-end h-12 border-t border-neutral-200"},vq=$({__name:"ImagePicker",props:Vn({label:null},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=p=>{var g=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return!!g.test(p)},n=_i(),i=mn(e,"modelValue",{set(p){return p?p.path:null},get(p){return p?{path:p,url:t(p)?p:window.ThemeEditor.imagesBaseUrl+p,name:p}:null}}),s=st(!1),r=st([]),a=st(),[u,o]=Ei(rq({id:"imagepicker",accept:"image/*",maxFiles:10,onFileAccept(p){l.value.clearFiles(),r.value=p.files.map(b=>({url:URL.createObjectURL(b),path:b.name,name:b.name,uploading:!0}));const g=new FormData;p.files.forEach(b=>{g.append("image[]",b)});const{data:m,onFetchResponse:y}=_5(g);y(()=>{n.images=[...m.value,...n.images],r.value=[],c(n.images[0])})}})),l=K(()=>sq(u.value,o,$i));function c(p){i.value=p}function d(){s.value=!0,a.value=i.value}function h(){i.value=a.value,s.value=!1}function f(){i.value=null}return Ai(()=>n.fetchImages()),(p,g)=>{const m=jl,y=MK;return C(),te("div",null,[L("div",oq,[e.label?(C(),te("label",aq,ue(e.label),1)):tt("",!0),i.value?(C(),te("div",cq,[L("div",uq,[L("img",{src:i.value.url,alt:"",class:"object-cover"},null,8,dq),L("button",{class:"absolute top-4 right-4 bg-gray-700/30 text-gray-200 p-px rounded",onClick:f},[O(m,{class:"w-4 h-4"})])]),L("div",hq,[L("button",{onClick:d,class:"text-sm w-full text-center bg-white border rounded py-1"},ue(p.$t("Change image")),1)])])):(C(),te("div",lq,[L("button",{onClick:d,class:"text-blue-600 text-sm bg-zinc-200 rounded px-2.5 py-1.5 hover:bg-zinc-100 hover:text-blue-800"},ue(p.$t("Select image")),1)]))]),O(v(yn).Root,{open:v(s),"onUpdate:open":g[0]||(g[0]=b=>dt(s)?s.value=b:null)},{default:S(()=>[(C(),R(lf,{to:"body"},[O(v(yn).Backdrop,{class:"fixed h-screen w-screen inset-0"}),O(v(yn).Positioner,{class:"flex fixed top-14 left-14 bottom-0 w-[19.9rem] items-center justify-center"},{default:S(()=>[O(v(yn).Content,{class:"bg-white shadow flex flex-col w-full h-full overflow-hidden"},{default:S(()=>[L("header",fq,[O(v(yn).Title,null,{default:S(()=>[qe(ue(e.label||p.$t("Image Picker")),1)]),_:1}),O(v(yn).CloseTrigger,{class:"cursor-pointer rounded-lg p-0.5 text-neutral-700 hover:bg-neutral-300"},{default:S(()=>[O(m,{class:"w-5 h-5"})]),_:1})]),L("section",pq,[L("div",W(v(l).getRootProps(),{accept:"image/*"}),[L("div",W(v(l).getDropzoneProps(),{class:"flex flex-col gap-3 items-center justify-center h-32 bg-zinc-50/50 border border-zinc-300 border-dashed rounded-lg"}),[L("p",null,ue(p.$t("Drop your images here")),1),L("button",W(v(l).getTriggerProps(),{class:"cursor-pointer bg-blue-500 text-white shadow-lg rounded border px-2.5 py-1.5 text-sm"}),ue(p.$t("Add images")),17)],16),L("input",hn(on(v(l).getHiddenInputProps())),null,16)],16),L("div",gq,[(C(!0),te(Ye,null,Kt(v(r),b=>(C(),R(y,{key:b.path,image:b},null,8,["image"]))),128)),(C(!0),te(Ye,null,Kt(v(n).images,b=>(C(),R(y,{key:b.path,image:b,selected:!!i.value&&i.value.path===b.path,onClick:E=>c(b)},null,8,["image","selected","onClick"]))),128))])]),L("footer",mq,[L("button",{onClick:h,class:"text-sm shadow px-3 py-1 rounded bg-neutral-100 border"},ue(p.$t("Cancel")),1),O(v(yn).CloseTrigger,{class:"text-sm shadow px-3 py-1 rounded bg-gray-800 text-white border hover:bg-gray-700"},{default:S(()=>g[1]||(g[1]=[qe("Select")])),_:1})])]),_:1})]),_:1})]))]),_:1},8,["open"])])}}}),yq={viewBox:"0 0 16 16",width:"1.2em",height:"1.2em"};function bq(e,t){return C(),te("svg",yq,t[0]||(t[0]=[L("g",{fill:"currentColor"},[L("path",{d:"M3 2v4.586l7 7L14.586 9l-7-7zM2 2a1 1 0 0 1 1-1h4.586a1 1 0 0 1 .707.293l7 7a1 1 0 0 1 0 1.414l-4.586 4.586a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 2 6.586z"}),L("path",{d:"M5.5 5a.5.5 0 1 1 0-1a.5.5 0 0 1 0 1m0 1a1.5 1.5 0 1 0 0-3a1.5 1.5 0 0 0 0 3M1 7.086a1 1 0 0 0 .293.707L8.75 15.25l-.043.043a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 0 7.586V3a1 1 0 0 1 1-1z"})],-1)]))}const Wf=bt({name:"bi-tags",render:bq}),Eq=(e,t)=>{const n=e.__vccOpts||e;for(const[i,s]of t)n[i]=s;return n},_q={},Cq={class:"animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"};function Sq(e,t){return C(),te("svg",Cq,t[0]||(t[0]=[L("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),L("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))}const Iy=Eq(_q,[["render",Sq]]),xq={class:"flex flex-col overflow-y-hidden"},Tq={key:0,class:"flex items-center mx-2 my-2 px-3 py-1 gap-3 border rounded-lg focus-within:ring focus-within:ring-gray-700"},wq=["placeholder"],Iq={class:"flex-1 overflow-y-auto border-t"},Oq={key:0,class:"h-20 flex items-center justify-center"},kq={key:1},Aq=["onClick"],Pq=["src","alt"],$q={class:"truncate flex-1 w-0"},Dw=$({__name:"CategoryListbox",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=_i(),n=mn(e,"modelValue"),i=st(""),{isFetching:s,execute:r}=t.fetchCategories(),a=K(()=>i.value?t.searchCategories(i.value):t.categories);return qt([()=>t.themeData.channel,()=>t.themeData.locale],()=>r()),(u,o)=>{const l=_f,c=Iy,d=Wf;return C(),te("div",xq,[v(i)||v(a).length>2?(C(),te("div",Tq,[O(l,{class:"w-4 h-4"}),wa(L("input",{"onUpdate:modelValue":o[0]||(o[0]=h=>dt(i)?i.value=h:null),type:"text",class:"focus:outline-none text-gray-600",placeholder:u.$t("Search category")},null,8,wq),[[mf,v(i)]])])):tt("",!0),L("div",Iq,[v(s)?(C(),te("div",Oq,[O(c,{class:"h-6 w-6 text-gray-700"})])):(C(),te("div",kq,[(C(!0),te(Ye,null,Kt(v(a),h=>(C(),te("a",{key:h.id,href:"#",class:sn(["flex items-center gap-3 px-3 py-2 outline-none hover:bg-neutral-200 text-sm",{"bg-neutral-200":n.value&&n.value.id===h.id}]),onClick:zi(f=>n.value=h,["stop"])},[h.logo?(C(),te("img",{key:0,src:h.logo.small_image_url,alt:h.name,class:"w-5 h-5 object-cover flex-none"},null,8,Pq)):(C(),R(d,{key:1,class:"w-4 h-4 flex-none mr-1 transform rotate-90"})),L("span",$q,ue(h.name),1)],10,Aq))),128))]))])])}}});var Mq=Object.defineProperty,Nq=(e,t,n)=>t in e?Mq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Re=(e,t,n)=>Nq(e,typeof t!="symbol"?t+"":t,n);function Lw(e,...t){for(const n of t){const i=Te(n);for(const s in i)bi(n[s])?(e[s]||(e[s]={}),Lw(e[s],n[s])):e[s]=n[s]}return e}function y_(e){return bn(e)}function Is(e){return q(e)?{type:e}:e}function Qr(e){return e?Qe(e)?e.slice():[e]:[]}function Fw(e){return Ce(e)&&e.predicate!=null}var Rq=()=>!0;function Vw(e,t){return e=e??Rq,(n,i,s)=>{if(q(e)){const r=t[e];return We(r)?r(n,i,s):r}return Fw(e)?e.predicate(t)(n,i,s):e==null?void 0:e(n,i,s)}}function ug(e,t){return(n,i,s)=>Fw(e)?e.predicate(t)(n,i,s):e}function Dq(e){var r,a;const t=e.computed??Q({}),n=e.context??Q({}),i=e.initial?(a=(r=e.states)==null?void 0:r[e.initial])==null?void 0:a.tags:[],s=qn({value:e.initial??"",previousValue:"",event:Q({}),previousEvent:Q({}),context:mi(n,t),done:!1,tags:i??[],hasTag(u){return this.tags.includes(u)},matches(...u){return u.includes(this.value)},can(u){return Q(this).nextEvents.includes(u)},get nextEvents(){var l,c;const u=((c=(l=e.states)==null?void 0:l[this.value])==null?void 0:c.on)??{},o=(e==null?void 0:e.on)??{};return Object.keys({...u,...o})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return Q(s)}function _c(e,t){return(n,i)=>{if(yi(e))return e;if(We(e))return e(n,i);if(q(e)){const s=Number.parseFloat(e);if(!Number.isNaN(s))return s;if(t){const r=t==null?void 0:t[e];return He(r==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${e}\`. It doesn't exist in \`options.delays\``),We(r)?r(n,i):r}}}}function Lq(e){return q(e)?{target:e}:e}function Fq(e,t){return(n,i,s)=>Qr(e).map(Lq).find(r=>Vw(r.guard,t)(n,i,s)??r.target??r.actions)}var Vq=class{constructor(t,n){var i,s,r,a,u;Re(this,"status","Not Started"),Re(this,"state"),Re(this,"initialState"),Re(this,"initialContext"),Re(this,"id"),Re(this,"type","machine"),Re(this,"activityEvents",new Map),Re(this,"delayedEvents",new Map),Re(this,"stateListeners",new Set),Re(this,"doneListeners",new Set),Re(this,"contextWatchers",new Set),Re(this,"removeStateListener",ni),Re(this,"parent"),Re(this,"children",new Map),Re(this,"guardMap"),Re(this,"actionMap"),Re(this,"delayMap"),Re(this,"activityMap"),Re(this,"sync"),Re(this,"options"),Re(this,"config"),Re(this,"_created",()=>{var l;const o=Is("machine.created");this.executeActions((l=this.config)==null?void 0:l.created,o)}),Re(this,"start",o=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=Pt(this.state,()=>{this.stateListeners.forEach(p=>{p(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(Is("machine.start"),Qr(this.config.activities),"machine.start"),this.executeActions(this.config.entry,Is("machine.start"));const l=Is("machine.init"),c=Ce(o)?o.value:o,d=Ce(o)?o.context:void 0;d&&this.setContext(d);const h={target:c??this.config.initial},f=this.getNextStateInfo(h,l);return this.initialState=f,this.performStateChangeEffects(this.state.value,f,l),this}),Re(this,"setupContextWatchers",()=>{const{watch:o}=this.config;if(!o)return;let l=_e(this.state.context);const c=Pt(this.state.context,()=>{var h;const d=_e(this.state.context);for(const[f,p]of Object.entries(o))(((h=this.options.compareFns)==null?void 0:h[f])??Object.is)(l[f],d[f])||this.executeActions(p,this.state.event);l=d});this.contextWatchers.add(c)}),Re(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,Is("machine.stop")),this.executeActions(this.config.exit,Is("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),Re(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),Re(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(o=>o()),this.contextWatchers.clear()}),Re(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(o=>{o.forEach(l=>l())}),this.delayedEvents.clear()}),Re(this,"stopActivities",o=>{var l,c;o?((l=this.activityEvents.get(o))==null||l.forEach(d=>d()),(c=this.activityEvents.get(o))==null||c.clear(),this.activityEvents.delete(o)):(this.activityEvents.forEach(d=>{d.forEach(h=>h()),d.clear()}),this.activityEvents.clear())}),Re(this,"sendChild",(o,l)=>{const c=Is(o),d=$t(l,this.contextSnapshot),h=this.children.get(d);h||He(`[@zag-js/core] Cannot send '${c.type}' event to unknown child`),h.send(c)}),Re(this,"stopChild",o=>{this.children.has(o)||He(`[@zag-js/core > stop-child] Cannot stop unknown child ${o}`),this.children.get(o).stop(),this.children.delete(o)}),Re(this,"removeChild",o=>{this.children.delete(o)}),Re(this,"stopChildren",()=>{this.children.forEach(o=>o.stop()),this.children.clear()}),Re(this,"setParent",o=>{this.parent=o}),Re(this,"spawn",(o,l)=>{const c=$t(o);return l&&(c.id=l),c.type="machine.actor",c.setParent(this),this.children.set(c.id,Q(c)),c.onDone(()=>{this.removeChild(c.id)}).start(),Q(Ke(c))}),Re(this,"stopActivity",o=>{var c;if(!this.state.value)return;const l=this.activityEvents.get(this.state.value);(c=l==null?void 0:l.get(o))==null||c(),l==null||l.delete(o)}),Re(this,"addActivityCleanup",(o,l,c)=>{var d;o&&(this.activityEvents.has(o)?(d=this.activityEvents.get(o))==null||d.set(l,c):this.activityEvents.set(o,new Map([[l,c]])))}),Re(this,"setState",o=>{this.state.previousValue=this.state.value,this.state.value=o;const l=this.getStateNode(o);o==null?vi(this.state.tags):this.state.tags=Qr(l==null?void 0:l.tags)}),Re(this,"setContext",o=>{o&&Lw(this.state.context,Te(o))}),Re(this,"setOptions",o=>{const l=Te(o);this.actionMap={...this.actionMap,...l.actions},this.delayMap={...this.delayMap,...l.delays},this.activityMap={...this.activityMap,...l.activities},this.guardMap={...this.guardMap,...l.guards}}),Re(this,"getStateNode",o=>{var l;if(o)return(l=this.config.states)==null?void 0:l[o]}),Re(this,"getNextStateInfo",(o,l)=>{const c=this.determineTransition(o,l),d=!(c!=null&&c.target),h=(c==null?void 0:c.target)??this.state.value,f=this.state.value!==h,p=this.getStateNode(h),m={reenter:!d&&!f&&!(c!=null&&c.internal),transition:c,stateNode:p,target:h,changed:f};return this.log("NextState:",`[${l.type}]`,this.state.value,"---->",m.target),m}),Re(this,"getAfterActions",(o,l)=>{let c;const d=this.state.value;return{entry:()=>{c=globalThis.setTimeout(()=>{const h=this.getNextStateInfo(o,this.state.event);this.performStateChangeEffects(d,h,this.state.event)},l)},exit:()=>{globalThis.clearTimeout(c)}}}),Re(this,"getDelayedEventActions",o=>{const l=this.getStateNode(o),c=this.state.event;if(!l||!l.after)return;const d=[],h=[];if(Qe(l.after)){const f=this.determineTransition(l.after,c);if(!f)return;if(!wn(f,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(f)}`);const g=_c(f.delay,this.delayMap)(this.contextSnapshot,c),m=this.getAfterActions(f,g);return d.push(m.entry),h.push(m.exit),{entries:d,exits:h}}if(Ce(l.after))for(const f in l.after){const p=l.after[f],m=_c(f,this.delayMap)(this.contextSnapshot,c),y=this.getAfterActions(p,m);d.push(y.entry),h.push(y.exit)}return{entries:d,exits:h}}),Re(this,"executeActions",(o,l)=>{var d;const c=ug(o,this.guardMap)(this.contextSnapshot,l,this.guardMeta);for(const h of Qr(c)){const f=q(h)?(d=this.actionMap)==null?void 0:d[h]:h;nt(q(h)&&!f,`[@zag-js/core > execute-actions] No implementation found for action: \`${h}\``),f==null||f(this.state.context,l,this.meta)}}),Re(this,"executeActivities",(o,l,c)=>{var d;for(const h of l){const f=q(h)?(d=this.activityMap)==null?void 0:d[h]:h;if(!f){nt(`[@zag-js/core > execute-activity] No implementation found for activity: \`${h}\``);continue}const p=f(this.state.context,o,this.meta);if(p){const g=q(h)?h:h.name||Rt();this.addActivityCleanup(c??this.state.value,g,p)}}}),Re(this,"createEveryActivities",(o,l)=>{if(o)if(Qe(o)){const c=Qr(o).find(p=>{const g=p.delay,y=_c(g,this.delayMap)(this.contextSnapshot,this.state.event);return Vw(p.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??y!=null});if(!c)return;const h=_c(c.delay,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const p=globalThis.setInterval(()=>{this.executeActions(c.actions,this.state.event)},h);return()=>{globalThis.clearInterval(p)}})}else for(const c in o){const d=o==null?void 0:o[c],f=_c(c,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const g=globalThis.setInterval(()=>{this.executeActions(d,this.state.event)},f);return()=>{globalThis.clearInterval(g)}})}}),Re(this,"setEvent",o=>{this.state.previousEvent=this.state.event,this.state.event=Ke(Is(o))}),Re(this,"performExitEffects",(o,l)=>{const c=this.state.value;if(c==="")return;const d=o?this.getStateNode(o):void 0;this.stopActivities(c);const h=ug(d==null?void 0:d.exit,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=Qr(h),p=this.delayedEvents.get(c);p&&f.push(...p),this.executeActions(f,l),this.delayedEvents.delete(c)}),Re(this,"performEntryEffects",(o,l)=>{const c=this.getStateNode(o),d=Qr(c==null?void 0:c.activities);this.createEveryActivities(c==null?void 0:c.every,g=>{d.unshift(g)}),d.length>0&&this.executeActivities(l,d);const h=ug(c==null?void 0:c.entry,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=Qr(h),p=this.getDelayedEventActions(o);c!=null&&c.after&&p&&(this.delayedEvents.set(o,p==null?void 0:p.exits),f.push(...p.entries)),this.executeActions(f,l),(c==null?void 0:c.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(g=>{g(this.stateSnapshot)}),this.stop())}),Re(this,"performTransitionEffects",(o,l)=>{const c=this.determineTransition(o,l);this.executeActions(c==null?void 0:c.actions,l)}),Re(this,"performStateChangeEffects",(o,l,c)=>{this.setEvent(c);const d=l.changed||l.reenter;d&&this.performExitEffects(o,c),this.performTransitionEffects(l.transition,c),this.setState(l.target),d&&this.performEntryEffects(l.target,c)}),Re(this,"determineTransition",(o,l)=>{const c=Fq(o,this.guardMap);return c==null?void 0:c(this.contextSnapshot,l,this.guardMeta)}),Re(this,"sendParent",o=>{var c;this.parent||He("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const l=Is(o);(c=this.parent)==null||c.send(l)}),Re(this,"log",(...o)=>{}),Re(this,"send",o=>{const l=Is(o);this.transition(this.state.value,l)}),Re(this,"transition",(o,l)=>{var p,g;const c=q(o)?this.getStateNode(o):o==null?void 0:o.stateNode,d=Is(l);if(!c&&!this.config.on){const m=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${o}, \`event\`: ${d.type}`;nt(m);return}const h=((p=c==null?void 0:c.on)==null?void 0:p[d.type])??((g=this.config.on)==null?void 0:g[d.type]),f=this.getNextStateInfo(h,d);return this.performStateChangeEffects(this.state.value,f,d),f.stateNode}),Re(this,"subscribe",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),()=>{this.stateListeners.delete(o)})),Re(this,"onDone",o=>(this.doneListeners.add(o),this)),Re(this,"onTransition",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),this)),this.config=y_(t),this.options=y_(n??{}),this.id=this.config.id??`machine-${Rt()}`,this.guardMap=((i=this.options)==null?void 0:i.guards)??{},this.actionMap=((s=this.options)==null?void 0:s.actions)??{},this.delayMap=((r=this.options)==null?void 0:r.delays)??{},this.activityMap=((a=this.options)==null?void 0:a.activities)??{},this.sync=((u=this.options)==null?void 0:u.sync)??!1,this.state=Dq(this.config),this.initialContext=_e(this.state.context)}get stateSnapshot(){return Q(_e(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const t=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return t.stateSnapshot},get initialContext(){return t.initialContext},get initialState(){var n;return((n=t.initialState)==null?void 0:n.target)??""}}}get meta(){var t;return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:((t=this.initialState)==null?void 0:t.target)??"",getState:()=>this.stateSnapshot,getAction:n=>this.actionMap[n],getGuard:n=>this.guardMap[n]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){const t=this.getState();return{value:t.value,tags:t.tags}}},Bq=(e,t)=>new Vq(e,t),Hq=Dn("popover").parts("arrow","arrowTip","anchor","trigger","indicator","positioner","content","title","description","closeTrigger"),Zs=Hq.build(),ot=Pi({getAnchorId:e=>{var t;return((t=e.ids)==null?void 0:t.anchor)??`popover:${e.id}:anchor`},getTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.trigger)??`popover:${e.id}:trigger`},getContentId:e=>{var t;return((t=e.ids)==null?void 0:t.content)??`popover:${e.id}:content`},getPositionerId:e=>{var t;return((t=e.ids)==null?void 0:t.positioner)??`popover:${e.id}:popper`},getArrowId:e=>{var t;return((t=e.ids)==null?void 0:t.arrow)??`popover:${e.id}:arrow`},getTitleId:e=>{var t;return((t=e.ids)==null?void 0:t.title)??`popover:${e.id}:title`},getDescriptionId:e=>{var t;return((t=e.ids)==null?void 0:t.description)??`popover:${e.id}:desc`},getCloseTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.closeTrigger)??`popover:${e.id}:close`},getAnchorEl:e=>ot.getById(e,ot.getAnchorId(e)),getTriggerEl:e=>ot.getById(e,ot.getTriggerId(e)),getContentEl:e=>ot.getById(e,ot.getContentId(e)),getPositionerEl:e=>ot.getById(e,ot.getPositionerId(e)),getTitleEl:e=>ot.getById(e,ot.getTitleId(e)),getDescriptionEl:e=>ot.getById(e,ot.getDescriptionId(e)),getFocusableEls:e=>yx(ot.getContentEl(e)),getFirstFocusableEl:e=>ot.getFocusableEls(e)[0]});function jq(e,t,n){const i=e.matches("open"),s=e.context.currentPlacement,r=e.context.currentPortalled,a=e.context.renderedElements,u=Ju({...e.context.positioning,placement:s});return{portalled:r,open:i,setOpen(o){o!==i&&t(o?"OPEN":"CLOSE")},reposition(o={}){t({type:"POSITIONING.SET",options:o})},getArrowProps(){return n.element({id:ot.getArrowId(e.context),...Zs.arrow.attrs,dir:e.context.dir,style:u.arrow})},getArrowTipProps(){return n.element({...Zs.arrowTip.attrs,dir:e.context.dir,style:u.arrowTip})},getAnchorProps(){return n.element({...Zs.anchor.attrs,dir:e.context.dir,id:ot.getAnchorId(e.context)})},getTriggerProps(){return n.button({...Zs.trigger.attrs,dir:e.context.dir,type:"button","data-placement":s,id:ot.getTriggerId(e.context),"aria-haspopup":"dialog","aria-expanded":i,"data-state":i?"open":"closed","aria-controls":ot.getContentId(e.context),onClick(o){o.defaultPrevented||t("TOGGLE")},onBlur(o){t({type:"TRIGGER_BLUR",target:o.relatedTarget})}})},getIndicatorProps(){return n.element({...Zs.indicator.attrs,dir:e.context.dir,"data-state":i?"open":"closed"})},getPositionerProps(){return n.element({id:ot.getPositionerId(e.context),...Zs.positioner.attrs,dir:e.context.dir,style:u.floating})},getContentProps(){return n.element({...Zs.content.attrs,dir:e.context.dir,id:ot.getContentId(e.context),tabIndex:-1,role:"dialog",hidden:!i,"data-state":i?"open":"closed","data-expanded":H(i),"aria-labelledby":a.title?ot.getTitleId(e.context):void 0,"aria-describedby":a.description?ot.getDescriptionId(e.context):void 0,"data-placement":s})},getTitleProps(){return n.element({...Zs.title.attrs,id:ot.getTitleId(e.context),dir:e.context.dir})},getDescriptionProps(){return n.element({...Zs.description.attrs,id:ot.getDescriptionId(e.context),dir:e.context.dir})},getCloseTriggerProps(){return n.button({...Zs.closeTrigger.attrs,dir:e.context.dir,id:ot.getCloseTriggerId(e.context),type:"button","aria-label":"close",onClick(o){o.defaultPrevented||t("CLOSE")}})}}}function Uq(e){const t=Te(e);return Bq({id:"popover",initial:t.open?"open":"closed",context:{closeOnInteractOutside:!0,closeOnEscape:!0,autoFocus:!0,modal:!1,portalled:!0,positioning:{placement:"bottom",...t.positioning},currentPlacement:void 0,...t,renderedElements:{title:!0,description:!0}},computed:{currentPortalled:n=>!!n.modal||!!n.portalled},watch:{open:["toggleVisibility"]},entry:["checkRenderedElements"],states:{closed:{on:{"CONTROLLED.OPEN":{target:"open",actions:["setInitialFocus"]},TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}]}},open:{activities:["trapFocus","preventScroll","hideContentBelow","trackPositioning","trackDismissableElement","proxyTabFocus"],on:{"CONTROLLED.CLOSE":{target:"closed",actions:["setFinalFocus"]},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose","setFinalFocus"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"POSITIONING.SET":{actions:"reposition"}}}}},{guards:{isOpenControlled:n=>!!n["open.controlled"]},activities:{trackPositioning(n){n.currentPlacement=n.positioning.placement;const i=ot.getAnchorEl(n)??ot.getTriggerEl(n);return Rr(i,()=>ot.getPositionerEl(n),{...n.positioning,defer:!0,onComplete(r){n.currentPlacement=r.placement}})},trackDismissableElement(n,i,{send:s}){const r=()=>ot.getContentEl(n);let a=!0;return Ul(r,{pointerBlocking:n.modal,exclude:ot.getTriggerEl(n),defer:!0,onEscapeKeyDown(u){var o;(o=n.onEscapeKeyDown)==null||o.call(n,u),!n.closeOnEscape&&u.preventDefault()},onInteractOutside(u){var o;(o=n.onInteractOutside)==null||o.call(n,u),!u.defaultPrevented&&(a=!(u.detail.focusable||u.detail.contextmenu),n.closeOnInteractOutside||u.preventDefault())},onPointerDownOutside:n.onPointerDownOutside,onFocusOutside:n.onFocusOutside,persistentElements:n.persistentElements,onDismiss(){s({type:"CLOSE",src:"interact-outside",restoreFocus:a})}})},proxyTabFocus(n){return n.modal||!n.portalled?void 0:mN(()=>ot.getContentEl(n),{triggerElement:ot.getTriggerEl(n),defer:!0,onFocus(s){s.focus({preventScroll:!0})}})},hideContentBelow(n){return n.modal?Gv(()=>[ot.getContentEl(n),ot.getTriggerEl(n)],{defer:!0}):void 0},preventScroll(n){if(n.modal)return Fx(ot.getDoc(n))},trapFocus(n){if(!n.modal)return;let i;return Of(()=>{const s=ot.getContentEl(n);if(s){i=Wx(s,{escapeDeactivates:!1,allowOutsideClick:!0,preventScroll:!0,returnFocusOnDeactivate:!0,document:ot.getDoc(n),fallbackFocus:s,initialFocus:bu({root:ot.getContentEl(n),getInitialEl:n.initialFocusEl,enabled:n.autoFocus})});try{i.activate()}catch{}}}),()=>i==null?void 0:i.deactivate()}},actions:{reposition(n,i){const s=ot.getAnchorEl(n)??ot.getTriggerEl(n);Rr(s,()=>ot.getPositionerEl(n),{...n.positioning,...i.options,defer:!0,listeners:!1,onComplete(a){n.currentPlacement=a.placement}})},checkRenderedElements(n){Je(()=>{Object.assign(n.renderedElements,{title:!!ot.getTitleEl(n),description:!!ot.getDescriptionEl(n)})})},setInitialFocus(n){n.modal||Je(()=>{const i=bu({root:ot.getContentEl(n),getInitialEl:n.initialFocusEl,enabled:n.autoFocus});i==null||i.focus({preventScroll:!0})})},setFinalFocus(n,i){var r;const s=i.restoreFocus??((r=i.previousEvent)==null?void 0:r.restoreFocus);s!=null&&!s||Je(()=>{const a=ot.getTriggerEl(n);a==null||a.focus({preventScroll:!0})})},invokeOnOpen(n){var i;(i=n.onOpenChange)==null||i.call(n,{open:!0})},invokeOnClose(n){var i;(i=n.onOpenChange)==null||i.call(n,{open:!1})},toggleVisibility(n,i,{send:s}){s({type:n.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:i})}}})}tn()(["autoFocus","closeOnEscape","closeOnInteractOutside","dir","getRootNode","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","open.controlled","open","persistentElements","portalled","positioning"]);const Gq=(e,t)=>{const n=Kn(),i=Qi(),s=Ni(Mi),r=K(()=>({id:n,dir:s.value.dir,open:e.open??e.defaultOpen,"open.controlled":e.open!==void 0,getRootNode:i==null?void 0:i.value.getRootNode,onOpenChange:o=>{t==null||t("openChange",o),t==null||t("update:open",o.open)},onEscapeKeyDown:o=>t==null?void 0:t("escapeKeyDown",o),onFocusOutside:o=>t==null?void 0:t("focusOutside",o),onInteractOutside:o=>t==null?void 0:t("interactOutside",o),onPointerDownOutside:o=>t==null?void 0:t("pointerDownOutside",o),...es(e)})),[a,u]=Ei(Uq(r.value),{context:r});return K(()=>jq(a.value,u,$i))},[Bw,Ks]=gt("PopoverContext"),Wq=$({__name:"popover-anchor",props:{asChild:{type:Boolean}},setup(e){const t=Ks();return U(),(n,i)=>(C(),R(v(X).div,W(v(t).getAnchorProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),zq=$({__name:"popover-arrow-tip",props:{asChild:{type:Boolean}},setup(e){const t=Ks();return U(),(n,i)=>(C(),R(v(X).div,W(v(t).getArrowTipProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),Kq=$({__name:"popover-arrow",props:{asChild:{type:Boolean}},setup(e){const t=Ks();return U(),(n,i)=>(C(),R(v(X).div,W(v(t).getArrowProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),qq=$({__name:"popover-close-trigger",props:{asChild:{type:Boolean}},setup(e){const t=Ks();return U(),(n,i)=>(C(),R(v(X).button,W(v(t).getCloseTriggerProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),Yq=$({__name:"popover-content",props:{asChild:{type:Boolean}},setup(e){const t=Ks(),n=Gl(),i=K(()=>Bo(t.value.getContentProps(),n.value.presenceProps));return U(),(s,r)=>v(n).unmounted?tt("",!0):(C(),R(v(X).div,W({key:0},i.value,{"as-child":s.asChild}),{default:S(()=>[V(s.$slots,"default")]),_:3},16,["as-child"]))}}),Jq=$({__name:"popover-context",setup(e){const t=Ks();return(n,i)=>V(n.$slots,"default",hn(on(v(t))))}}),Xq=$({__name:"popover-description",props:{asChild:{type:Boolean}},setup(e){const t=Ks();return U(),(n,i)=>(C(),R(v(X).div,W(v(t).getDescriptionProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),Zq=$({__name:"popover-indicator",props:{asChild:{type:Boolean}},setup(e){const t=Ks();return U(),(n,i)=>(C(),R(v(X).div,W(v(t).getIndicatorProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),Qq=$({__name:"popover-positioner",props:{asChild:{type:Boolean}},setup(e){const t=Ks(),n=jo(),i=Da(K(()=>({...n.value,present:t.value.open})));return La(i),U(),(s,r)=>v(i).unmounted?tt("",!0):(C(),R(v(X).div,W({key:0},v(t).getPositionerProps(),{"as-child":s.asChild}),{default:S(()=>[V(s.$slots,"default")]),_:3},16,["as-child"]))}}),eY=$({__name:"popover-root-provider",props:{value:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean}},setup(e){const t=e,n=K(()=>t.value);return Bw(n),Ri(K(()=>({lazyMount:t.lazyMount,unmountOnExit:t.unmountOnExit}))),U(),(i,s)=>V(i.$slots,"default")}}),tY=$({__name:"popover-root",props:On({autoFocus:{type:Boolean},closeOnEscape:{type:Boolean},closeOnInteractOutside:{type:Boolean},defaultOpen:{type:Boolean},id:{},ids:{},initialFocusEl:{type:Function},modal:{type:Boolean},open:{type:Boolean},persistentElements:{},portalled:{type:Boolean},positioning:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean}},{autoFocus:void 0,closeOnEscape:void 0,closeOnInteractOutside:void 0,defaultOpen:void 0,modal:void 0,open:void 0,portalled:void 0}),emits:["escapeKeyDown","focusOutside","interactOutside","openChange","pointerDownOutside","update:open"],setup(e,{emit:t}){const n=e,s=Gq(n,t);return Bw(s),Ri(K(()=>({lazyMount:n.lazyMount,unmountOnExit:n.unmountOnExit}))),U(),(r,a)=>V(r.$slots,"default")}}),nY=$({__name:"popover-title",props:{asChild:{type:Boolean}},setup(e){const t=Ks();return U(),(n,i)=>(C(),R(v(X).div,W(v(t).getTitleProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),iY=$({__name:"popover-trigger",props:{asChild:{type:Boolean}},setup(e){const t=Ks();return U(),(n,i)=>(C(),R(v(X).button,W(v(t).getTriggerProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),Mn=Object.freeze(Object.defineProperty({__proto__:null,Anchor:Wq,Arrow:Kq,ArrowTip:zq,CloseTrigger:qq,Content:Yq,Context:Jq,Description:Xq,Indicator:Zq,Positioner:Qq,Root:tY,RootProvider:eY,Title:nY,Trigger:iY},Symbol.toStringTag,{value:"Module"})),sY={key:0,class:"text-sm font-medium block mb-2"},rY={class:"flex items-center w-full gap-3 cursor-pointer border rounded px-3 h-10 text-sm"},oY=["src","alt"],aY={class:"flex-1 w-0 truncate"},lY={key:1},cY=$({__name:"CategoryPicker",props:Vn({label:null},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=_i(),n=mn(e,"modelValue"),i=st(!1),s=K({get:()=>n.value?t.categories.find(r=>r.id===n.value):null,set:r=>{n.value=r?r.id:null}});return(r,a)=>{const u=Wf,o=jl,l=Dw;return C(),te("div",null,[O(v(Mn).Root,{open:v(i),"onUpdate:open":a[3]||(a[3]=c=>dt(i)?i.value=c:null)},{default:S(()=>[e.label?(C(),te("label",sY,ue(e.label),1)):tt("",!0),O(v(Mn).Trigger,{"as-child":""},{default:S(()=>[L("div",rY,[v(s)?(C(),te(Ye,{key:0},[v(s).logo?(C(),te("img",{key:0,src:v(s).logo.small_image_url,alt:v(s).name,class:"w-5 h-5 object-cover flex-none"},null,8,oY)):(C(),R(u,{key:1,class:"w-4 h-4 flex-none transform rotate-90"})),L("span",aY,ue(v(s).name),1),L("button",{class:"flex-none rounded-lg hover:bg-neutral-200 p-1",onClick:a[0]||(a[0]=zi(c=>n.value=null,["stop"]))},[O(o)])],64)):(C(),te("span",lY,ue(r.$t("Select category")),1))])]),_:1}),O(v(Mn).Positioner,{class:"w-[var(--reference-width)] !z-10"},{default:S(()=>[O(v(Mn).Content,{class:"border bg-white shadow rounded-lg outline-none max-h-80 flex flex-col"},{default:S(()=>[O(v(Mn).Arrow,{style:{"--arrow-size":"0.5rem"},class:"bg-white"},{default:S(()=>[O(v(Mn).ArrowTip,{class:"border-t border-l"})]),_:1}),O(l,{modelValue:v(s),"onUpdate:modelValue":[a[1]||(a[1]=c=>dt(s)?s.value=c:null),a[2]||(a[2]=c=>i.value=!1)]},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["open"])])}}}),uY={viewBox:"0 0 16 16",width:"1.2em",height:"1.2em"};function dY(e,t){return C(),te("svg",uY,t[0]||(t[0]=[L("g",{fill:"currentColor"},[L("path",{d:"M6 4.5a1.5 1.5 0 1 1-3 0a1.5 1.5 0 0 1 3 0m-1 0a.5.5 0 1 0-1 0a.5.5 0 0 0 1 0"}),L("path",{d:"M2 1h4.586a1 1 0 0 1 .707.293l7 7a1 1 0 0 1 0 1.414l-4.586 4.586a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 1 6.586V2a1 1 0 0 1 1-1m0 5.586l7 7L13.586 9l-7-7H2z"})],-1)]))}const Hw=bt({name:"bi-tag",render:dY}),hY={class:"flex flex-col overflow-y-hidden"},fY={class:"flex items-center mx-2 my-2 px-3 py-1 gap-3 border rounded-lg focus-within:ring focus-within:ring-gray-700"},pY=["placeholder"],gY={class:"flex-1 overflow-y-auto border-t"},mY={key:0,class:"h-20 flex items-center justify-center"},vY={key:1},yY=["onClick"],bY=["src","alt"],EY={class:"flex-1 w-0 truncate"},jw=$({__name:"ProductListbox",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=_i(),n=mn(e,"modelValue"),i=st(""),{isFetching:s,data:r,execute:a}=t.fetchProducts(),u=K(()=>r.value?r.value.data:[]);Ai(()=>a());const o=Xx(()=>{a({query:i.value})});return qt([()=>t.themeData.channel,()=>t.themeData.locale],()=>a()),(l,c)=>{const d=_f,h=Iy,f=Hw;return C(),te("div",hY,[L("div",fY,[O(d,{class:"w-4 h-4 flex-none"}),wa(L("input",{class:"flex-1 w-0 focus:outline-none text-gray-600 text-sm",placeholder:l.$t("Search product"),"onUpdate:modelValue":c[0]||(c[0]=p=>dt(i)?i.value=p:null),onInput:c[1]||(c[1]=(...p)=>v(o)&&v(o)(...p))},null,40,pY),[[mf,v(i)]])]),L("div",gY,[v(s)?(C(),te("div",mY,[O(h,{class:"h-6 w-6 text-gray-700"})])):(C(),te("div",vY,[(C(!0),te(Ye,null,Kt(v(u),p=>(C(),te("a",{key:p.id,class:sn(["cursor-pointer flex items-center gap-3 px-3 py-2 outline-none hover:bg-neutral-200 text-sm",{"bg-neutral-200":n.value&&n.value.id===p.id}]),onClick:zi(g=>n.value=p,["stop"])},[p.base_image?(C(),te("img",{key:0,src:p.base_image.small_image_url,alt:p.name,class:"w-5 h-5 object-cover flex-none"},null,8,bY)):(C(),R(f,{key:1,class:"w-4 h-4 flex-none mr-1 transform rotate-90"})),L("span",EY,ue(p.name),1)],10,yY))),128))]))])])}}}),_Y={key:0,class:"text-sm font-medium block mb-2"},CY={class:"flex items-center w-full gap-3 cursor-pointer border rounded px-3 h-10 text-sm",role:"button"},SY=["src","alt"],xY={class:"flex-1 w-0 truncate"},TY={key:1},wY=$({__name:"ProductPicker",props:Vn({label:null},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=_i(),n=mn(e,"modelValue"),i=st(!1),s=K({get:()=>n.value?t.getProduct(n.value):null,set:r=>{n.value=r?r.id:null}});return(r,a)=>{const u=Wf,o=jl;return C(),te("div",null,[O(v(Mn).Root,{open:v(i),"onUpdate:open":a[3]||(a[3]=l=>dt(i)?i.value=l:null)},{default:S(()=>[e.label?(C(),te("label",_Y,ue(e.label),1)):tt("",!0),O(v(Mn).Trigger,{"as-child":""},{default:S(()=>[L("div",CY,[v(s)?(C(),te(Ye,{key:0},[v(s).base_image?(C(),te("img",{key:0,src:v(s).base_image.small_image_url,alt:v(s).name,class:"w-5 h-5 object-cover flex-none"},null,8,SY)):(C(),R(u,{key:1,class:"w-4 h-4 flex-none transform rotate-90"})),L("span",xY,ue(v(s).name),1),L("button",{class:"flex-none rounded-lg hover:bg-neutral-200 p-1",onClick:a[0]||(a[0]=zi(l=>n.value=null,["stop"]))},[O(o)])],64)):(C(),te("span",TY,ue(r.$t("Select product")),1))])]),_:1}),O(v(Mn).Positioner,{class:"w-[var(--reference-width)] !z-10"},{default:S(()=>[O(v(Mn).Content,{class:"border bg-white shadow rounded-lg outline-none max-h-80 flex flex-col"},{default:S(()=>[O(v(Mn).Arrow,{style:{"--arrow-size":"0.5rem"},class:"bg-white"},{default:S(()=>[O(v(Mn).ArrowTip,{class:"border-t border-l"})]),_:1}),O(jw,{modelValue:v(s),"onUpdate:modelValue":[a[1]||(a[1]=l=>dt(s)?s.value=l:null),a[2]||(a[2]=l=>i.value=!1)]},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["open"])])}}}),IY={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function OY(e,t){return C(),te("svg",IY,t[0]||(t[0]=[L("path",{fill:"currentColor",d:"M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"},null,-1)]))}const Oy=bt({name:"mdi-file-document-outline",render:OY}),kY={class:"flex flex-col overflow-y-hidden"},AY={class:"flex items-center mx-2 my-2 px-3 py-1 gap-3 border rounded-lg focus-within:ring focus-within:ring-gray-700"},PY=["placeholder"],$Y={class:"flex-1 overflow-y-auto border-t"},MY={key:0,class:"h-20 flex items-center justify-center"},NY={key:1},RY=["onClick"],DY={class:"truncate flex-1 w-0"},Uw=$({__name:"CmsPageListbox",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=_i(),n=mn(e,"modelValue"),i=st(""),{isFetching:s,data:r,execute:a}=t.fetchCmsPages(),u=K(()=>r.value?r.value.map(l=>{const c=l.translations.find(d=>d.locale===t.themeData.locale);return c&&(l.url_key=c.url_key,l.page_title=c.page_title),l}):[]);Ai(()=>a());const o=Xx(()=>{a({query:i.value})});return qt([()=>t.themeData.channel,()=>t.themeData.locale],()=>a()),(l,c)=>{const d=_f,h=Iy,f=Oy;return C(),te("div",kY,[L("div",AY,[O(d,{class:"w-4 h-4"}),wa(L("input",{"onUpdate:modelValue":c[0]||(c[0]=p=>dt(i)?i.value=p:null),type:"text",class:"focus:outline-none text-gray-600",placeholder:l.$t("Search page"),onInput:c[1]||(c[1]=(...p)=>v(o)&&v(o)(...p))},null,40,PY),[[mf,v(i)]])]),L("div",$Y,[v(s)?(C(),te("div",MY,[O(h,{class:"h-6 w-6 text-gray-700"})])):(C(),te("div",NY,[(C(!0),te(Ye,null,Kt(v(u),p=>(C(),te("a",{key:p.url_key,href:"#",class:sn(["flex items-center gap-3 px-3 py-2 outline-none hover:bg-neutral-200 text-sm",{"bg-neutral-200":n.value&&n.value.url_key===p.url_key}]),onClick:zi(g=>n.value=p,["stop"])},[O(f,{class:"w-4 h-4 flex-none text-gray-700"}),L("span",DY,ue(p.page_title),1)],10,RY))),128))]))])])}}}),LY={key:0,class:"text-sm font-medium block mb-2"},FY={role:"button",class:"flex items-center w-full gap-3 cursor-pointer border rounded px-3 h-10 text-sm"},VY={class:"flex-1 w-0 truncate"},BY={key:1},HY=$({__name:"CmsPagePicker",props:Vn({label:null},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=_i(),n=mn(e,"modelValue"),i=st(!1),s=K({get:()=>n.value?t.getCmsPage(n.value):null,set:r=>{n.value=r?r.id:null}});return(r,a)=>{const u=Oy,o=jl,l=Uw;return C(),te("div",null,[O(v(Mn).Root,{open:v(i),"onUpdate:open":a[3]||(a[3]=c=>dt(i)?i.value=c:null)},{default:S(()=>[e.label?(C(),te("label",LY,ue(e.label),1)):tt("",!0),O(v(Mn).Trigger,{"as-child":""},{default:S(()=>[L("div",FY,[v(s)?(C(),te(Ye,{key:0},[O(u,{class:"w-4 h-4 flex-none"}),L("span",VY,ue(v(s).page_title),1),L("button",{class:"flex-none rounded-lg hover:bg-neutral-200 p-1",onClick:a[0]||(a[0]=zi(c=>s.value=null,["stop"]))},[O(o)])],64)):(C(),te("span",BY,ue(r.$t("Select page")),1))])]),_:1}),O(v(Mn).Positioner,{class:"w-[var(--reference-width)] !z-10"},{default:S(()=>[O(v(Mn).Content,{class:"border bg-white shadow rounded-lg outline-none max-h-80 flex flex-col"},{default:S(()=>[O(v(Mn).Arrow,{style:{"--arrow-size":"0.5rem"},class:"bg-white"},{default:S(()=>[O(v(Mn).ArrowTip,{class:"border-t border-l"})]),_:1}),O(l,{modelValue:v(s),"onUpdate:modelValue":[a[1]||(a[1]=c=>dt(s)?s.value=c:null),a[2]||(a[2]=c=>i.value=!1)]},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["open"])])}}}),jY={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function UY(e,t){return C(),te("svg",jY,t[0]||(t[0]=[L("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"},null,-1)]))}const zf=bt({name:"heroicons-arrow-left",render:UY}),GY={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function WY(e,t){return C(),te("svg",GY,t[0]||(t[0]=[L("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"},null,-1)]))}const zY=bt({name:"heroicons-link",render:WY}),KY={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function qY(e,t){return C(),te("svg",KY,t[0]||(t[0]=[L("path",{fill:"currentColor","fill-rule":"evenodd",d:"M15.75 2.25H21a.75.75 0 0 1 .75.75v5.25a.75.75 0 0 1-1.5 0V4.81L8.03 17.03a.75.75 0 0 1-1.06-1.06L19.19 3.75h-3.44a.75.75 0 0 1 0-1.5m-10.5 4.5a1.5 1.5 0 0 0-1.5 1.5v10.5a1.5 1.5 0 0 0 1.5 1.5h10.5a1.5 1.5 0 0 0 1.5-1.5V10.5a.75.75 0 0 1 1.5 0v8.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V8.25a3 3 0 0 1 3-3h8.25a.75.75 0 0 1 0 1.5z","clip-rule":"evenodd"},null,-1)]))}const YY=bt({name:"heroicons-arrow-top-right-on-square-solid",render:qY});var JY=Object.defineProperty,XY=(e,t,n)=>t in e?JY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,De=(e,t,n)=>XY(e,typeof t!="symbol"?t+"":t,n);function Gw(e,...t){for(const n of t){const i=Te(n);for(const s in i)bi(n[s])?(e[s]||(e[s]={}),Gw(e[s],n[s])):e[s]=n[s]}return e}function b_(e){return bn(e)}function Os(e){return q(e)?{type:e}:e}function eo(e){return e?Qe(e)?e.slice():[e]:[]}function Ww(e){return Ce(e)&&e.predicate!=null}var ZY=()=>!0;function ky(e,t,n,i){return s=>{var r;return q(s)?!!((r=e[s])!=null&&r.call(e,t,n,i)):We(s)?s(t,n,i):s.predicate(e)(t,n,i)}}function QY(...e){return{predicate:t=>(n,i,s)=>e.map(ky(t,n,i,s)).some(Boolean)}}function eJ(...e){return{predicate:t=>(n,i,s)=>e.map(ky(t,n,i,s)).every(Boolean)}}function tJ(e){return{predicate:t=>(n,i,s)=>!ky(t,n,i,s)(e)}}function nJ(...e){return(t,n,i)=>i.state.matches(...e)}var iJ={or:QY,and:eJ,not:tJ,stateIn:nJ};function zw(e,t){return e=e??ZY,(n,i,s)=>{if(q(e)){const r=t[e];return We(r)?r(n,i,s):r}return Ww(e)?e.predicate(t)(n,i,s):e==null?void 0:e(n,i,s)}}function dg(e,t){return(n,i,s)=>Ww(e)?e.predicate(t)(n,i,s):e}function sJ(e){var r,a;const t=e.computed??Q({}),n=e.context??Q({}),i=e.initial?(a=(r=e.states)==null?void 0:r[e.initial])==null?void 0:a.tags:[],s=qn({value:e.initial??"",previousValue:"",event:Q({}),previousEvent:Q({}),context:mi(n,t),done:!1,tags:i??[],hasTag(u){return this.tags.includes(u)},matches(...u){return u.includes(this.value)},can(u){return Q(this).nextEvents.includes(u)},get nextEvents(){var l,c;const u=((c=(l=e.states)==null?void 0:l[this.value])==null?void 0:c.on)??{},o=(e==null?void 0:e.on)??{};return Object.keys({...u,...o})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return Q(s)}function Cc(e,t){return(n,i)=>{if(yi(e))return e;if(We(e))return e(n,i);if(q(e)){const s=Number.parseFloat(e);if(!Number.isNaN(s))return s;if(t){const r=t==null?void 0:t[e];return He(r==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${e}\`. It doesn't exist in \`options.delays\``),We(r)?r(n,i):r}}}}function rJ(e){return q(e)?{target:e}:e}function oJ(e,t){return(n,i,s)=>eo(e).map(rJ).find(r=>zw(r.guard,t)(n,i,s)??r.target??r.actions)}var aJ=class{constructor(t,n){var i,s,r,a,u;De(this,"status","Not Started"),De(this,"state"),De(this,"initialState"),De(this,"initialContext"),De(this,"id"),De(this,"type","machine"),De(this,"activityEvents",new Map),De(this,"delayedEvents",new Map),De(this,"stateListeners",new Set),De(this,"doneListeners",new Set),De(this,"contextWatchers",new Set),De(this,"removeStateListener",ni),De(this,"parent"),De(this,"children",new Map),De(this,"guardMap"),De(this,"actionMap"),De(this,"delayMap"),De(this,"activityMap"),De(this,"sync"),De(this,"options"),De(this,"config"),De(this,"_created",()=>{var l;const o=Os("machine.created");this.executeActions((l=this.config)==null?void 0:l.created,o)}),De(this,"start",o=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=Pt(this.state,()=>{this.stateListeners.forEach(p=>{p(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(Os("machine.start"),eo(this.config.activities),"machine.start"),this.executeActions(this.config.entry,Os("machine.start"));const l=Os("machine.init"),c=Ce(o)?o.value:o,d=Ce(o)?o.context:void 0;d&&this.setContext(d);const h={target:c??this.config.initial},f=this.getNextStateInfo(h,l);return this.initialState=f,this.performStateChangeEffects(this.state.value,f,l),this}),De(this,"setupContextWatchers",()=>{const{watch:o}=this.config;if(!o)return;let l=_e(this.state.context);const c=Pt(this.state.context,()=>{var h;const d=_e(this.state.context);for(const[f,p]of Object.entries(o))(((h=this.options.compareFns)==null?void 0:h[f])??Object.is)(l[f],d[f])||this.executeActions(p,this.state.event);l=d});this.contextWatchers.add(c)}),De(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,Os("machine.stop")),this.executeActions(this.config.exit,Os("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),De(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),De(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(o=>o()),this.contextWatchers.clear()}),De(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(o=>{o.forEach(l=>l())}),this.delayedEvents.clear()}),De(this,"stopActivities",o=>{var l,c;o?((l=this.activityEvents.get(o))==null||l.forEach(d=>d()),(c=this.activityEvents.get(o))==null||c.clear(),this.activityEvents.delete(o)):(this.activityEvents.forEach(d=>{d.forEach(h=>h()),d.clear()}),this.activityEvents.clear())}),De(this,"sendChild",(o,l)=>{const c=Os(o),d=$t(l,this.contextSnapshot),h=this.children.get(d);h||He(`[@zag-js/core] Cannot send '${c.type}' event to unknown child`),h.send(c)}),De(this,"stopChild",o=>{this.children.has(o)||He(`[@zag-js/core > stop-child] Cannot stop unknown child ${o}`),this.children.get(o).stop(),this.children.delete(o)}),De(this,"removeChild",o=>{this.children.delete(o)}),De(this,"stopChildren",()=>{this.children.forEach(o=>o.stop()),this.children.clear()}),De(this,"setParent",o=>{this.parent=o}),De(this,"spawn",(o,l)=>{const c=$t(o);return l&&(c.id=l),c.type="machine.actor",c.setParent(this),this.children.set(c.id,Q(c)),c.onDone(()=>{this.removeChild(c.id)}).start(),Q(Ke(c))}),De(this,"stopActivity",o=>{var c;if(!this.state.value)return;const l=this.activityEvents.get(this.state.value);(c=l==null?void 0:l.get(o))==null||c(),l==null||l.delete(o)}),De(this,"addActivityCleanup",(o,l,c)=>{var d;o&&(this.activityEvents.has(o)?(d=this.activityEvents.get(o))==null||d.set(l,c):this.activityEvents.set(o,new Map([[l,c]])))}),De(this,"setState",o=>{this.state.previousValue=this.state.value,this.state.value=o;const l=this.getStateNode(o);o==null?vi(this.state.tags):this.state.tags=eo(l==null?void 0:l.tags)}),De(this,"setContext",o=>{o&&Gw(this.state.context,Te(o))}),De(this,"setOptions",o=>{const l=Te(o);this.actionMap={...this.actionMap,...l.actions},this.delayMap={...this.delayMap,...l.delays},this.activityMap={...this.activityMap,...l.activities},this.guardMap={...this.guardMap,...l.guards}}),De(this,"getStateNode",o=>{var l;if(o)return(l=this.config.states)==null?void 0:l[o]}),De(this,"getNextStateInfo",(o,l)=>{const c=this.determineTransition(o,l),d=!(c!=null&&c.target),h=(c==null?void 0:c.target)??this.state.value,f=this.state.value!==h,p=this.getStateNode(h),m={reenter:!d&&!f&&!(c!=null&&c.internal),transition:c,stateNode:p,target:h,changed:f};return this.log("NextState:",`[${l.type}]`,this.state.value,"---->",m.target),m}),De(this,"getAfterActions",(o,l)=>{let c;const d=this.state.value;return{entry:()=>{c=globalThis.setTimeout(()=>{const h=this.getNextStateInfo(o,this.state.event);this.performStateChangeEffects(d,h,this.state.event)},l)},exit:()=>{globalThis.clearTimeout(c)}}}),De(this,"getDelayedEventActions",o=>{const l=this.getStateNode(o),c=this.state.event;if(!l||!l.after)return;const d=[],h=[];if(Qe(l.after)){const f=this.determineTransition(l.after,c);if(!f)return;if(!wn(f,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(f)}`);const g=Cc(f.delay,this.delayMap)(this.contextSnapshot,c),m=this.getAfterActions(f,g);return d.push(m.entry),h.push(m.exit),{entries:d,exits:h}}if(Ce(l.after))for(const f in l.after){const p=l.after[f],m=Cc(f,this.delayMap)(this.contextSnapshot,c),y=this.getAfterActions(p,m);d.push(y.entry),h.push(y.exit)}return{entries:d,exits:h}}),De(this,"executeActions",(o,l)=>{var d;const c=dg(o,this.guardMap)(this.contextSnapshot,l,this.guardMeta);for(const h of eo(c)){const f=q(h)?(d=this.actionMap)==null?void 0:d[h]:h;nt(q(h)&&!f,`[@zag-js/core > execute-actions] No implementation found for action: \`${h}\``),f==null||f(this.state.context,l,this.meta)}}),De(this,"executeActivities",(o,l,c)=>{var d;for(const h of l){const f=q(h)?(d=this.activityMap)==null?void 0:d[h]:h;if(!f){nt(`[@zag-js/core > execute-activity] No implementation found for activity: \`${h}\``);continue}const p=f(this.state.context,o,this.meta);if(p){const g=q(h)?h:h.name||Rt();this.addActivityCleanup(c??this.state.value,g,p)}}}),De(this,"createEveryActivities",(o,l)=>{if(o)if(Qe(o)){const c=eo(o).find(p=>{const g=p.delay,y=Cc(g,this.delayMap)(this.contextSnapshot,this.state.event);return zw(p.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??y!=null});if(!c)return;const h=Cc(c.delay,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const p=globalThis.setInterval(()=>{this.executeActions(c.actions,this.state.event)},h);return()=>{globalThis.clearInterval(p)}})}else for(const c in o){const d=o==null?void 0:o[c],f=Cc(c,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const g=globalThis.setInterval(()=>{this.executeActions(d,this.state.event)},f);return()=>{globalThis.clearInterval(g)}})}}),De(this,"setEvent",o=>{this.state.previousEvent=this.state.event,this.state.event=Ke(Os(o))}),De(this,"performExitEffects",(o,l)=>{const c=this.state.value;if(c==="")return;const d=o?this.getStateNode(o):void 0;this.stopActivities(c);const h=dg(d==null?void 0:d.exit,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=eo(h),p=this.delayedEvents.get(c);p&&f.push(...p),this.executeActions(f,l),this.delayedEvents.delete(c)}),De(this,"performEntryEffects",(o,l)=>{const c=this.getStateNode(o),d=eo(c==null?void 0:c.activities);this.createEveryActivities(c==null?void 0:c.every,g=>{d.unshift(g)}),d.length>0&&this.executeActivities(l,d);const h=dg(c==null?void 0:c.entry,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=eo(h),p=this.getDelayedEventActions(o);c!=null&&c.after&&p&&(this.delayedEvents.set(o,p==null?void 0:p.exits),f.push(...p.entries)),this.executeActions(f,l),(c==null?void 0:c.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(g=>{g(this.stateSnapshot)}),this.stop())}),De(this,"performTransitionEffects",(o,l)=>{const c=this.determineTransition(o,l);this.executeActions(c==null?void 0:c.actions,l)}),De(this,"performStateChangeEffects",(o,l,c)=>{this.setEvent(c);const d=l.changed||l.reenter;d&&this.performExitEffects(o,c),this.performTransitionEffects(l.transition,c),this.setState(l.target),d&&this.performEntryEffects(l.target,c)}),De(this,"determineTransition",(o,l)=>{const c=oJ(o,this.guardMap);return c==null?void 0:c(this.contextSnapshot,l,this.guardMeta)}),De(this,"sendParent",o=>{var c;this.parent||He("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const l=Os(o);(c=this.parent)==null||c.send(l)}),De(this,"log",(...o)=>{}),De(this,"send",o=>{const l=Os(o);this.transition(this.state.value,l)}),De(this,"transition",(o,l)=>{var p,g;const c=q(o)?this.getStateNode(o):o==null?void 0:o.stateNode,d=Os(l);if(!c&&!this.config.on){const m=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${o}, \`event\`: ${d.type}`;nt(m);return}const h=((p=c==null?void 0:c.on)==null?void 0:p[d.type])??((g=this.config.on)==null?void 0:g[d.type]),f=this.getNextStateInfo(h,d);return this.performStateChangeEffects(this.state.value,f,d),f.stateNode}),De(this,"subscribe",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),()=>{this.stateListeners.delete(o)})),De(this,"onDone",o=>(this.doneListeners.add(o),this)),De(this,"onTransition",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),this)),this.config=b_(t),this.options=b_(n??{}),this.id=this.config.id??`machine-${Rt()}`,this.guardMap=((i=this.options)==null?void 0:i.guards)??{},this.actionMap=((s=this.options)==null?void 0:s.actions)??{},this.delayMap=((r=this.options)==null?void 0:r.delays)??{},this.activityMap=((a=this.options)==null?void 0:a.activities)??{},this.sync=((u=this.options)==null?void 0:u.sync)??!1,this.state=sJ(this.config),this.initialContext=_e(this.state.context)}get stateSnapshot(){return Q(_e(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const t=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return t.stateSnapshot},get initialContext(){return t.initialContext},get initialState(){var n;return((n=t.initialState)==null?void 0:n.target)??""}}}get meta(){var t;return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:((t=this.initialState)==null?void 0:t.target)??"",getState:()=>this.stateSnapshot,getAction:n=>this.actionMap[n],getGuard:n=>this.guardMap[n]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){const t=this.getState();return{value:t.value,tags:t.tags}}},lJ=(e,t)=>new aJ(e,t),cJ=Dn("combobox").parts("root","clearTrigger","content","control","input","item","itemGroup","itemGroupLabel","itemIndicator","itemText","label","list","positioner","trigger"),xi=cJ.build(),Kw=e=>Ke(new qu(e));Kw.empty=()=>Ke(new qu({items:[]}));var Se=Pi({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`combobox:${e.id}`},getLabelId:e=>{var t;return((t=e.ids)==null?void 0:t.label)??`combobox:${e.id}:label`},getControlId:e=>{var t;return((t=e.ids)==null?void 0:t.control)??`combobox:${e.id}:control`},getInputId:e=>{var t;return((t=e.ids)==null?void 0:t.input)??`combobox:${e.id}:input`},getContentId:e=>{var t;return((t=e.ids)==null?void 0:t.content)??`combobox:${e.id}:content`},getPositionerId:e=>{var t;return((t=e.ids)==null?void 0:t.positioner)??`combobox:${e.id}:popper`},getTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.trigger)??`combobox:${e.id}:toggle-btn`},getClearTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.clearTrigger)??`combobox:${e.id}:clear-btn`},getItemGroupId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.itemGroup)==null?void 0:i.call(n,t))??`combobox:${e.id}:optgroup:${t}`},getItemGroupLabelId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.itemGroupLabel)==null?void 0:i.call(n,t))??`combobox:${e.id}:optgroup-label:${t}`},getItemId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.item)==null?void 0:i.call(n,t))??`combobox:${e.id}:option:${t}`},getContentEl:e=>Se.getById(e,Se.getContentId(e)),getInputEl:e=>Se.getById(e,Se.getInputId(e)),getPositionerEl:e=>Se.getById(e,Se.getPositionerId(e)),getControlEl:e=>Se.getById(e,Se.getControlId(e)),getTriggerEl:e=>Se.getById(e,Se.getTriggerId(e)),getClearTriggerEl:e=>Se.getById(e,Se.getClearTriggerId(e)),getHighlightedItemEl:e=>{const t=e.highlightedValue;if(t==null)return;const n=`[role=option][data-value="${CSS.escape(t)}"`;return Sx(Se.getContentEl(e),n)},focusInputEl:e=>{const t=Se.getInputEl(e);Se.isActiveElement(e,t)||t==null||t.focus({preventScroll:!0})},focusTriggerEl:e=>{const t=Se.getTriggerEl(e);Se.isActiveElement(e,t)||t==null||t.focus({preventScroll:!0})}});function uJ(e,t,n){const i=e.context.translations,s=e.context.collection,r=e.context.disabled,a=e.context.isInteractive,u=e.context.invalid,o=e.context.readOnly,l=e.hasTag("open"),c=e.hasTag("focused"),d=e.context.composite,h=e.context.highlightedValue,f=Ju({...e.context.positioning,placement:e.context.currentPlacement});function p(g){const{item:m}=g,y=s.getItemDisabled(m),b=s.getItemValue(m);return{value:b,disabled:!!(y||y),highlighted:h===b,selected:e.context.value.includes(b)}}return{focused:c,open:l,inputValue:e.context.inputValue,highlightedValue:h,highlightedItem:e.context.highlightedItem,value:e.context.value,valueAsString:e.context.valueAsString,hasSelectedItems:e.context.hasSelectedItems,selectedItems:e.context.selectedItems,collection:e.context.collection,multiple:!!e.context.multiple,disabled:!!r,reposition(g={}){t({type:"POSITIONING.SET",options:g})},setCollection(g){t({type:"COLLECTION.SET",value:g})},setHighlightValue(g){t({type:"HIGHLIGHTED_VALUE.SET",value:g})},selectValue(g){t({type:"ITEM.SELECT",value:g})},setValue(g){t({type:"VALUE.SET",value:g})},setInputValue(g){t({type:"INPUT_VALUE.SET",value:g})},clearValue(g){g!=null?t({type:"ITEM.CLEAR",value:g}):t("VALUE.CLEAR")},focus(){var g;(g=Se.getInputEl(e.context))==null||g.focus()},setOpen(g){g!==l&&t(g?"OPEN":"CLOSE")},getRootProps(){return n.element({...xi.root.attrs,dir:e.context.dir,id:Se.getRootId(e.context),"data-invalid":H(u),"data-readonly":H(o)})},getLabelProps(){return n.label({...xi.label.attrs,dir:e.context.dir,htmlFor:Se.getInputId(e.context),id:Se.getLabelId(e.context),"data-readonly":H(o),"data-disabled":H(r),"data-invalid":H(u),"data-focus":H(c),onClick(g){var m;d||(g.preventDefault(),(m=Se.getTriggerEl(e.context))==null||m.focus({preventScroll:!0}))}})},getControlProps(){return n.element({...xi.control.attrs,dir:e.context.dir,id:Se.getControlId(e.context),"data-state":l?"open":"closed","data-focus":H(c),"data-disabled":H(r),"data-invalid":H(u)})},getPositionerProps(){return n.element({...xi.positioner.attrs,dir:e.context.dir,id:Se.getPositionerId(e.context),style:f.floating})},getInputProps(){return n.input({...xi.input.attrs,dir:e.context.dir,"aria-invalid":Eo(u),"data-invalid":H(u),name:e.context.name,form:e.context.form,disabled:r,autoFocus:e.context.autoFocus,required:e.context.required,autoComplete:"off",autoCorrect:"off",autoCapitalize:"none",spellCheck:"false",readOnly:o,placeholder:e.context.placeholder,id:Se.getInputId(e.context),type:"text",role:"combobox",defaultValue:e.context.inputValue,"aria-autocomplete":e.context.autoComplete?"both":"list","aria-controls":Se.getContentId(e.context),"aria-expanded":l,"data-state":l?"open":"closed","aria-activedescendant":h?Se.getItemId(e.context,h):void 0,onClick(g){g.defaultPrevented||e.context.openOnClick&&a&&t("INPUT.CLICK")},onFocus(){r||t("INPUT.FOCUS")},onBlur(){r||t("INPUT.BLUR")},onChange(g){t({type:"INPUT.CHANGE",value:g.currentTarget.value})},onKeyDown(g){if(g.defaultPrevented||!a||g.ctrlKey||g.shiftKey||mx(g))return;const m=e.context.openOnKeyPress,y=g.ctrlKey||g.metaKey||g.shiftKey,b=!0,E={ArrowDown(P){!m&&!l||(t({type:P.altKey?"OPEN":"INPUT.ARROW_DOWN",keypress:b}),P.preventDefault())},ArrowUp(){!m&&!l||(t({type:g.altKey?"CLOSE":"INPUT.ARROW_UP",keypress:b}),g.preventDefault())},Home(P){y||(t({type:"INPUT.HOME",keypress:b}),l&&P.preventDefault())},End(P){y||(t({type:"INPUT.END",keypress:b}),l&&P.preventDefault())},Enter(P){t({type:"INPUT.ENTER",keypress:b}),l&&P.preventDefault();const M=Se.getHighlightedItemEl(e.context);Rx(M)},Escape(){t({type:"INPUT.ESCAPE",keypress:b}),g.preventDefault()}},_=Hs(g,e.context),I=E[_];I==null||I(g)}})},getTriggerProps(g={}){return n.button({...xi.trigger.attrs,dir:e.context.dir,id:Se.getTriggerId(e.context),"aria-haspopup":d?"listbox":"dialog",type:"button",tabIndex:g.focusable?void 0:-1,"aria-label":i.triggerLabel,"aria-expanded":l,"data-state":l?"open":"closed","aria-controls":l?Se.getContentId(e.context):void 0,disabled:r,"data-invalid":H(u),"data-focusable":H(g.focusable),"data-readonly":H(o),"data-disabled":H(r),onFocus(){g.focusable&&t({type:"INPUT.FOCUS",src:"trigger"})},onClick(m){m.defaultPrevented||a&&Pl(m)&&t("TRIGGER.CLICK")},onPointerDown(m){a&&m.pointerType!=="touch"&&(m.preventDefault(),queueMicrotask(()=>{var y;(y=Se.getInputEl(e.context))==null||y.focus({preventScroll:!0})}))},onKeyDown(m){if(m.defaultPrevented||d)return;const y={ArrowDown(){t({type:"INPUT.ARROW_DOWN",src:"trigger"})},ArrowUp(){t({type:"INPUT.ARROW_UP",src:"trigger"})}},b=Hs(m,e.context),E=y[b];E&&(E(m),m.preventDefault())}})},getContentProps(){return n.element({...xi.content.attrs,dir:e.context.dir,id:Se.getContentId(e.context),role:d?"listbox":"dialog",tabIndex:-1,hidden:!l,"data-state":l?"open":"closed","data-placement":e.context.currentPlacement,"aria-labelledby":Se.getLabelId(e.context),"aria-multiselectable":e.context.multiple&&d?!0:void 0,onPointerDown(g){g.preventDefault()}})},getListProps(){return n.element({...xi.list.attrs,role:d?void 0:"listbox","aria-labelledby":Se.getLabelId(e.context),"aria-multiselectable":e.context.multiple&&!d?!0:void 0})},getClearTriggerProps(){return n.button({...xi.clearTrigger.attrs,dir:e.context.dir,id:Se.getClearTriggerId(e.context),type:"button",tabIndex:-1,disabled:r,"data-invalid":H(u),"aria-label":i.clearTriggerLabel,"aria-controls":Se.getInputId(e.context),hidden:!e.context.value.length,onPointerDown(g){g.preventDefault()},onClick(g){g.defaultPrevented||a&&t({type:"VALUE.CLEAR",src:"clear-trigger"})}})},getItemState:p,getItemProps(g){const m=p(g),y=m.value;return n.element({...xi.item.attrs,dir:e.context.dir,id:Se.getItemId(e.context,y),role:"option",tabIndex:-1,"data-highlighted":H(m.highlighted),"data-state":m.selected?"checked":"unchecked","aria-selected":Eo(m.highlighted),"aria-disabled":Eo(m.disabled),"data-disabled":H(m.disabled),"data-value":m.value,onPointerMove(){m.disabled||m.highlighted||t({type:"ITEM.POINTER_MOVE",value:y})},onPointerLeave(){g.persistFocus||m.disabled||!e.previousEvent.type.includes("POINTER")||t({type:"ITEM.POINTER_LEAVE",value:y})},onClick(b){sm(b)||im(b)||Yv(b)||m.disabled||t({type:"ITEM.CLICK",src:"click",value:y})}})},getItemTextProps(g){const m=p(g);return n.element({...xi.itemText.attrs,dir:e.context.dir,"data-state":m.selected?"checked":"unchecked","data-disabled":H(m.disabled),"data-highlighted":H(m.highlighted)})},getItemIndicatorProps(g){const m=p(g);return n.element({"aria-hidden":!0,...xi.itemIndicator.attrs,dir:e.context.dir,"data-state":m.selected?"checked":"unchecked",hidden:!m.selected})},getItemGroupProps(g){const{id:m}=g;return n.element({...xi.itemGroup.attrs,dir:e.context.dir,id:Se.getItemGroupId(e.context,m),"aria-labelledby":Se.getItemGroupLabelId(e.context,m)})},getItemGroupLabelProps(g){const{htmlFor:m}=g;return n.element({...xi.itemGroupLabel.attrs,dir:e.context.dir,id:Se.getItemGroupLabelId(e.context,m),role:"group"})}}}var{and:Pn,not:Vi}=iJ;function dJ(e){const t=Te(e);return lJ({id:"combobox",initial:t.open?"suggesting":"idle",context:{loopFocus:!0,openOnClick:!1,value:[],highlightedValue:null,inputValue:"",allowCustomValue:!1,closeOnSelect:!t.multiple,inputBehavior:"none",selectionBehavior:"replace",openOnKeyPress:!0,openOnChange:!0,composite:!0,readOnly:!1,disabled:!1,...t,highlightedItem:null,selectedItems:[],valueAsString:"",collection:t.collection??Kw.empty(),positioning:{placement:"bottom",sameWidth:!0,...t.positioning},translations:{triggerLabel:"Toggle suggestions",clearTriggerLabel:"Clear value",...t.translations}},created:["syncInitialValues","syncSelectionBehavior"],computed:{isInputValueEmpty:n=>n.inputValue.length===0,isInteractive:n=>!(n.readOnly||n.disabled),autoComplete:n=>n.inputBehavior==="autocomplete",autoHighlight:n=>n.inputBehavior==="autohighlight",hasSelectedItems:n=>n.value.length>0},watch:{value:["syncSelectedItems"],inputValue:["syncInputValue"],highlightedValue:["syncHighlightedItem","autofillInputValue"],multiple:["syncSelectionBehavior"],open:["toggleVisibility"]},on:{"HIGHLIGHTED_VALUE.SET":{actions:["setHighlightedItem"]},"ITEM.SELECT":{actions:["selectItem"]},"ITEM.CLEAR":{actions:["clearItem"]},"VALUE.SET":{actions:["setSelectedItems"]},"INPUT_VALUE.SET":{actions:"setInputValue"},"COLLECTION.SET":{actions:["setCollection"]},"POSITIONING.SET":{actions:["reposition"]}},states:{idle:{tags:["idle","closed"],entry:["scrollContentToTop","clearHighlightedItem"],on:{"CONTROLLED.OPEN":{target:"interacting"},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]}],"INPUT.CLICK":[{guard:"isOpenControlled",actions:["highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightFirstSelectedItem","invokeOnOpen"]}],"INPUT.FOCUS":{target:"focused"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"interacting",actions:["invokeOnOpen"]}],"VALUE.CLEAR":{target:"focused",actions:["clearInputValue","clearSelectedItems","setInitialFocus"]}}},focused:{tags:["focused","closed"],entry:["scrollContentToTop","clearHighlightedItem"],on:{"CONTROLLED.OPEN":[{guard:"isChangeEvent",target:"suggesting"},{target:"interacting"}],"INPUT.CHANGE":[{guard:Pn("isOpenControlled","openOnChange"),actions:["setInputValue","invokeOnOpen","highlightFirstItemIfNeeded"]},{guard:"openOnChange",target:"suggesting",actions:["setInputValue","invokeOnOpen","highlightFirstItemIfNeeded"]},{actions:"setInputValue"}],"LAYER.INTERACT_OUTSIDE":{target:"idle"},"INPUT.ESCAPE":{guard:Pn("isCustomValue",Vi("allowCustomValue")),actions:"revertInputValue"},"INPUT.BLUR":{target:"idle"},"INPUT.CLICK":[{guard:"isOpenControlled",actions:["highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightFirstSelectedItem","invokeOnOpen"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]}],"INPUT.ARROW_DOWN":[{guard:Pn("isOpenControlled","autoComplete"),actions:["invokeOnOpen"]},{guard:"autoComplete",target:"interacting",actions:["invokeOnOpen"]},{guard:"isOpenControlled",actions:["highlightFirstOrSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightFirstOrSelectedItem","invokeOnOpen"]}],"INPUT.ARROW_UP":[{guard:"autoComplete",target:"interacting",actions:"invokeOnOpen"},{guard:"autoComplete",target:"interacting",actions:"invokeOnOpen"},{target:"interacting",actions:["highlightLastOrSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightLastOrSelectedItem","invokeOnOpen"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"interacting",actions:["invokeOnOpen"]}],"VALUE.CLEAR":{actions:["clearInputValue","clearSelectedItems"]}}},interacting:{tags:["open","focused"],entry:["setInitialFocus"],activities:["scrollToHighlightedItem","trackDismissableLayer","computePlacement","hideOtherElements"],on:{"CONTROLLED.CLOSE":[{guard:"restoreFocus",target:"focused",actions:["setFinalFocus"]},{target:"idle"}],"INPUT.HOME":{actions:["highlightFirstItem"]},"INPUT.END":{actions:["highlightLastItem"]},"INPUT.ARROW_DOWN":[{guard:Pn("autoComplete","isLastItemHighlighted"),actions:["clearHighlightedItem","scrollContentToTop"]},{actions:["highlightNextItem"]}],"INPUT.ARROW_UP":[{guard:Pn("autoComplete","isFirstItemHighlighted"),actions:"clearHighlightedItem"},{actions:"highlightPrevItem"}],"INPUT.ENTER":[{guard:Pn("isOpenControlled","isCustomValue",Vi("hasHighlightedItem"),Vi("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:Pn("isCustomValue",Vi("hasHighlightedItem"),Vi("allowCustomValue")),target:"focused",actions:["revertInputValue","invokeOnClose"]},{guard:Pn("isOpenControlled","closeOnSelect"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","setFinalFocus"]},{actions:["selectHighlightedItem"]}],"INPUT.CHANGE":[{guard:"autoComplete",target:"suggesting",actions:["setInputValue","invokeOnOpen"]},{target:"suggesting",actions:["clearHighlightedItem","setInputValue","invokeOnOpen"]}],"ITEM.POINTER_MOVE":{actions:["setHighlightedItem"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedItem"]},"ITEM.CLICK":[{guard:Pn("isOpenControlled","closeOnSelect"),actions:["selectItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectItem","invokeOnClose","setFinalFocus"]},{actions:["selectItem"]}],"LAYER.ESCAPE":[{guard:Pn("isOpenControlled","autoComplete"),actions:["syncInputValue","invokeOnClose"]},{guard:"autoComplete",target:"focused",actions:["syncInputValue","invokeOnClose"]},{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"focused",actions:["invokeOnClose","setFinalFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"focused",actions:"invokeOnClose"}],"LAYER.INTERACT_OUTSIDE":[{guard:Pn("isOpenControlled","isCustomValue",Vi("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:Pn("isCustomValue",Vi("allowCustomValue")),target:"idle",actions:["revertInputValue","invokeOnClose"]},{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"idle",actions:"invokeOnClose"}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","setFinalFocus"]}],"VALUE.CLEAR":[{guard:"isOpenControlled",actions:["clearInputValue","clearSelectedItems","invokeOnClose"]},{target:"focused",actions:["clearInputValue","clearSelectedItems","invokeOnClose","setFinalFocus"]}]}},suggesting:{tags:["open","focused"],activities:["trackDismissableLayer","scrollToHighlightedItem","computePlacement","trackChildNodes","hideOtherElements"],entry:["setInitialFocus"],on:{"CONTROLLED.CLOSE":[{guard:"restoreFocus",target:"focused",actions:["setFinalFocus"]},{target:"idle"}],CHILDREN_CHANGE:{actions:["highlightFirstItem"]},"INPUT.ARROW_DOWN":{target:"interacting",actions:["highlightNextItem"]},"INPUT.ARROW_UP":{target:"interacting",actions:["highlightPrevItem"]},"INPUT.HOME":{target:"interacting",actions:["highlightFirstItem"]},"INPUT.END":{target:"interacting",actions:["highlightLastItem"]},"INPUT.ENTER":[{guard:Pn("isOpenControlled","isCustomValue",Vi("hasHighlightedItem"),Vi("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:Pn("isCustomValue",Vi("hasHighlightedItem"),Vi("allowCustomValue")),target:"focused",actions:["revertInputValue","invokeOnClose"]},{guard:Pn("isOpenControlled","closeOnSelect"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","setFinalFocus"]},{actions:["selectHighlightedItem"]}],"INPUT.CHANGE":[{guard:"autoHighlight",actions:["setInputValue"]},{actions:["setInputValue"]}],"LAYER.ESCAPE":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose"]}],"ITEM.POINTER_MOVE":{target:"interacting",actions:["setHighlightedItem"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedItem"]},"LAYER.INTERACT_OUTSIDE":[{guard:Pn("isOpenControlled","isCustomValue",Vi("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:Pn("isCustomValue",Vi("allowCustomValue")),target:"idle",actions:["revertInputValue","invokeOnClose"]},{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose"]}],"ITEM.CLICK":[{guard:Pn("isOpenControlled","closeOnSelect"),actions:["selectItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectItem","invokeOnClose","setFinalFocus"]},{actions:["selectItem"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","setFinalFocus"]}],"VALUE.CLEAR":[{guard:"isOpenControlled",actions:["clearInputValue","clearSelectedItems","invokeOnClose"]},{target:"focused",actions:["clearInputValue","clearSelectedItems","invokeOnClose","setFinalFocus"]}]}}}},{guards:{isInputValueEmpty:n=>n.isInputValueEmpty,autoComplete:n=>n.autoComplete&&!n.multiple,autoHighlight:n=>n.autoHighlight,isFirstItemHighlighted:n=>n.collection.firstValue===n.highlightedValue,isLastItemHighlighted:n=>n.collection.lastValue===n.highlightedValue,isCustomValue:n=>n.inputValue!==n.valueAsString,allowCustomValue:n=>!!n.allowCustomValue,hasHighlightedItem:n=>n.highlightedValue!=null,closeOnSelect:n=>!!n.closeOnSelect,isOpenControlled:n=>!!n["open.controlled"],openOnChange:(n,i)=>{var s;return BN(n.openOnChange)?n.openOnChange:!!((s=n.openOnChange)!=null&&s.call(n,{inputValue:i.value}))},restoreFocus:(n,i)=>i.restoreFocus==null?!0:!!i.restoreFocus,isChangeEvent:(n,i)=>{var s;return((s=i.previousEvent)==null?void 0:s.type)==="INPUT.CHANGE"}},activities:{trackDismissableLayer(n,i,{send:s}){return n.disableLayer?void 0:Ul(()=>Se.getContentEl(n),{defer:!0,exclude:()=>[Se.getInputEl(n),Se.getTriggerEl(n),Se.getClearTriggerEl(n)],onFocusOutside:n.onFocusOutside,onPointerDownOutside:n.onPointerDownOutside,onInteractOutside:n.onInteractOutside,onEscapeKeyDown(a){a.preventDefault(),a.stopPropagation(),s("LAYER.ESCAPE")},onDismiss(){s({type:"LAYER.INTERACT_OUTSIDE",restoreFocus:!1})}})},hideOtherElements(n){return Gv([Se.getInputEl(n),Se.getContentEl(n),Se.getTriggerEl(n)])},computePlacement(n){const i=()=>Se.getControlEl(n),s=()=>Se.getPositionerEl(n);return n.currentPlacement=n.positioning.placement,Rr(i,s,{...n.positioning,defer:!0,onComplete(r){n.currentPlacement=r.placement}})},trackChildNodes(n,i,{send:s}){return n.autoHighlight?pN(()=>Se.getContentEl(n),{callback:()=>s("CHILDREN_CHANGE"),defer:!0}):void 0},scrollToHighlightedItem(n,i,{getState:s}){const r=Se.getInputEl(n);let a=[];const u=c=>{if(s().event.type.includes("POINTER")||!n.highlightedValue)return;const f=Se.getHighlightedItemEl(n),p=Se.getContentEl(n);if(n.scrollToIndexFn){const m=n.collection.indexOf(n.highlightedValue);n.scrollToIndexFn({index:m,immediate:c});return}const g=Je(()=>{Uv(f,{rootEl:p,block:"nearest"})});a.push(g)},o=Je(()=>u(!0));a.push(o);const l=kf(r,{attributes:["aria-activedescendant"],callback:()=>u(!1)});return a.push(l),()=>{a.forEach(c=>c())}}},actions:{reposition(n,i){Rr(()=>Se.getControlEl(n),()=>Se.getPositionerEl(n),{...n.positioning,...i.options,defer:!0,listeners:!1,onComplete(a){n.currentPlacement=a.placement}})},setHighlightedItem(n,i){i.value!=null&&_n.highlightedValue(n,i.value)},clearHighlightedItem(n){_n.highlightedValue(n,null,!0)},selectHighlightedItem(n){_n.value(n,n.highlightedValue)},selectItem(n,i){i.value!=null&&_n.value(n,i.value)},clearItem(n,i){if(i.value==null)return;const s=n.value.filter(r=>r!==i.value);_n.value(n,s)},setInitialFocus(n){Je(()=>{Se.focusInputEl(n)})},setFinalFocus(n){Je(()=>{const i=Se.getTriggerEl(n);(i==null?void 0:i.dataset.focusable)==null?Se.focusInputEl(n):Se.focusTriggerEl(n)})},syncInputValue(n){const i=Se.getInputEl(n);i&&(i.value=n.inputValue,queueMicrotask(()=>{const{selectionStart:s,selectionEnd:r}=i;Math.abs((r??0)-(s??0))===0&&s===0&&i.setSelectionRange(i.value.length,i.value.length)}))},setInputValue(n,i){_n.inputValue(n,i.value)},clearInputValue(n){_n.inputValue(n,"")},revertInputValue(n){const i=fh(n.selectionBehavior,{replace:n.hasSelectedItems?n.valueAsString:"",preserve:n.inputValue,clear:""});_n.inputValue(n,i)},syncInitialValues(n){const i=n.collection.findMany(n.value),s=n.collection.stringifyMany(n.value);n.highlightedItem=n.collection.find(n.highlightedValue),n.selectedItems=i,n.valueAsString=s,!(n.inputValue.trim()||n.multiple)&&(n.inputValue=fh(n.selectionBehavior,{preserve:n.inputValue||s,replace:s,clear:""}))},syncSelectionBehavior(n){n.multiple&&(n.selectionBehavior="clear")},setSelectedItems(n,i){Qe(i.value)&&_n.value(n,i.value)},clearSelectedItems(n){_n.value(n,[])},scrollContentToTop(n){if(n.scrollToIndexFn)n.scrollToIndexFn({index:0,immediate:!0});else{const i=Se.getContentEl(n);if(!i)return;i.scrollTop=0}},invokeOnOpen(n){var i;(i=n.onOpenChange)==null||i.call(n,{open:!0})},invokeOnClose(n){var i;(i=n.onOpenChange)==null||i.call(n,{open:!1})},highlightFirstItem(n){Je(()=>{const i=n.collection.firstValue;_n.highlightedValue(n,i,!0)})},highlightFirstItemIfNeeded(n){n.autoHighlight&&Je(()=>{const i=n.collection.firstValue;_n.highlightedValue(n,i)})},highlightLastItem(n){Je(()=>{const i=n.collection.lastValue;_n.highlightedValue(n,i)})},highlightNextItem(n){let i=null;n.highlightedValue?(i=n.collection.getNextValue(n.highlightedValue),!i&&n.loopFocus&&(i=n.collection.firstValue)):i=n.collection.firstValue,_n.highlightedValue(n,i)},highlightPrevItem(n){let i=null;n.highlightedValue?(i=n.collection.getPreviousValue(n.highlightedValue),!i&&n.loopFocus&&(i=n.collection.lastValue)):i=n.collection.lastValue,_n.highlightedValue(n,i)},highlightFirstSelectedItem(n){Je(()=>{const[i]=n.collection.sort(n.value);_n.highlightedValue(n,i)})},highlightFirstOrSelectedItem(n){Je(()=>{let i=null;n.hasSelectedItems?i=n.collection.sort(n.value)[0]:i=n.collection.firstValue,_n.highlightedValue(n,i)})},highlightLastOrSelectedItem(n){Je(()=>{let i=null;n.hasSelectedItems?i=n.collection.sort(n.value)[0]:i=n.collection.lastValue,_n.highlightedValue(n,i)})},autofillInputValue(n,i){const s=Se.getInputEl(n);if(!n.autoComplete||!s||!i.keypress)return;const r=n.collection.stringify(n.highlightedValue);Je(()=>{s.value=r||n.inputValue})},setCollection(n,i){n.collection=i.value},syncSelectedItems(n){$h.valueChange(n)},syncHighlightedItem(n){$h.highlightChange(n)},toggleVisibility(n,i,{send:s}){s({type:n.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:i})}}})}var $h={valueChange:e=>{const t=e.selectedItems;e.selectedItems=e.value.map(s=>{const r=t.find(a=>e.collection.getItemValue(a)===s);return r||e.collection.find(s)});const n=e.collection.stringifyItems(e.selectedItems);e.valueAsString=n;let i;e.getSelectionValue?i=e.getSelectionValue({inputValue:e.inputValue,selectedItems:Array.from(e.selectedItems),valueAsString:n}):i=fh(e.selectionBehavior,{replace:e.valueAsString,preserve:e.inputValue,clear:""}),_n.inputValue(e,i)},highlightChange:e=>{e.highlightedItem=e.collection.find(e.highlightedValue)}},wd={valueChange:e=>{var t;$h.valueChange(e),(t=e.onValueChange)==null||t.call(e,{value:Array.from(e.value),items:Array.from(e.selectedItems)})},highlightChange:e=>{var t;$h.highlightChange(e),(t=e.onHighlightChange)==null||t.call(e,{highlightedValue:e.highlightedValue,highlightedItem:e.highlightedItem})},inputChange:e=>{var t;(t=e.onInputValueChange)==null||t.call(e,{inputValue:e.inputValue})}},_n={value:(e,t,n=!1)=>{if(!dn(e.value,t)&&!(t==null&&!n)){if(t==null&&n){e.value=[],wd.valueChange(e);return}Qe(t)?e.value=t:t!=null&&(e.value=e.multiple?wx(e.value,t):[t]),wd.valueChange(e)}},highlightedValue:(e,t,n=!1)=>{dn(e.highlightedValue,t)||!t&&!n||(e.highlightedValue=t||null,wd.highlightChange(e))},inputValue:(e,t)=>{dn(e.inputValue,t)||(e.inputValue=t,wd.inputChange(e))}};const qw=(e,t)=>{const n=Kn(),i=Qi(),s=Ni(Mi),r=Yn(),a=K(()=>({id:n,ids:{label:r==null?void 0:r.value.ids.label,input:r==null?void 0:r.value.ids.control},disabled:r==null?void 0:r.value.disabled,readOnly:r==null?void 0:r.value.readOnly,required:r==null?void 0:r.value.required,invalid:r==null?void 0:r.value.invalid,dir:s.value.dir,open:e.defaultOpen,"open.controlled":e.open!==void 0,value:e.modelValue??e.defaultValue,getRootNode:i==null?void 0:i.value.getRootNode,onFocusOutside:c=>t==null?void 0:t("focusOutside",c),onHighlightChange:c=>t==null?void 0:t("highlightChange",c),onInputValueChange:c=>t==null?void 0:t("inputValueChange",c),onInteractOutside:c=>t==null?void 0:t("interactOutside",c),onPointerDownOutside:c=>t==null?void 0:t("pointerDownOutside",c),onOpenChange:c=>{t==null||t("openChange",c),t==null||t("update:open",c.open)},onValueChange:c=>{t==null||t("valueChange",c),t==null||t("update:modelValue",c.value)},...es(e)})),[u,o,l]=Ei(dJ(a.value),{context:K(()=>Ax(a.value,["collection"]))});return qt(()=>e.collection,c=>{l.setContext({collection:c})}),K(()=>uJ(u.value,o,$i))},[Yw,Di]=gt("ComboboxContext"),[hJ,fJ]=gt("ComboboxItemContext"),pJ=$({__name:"combobox-clear-trigger",props:{asChild:{type:Boolean}},setup(e){const t=Di();return U(),(n,i)=>(C(),R(v(X).button,W(v(t).getClearTriggerProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),gJ=$({__name:"combobox-content",props:{asChild:{type:Boolean}},setup(e){const t=Di(),n=Gl(),i=K(()=>Bo(t.value.getContentProps(),n.value.presenceProps));return U(),(s,r)=>v(n).unmounted?tt("",!0):(C(),R(v(X).div,W({key:0},i.value,{"as-child":s.asChild}),{default:S(()=>[V(s.$slots,"default")]),_:3},16,["as-child"]))}}),mJ=$({__name:"combobox-context",setup(e){const t=Di();return(n,i)=>V(n.$slots,"default",hn(on(v(t))))}}),vJ=$({__name:"combobox-control",props:{asChild:{type:Boolean}},setup(e){const t=Di();return U(),(n,i)=>(C(),R(v(X).div,W(v(t).getControlProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),yJ=$({__name:"combobox-input",props:{asChild:{type:Boolean}},setup(e){const t=Di(),n=Yn();return U(),(i,s)=>{var r;return C(),R(v(X).input,W({"aria-describedby":(r=v(n))==null?void 0:r.ariaDescribedby},v(t).getInputProps(),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["aria-describedby","as-child"])}}}),bJ=$({__name:"combobox-item-context",setup(e){const t=fJ();return(n,i)=>V(n.$slots,"default",hn(on(v(t))))}}),[EJ,_J]=gt("ComboboxItemGroupPropsContext"),CJ=$({__name:"combobox-item-group-label",props:{asChild:{type:Boolean}},setup(e){const t=Di(),n=_J();return U(),(i,s)=>(C(),R(v(X).div,W(v(t).getItemGroupLabelProps({htmlFor:v(n).id}),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["as-child"]))}}),SJ=$({__name:"combobox-item-group",props:{id:{},asChild:{type:Boolean}},setup(e){const t=e,n=Di(),i=t.id??Kn();return EJ({id:i}),U(),(s,r)=>(C(),R(v(X).div,W(v(n).getItemGroupProps({id:v(i)}),{"as-child":s.asChild}),{default:S(()=>[V(s.$slots,"default")]),_:3},16,["as-child"]))}}),[xJ,Jw]=gt("ComboboxItemPropsContext"),TJ=$({__name:"combobox-item-indicator",props:{asChild:{type:Boolean}},setup(e){const t=Di(),n=Jw();return U(),(i,s)=>(C(),R(v(X).div,W(v(t).getItemIndicatorProps(v(n)),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["as-child"]))}}),wJ=$({__name:"combobox-item-text",props:{asChild:{type:Boolean}},setup(e){const t=Di(),n=Jw();return U(),(i,s)=>(C(),R(v(X).span,W(v(t).getItemTextProps(v(n)),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["as-child"]))}}),IJ=$({__name:"combobox-item",props:{persistFocus:{type:Boolean},item:{},asChild:{type:Boolean}},setup(e){const t=e,n=Di();return xJ(t),hJ(K(()=>n.value.getItemState(t))),U(),(i,s)=>(C(),R(v(X).div,W(v(n).getItemProps(t),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["as-child"]))}}),OJ=$({__name:"combobox-label",props:{asChild:{type:Boolean}},setup(e){const t=Di();return U(),(n,i)=>(C(),R(v(X).label,W(v(t).getLabelProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),kJ=$({__name:"combobox-list",props:{asChild:{type:Boolean}},setup(e){const t=Di();return U(),(n,i)=>(C(),R(v(X).div,W(v(t).getListProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),AJ=$({__name:"combobox-positioner",props:{asChild:{type:Boolean}},setup(e){const t=Di(),n=jo(),i=Da(K(()=>({...n.value,present:t.value.open})));return La(i),U(),(s,r)=>v(i).unmounted?tt("",!0):(C(),R(v(X).div,W({key:0},v(t).getPositionerProps(),{"as-child":s.asChild}),{default:S(()=>[V(s.$slots,"default")]),_:3},16,["as-child"]))}}),PJ=$({__name:"combobox-root-provider",props:{value:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,n=K(()=>t.value);return Yw(n),Ri(K(()=>({lazyMount:t.lazyMount,unmountOnExit:t.unmountOnExit}))),U(),(i,s)=>(C(),R(v(X).div,W(n.value.getRootProps(),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["as-child"]))}}),$J=$({__name:"combobox-root",props:On({allowCustomValue:{type:Boolean},autoFocus:{type:Boolean},closeOnSelect:{type:Boolean},composite:{type:Boolean},defaultOpen:{type:Boolean},defaultValue:{},disableLayer:{type:Boolean},disabled:{type:Boolean},form:{},getSelectionValue:{type:Function},highlightedValue:{},id:{},ids:{},inputBehavior:{},inputValue:{},invalid:{type:Boolean},collection:{},loopFocus:{type:Boolean},modelValue:{},multiple:{type:Boolean},name:{},open:{type:Boolean},openOnChange:{type:[Boolean,Function]},openOnClick:{type:Boolean},openOnKeyPress:{type:Boolean},placeholder:{},positioning:{},readOnly:{type:Boolean},required:{type:Boolean},scrollToIndexFn:{type:Function},selectionBehavior:{},translations:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},{allowCustomValue:void 0,autoFocus:void 0,closeOnSelect:void 0,composite:void 0,defaultOpen:void 0,disabled:void 0,disableLayer:void 0,invalid:void 0,loopFocus:void 0,multiple:void 0,open:void 0,openOnChange:void 0,openOnClick:void 0,openOnKeyPress:void 0,readOnly:void 0,required:void 0}),emits:["focusOutside","highlightChange","inputValueChange","interactOutside","openChange","pointerDownOutside","valueChange","update:modelValue","update:open"],setup(e,{emit:t}){const n=e,s=qw(n,t);return Yw(s),Ri(K(()=>({lazyMount:n.lazyMount,unmountOnExit:n.unmountOnExit}))),U(),(r,a)=>(C(),R(v(X).div,W(v(s).getRootProps(),{"as-child":r.asChild}),{default:S(()=>[V(r.$slots,"default")]),_:3},16,["as-child"]))}}),MJ=$({__name:"combobox-trigger",props:{focusable:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,n=Di();return(i,s)=>(C(),R(v(X).button,W(v(n).getTriggerProps(t),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["as-child"]))}}),nl=Object.freeze(Object.defineProperty({__proto__:null,ClearTrigger:pJ,Content:gJ,Context:mJ,Control:vJ,Input:yJ,Item:IJ,ItemContext:bJ,ItemGroup:SJ,ItemGroupLabel:CJ,ItemIndicator:TJ,ItemText:wJ,Label:OJ,List:kJ,Positioner:AJ,Root:$J,RootProvider:PJ,Trigger:MJ},Symbol.toStringTag,{value:"Module"})),NJ={class:"flex justify-between items-center"},RJ=["href"],DJ={key:0},LJ={key:1,class:"flex flex-col h-full overflow-hidden"},FJ=$({__name:"LinkPicker",props:Vn({label:null},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=mn(e,"modelValue"),n=st("link"),i=st(),s=qw({collection:aw({items:[]}),openOnClick:!0,openOnKeyPress:!1,allowCustomValue:!0}),r=st("");Ai(()=>{a()});function a(){if(!t.value)return;if(!t.value.startsWith("visual://")){n.value="link",s.value.setInputValue(t.value),i.value=t.value;return}const f=t.value.match(/^visual:\/\/([^:]+):([^\/]+)\/(.*)?$/);f&&(n.value=f[1],s.value.setInputValue(decodeURIComponent(f[2])),i.value=u(f[3],f[1]==="cms_pages"?"page/":""))}function u(f,p=""){return new URL(p+f,new URL(window.ThemeEditor.storefrontUrl).origin).href}function o(f){t.value="visual://categories:"+encodeURIComponent(f.name)+"/"+f.slug,s.value.setInputValue(f.name),n.value="categories",i.value=u(f.slug),s.value.setOpen(!1)}function l(f){t.value="visual://products:"+encodeURIComponent(f.name)+"/"+f.url_key,s.value.setInputValue(f.name),n.value="products",i.value=u(f.url_key),s.value.setOpen(!1)}function c(f){t.value="visual://cms_pages:"+encodeURIComponent(f.page_title)+"/"+f.url_key,s.value.setInputValue(f.page_title),n.value="cms_pages",i.value=u(f.url_key,"page/"),s.value.setOpen(!1)}function d(f){try{const p=new URL(f.target.value);n.value="link",t.value=p.href,i.value=p.href,s.value.setInputValue(p.href)}catch{a()}}function h(){s.value.setInputValue(""),n.value="link",i.value="",t.value=""}return(f,p)=>{const g=YY,m=Wf,y=Hw,b=Oy,E=zY,_=jl,I=zf,P=Dw,M=jw,z=Uw;return C(),te("div",null,[O(v(nl).RootProvider,{value:v(s),class:"gap-2 flex flex-col"},{default:S(()=>[L("div",NJ,[e.label?(C(),R(v(nl).Label,{key:0,class:"text-sm font-medium"},{default:S(()=>[qe(ue(e.label),1)]),_:1})):tt("",!0),v(i)?(C(),te("a",{key:1,href:v(i),target:"_blank"},[O(g,{class:"w-4 h-4"})],8,RJ)):tt("",!0)]),O(v(nl).Control,{class:"flex border px-3 h-10 gap-3 text-sm w-full cursor-pointer rounded outline-0 items-center appearance-none justify-between focus-within:shadow focus-within:ring focus-within:ring-gray-700"},{default:S(()=>[v(n)==="categories"?(C(),R(m,{key:0,class:"w-4 h-4 flex-none transform rotate-90"})):v(n)==="products"?(C(),R(y,{key:1,class:"w-4 h-4 flex-none transform rotate-90"})):v(n)==="cms_pages"?(C(),R(b,{key:2,class:"w-4 h-4 flex-none"})):(C(),R(E,{key:3,class:"w-4 h-4 flex-none"})),O(v(nl).Input,{class:"outline-none flex-1 w-0",onInput:p[0]||(p[0]=D=>v(s).setOpen(!1)),onBlur:d}),t.value?(C(),te("button",{key:4,class:"flex-none text-gray-700 hover:bg-gray-200 p-1 rounded-lg",onClick:h},[O(_,{clip:"w-4 h-4"})])):tt("",!0)]),_:1}),O(v(nl).Positioner,{class:"w-[var(--reference-width)] !z-10"},{default:S(()=>[O(v(nl).Content,{class:"bg-white rounded-lg shadow gap-1 flex flex-col max-h-96 border data-[state=open]:animate-fade-in"},{default:S(()=>[v(r)?(C(),te("div",LJ,[L("button",{class:"h-9 flex-none bg-gray-200 flex gap-3 w-full items-center rounded-t-lg text-left px-3",onClick:p[4]||(p[4]=D=>r.value="")},[O(I,{class:"w-4 h-4"}),qe(" "+ue(f.$t("Back")),1)]),v(r)==="categories"?(C(),R(P,{key:0,class:"h-full flex-1","onUpdate:modelValue":o})):v(r)==="products"?(C(),R(M,{key:1,class:"h-full flex-1","onUpdate:modelValue":l})):v(r)==="cms_pages"?(C(),R(z,{key:2,class:"h-full flex-1","onUpdate:modelValue":c})):tt("",!0)])):(C(),te("div",DJ,[L("button",{class:"appearance-none w-full h-9 px-3 flex gap-3 items-center hover:bg-gray-200",onClick:p[1]||(p[1]=zi(D=>r.value="categories",["prevent"]))},[O(m,{class:"w-4 h-4 transform rotate-90"}),qe(" "+ue(f.$t("Categories")),1)]),L("button",{class:"appearance-none w-full h-9 px-3 flex gap-3 items-center hover:bg-gray-200",onClick:p[2]||(p[2]=zi(D=>r.value="products",["prevent"]))},[O(y,{class:"w-4 h-4 transform rotate-90"}),qe(" "+ue(f.$t("Products")),1)]),L("button",{class:"appearance-none w-full h-9 px-3 flex gap-3 items-center hover:bg-gray-200",onClick:p[3]||(p[3]=zi(D=>r.value="cms_pages",["prevent"]))},[O(b,{class:"w-4 h-4 flex-none text-gray-700"}),qe(" "+ue(f.$t("Cms Pages")),1)])]))]),_:1})]),_:1})]),_:1},8,["value"])])}}}),VJ={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function BJ(e,t){return C(),te("svg",VJ,t[0]||(t[0]=[L("path",{fill:"currentColor",d:"M8 4h13v2H8zM5 3v3h1v1H3V6h1V4H3V3zM3 14v-2.5h2V11H3v-1h3v2.5H4v.5h2v1zm2 5.5H3v-1h2V18H3v-1h3v4H3v-1h2zM8 11h13v2H8zm0 7h13v2H8z"},null,-1)]))}const HJ=bt({name:"ri-list-ordered",render:BJ}),jJ={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function UJ(e,t){return C(),te("svg",jJ,t[0]||(t[0]=[L("path",{fill:"currentColor",d:"M8 4h13v2H8zM4.5 6.5a1.5 1.5 0 1 1 0-3a1.5 1.5 0 0 1 0 3m0 7a1.5 1.5 0 1 1 0-3a1.5 1.5 0 0 1 0 3m0 6.9a1.5 1.5 0 1 1 0-3a1.5 1.5 0 0 1 0 3M8 11h13v2H8zm0 7h13v2H8z"},null,-1)]))}const GJ=bt({name:"ri-list-unordered",render:UJ}),WJ={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function zJ(e,t){return C(),te("svg",WJ,t[0]||(t[0]=[L("path",{fill:"currentColor",d:"M17 11V4h2v17h-2v-8H7v8H5V4h2v7z"},null,-1)]))}const KJ=bt({name:"ri-heading",render:zJ}),qJ={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function YJ(e,t){return C(),te("svg",qJ,t[0]||(t[0]=[L("path",{fill:"currentColor",d:"M8 3v9a4 4 0 0 0 8 0V3h2v9a6 6 0 0 1-12 0V3zM4 20h16v2H4z"},null,-1)]))}const JJ=bt({name:"ri-underline",render:YJ}),XJ={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function ZJ(e,t){return C(),te("svg",XJ,t[0]||(t[0]=[L("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M5.248 20.246H9.05m0 0h3.696m-3.696 0l5.893-16.502m0 0h-3.697m3.697 0h3.803"},null,-1)]))}const QJ=bt({name:"heroicons-italic",render:ZJ}),eX={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function tX(e,t){return C(),te("svg",eX,t[0]||(t[0]=[L("path",{fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"2",d:"M6.75 3.744h-.753v8.25h7.125a4.125 4.125 0 0 0 0-8.25zm0 0v.38m0 16.122h6.747a4.5 4.5 0 0 0 0-9.001h-7.5v9zm0 0v-.37m0-15.751h6a3.75 3.75 0 1 1 0 7.5h-6m0-7.5v7.5m0 0v8.25m0-8.25h6.375a4.125 4.125 0 0 1 0 8.25H6.75m.747-15.38h4.875a3.375 3.375 0 0 1 0 6.75H7.497zm0 7.5h5.25a3.75 3.75 0 0 1 0 7.5h-5.25z"},null,-1)]))}const nX=bt({name:"heroicons-bold",render:tX});function Un(e){this.content=e}Un.prototype={constructor:Un,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var i=n&&n!=e?this.remove(n):this,s=i.find(e),r=i.content.slice();return s==-1?r.push(n||e,t):(r[s+1]=t,n&&(r[s]=n)),new Un(r)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new Un(n)},addToStart:function(e,t){return new Un([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new Un(n)},addBefore:function(e,t,n){var i=this.remove(t),s=i.content.slice(),r=i.find(e);return s.splice(r==-1?s.length:r,0,t,n),new Un(s)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=Un.from(e),e.size?new Un(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=Un.from(e),e.size?new Un(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=Un.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};Un.from=function(e){if(e instanceof Un)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new Un(t)};function Xw(e,t,n){for(let i=0;;i++){if(i==e.childCount||i==t.childCount)return e.childCount==t.childCount?null:n;let s=e.child(i),r=t.child(i);if(s==r){n+=s.nodeSize;continue}if(!s.sameMarkup(r))return n;if(s.isText&&s.text!=r.text){for(let a=0;s.text[a]==r.text[a];a++)n++;return n}if(s.content.size||r.content.size){let a=Xw(s.content,r.content,n+1);if(a!=null)return a}n+=s.nodeSize}}function Zw(e,t,n,i){for(let s=e.childCount,r=t.childCount;;){if(s==0||r==0)return s==r?null:{a:n,b:i};let a=e.child(--s),u=t.child(--r),o=a.nodeSize;if(a==u){n-=o,i-=o;continue}if(!a.sameMarkup(u))return{a:n,b:i};if(a.isText&&a.text!=u.text){let l=0,c=Math.min(a.text.length,u.text.length);for(;l<c&&a.text[a.text.length-l-1]==u.text[u.text.length-l-1];)l++,n--,i--;return{a:n,b:i}}if(a.content.size||u.content.size){let l=Zw(a.content,u.content,n-1,i-1);if(l)return l}n-=o,i-=o}}class le{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let i=0;i<t.length;i++)this.size+=t[i].nodeSize}nodesBetween(t,n,i,s=0,r){for(let a=0,u=0;u<n;a++){let o=this.content[a],l=u+o.nodeSize;if(l>t&&i(o,s+u,r||null,a)!==!1&&o.content.size){let c=u+1;o.nodesBetween(Math.max(0,t-c),Math.min(o.content.size,n-c),i,s+c)}u=l}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,i,s){let r="",a=!0;return this.nodesBetween(t,n,(u,o)=>{let l=u.isText?u.text.slice(Math.max(t,o)-o,n-o):u.isLeaf?s?typeof s=="function"?s(u):s:u.type.spec.leafText?u.type.spec.leafText(u):"":"";u.isBlock&&(u.isLeaf&&l||u.isTextblock)&&i&&(a?a=!1:r+=i),r+=l},0),r}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,i=t.firstChild,s=this.content.slice(),r=0;for(n.isText&&n.sameMarkup(i)&&(s[s.length-1]=n.withText(n.text+i.text),r=1);r<t.content.length;r++)s.push(t.content[r]);return new le(s,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let i=[],s=0;if(n>t)for(let r=0,a=0;a<n;r++){let u=this.content[r],o=a+u.nodeSize;o>t&&((a<t||o>n)&&(u.isText?u=u.cut(Math.max(0,t-a),Math.min(u.text.length,n-a)):u=u.cut(Math.max(0,t-a-1),Math.min(u.content.size,n-a-1))),i.push(u),s+=u.nodeSize),a=o}return new le(i,s)}cutByIndex(t,n){return t==n?le.empty:t==0&&n==this.content.length?this:new le(this.content.slice(t,n))}replaceChild(t,n){let i=this.content[t];if(i==n)return this;let s=this.content.slice(),r=this.size+n.nodeSize-i.nodeSize;return s[t]=n,new le(s,r)}addToStart(t){return new le([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new le(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,i=0;n<this.content.length;n++){let s=this.content[n];t(s,i,n),i+=s.nodeSize}}findDiffStart(t,n=0){return Xw(this,t,n)}findDiffEnd(t,n=this.size,i=t.size){return Zw(this,t,n,i)}findIndex(t,n=-1){if(t==0)return Id(0,t);if(t==this.size)return Id(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let i=0,s=0;;i++){let r=this.child(i),a=s+r.nodeSize;if(a>=t)return a==t||n>0?Id(i+1,a):Id(i,s);s=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return le.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new le(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return le.empty;let n,i=0;for(let s=0;s<t.length;s++){let r=t[s];i+=r.nodeSize,s&&r.isText&&t[s-1].sameMarkup(r)?(n||(n=t.slice(0,s)),n[n.length-1]=r.withText(n[n.length-1].text+r.text)):n&&n.push(r)}return new le(n||t,i)}static from(t){if(!t)return le.empty;if(t instanceof le)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new le([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}le.empty=new le([],0);const hg={index:0,offset:0};function Id(e,t){return hg.index=e,hg.offset=t,hg}function Mh(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++)if(!Mh(e[i],t[i]))return!1}else{for(let i in e)if(!(i in t)||!Mh(e[i],t[i]))return!1;for(let i in t)if(!(i in e))return!1}return!0}let jt=class km{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,i=!1;for(let s=0;s<t.length;s++){let r=t[s];if(this.eq(r))return t;if(this.type.excludes(r.type))n||(n=t.slice(0,s));else{if(r.type.excludes(this.type))return t;!i&&r.type.rank>this.type.rank&&(n||(n=t.slice(0,s)),n.push(this),i=!0),n&&n.push(r)}}return n||(n=t.slice()),i||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&Mh(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let i=t.marks[n.type];if(!i)throw new RangeError(`There is no mark type ${n.type} in this schema`);let s=i.create(n.attrs);return i.checkAttrs(s.attrs),s}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let i=0;i<t.length;i++)if(!t[i].eq(n[i]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return km.none;if(t instanceof km)return[t];let n=t.slice();return n.sort((i,s)=>i.type.rank-s.type.rank),n}};jt.none=[];class Nh extends Error{}class ye{constructor(t,n,i){this.content=t,this.openStart=n,this.openEnd=i}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let i=eI(this.content,t+this.openStart,n);return i&&new ye(i,this.openStart,this.openEnd)}removeBetween(t,n){return new ye(Qw(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return ye.empty;let i=n.openStart||0,s=n.openEnd||0;if(typeof i!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ye(le.fromJSON(t,n.content),i,s)}static maxOpen(t,n=!0){let i=0,s=0;for(let r=t.firstChild;r&&!r.isLeaf&&(n||!r.type.spec.isolating);r=r.firstChild)i++;for(let r=t.lastChild;r&&!r.isLeaf&&(n||!r.type.spec.isolating);r=r.lastChild)s++;return new ye(t,i,s)}}ye.empty=new ye(le.empty,0,0);function Qw(e,t,n){let{index:i,offset:s}=e.findIndex(t),r=e.maybeChild(i),{index:a,offset:u}=e.findIndex(n);if(s==t||r.isText){if(u!=n&&!e.child(a).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(i!=a)throw new RangeError("Removing non-flat range");return e.replaceChild(i,r.copy(Qw(r.content,t-s-1,n-s-1)))}function eI(e,t,n,i){let{index:s,offset:r}=e.findIndex(t),a=e.maybeChild(s);if(r==t||a.isText)return e.cut(0,t).append(n).append(e.cut(t));let u=eI(a.content,t-r-1,n);return u&&e.replaceChild(s,a.copy(u))}function iX(e,t,n){if(n.openStart>e.depth)throw new Nh("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new Nh("Inconsistent open depths");return tI(e,t,n,0)}function tI(e,t,n,i){let s=e.index(i),r=e.node(i);if(s==t.index(i)&&i<e.depth-n.openStart){let a=tI(e,t,n,i+1);return r.copy(r.content.replaceChild(s,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==i&&t.depth==i){let a=e.parent,u=a.content;return Ea(a,u.cut(0,e.parentOffset).append(n.content).append(u.cut(t.parentOffset)))}else{let{start:a,end:u}=sX(n,e);return Ea(r,iI(e,a,u,t,i))}else return Ea(r,Rh(e,t,i))}function nI(e,t){if(!t.type.compatibleContent(e.type))throw new Nh("Cannot join "+t.type.name+" onto "+e.type.name)}function Am(e,t,n){let i=e.node(n);return nI(i,t.node(n)),i}function ba(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function nu(e,t,n,i){let s=(t||e).node(n),r=0,a=t?t.index(n):s.childCount;e&&(r=e.index(n),e.depth>n?r++:e.textOffset&&(ba(e.nodeAfter,i),r++));for(let u=r;u<a;u++)ba(s.child(u),i);t&&t.depth==n&&t.textOffset&&ba(t.nodeBefore,i)}function Ea(e,t){return e.type.checkContent(t),e.copy(t)}function iI(e,t,n,i,s){let r=e.depth>s&&Am(e,t,s+1),a=i.depth>s&&Am(n,i,s+1),u=[];return nu(null,e,s,u),r&&a&&t.index(s)==n.index(s)?(nI(r,a),ba(Ea(r,iI(e,t,n,i,s+1)),u)):(r&&ba(Ea(r,Rh(e,t,s+1)),u),nu(t,n,s,u),a&&ba(Ea(a,Rh(n,i,s+1)),u)),nu(i,null,s,u),new le(u)}function Rh(e,t,n){let i=[];if(nu(null,e,n,i),e.depth>n){let s=Am(e,t,n+1);ba(Ea(s,Rh(e,t,n+1)),i)}return nu(t,null,n,i),new le(i)}function sX(e,t){let n=t.depth-e.openStart,s=t.node(n).copy(e.content);for(let r=n-1;r>=0;r--)s=t.node(r).copy(le.from(s));return{start:s.resolveNoCache(e.openStart+n),end:s.resolveNoCache(s.content.size-e.openEnd-n)}}class Su{constructor(t,n,i){this.pos=t,this.path=n,this.parentOffset=i,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let i=this.pos-this.path[this.path.length-1],s=t.child(n);return i?t.child(n).cut(i):s}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let i=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let r=0;r<t;r++)s+=i.child(r).nodeSize;return s}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return jt.none;if(this.textOffset)return t.child(n).marks;let i=t.maybeChild(n-1),s=t.maybeChild(n);if(!i){let u=i;i=s,s=u}let r=i.marks;for(var a=0;a<r.length;a++)r[a].type.spec.inclusive===!1&&(!s||!r[a].isInSet(s.marks))&&(r=r[a--].removeFromSet(r));return r}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let i=n.marks,s=t.parent.maybeChild(t.index());for(var r=0;r<i.length;r++)i[r].type.spec.inclusive===!1&&(!s||!i[r].isInSet(s.marks))&&(i=i[r--].removeFromSet(i));return i}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let i=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);i>=0;i--)if(t.pos<=this.end(i)&&(!n||n(this.node(i))))return new Dh(this,t,i);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let i=[],s=0,r=n;for(let a=t;;){let{index:u,offset:o}=a.content.findIndex(r),l=r-o;if(i.push(a,u,s+o),!l||(a=a.child(u),a.isText))break;r=l-1,s+=o+1}return new Su(n,i,r)}static resolveCached(t,n){let i=E_.get(t);if(i)for(let r=0;r<i.elts.length;r++){let a=i.elts[r];if(a.pos==n)return a}else E_.set(t,i=new rX);let s=i.elts[i.i]=Su.resolve(t,n);return i.i=(i.i+1)%oX,s}}class rX{constructor(){this.elts=[],this.i=0}}const oX=12,E_=new WeakMap;class Dh{constructor(t,n,i){this.$from=t,this.$to=n,this.depth=i}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const aX=Object.create(null);let _a=class Pm{constructor(t,n,i,s=jt.none){this.type=t,this.attrs=n,this.marks=s,this.content=i||le.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,i,s=0){this.content.nodesBetween(t,n,i,s,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,i,s){return this.content.textBetween(t,n,i,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,i){return this.type==t&&Mh(this.attrs,n||t.defaultAttrs||aX)&&jt.sameSet(this.marks,i||jt.none)}copy(t=null){return t==this.content?this:new Pm(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new Pm(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,i=!1){if(t==n)return ye.empty;let s=this.resolve(t),r=this.resolve(n),a=i?0:s.sharedDepth(n),u=s.start(a),l=s.node(a).content.cut(s.pos-u,r.pos-u);return new ye(l,s.depth-a,r.depth-a)}replace(t,n,i){return iX(this.resolve(t),this.resolve(n),i)}nodeAt(t){for(let n=this;;){let{index:i,offset:s}=n.content.findIndex(t);if(n=n.maybeChild(i),!n)return null;if(s==t||n.isText)return n;t-=s+1}}childAfter(t){let{index:n,offset:i}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:i}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:i}=this.content.findIndex(t);if(i<t)return{node:this.content.child(n),index:n,offset:i};let s=this.content.child(n-1);return{node:s,index:n-1,offset:i-s.nodeSize}}resolve(t){return Su.resolveCached(this,t)}resolveNoCache(t){return Su.resolve(this,t)}rangeHasMark(t,n,i){let s=!1;return n>t&&this.nodesBetween(t,n,r=>(i.isInSet(r.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),sI(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,i=le.empty,s=0,r=i.childCount){let a=this.contentMatchAt(t).matchFragment(i,s,r),u=a&&a.matchFragment(this.content,n);if(!u||!u.validEnd)return!1;for(let o=s;o<r;o++)if(!this.type.allowsMarks(i.child(o).marks))return!1;return!0}canReplaceWith(t,n,i,s){if(s&&!this.type.allowsMarks(s))return!1;let r=this.contentMatchAt(t).matchType(i),a=r&&r.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=jt.none;for(let n=0;n<this.marks.length;n++){let i=this.marks[n];i.type.checkAttrs(i.attrs),t=i.addToSet(t)}if(!jt.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let i;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");i=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,i)}let s=le.fromJSON(t,n.content),r=t.nodeType(n.type).create(n.attrs,s,i);return r.type.checkAttrs(r.attrs),r}};_a.prototype.text=void 0;class Lh extends _a{constructor(t,n,i,s){if(super(t,n,null,s),!i)throw new RangeError("Empty text nodes are not allowed");this.text=i}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):sI(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new Lh(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new Lh(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function sI(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class Ma{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let i=new lX(t,n);if(i.next==null)return Ma.empty;let s=rI(i);i.next&&i.err("Unexpected trailing text");let r=gX(pX(s));return mX(r,i),r}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,i=t.childCount){let s=this;for(let r=n;s&&r<i;r++)s=s.matchType(t.child(r).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let i=0;i<t.next.length;i++)if(this.next[n].type==t.next[i].type)return!0;return!1}fillBefore(t,n=!1,i=0){let s=[this];function r(a,u){let o=a.matchFragment(t,i);if(o&&(!n||o.validEnd))return le.from(u.map(l=>l.createAndFill()));for(let l=0;l<a.next.length;l++){let{type:c,next:d}=a.next[l];if(!(c.isText||c.hasRequiredAttrs())&&s.indexOf(d)==-1){s.push(d);let h=r(d,u.concat(c));if(h)return h}}return null}return r(this,[])}findWrapping(t){for(let i=0;i<this.wrapCache.length;i+=2)if(this.wrapCache[i]==t)return this.wrapCache[i+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),i=[{match:this,type:null,via:null}];for(;i.length;){let s=i.shift(),r=s.match;if(r.matchType(t)){let a=[];for(let u=s;u.type;u=u.via)a.push(u.type);return a.reverse()}for(let a=0;a<r.next.length;a++){let{type:u,next:o}=r.next[a];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in n)&&(!s.type||o.validEnd)&&(i.push({match:u.contentMatch,type:u,via:s}),n[u.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(i){t.push(i);for(let s=0;s<i.next.length;s++)t.indexOf(i.next[s].next)==-1&&n(i.next[s].next)}return n(this),t.map((i,s)=>{let r=s+(i.validEnd?"*":" ")+" ";for(let a=0;a<i.next.length;a++)r+=(a?", ":"")+i.next[a].type.name+"->"+t.indexOf(i.next[a].next);return r}).join(`
`)}}Ma.empty=new Ma(!0);class lX{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function rI(e){let t=[];do t.push(cX(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function cX(e){let t=[];do t.push(uX(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function uX(e){let t=fX(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=dX(e,t);else break;return t}function __(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function dX(e,t){let n=__(e),i=n;return e.eat(",")&&(e.next!="}"?i=__(e):i=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:i,expr:t}}function hX(e,t){let n=e.nodeTypes,i=n[t];if(i)return[i];let s=[];for(let r in n){let a=n[r];a.isInGroup(t)&&s.push(a)}return s.length==0&&e.err("No node type or group '"+t+"' found"),s}function fX(e){if(e.eat("(")){let t=rI(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=hX(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function pX(e){let t=[[]];return s(r(e,0),n()),t;function n(){return t.push([])-1}function i(a,u,o){let l={term:o,to:u};return t[a].push(l),l}function s(a,u){a.forEach(o=>o.to=u)}function r(a,u){if(a.type=="choice")return a.exprs.reduce((o,l)=>o.concat(r(l,u)),[]);if(a.type=="seq")for(let o=0;;o++){let l=r(a.exprs[o],u);if(o==a.exprs.length-1)return l;s(l,u=n())}else if(a.type=="star"){let o=n();return i(u,o),s(r(a.expr,o),o),[i(o)]}else if(a.type=="plus"){let o=n();return s(r(a.expr,u),o),s(r(a.expr,o),o),[i(o)]}else{if(a.type=="opt")return[i(u)].concat(r(a.expr,u));if(a.type=="range"){let o=u;for(let l=0;l<a.min;l++){let c=n();s(r(a.expr,o),c),o=c}if(a.max==-1)s(r(a.expr,o),o);else for(let l=a.min;l<a.max;l++){let c=n();i(o,c),s(r(a.expr,o),c),o=c}return[i(o)]}else{if(a.type=="name")return[i(u,void 0,a.value)];throw new Error("Unknown expr type")}}}}function oI(e,t){return t-e}function C_(e,t){let n=[];return i(t),n.sort(oI);function i(s){let r=e[s];if(r.length==1&&!r[0].term)return i(r[0].to);n.push(s);for(let a=0;a<r.length;a++){let{term:u,to:o}=r[a];!u&&n.indexOf(o)==-1&&i(o)}}}function gX(e){let t=Object.create(null);return n(C_(e,0));function n(i){let s=[];i.forEach(a=>{e[a].forEach(({term:u,to:o})=>{if(!u)return;let l;for(let c=0;c<s.length;c++)s[c][0]==u&&(l=s[c][1]);C_(e,o).forEach(c=>{l||s.push([u,l=[]]),l.indexOf(c)==-1&&l.push(c)})})});let r=t[i.join(",")]=new Ma(i.indexOf(e.length-1)>-1);for(let a=0;a<s.length;a++){let u=s[a][1].sort(oI);r.next.push({type:s[a][0],next:t[u.join(",")]||n(u)})}return r}}function mX(e,t){for(let n=0,i=[e];n<i.length;n++){let s=i[n],r=!s.validEnd,a=[];for(let u=0;u<s.next.length;u++){let{type:o,next:l}=s.next[u];a.push(o.name),r&&!(o.isText||o.hasRequiredAttrs())&&(r=!1),i.indexOf(l)==-1&&i.push(l)}r&&t.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function aI(e){let t=Object.create(null);for(let n in e){let i=e[n];if(!i.hasDefault)return null;t[n]=i.default}return t}function lI(e,t){let n=Object.create(null);for(let i in e){let s=t&&t[i];if(s===void 0){let r=e[i];if(r.hasDefault)s=r.default;else throw new RangeError("No value supplied for attribute "+i)}n[i]=s}return n}function cI(e,t,n,i){for(let s in t)if(!(s in e))throw new RangeError(`Unsupported attribute ${s} for ${n} of type ${s}`);for(let s in e){let r=e[s];r.validate&&r.validate(t[s])}}function uI(e,t){let n=Object.create(null);if(t)for(let i in t)n[i]=new yX(e,i,t[i]);return n}let S_=class dI{constructor(t,n,i){this.name=t,this.schema=n,this.spec=i,this.markSet=null,this.groups=i.group?i.group.split(" "):[],this.attrs=uI(t,i.attrs),this.defaultAttrs=aI(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(i.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Ma.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:lI(this.attrs,t)}create(t=null,n,i){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new _a(this,this.computeAttrs(t),le.from(n),jt.setFrom(i))}createChecked(t=null,n,i){return n=le.from(n),this.checkContent(n),new _a(this,this.computeAttrs(t),n,jt.setFrom(i))}createAndFill(t=null,n,i){if(t=this.computeAttrs(t),n=le.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let s=this.contentMatch.matchFragment(n),r=s&&s.fillBefore(le.empty,!0);return r?new _a(this,t,n.append(r),jt.setFrom(i)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let i=0;i<t.childCount;i++)if(!this.allowsMarks(t.child(i).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){cI(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let i=0;i<t.length;i++)this.allowsMarkType(t[i].type)?n&&n.push(t[i]):n||(n=t.slice(0,i));return n?n.length?n:jt.none:t}static compile(t,n){let i=Object.create(null);t.forEach((r,a)=>i[r]=new dI(r,n,a));let s=n.spec.topNode||"doc";if(!i[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!i.text)throw new RangeError("Every schema needs a 'text' type");for(let r in i.text.attrs)throw new RangeError("The text node type should not have attributes");return i}};function vX(e,t,n){let i=n.split("|");return s=>{let r=s===null?"null":typeof s;if(i.indexOf(r)<0)throw new RangeError(`Expected value of type ${i} for attribute ${t} on type ${e}, got ${r}`)}}class yX{constructor(t,n,i){this.hasDefault=Object.prototype.hasOwnProperty.call(i,"default"),this.default=i.default,this.validate=typeof i.validate=="string"?vX(t,n,i.validate):i.validate}get isRequired(){return!this.hasDefault}}class Kf{constructor(t,n,i,s){this.name=t,this.rank=n,this.schema=i,this.spec=s,this.attrs=uI(t,s.attrs),this.excluded=null;let r=aI(this.attrs);this.instance=r?new jt(this,r):null}create(t=null){return!t&&this.instance?this.instance:new jt(this,lI(this.attrs,t))}static compile(t,n){let i=Object.create(null),s=0;return t.forEach((r,a)=>i[r]=new Kf(r,s++,n,a)),i}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){cI(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class hI{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let s in t)n[s]=t[s];n.nodes=Un.from(t.nodes),n.marks=Un.from(t.marks||{}),this.nodes=S_.compile(this.spec.nodes,this),this.marks=Kf.compile(this.spec.marks,this);let i=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let r=this.nodes[s],a=r.spec.content||"",u=r.spec.marks;if(r.contentMatch=i[a]||(i[a]=Ma.parse(a,this.nodes)),r.inlineContent=r.contentMatch.inlineContent,r.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!r.isInline||!r.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=r}r.markSet=u=="_"?null:u?x_(this,u.split(" ")):u==""||!r.inlineContent?[]:null}for(let s in this.marks){let r=this.marks[s],a=r.spec.excludes;r.excluded=a==null?[r]:a==""?[]:x_(this,a.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,i,s){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof S_){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,i,s)}text(t,n){let i=this.nodes.text;return new Lh(i,i.defaultAttrs,t,jt.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeFromJSON(t){return _a.fromJSON(this,t)}markFromJSON(t){return jt.fromJSON(this,t)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}}function x_(e,t){let n=[];for(let i=0;i<t.length;i++){let s=t[i],r=e.marks[s],a=r;if(r)n.push(r);else for(let u in e.marks){let o=e.marks[u];(s=="_"||o.spec.group&&o.spec.group.split(" ").indexOf(s)>-1)&&n.push(a=o)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[i]+"'")}return n}function bX(e){return e.tag!=null}function EX(e){return e.style!=null}let iu=class $m{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let i=this.matchedStyles=[];n.forEach(s=>{if(bX(s))this.tags.push(s);else if(EX(s)){let r=/[^=]*/.exec(s.style)[0];i.indexOf(r)<0&&i.push(r),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let r=t.nodes[s.node];return r.contentMatch.matchType(r)})}parse(t,n={}){let i=new w_(this,n,!1);return i.addAll(t,jt.none,n.from,n.to),i.finish()}parseSlice(t,n={}){let i=new w_(this,n,!0);return i.addAll(t,jt.none,n.from,n.to),ye.maxOpen(i.finish())}matchTag(t,n,i){for(let s=i?this.tags.indexOf(i)+1:0;s<this.tags.length;s++){let r=this.tags[s];if(SX(t,r.tag)&&(r.namespace===void 0||t.namespaceURI==r.namespace)&&(!r.context||n.matchesContext(r.context))){if(r.getAttrs){let a=r.getAttrs(t);if(a===!1)continue;r.attrs=a||void 0}return r}}}matchStyle(t,n,i,s){for(let r=s?this.styles.indexOf(s)+1:0;r<this.styles.length;r++){let a=this.styles[r],u=a.style;if(!(u.indexOf(t)!=0||a.context&&!i.matchesContext(a.context)||u.length>t.length&&(u.charCodeAt(t.length)!=61||u.slice(t.length+1)!=n))){if(a.getAttrs){let o=a.getAttrs(n);if(o===!1)continue;a.attrs=o||void 0}return a}}}static schemaRules(t){let n=[];function i(s){let r=s.priority==null?50:s.priority,a=0;for(;a<n.length;a++){let u=n[a];if((u.priority==null?50:u.priority)<r)break}n.splice(a,0,s)}for(let s in t.marks){let r=t.marks[s].spec.parseDOM;r&&r.forEach(a=>{i(a=I_(a)),a.mark||a.ignore||a.clearMark||(a.mark=s)})}for(let s in t.nodes){let r=t.nodes[s].spec.parseDOM;r&&r.forEach(a=>{i(a=I_(a)),a.node||a.ignore||a.mark||(a.node=s)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new $m(t,$m.schemaRules(t)))}};const fI={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},_X={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},pI={ol:!0,ul:!0},Fh=1,Vh=2,su=4;function T_(e,t,n){return t!=null?(t?Fh:0)|(t==="full"?Vh:0):e&&e.whitespace=="pre"?Fh|Vh:n&~su}class Od{constructor(t,n,i,s,r,a){this.type=t,this.attrs=n,this.marks=i,this.solid=s,this.options=a,this.content=[],this.activeMarks=jt.none,this.match=r||(a&su?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(le.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let i=this.type.contentMatch,s;return(s=i.findWrapping(t.type))?(this.match=i,s):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&Fh)){let i=this.content[this.content.length-1],s;if(i&&i.isText&&(s=/[ \t\r\n\u000c]+$/.exec(i.text))){let r=i;i.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=r.withText(r.text.slice(0,r.text.length-s[0].length))}}let n=le.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(le.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!fI.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class w_{constructor(t,n,i){this.parser=t,this.options=n,this.isOpen=i,this.open=0;let s=n.topNode,r,a=T_(null,n.preserveWhitespace,0)|(i?su:0);s?r=new Od(s.type,s.attrs,jt.none,!0,n.topMatch||s.type.contentMatch,a):i?r=new Od(null,null,jt.none,!0,null,a):r=new Od(t.schema.topNodeType,null,jt.none,!0,null,a),this.nodes=[r],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,n){t.nodeType==3?this.addTextNode(t,n):t.nodeType==1&&this.addElement(t,n)}addTextNode(t,n){let i=t.nodeValue,s=this.top;if(s.options&Vh||s.inlineContext(t)||/[^ \t\r\n\u000c]/.test(i)){if(s.options&Fh)s.options&Vh?i=i.replace(/\r\n?/g,`
`):i=i.replace(/\r?\n|\r/g," ");else if(i=i.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(i)&&this.open==this.nodes.length-1){let r=s.content[s.content.length-1],a=t.previousSibling;(!r||a&&a.nodeName=="BR"||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(i=i.slice(1))}i&&this.insertNode(this.parser.schema.text(i),n),this.findInText(t)}else this.findInside(t)}addElement(t,n,i){let s=t.nodeName.toLowerCase(),r;pI.hasOwnProperty(s)&&this.parser.normalizeLists&&CX(t);let a=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(r=this.parser.matchTag(t,this,i));if(a?a.ignore:_X.hasOwnProperty(s))this.findInside(t),this.ignoreFallback(t,n);else if(!a||a.skip||a.closeParent){a&&a.closeParent?this.open=Math.max(0,this.open-1):a&&a.skip.nodeType&&(t=a.skip);let u,o=this.top,l=this.needsBlock;if(fI.hasOwnProperty(s))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),u=!0,o.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,n);return}let c=a&&a.skip?n:this.readStyles(t,n);c&&this.addAll(t,c),u&&this.sync(o),this.needsBlock=l}else{let u=this.readStyles(t,n);u&&this.addElementByRule(t,a,u,a.consuming===!1?r:void 0)}}leafFallback(t,n){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),n)}ignoreFallback(t,n){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(t,n){let i=t.style;if(i&&i.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let r=this.parser.matchedStyles[s],a=i.getPropertyValue(r);if(a)for(let u=void 0;;){let o=this.parser.matchStyle(r,a,this,u);if(!o)break;if(o.ignore)return null;if(o.clearMark?n=n.filter(l=>!o.clearMark(l)):n=n.concat(this.parser.schema.marks[o.mark].create(o.attrs)),o.consuming===!1)u=o;else break}}return n}addElementByRule(t,n,i,s){let r,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),i)||this.leafFallback(t,i);else{let o=this.enter(a,n.attrs||null,i,n.preserveWhitespace);o&&(r=!0,i=o)}else{let o=this.parser.schema.marks[n.mark];i=i.concat(o.create(n.attrs))}let u=this.top;if(a&&a.isLeaf)this.findInside(t);else if(s)this.addElement(t,i,s);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(o=>this.insertNode(o,i));else{let o=t;typeof n.contentElement=="string"?o=t.querySelector(n.contentElement):typeof n.contentElement=="function"?o=n.contentElement(t):n.contentElement&&(o=n.contentElement),this.findAround(t,o,!0),this.addAll(o,i),this.findAround(t,o,!1)}r&&this.sync(u)&&this.open--}addAll(t,n,i,s){let r=i||0;for(let a=i?t.childNodes[i]:t.firstChild,u=s==null?null:t.childNodes[s];a!=u;a=a.nextSibling,++r)this.findAtPoint(t,r),this.addDOM(a,n);this.findAtPoint(t,r)}findPlace(t,n){let i,s;for(let r=this.open;r>=0;r--){let a=this.nodes[r],u=a.findWrapping(t);if(u&&(!i||i.length>u.length)&&(i=u,s=a,!u.length)||a.solid)break}if(!i)return null;this.sync(s);for(let r=0;r<i.length;r++)n=this.enterInner(i[r],null,n,!1);return n}insertNode(t,n){if(t.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let i=this.findPlace(t,n);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(t.type));let r=jt.none;for(let a of i.concat(t.marks))(s.type?s.type.allowsMarkType(a.type):O_(a.type,t.type))&&(r=a.addToSet(r));return s.content.push(t.mark(r)),!0}return!1}enter(t,n,i,s){let r=this.findPlace(t.create(n),i);return r&&(r=this.enterInner(t,n,i,!0,s)),r}enterInner(t,n,i,s=!1,r){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(t);let u=T_(t,r,a.options);a.options&su&&a.content.length==0&&(u|=su);let o=jt.none;return i=i.filter(l=>(a.type?a.type.allowsMarkType(l.type):O_(l.type,t))?(o=l.addToSet(o),!1):!0),this.nodes.push(new Od(t,n,o,s,null,u)),this.open++,i}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(t){for(let n=this.open;n>=0;n--)if(this.nodes[n]==t)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let i=this.nodes[n].content;for(let s=i.length-1;s>=0;s--)t+=i[s].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let i=0;i<this.find.length;i++)this.find[i].node==t&&this.find[i].offset==n&&(this.find[i].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,i){if(t!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&t.nodeType==1&&t.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(i?2:4)&&(this.find[s].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),i=this.options.context,s=!this.isOpen&&(!i||i.parent.type==this.nodes[0].type),r=-(i?i.depth+1:0)+(s?0:1),a=(u,o)=>{for(;u>=0;u--){let l=n[u];if(l==""){if(u==n.length-1||u==0)continue;for(;o>=r;o--)if(a(u-1,o))return!0;return!1}else{let c=o>0||o==0&&s?this.nodes[o].type:i&&o>=r?i.node(o-r).type:null;if(!c||c.name!=l&&!c.isInGroup(l))return!1;o--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let i=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(i&&i.isTextblock&&i.defaultAttrs)return i}for(let n in this.parser.schema.nodes){let i=this.parser.schema.nodes[n];if(i.isTextblock&&i.defaultAttrs)return i}}}function CX(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let i=t.nodeType==1?t.nodeName.toLowerCase():null;i&&pI.hasOwnProperty(i)&&n?(n.appendChild(t),t=n):i=="li"?n=t:i&&(n=null)}}function SX(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function I_(e){let t={};for(let n in e)t[n]=e[n];return t}function O_(e,t){let n=t.schema.nodes;for(let i in n){let s=n[i];if(!s.allowsMarkType(e))continue;let r=[],a=u=>{r.push(u);for(let o=0;o<u.edgeCount;o++){let{type:l,next:c}=u.edge(o);if(l==t||r.indexOf(c)<0&&a(c))return!0}};if(a(s.contentMatch))return!0}}class ja{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},i){i||(i=fg(n).createDocumentFragment());let s=i,r=[];return t.forEach(a=>{if(r.length||a.marks.length){let u=0,o=0;for(;u<r.length&&o<a.marks.length;){let l=a.marks[o];if(!this.marks[l.type.name]){o++;continue}if(!l.eq(r[u][0])||l.type.spec.spanning===!1)break;u++,o++}for(;u<r.length;)s=r.pop()[1];for(;o<a.marks.length;){let l=a.marks[o++],c=this.serializeMark(l,a.isInline,n);c&&(r.push([l,s]),s.appendChild(c.dom),s=c.contentDOM||c.dom)}}s.appendChild(this.serializeNodeInner(a,n))}),i}serializeNodeInner(t,n){let{dom:i,contentDOM:s}=Zd(fg(n),this.nodes[t.type.name](t),null,t.attrs);if(s){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,s)}return i}serializeNode(t,n={}){let i=this.serializeNodeInner(t,n);for(let s=t.marks.length-1;s>=0;s--){let r=this.serializeMark(t.marks[s],t.isInline,n);r&&((r.contentDOM||r.dom).appendChild(i),i=r.dom)}return i}serializeMark(t,n,i={}){let s=this.marks[t.type.name];return s&&Zd(fg(i),s(t,n),null,t.attrs)}static renderSpec(t,n,i=null,s){return Zd(t,n,i,s)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new ja(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=k_(t.nodes);return n.text||(n.text=i=>i.text),n}static marksFromSchema(t){return k_(t.marks)}}function k_(e){let t={};for(let n in e){let i=e[n].spec.toDOM;i&&(t[n]=i)}return t}function fg(e){return e.document||window.document}const A_=new WeakMap;function xX(e){let t=A_.get(e);return t===void 0&&A_.set(e,t=TX(e)),t}function TX(e){let t=null;function n(i){if(i&&typeof i=="object")if(Array.isArray(i))if(typeof i[0]=="string")t||(t=[]),t.push(i);else for(let s=0;s<i.length;s++)n(i[s]);else for(let s in i)n(i[s])}return n(e),t}function Zd(e,t,n,i){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let s=t[0],r;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(i&&(r=xX(i))&&r.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=s.indexOf(" ");a>0&&(n=s.slice(0,a),s=s.slice(a+1));let u,o=n?e.createElementNS(n,s):e.createElement(s),l=t[1],c=1;if(l&&typeof l=="object"&&l.nodeType==null&&!Array.isArray(l)){c=2;for(let d in l)if(l[d]!=null){let h=d.indexOf(" ");h>0?o.setAttributeNS(d.slice(0,h),d.slice(h+1),l[d]):o.setAttribute(d,l[d])}}for(let d=c;d<t.length;d++){let h=t[d];if(h===0){if(d<t.length-1||d>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:o,contentDOM:o}}else{let{dom:f,contentDOM:p}=Zd(e,h,n,i);if(o.appendChild(f),p){if(u)throw new RangeError("Multiple content holes");u=p}}}return{dom:o,contentDOM:u}}const gI=65535,mI=Math.pow(2,16);function wX(e,t){return e+t*mI}function P_(e){return e&gI}function IX(e){return(e-(e&gI))/mI}const vI=1,yI=2,Qd=4,bI=8;class Mm{constructor(t,n,i){this.pos=t,this.delInfo=n,this.recover=i}get deleted(){return(this.delInfo&bI)>0}get deletedBefore(){return(this.delInfo&(vI|Qd))>0}get deletedAfter(){return(this.delInfo&(yI|Qd))>0}get deletedAcross(){return(this.delInfo&Qd)>0}}class Gi{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&Gi.empty)return Gi.empty}recover(t){let n=0,i=P_(t);if(!this.inverted)for(let s=0;s<i;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[i*3]+n+IX(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,i){let s=0,r=this.inverted?2:1,a=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let o=this.ranges[u]-(this.inverted?s:0);if(o>t)break;let l=this.ranges[u+r],c=this.ranges[u+a],d=o+l;if(t<=d){let h=l?t==o?-1:t==d?1:n:n,f=o+s+(h<0?0:c);if(i)return f;let p=t==(n<0?o:d)?null:wX(u/3,t-o),g=t==o?yI:t==d?vI:Qd;return(n<0?t!=o:t!=d)&&(g|=bI),new Mm(f,g,p)}s+=c-l}return i?t+s:new Mm(t+s,0,null)}touches(t,n){let i=0,s=P_(n),r=this.inverted?2:1,a=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let o=this.ranges[u]-(this.inverted?i:0);if(o>t)break;let l=this.ranges[u+r],c=o+l;if(t<=c&&u==s*3)return!0;i+=this.ranges[u+a]-l}return!1}forEach(t){let n=this.inverted?2:1,i=this.inverted?1:2;for(let s=0,r=0;s<this.ranges.length;s+=3){let a=this.ranges[s],u=a-(this.inverted?r:0),o=a+(this.inverted?0:r),l=this.ranges[s+n],c=this.ranges[s+i];t(u,u+l,o,o+c),r+=c-l}}invert(){return new Gi(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?Gi.empty:new Gi(t<0?[0,-t,0]:[0,0,t])}}Gi.empty=new Gi([]);class ru{constructor(t=[],n,i=0,s=t.length){this.maps=t,this.mirror=n,this.from=i,this.to=s}slice(t=0,n=this.maps.length){return new ru(this.maps,this.mirror,t,n)}copy(){return new ru(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,n){this.to=this.maps.push(t),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(t){for(let n=0,i=this.maps.length;n<t.maps.length;n++){let s=t.getMirror(n);this.appendMap(t.maps[n],s!=null&&s<n?i+s:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,i=this.maps.length+t.maps.length;n>=0;n--){let s=t.getMirror(n);this.appendMap(t.maps[n].invert(),s!=null&&s>n?i-s-1:void 0)}}invert(){let t=new ru;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let i=this.from;i<this.to;i++)t=this.maps[i].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,i){let s=0;for(let r=this.from;r<this.to;r++){let a=this.maps[r],u=a.mapResult(t,n);if(u.recover!=null){let o=this.getMirror(r);if(o!=null&&o>r&&o<this.to){r=o,t=this.maps[o].recover(u.recover);continue}}s|=u.delInfo,t=u.pos}return i?t:new Mm(t,s,null)}}const pg=Object.create(null);class si{getMap(){return Gi.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let i=pg[n.stepType];if(!i)throw new RangeError(`No step type ${n.stepType} defined`);return i.fromJSON(t,n)}static jsonID(t,n){if(t in pg)throw new RangeError("Duplicate use of step JSON ID "+t);return pg[t]=n,n.prototype.jsonID=t,n}}class En{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new En(t,null)}static fail(t){return new En(null,t)}static fromReplace(t,n,i,s){try{return En.ok(t.replace(n,i,s))}catch(r){if(r instanceof Nh)return En.fail(r.message);throw r}}}function Ay(e,t,n){let i=[];for(let s=0;s<e.childCount;s++){let r=e.child(s);r.content.size&&(r=r.copy(Ay(r.content,t,r))),r.isInline&&(r=t(r,n,s)),i.push(r)}return le.fromArray(i)}class po extends si{constructor(t,n,i){super(),this.from=t,this.to=n,this.mark=i}apply(t){let n=t.slice(this.from,this.to),i=t.resolve(this.from),s=i.node(i.sharedDepth(this.to)),r=new ye(Ay(n.content,(a,u)=>!a.isAtom||!u.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),s),n.openStart,n.openEnd);return En.fromReplace(t,this.from,this.to,r)}invert(){return new ir(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),i=t.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new po(n.pos,i.pos,this.mark)}merge(t){return t instanceof po&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new po(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new po(n.from,n.to,t.markFromJSON(n.mark))}}si.jsonID("addMark",po);class ir extends si{constructor(t,n,i){super(),this.from=t,this.to=n,this.mark=i}apply(t){let n=t.slice(this.from,this.to),i=new ye(Ay(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),t),n.openStart,n.openEnd);return En.fromReplace(t,this.from,this.to,i)}invert(){return new po(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),i=t.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new ir(n.pos,i.pos,this.mark)}merge(t){return t instanceof ir&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new ir(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new ir(n.from,n.to,t.markFromJSON(n.mark))}}si.jsonID("removeMark",ir);class go extends si{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return En.fail("No node at mark step's position");let i=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return En.fromReplace(t,this.pos,this.pos+1,new ye(le.from(i),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let i=this.mark.addToSet(n.marks);if(i.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(i))return new go(this.pos,n.marks[s]);return new go(this.pos,this.mark)}}return new Nl(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new go(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new go(n.pos,t.markFromJSON(n.mark))}}si.jsonID("addNodeMark",go);class Nl extends si{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return En.fail("No node at mark step's position");let i=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return En.fromReplace(t,this.pos,this.pos+1,new ye(le.from(i),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new go(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Nl(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Nl(n.pos,t.markFromJSON(n.mark))}}si.jsonID("removeNodeMark",Nl);class Nn extends si{constructor(t,n,i,s=!1){super(),this.from=t,this.to=n,this.slice=i,this.structure=s}apply(t){return this.structure&&Nm(t,this.from,this.to)?En.fail("Structure replace would overwrite content"):En.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new Gi([this.from,this.to-this.from,this.slice.size])}invert(t){return new Nn(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),i=t.mapResult(this.to,-1);return n.deletedAcross&&i.deletedAcross?null:new Nn(n.pos,Math.max(n.pos,i.pos),this.slice)}merge(t){if(!(t instanceof Nn)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?ye.empty:new ye(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new Nn(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?ye.empty:new ye(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new Nn(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Nn(n.from,n.to,ye.fromJSON(t,n.slice),!!n.structure)}}si.jsonID("replace",Nn);class Ln extends si{constructor(t,n,i,s,r,a,u=!1){super(),this.from=t,this.to=n,this.gapFrom=i,this.gapTo=s,this.slice=r,this.insert=a,this.structure=u}apply(t){if(this.structure&&(Nm(t,this.from,this.gapFrom)||Nm(t,this.gapTo,this.to)))return En.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return En.fail("Gap is not a flat range");let i=this.slice.insertAt(this.insert,n.content);return i?En.fromReplace(t,this.from,this.to,i):En.fail("Content does not fit in gap")}getMap(){return new Gi([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new Ln(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),i=t.mapResult(this.to,-1),s=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),r=this.to==this.gapTo?i.pos:t.map(this.gapTo,1);return n.deletedAcross&&i.deletedAcross||s<n.pos||r>i.pos?null:new Ln(n.pos,i.pos,s,r,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ln(n.from,n.to,n.gapFrom,n.gapTo,ye.fromJSON(t,n.slice),n.insert,!!n.structure)}}si.jsonID("replaceAround",Ln);function Nm(e,t,n){let i=e.resolve(t),s=n-t,r=i.depth;for(;s>0&&r>0&&i.indexAfter(r)==i.node(r).childCount;)r--,s--;if(s>0){let a=i.node(r).maybeChild(i.indexAfter(r));for(;s>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,s--}}return!1}function OX(e,t,n,i){let s=[],r=[],a,u;e.doc.nodesBetween(t,n,(o,l,c)=>{if(!o.isInline)return;let d=o.marks;if(!i.isInSet(d)&&c.type.allowsMarkType(i.type)){let h=Math.max(l,t),f=Math.min(l+o.nodeSize,n),p=i.addToSet(d);for(let g=0;g<d.length;g++)d[g].isInSet(p)||(a&&a.to==h&&a.mark.eq(d[g])?a.to=f:s.push(a=new ir(h,f,d[g])));u&&u.to==h?u.to=f:r.push(u=new po(h,f,i))}}),s.forEach(o=>e.step(o)),r.forEach(o=>e.step(o))}function kX(e,t,n,i){let s=[],r=0;e.doc.nodesBetween(t,n,(a,u)=>{if(!a.isInline)return;r++;let o=null;if(i instanceof Kf){let l=a.marks,c;for(;c=i.isInSet(l);)(o||(o=[])).push(c),l=c.removeFromSet(l)}else i?i.isInSet(a.marks)&&(o=[i]):o=a.marks;if(o&&o.length){let l=Math.min(u+a.nodeSize,n);for(let c=0;c<o.length;c++){let d=o[c],h;for(let f=0;f<s.length;f++){let p=s[f];p.step==r-1&&d.eq(s[f].style)&&(h=p)}h?(h.to=l,h.step=r):s.push({style:d,from:Math.max(u,t),to:l,step:r})}}}),s.forEach(a=>e.step(new ir(a.from,a.to,a.style)))}function Py(e,t,n,i=n.contentMatch,s=!0){let r=e.doc.nodeAt(t),a=[],u=t+1;for(let o=0;o<r.childCount;o++){let l=r.child(o),c=u+l.nodeSize,d=i.matchType(l.type);if(!d)a.push(new Nn(u,c,ye.empty));else{i=d;for(let h=0;h<l.marks.length;h++)n.allowsMarkType(l.marks[h].type)||e.step(new ir(u,c,l.marks[h]));if(s&&l.isText&&n.whitespace!="pre"){let h,f=/\r?\n|\r/g,p;for(;h=f.exec(l.text);)p||(p=new ye(le.from(n.schema.text(" ",n.allowedMarks(l.marks))),0,0)),a.push(new Nn(u+h.index,u+h.index+h[0].length,p))}}u=c}if(!i.validEnd){let o=i.fillBefore(le.empty,!0);e.replace(u,u,new ye(o,0,0))}for(let o=a.length-1;o>=0;o--)e.step(a[o])}function AX(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function ec(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let i=e.depth;;--i){let s=e.$from.node(i),r=e.$from.index(i),a=e.$to.indexAfter(i);if(i<e.depth&&s.canReplace(r,a,n))return i;if(i==0||s.type.spec.isolating||!AX(s,r,a))break}return null}function PX(e,t,n){let{$from:i,$to:s,depth:r}=t,a=i.before(r+1),u=s.after(r+1),o=a,l=u,c=le.empty,d=0;for(let p=r,g=!1;p>n;p--)g||i.index(p)>0?(g=!0,c=le.from(i.node(p).copy(c)),d++):o--;let h=le.empty,f=0;for(let p=r,g=!1;p>n;p--)g||s.after(p+1)<s.end(p)?(g=!0,h=le.from(s.node(p).copy(h)),f++):l++;e.step(new Ln(o,l,a,u,new ye(c.append(h),d,f),c.size-d,!0))}function $y(e,t,n=null,i=e){let s=$X(e,t),r=s&&MX(i,t);return r?s.map($_).concat({type:t,attrs:n}).concat(r.map($_)):null}function $_(e){return{type:e,attrs:null}}function $X(e,t){let{parent:n,startIndex:i,endIndex:s}=e,r=n.contentMatchAt(i).findWrapping(t);if(!r)return null;let a=r.length?r[0]:t;return n.canReplaceWith(i,s,a)?r:null}function MX(e,t){let{parent:n,startIndex:i,endIndex:s}=e,r=n.child(i),a=t.contentMatch.findWrapping(r.type);if(!a)return null;let o=(a.length?a[a.length-1]:t).contentMatch;for(let l=i;o&&l<s;l++)o=o.matchType(n.child(l).type);return!o||!o.validEnd?null:a}function NX(e,t,n){let i=le.empty;for(let a=n.length-1;a>=0;a--){if(i.size){let u=n[a].type.contentMatch.matchFragment(i);if(!u||!u.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=le.from(n[a].type.create(n[a].attrs,i))}let s=t.start,r=t.end;e.step(new Ln(s,r,s,r,new ye(i,0,0),n.length,!0))}function RX(e,t,n,i,s){if(!i.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let r=e.steps.length;e.doc.nodesBetween(t,n,(a,u)=>{let o=typeof s=="function"?s(a):s;if(a.isTextblock&&!a.hasMarkup(i,o)&&DX(e.doc,e.mapping.slice(r).map(u),i)){let l=null;if(i.schema.linebreakReplacement){let f=i.whitespace=="pre",p=!!i.contentMatch.matchType(i.schema.linebreakReplacement);f&&!p?l=!1:!f&&p&&(l=!0)}l===!1&&_I(e,a,u,r),Py(e,e.mapping.slice(r).map(u,1),i,void 0,l===null);let c=e.mapping.slice(r),d=c.map(u,1),h=c.map(u+a.nodeSize,1);return e.step(new Ln(d,h,d+1,h-1,new ye(le.from(i.create(o,null,a.marks)),0,0),1,!0)),l===!0&&EI(e,a,u,r),!1}})}function EI(e,t,n,i){t.forEach((s,r)=>{if(s.isText){let a,u=/\r?\n|\r/g;for(;a=u.exec(s.text);){let o=e.mapping.slice(i).map(n+1+r+a.index);e.replaceWith(o,o+1,t.type.schema.linebreakReplacement.create())}}})}function _I(e,t,n,i){t.forEach((s,r)=>{if(s.type==s.type.schema.linebreakReplacement){let a=e.mapping.slice(i).map(n+1+r);e.replaceWith(a,a+1,t.type.schema.text(`
`))}})}function DX(e,t,n){let i=e.resolve(t),s=i.index();return i.parent.canReplaceWith(s,s+1,n)}function LX(e,t,n,i,s){let r=e.doc.nodeAt(t);if(!r)throw new RangeError("No node at given position");n||(n=r.type);let a=n.create(i,null,s||r.marks);if(r.isLeaf)return e.replaceWith(t,t+r.nodeSize,a);if(!n.validContent(r.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new Ln(t,t+r.nodeSize,t+1,t+r.nodeSize-1,new ye(le.from(a),0,0),1,!0))}function xl(e,t,n=1,i){let s=e.resolve(t),r=s.depth-n,a=i&&i[i.length-1]||s.parent;if(r<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!a.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let l=s.depth-1,c=n-2;l>r;l--,c--){let d=s.node(l),h=s.index(l);if(d.type.spec.isolating)return!1;let f=d.content.cutByIndex(h,d.childCount),p=i&&i[c+1];p&&(f=f.replaceChild(0,p.type.create(p.attrs)));let g=i&&i[c]||d;if(!d.canReplace(h+1,d.childCount)||!g.type.validContent(f))return!1}let u=s.indexAfter(r),o=i&&i[0];return s.node(r).canReplaceWith(u,u,o?o.type:s.node(r+1).type)}function FX(e,t,n=1,i){let s=e.doc.resolve(t),r=le.empty,a=le.empty;for(let u=s.depth,o=s.depth-n,l=n-1;u>o;u--,l--){r=le.from(s.node(u).copy(r));let c=i&&i[l];a=le.from(c?c.type.create(c.attrs,a):s.node(u).copy(a))}e.step(new Nn(t,t,new ye(r.append(a),n,n),!0))}function Go(e,t){let n=e.resolve(t),i=n.index();return CI(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(i,i+1)}function VX(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:i}=e.type.schema;for(let s=0;s<t.childCount;s++){let r=t.child(s),a=r.type==i?e.type.schema.nodes.text:r.type;if(n=n.matchType(a),!n||!e.type.allowsMarks(r.marks))return!1}return n.validEnd}function CI(e,t){return!!(e&&t&&!e.isLeaf&&VX(e,t))}function qf(e,t,n=-1){let i=e.resolve(t);for(let s=i.depth;;s--){let r,a,u=i.index(s);if(s==i.depth?(r=i.nodeBefore,a=i.nodeAfter):n>0?(r=i.node(s+1),u++,a=i.node(s).maybeChild(u)):(r=i.node(s).maybeChild(u-1),a=i.node(s+1)),r&&!r.isTextblock&&CI(r,a)&&i.node(s).canReplace(u,u+1))return t;if(s==0)break;t=n<0?i.before(s):i.after(s)}}function BX(e,t,n){let i=null,{linebreakReplacement:s}=e.doc.type.schema,r=e.doc.resolve(t-n),a=r.node().type;if(s&&a.inlineContent){let c=a.whitespace=="pre",d=!!a.contentMatch.matchType(s);c&&!d?i=!1:!c&&d&&(i=!0)}let u=e.steps.length;if(i===!1){let c=e.doc.resolve(t+n);_I(e,c.node(),c.before(),u)}a.inlineContent&&Py(e,t+n-1,a,r.node().contentMatchAt(r.index()),i==null);let o=e.mapping.slice(u),l=o.map(t-n);if(e.step(new Nn(l,o.map(t+n,-1),ye.empty,!0)),i===!0){let c=e.doc.resolve(l);EI(e,c.node(),c.before(),e.steps.length)}return e}function HX(e,t,n){let i=e.resolve(t);if(i.parent.canReplaceWith(i.index(),i.index(),n))return t;if(i.parentOffset==0)for(let s=i.depth-1;s>=0;s--){let r=i.index(s);if(i.node(s).canReplaceWith(r,r,n))return i.before(s+1);if(r>0)return null}if(i.parentOffset==i.parent.content.size)for(let s=i.depth-1;s>=0;s--){let r=i.indexAfter(s);if(i.node(s).canReplaceWith(r,r,n))return i.after(s+1);if(r<i.node(s).childCount)return null}return null}function jX(e,t,n){let i=e.resolve(t);if(!n.content.size)return t;let s=n.content;for(let r=0;r<n.openStart;r++)s=s.firstChild.content;for(let r=1;r<=(n.openStart==0&&n.size?2:1);r++)for(let a=i.depth;a>=0;a--){let u=a==i.depth?0:i.pos<=(i.start(a+1)+i.end(a+1))/2?-1:1,o=i.index(a)+(u>0?1:0),l=i.node(a),c=!1;if(r==1)c=l.canReplace(o,o,s);else{let d=l.contentMatchAt(o).findWrapping(s.firstChild.type);c=d&&l.canReplaceWith(o,o,d[0])}if(c)return u==0?i.pos:u<0?i.before(a+1):i.after(a+1)}return null}function Yf(e,t,n=t,i=ye.empty){if(t==n&&!i.size)return null;let s=e.resolve(t),r=e.resolve(n);return SI(s,r,i)?new Nn(t,n,i):new UX(s,r,i).fit()}function SI(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class UX{constructor(t,n,i){this.$from=t,this.$to=n,this.unplaced=i,this.frontier=[],this.placed=le.empty;for(let s=0;s<=t.depth;s++){let r=t.node(s);this.frontier.push({type:r.type,match:r.contentMatchAt(t.indexAfter(s))})}for(let s=t.depth;s>0;s--)this.placed=le.from(t.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let l=this.findFittable();l?this.placeNodes(l):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,i=this.$from,s=this.close(t<0?this.$to:i.doc.resolve(t));if(!s)return null;let r=this.placed,a=i.depth,u=s.depth;for(;a&&u&&r.childCount==1;)r=r.firstChild.content,a--,u--;let o=new ye(r,a,u);return t>-1?new Ln(i.pos,t,this.$to.pos,this.$to.end(),o,n):o.size||i.pos!=this.$to.pos?new Nn(i.pos,s.pos,o):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,i=0,s=this.unplaced.openEnd;i<t;i++){let r=n.firstChild;if(n.childCount>1&&(s=0),r.type.spec.isolating&&s<=i){t=i;break}n=r.content}for(let n=1;n<=2;n++)for(let i=n==1?t:this.unplaced.openStart;i>=0;i--){let s,r=null;i?(r=gg(this.unplaced.content,i-1).firstChild,s=r.content):s=this.unplaced.content;let a=s.firstChild;for(let u=this.depth;u>=0;u--){let{type:o,match:l}=this.frontier[u],c,d=null;if(n==1&&(a?l.matchType(a.type)||(d=l.fillBefore(le.from(a),!1)):r&&o.compatibleContent(r.type)))return{sliceDepth:i,frontierDepth:u,parent:r,inject:d};if(n==2&&a&&(c=l.findWrapping(a.type)))return{sliceDepth:i,frontierDepth:u,parent:r,wrap:c};if(r&&l.matchType(r.type))break}}}openMore(){let{content:t,openStart:n,openEnd:i}=this.unplaced,s=gg(t,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new ye(t,n+1,Math.max(i,s.size+n>=t.size-i?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:i}=this.unplaced,s=gg(t,n);if(s.childCount<=1&&n>0){let r=t.size-n<=n+s.size;this.unplaced=new ye(Rc(t,n-1,1),n-1,r?n-1:i)}else this.unplaced=new ye(Rc(t,n,1),n,i)}placeNodes({sliceDepth:t,frontierDepth:n,parent:i,inject:s,wrap:r}){for(;this.depth>n;)this.closeFrontierNode();if(r)for(let g=0;g<r.length;g++)this.openFrontierNode(r[g]);let a=this.unplaced,u=i?i.content:a.content,o=a.openStart-t,l=0,c=[],{match:d,type:h}=this.frontier[n];if(s){for(let g=0;g<s.childCount;g++)c.push(s.child(g));d=d.matchFragment(s)}let f=u.size+t-(a.content.size-a.openEnd);for(;l<u.childCount;){let g=u.child(l),m=d.matchType(g.type);if(!m)break;l++,(l>1||o==0||g.content.size)&&(d=m,c.push(xI(g.mark(h.allowedMarks(g.marks)),l==1?o:0,l==u.childCount?f:-1)))}let p=l==u.childCount;p||(f=-1),this.placed=Dc(this.placed,n,le.from(c)),this.frontier[n].match=d,p&&f<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,m=u;g<f;g++){let y=m.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),m=y.content}this.unplaced=p?t==0?ye.empty:new ye(Rc(a.content,t-1,1),t-1,f<0?a.openEnd:t-1):new ye(Rc(a.content,t,l),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!mg(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:i}=this.$to,s=this.$to.after(i);for(;i>1&&s==this.$to.end(--i);)++s;return s}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:i,type:s}=this.frontier[n],r=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),a=mg(t,n,s,i,r);if(a){for(let u=n-1;u>=0;u--){let{match:o,type:l}=this.frontier[u],c=mg(t,u,l,o,!0);if(!c||c.childCount)continue e}return{depth:n,fit:a,move:r?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Dc(this.placed,n.depth,n.fit)),t=n.move;for(let i=n.depth+1;i<=t.depth;i++){let s=t.node(i),r=s.type.contentMatch.fillBefore(s.content,!0,t.index(i));this.openFrontierNode(s.type,s.attrs,r)}return t}openFrontierNode(t,n=null,i){let s=this.frontier[this.depth];s.match=s.match.matchType(t),this.placed=Dc(this.placed,this.depth,le.from(t.create(n,i))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(le.empty,!0);n.childCount&&(this.placed=Dc(this.placed,this.frontier.length,n))}}function Rc(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(Rc(e.firstChild.content,t-1,n)))}function Dc(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(Dc(e.lastChild.content,t-1,n)))}function gg(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function xI(e,t,n){if(t<=0)return e;let i=e.content;return t>1&&(i=i.replaceChild(0,xI(i.firstChild,t-1,i.childCount==1?n-1:0))),t>0&&(i=e.type.contentMatch.fillBefore(i).append(i),n<=0&&(i=i.append(e.type.contentMatch.matchFragment(i).fillBefore(le.empty,!0)))),e.copy(i)}function mg(e,t,n,i,s){let r=e.node(t),a=s?e.indexAfter(t):e.index(t);if(a==r.childCount&&!n.compatibleContent(r.type))return null;let u=i.fillBefore(r.content,!0,a);return u&&!GX(n,r.content,a)?u:null}function GX(e,t,n){for(let i=n;i<t.childCount;i++)if(!e.allowsMarks(t.child(i).marks))return!0;return!1}function WX(e){return e.spec.defining||e.spec.definingForContent}function zX(e,t,n,i){if(!i.size)return e.deleteRange(t,n);let s=e.doc.resolve(t),r=e.doc.resolve(n);if(SI(s,r,i))return e.step(new Nn(t,n,i));let a=wI(s,e.doc.resolve(n));a[a.length-1]==0&&a.pop();let u=-(s.depth+1);a.unshift(u);for(let h=s.depth,f=s.pos-1;h>0;h--,f--){let p=s.node(h).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;a.indexOf(h)>-1?u=h:s.before(h)==f&&a.splice(1,0,-h)}let o=a.indexOf(u),l=[],c=i.openStart;for(let h=i.content,f=0;;f++){let p=h.firstChild;if(l.push(p),f==i.openStart)break;h=p.content}for(let h=c-1;h>=0;h--){let f=l[h],p=WX(f.type);if(p&&!f.sameMarkup(s.node(Math.abs(u)-1)))c=h;else if(p||!f.type.isTextblock)break}for(let h=i.openStart;h>=0;h--){let f=(h+c+1)%(i.openStart+1),p=l[f];if(p)for(let g=0;g<a.length;g++){let m=a[(g+o)%a.length],y=!0;m<0&&(y=!1,m=-m);let b=s.node(m-1),E=s.index(m-1);if(b.canReplaceWith(E,E,p.type,p.marks))return e.replace(s.before(m),y?r.after(m):n,new ye(TI(i.content,0,i.openStart,f),f,i.openEnd))}}let d=e.steps.length;for(let h=a.length-1;h>=0&&(e.replace(t,n,i),!(e.steps.length>d));h--){let f=a[h];f<0||(t=s.before(f),n=r.after(f))}}function TI(e,t,n,i,s){if(t<n){let r=e.firstChild;e=e.replaceChild(0,r.copy(TI(r.content,t+1,n,i,r)))}if(t>i){let r=s.contentMatchAt(0),a=r.fillBefore(e).append(e);e=a.append(r.matchFragment(a).fillBefore(le.empty,!0))}return e}function KX(e,t,n,i){if(!i.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let s=HX(e.doc,t,i.type);s!=null&&(t=n=s)}e.replaceRange(t,n,new ye(le.from(i),0,0))}function qX(e,t,n){let i=e.doc.resolve(t),s=e.doc.resolve(n),r=wI(i,s);for(let a=0;a<r.length;a++){let u=r[a],o=a==r.length-1;if(o&&u==0||i.node(u).type.contentMatch.validEnd)return e.delete(i.start(u),s.end(u));if(u>0&&(o||i.node(u-1).canReplace(i.index(u-1),s.indexAfter(u-1))))return e.delete(i.before(u),s.after(u))}for(let a=1;a<=i.depth&&a<=s.depth;a++)if(t-i.start(a)==i.depth-a&&n>i.end(a)&&s.end(a)-n!=s.depth-a&&i.start(a-1)==s.start(a-1)&&i.node(a-1).canReplace(i.index(a-1),s.index(a-1)))return e.delete(i.before(a),n);e.delete(t,n)}function wI(e,t){let n=[],i=Math.min(e.depth,t.depth);for(let s=i;s>=0;s--){let r=e.start(s);if(r<e.pos-(e.depth-s)||t.end(s)>t.pos+(t.depth-s)||e.node(s).type.spec.isolating||t.node(s).type.spec.isolating)break;(r==t.start(s)||s==e.depth&&s==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&s&&t.start(s-1)==r-1)&&n.push(s)}return n}class Tl extends si{constructor(t,n,i){super(),this.pos=t,this.attr=n,this.value=i}apply(t){let n=t.nodeAt(this.pos);if(!n)return En.fail("No node at attribute step's position");let i=Object.create(null);for(let r in n.attrs)i[r]=n.attrs[r];i[this.attr]=this.value;let s=n.type.create(i,null,n.marks);return En.fromReplace(t,this.pos,this.pos+1,new ye(le.from(s),0,n.isLeaf?0:1))}getMap(){return Gi.empty}invert(t){return new Tl(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Tl(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Tl(n.pos,n.attr,n.value)}}si.jsonID("attr",Tl);class xu extends si{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let s in t.attrs)n[s]=t.attrs[s];n[this.attr]=this.value;let i=t.type.create(n,t.content,t.marks);return En.ok(i)}getMap(){return Gi.empty}invert(t){return new xu(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new xu(n.attr,n.value)}}si.jsonID("docAttr",xu);let Rl=class extends Error{};Rl=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};Rl.prototype=Object.create(Error.prototype);Rl.prototype.constructor=Rl;Rl.prototype.name="TransformError";class YX{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new ru}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new Rl(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,i=ye.empty){let s=Yf(this.doc,t,n,i);return s&&this.step(s),this}replaceWith(t,n,i){return this.replace(t,n,new ye(le.from(i),0,0))}delete(t,n){return this.replace(t,n,ye.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,i){return zX(this,t,n,i),this}replaceRangeWith(t,n,i){return KX(this,t,n,i),this}deleteRange(t,n){return qX(this,t,n),this}lift(t,n){return PX(this,t,n),this}join(t,n=1){return BX(this,t,n),this}wrap(t,n){return NX(this,t,n),this}setBlockType(t,n=t,i,s=null){return RX(this,t,n,i,s),this}setNodeMarkup(t,n,i=null,s){return LX(this,t,n,i,s),this}setNodeAttribute(t,n,i){return this.step(new Tl(t,n,i)),this}setDocAttribute(t,n){return this.step(new xu(t,n)),this}addNodeMark(t,n){return this.step(new go(t,n)),this}removeNodeMark(t,n){if(!(n instanceof jt)){let i=this.doc.nodeAt(t);if(!i)throw new RangeError("No node at position "+t);if(n=n.isInSet(i.marks),!n)return this}return this.step(new Nl(t,n)),this}split(t,n=1,i){return FX(this,t,n,i),this}addMark(t,n,i){return OX(this,t,n,i),this}removeMark(t,n,i){return kX(this,t,n,i),this}clearIncompatible(t,n,i){return Py(this,t,n,i),this}}const vg=Object.create(null);class St{constructor(t,n,i){this.$anchor=t,this.$head=n,this.ranges=i||[new JX(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=ye.empty){let i=n.content.lastChild,s=null;for(let u=0;u<n.openEnd;u++)s=i,i=i.lastChild;let r=t.steps.length,a=this.ranges;for(let u=0;u<a.length;u++){let{$from:o,$to:l}=a[u],c=t.mapping.slice(r);t.replaceRange(c.map(o.pos),c.map(l.pos),u?ye.empty:n),u==0&&R_(t,r,(i?i.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(t,n){let i=t.steps.length,s=this.ranges;for(let r=0;r<s.length;r++){let{$from:a,$to:u}=s[r],o=t.mapping.slice(i),l=o.map(a.pos),c=o.map(u.pos);r?t.deleteRange(l,c):(t.replaceRangeWith(l,c,n),R_(t,i,n.isInline?-1:1))}}static findFrom(t,n,i=!1){let s=t.parent.inlineContent?new vt(t):ul(t.node(0),t.parent,t.pos,t.index(),n,i);if(s)return s;for(let r=t.depth-1;r>=0;r--){let a=n<0?ul(t.node(0),t.node(r),t.before(r+1),t.index(r),n,i):ul(t.node(0),t.node(r),t.after(r+1),t.index(r)+1,n,i);if(a)return a}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new Vs(t.node(0))}static atStart(t){return ul(t,t,0,0,1)||new Vs(t)}static atEnd(t){return ul(t,t,t.content.size,t.childCount,-1)||new Vs(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let i=vg[n.type];if(!i)throw new RangeError(`No selection type ${n.type} defined`);return i.fromJSON(t,n)}static jsonID(t,n){if(t in vg)throw new RangeError("Duplicate use of selection JSON ID "+t);return vg[t]=n,n.prototype.jsonID=t,n}getBookmark(){return vt.between(this.$anchor,this.$head).getBookmark()}}St.prototype.visible=!0;class JX{constructor(t,n){this.$from=t,this.$to=n}}let M_=!1;function N_(e){!M_&&!e.parent.inlineContent&&(M_=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class vt extends St{constructor(t,n=t){N_(t),N_(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let i=t.resolve(n.map(this.head));if(!i.parent.inlineContent)return St.near(i);let s=t.resolve(n.map(this.anchor));return new vt(s.parent.inlineContent?s:i,i)}replace(t,n=ye.empty){if(super.replace(t,n),n==ye.empty){let i=this.$from.marksAcross(this.$to);i&&t.ensureMarks(i)}}eq(t){return t instanceof vt&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new Jf(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new vt(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,i=n){let s=t.resolve(n);return new this(s,i==n?s:t.resolve(i))}static between(t,n,i){let s=t.pos-n.pos;if((!i||s)&&(i=s>=0?1:-1),!n.parent.inlineContent){let r=St.findFrom(n,i,!0)||St.findFrom(n,-i,!0);if(r)n=r.$head;else return St.near(n,i)}return t.parent.inlineContent||(s==0?t=n:(t=(St.findFrom(t,-i,!0)||St.findFrom(t,i,!0)).$anchor,t.pos<n.pos!=s<0&&(t=n))),new vt(t,n)}}St.jsonID("text",vt);class Jf{constructor(t,n){this.anchor=t,this.head=n}map(t){return new Jf(t.map(this.anchor),t.map(this.head))}resolve(t){return vt.between(t.resolve(this.anchor),t.resolve(this.head))}}class Ze extends St{constructor(t){let n=t.nodeAfter,i=t.node(0).resolve(t.pos+n.nodeSize);super(t,i),this.node=n}map(t,n){let{deleted:i,pos:s}=n.mapResult(this.anchor),r=t.resolve(s);return i?St.near(r):new Ze(r)}content(){return new ye(le.from(this.node),0,0)}eq(t){return t instanceof Ze&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new My(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ze(t.resolve(n.anchor))}static create(t,n){return new Ze(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}Ze.prototype.visible=!1;St.jsonID("node",Ze);class My{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:i}=t.mapResult(this.anchor);return n?new Jf(i,i):new My(i)}resolve(t){let n=t.resolve(this.anchor),i=n.nodeAfter;return i&&Ze.isSelectable(i)?new Ze(n):St.near(n)}}class Vs extends St{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=ye.empty){if(n==ye.empty){t.delete(0,t.doc.content.size);let i=St.atStart(t.doc);i.eq(t.selection)||t.setSelection(i)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new Vs(t)}map(t){return new Vs(t)}eq(t){return t instanceof Vs}getBookmark(){return XX}}St.jsonID("all",Vs);const XX={map(){return this},resolve(e){return new Vs(e)}};function ul(e,t,n,i,s,r=!1){if(t.inlineContent)return vt.create(e,n);for(let a=i-(s>0?0:1);s>0?a<t.childCount:a>=0;a+=s){let u=t.child(a);if(u.isAtom){if(!r&&Ze.isSelectable(u))return Ze.create(e,n-(s<0?u.nodeSize:0))}else{let o=ul(e,u,n+s,s<0?u.childCount:0,s,r);if(o)return o}n+=u.nodeSize*s}return null}function R_(e,t,n){let i=e.steps.length-1;if(i<t)return;let s=e.steps[i];if(!(s instanceof Nn||s instanceof Ln))return;let r=e.mapping.maps[i],a;r.forEach((u,o,l,c)=>{a==null&&(a=c)}),e.setSelection(St.near(e.doc.resolve(a),n))}const D_=1,kd=2,L_=4;class ZX extends YX{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|D_)&~kd,this.storedMarks=null,this}get selectionSet(){return(this.updated&D_)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=kd,this}ensureMarks(t){return jt.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&kd)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&~kd,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let i=this.selection;return n&&(t=t.mark(this.storedMarks||(i.empty?i.$from.marks():i.$from.marksAcross(i.$to)||jt.none))),i.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,i){let s=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(s.text(t),!0):this.deleteSelection();{if(i==null&&(i=n),i=i??n,!t)return this.deleteRange(n,i);let r=this.storedMarks;if(!r){let a=this.doc.resolve(n);r=i==n?a.marks():a.marksAcross(this.doc.resolve(i))}return this.replaceRangeWith(n,i,s.text(t,r)),this.selection.empty||this.setSelection(St.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=L_,this}get scrolledIntoView(){return(this.updated&L_)>0}}function F_(e,t){return!t||!e?e:e.bind(t)}class Lc{constructor(t,n,i){this.name=t,this.init=F_(n.init,i),this.apply=F_(n.apply,i)}}const QX=[new Lc("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new Lc("selection",{init(e,t){return e.selection||St.atStart(t.doc)},apply(e){return e.selection}}),new Lc("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,i){return i.selection.$cursor?e.storedMarks:null}}),new Lc("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class yg{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=QX.slice(),n&&n.forEach(i=>{if(this.pluginsByKey[i.key])throw new RangeError("Adding different instances of a keyed plugin ("+i.key+")");this.plugins.push(i),this.pluginsByKey[i.key]=i,i.spec.state&&this.fields.push(new Lc(i.key,i.spec.state,i))})}}class gl{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let i=0;i<this.config.plugins.length;i++)if(i!=n){let s=this.config.plugins[i];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],i=this.applyInner(t),s=null;for(;;){let r=!1;for(let a=0;a<this.config.plugins.length;a++){let u=this.config.plugins[a];if(u.spec.appendTransaction){let o=s?s[a].n:0,l=s?s[a].state:this,c=o<n.length&&u.spec.appendTransaction.call(u,o?n.slice(o):n,l,i);if(c&&i.filterTransaction(c,a)){if(c.setMeta("appendedTransaction",t),!s){s=[];for(let d=0;d<this.config.plugins.length;d++)s.push(d<a?{state:i,n:n.length}:{state:this,n:0})}n.push(c),i=i.applyInner(c),r=!0}s&&(s[a]={state:i,n:n.length})}}if(!r)return{state:i,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new gl(this.config),i=this.config.fields;for(let s=0;s<i.length;s++){let r=i[s];n[r.name]=r.apply(t,this[r.name],this,n)}return n}get tr(){return new ZX(this)}static create(t){let n=new yg(t.doc?t.doc.type.schema:t.schema,t.plugins),i=new gl(n);for(let s=0;s<n.fields.length;s++)i[n.fields[s].name]=n.fields[s].init(t,i);return i}reconfigure(t){let n=new yg(this.schema,t.plugins),i=n.fields,s=new gl(n);for(let r=0;r<i.length;r++){let a=i[r].name;s[a]=this.hasOwnProperty(a)?this[a]:i[r].init(t,s)}return s}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(i=>i.toJSON())),t&&typeof t=="object")for(let i in t){if(i=="doc"||i=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=t[i],r=s.spec.state;r&&r.toJSON&&(n[i]=r.toJSON.call(s,this[s.key]))}return n}static fromJSON(t,n,i){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let s=new yg(t.schema,t.plugins),r=new gl(s);return s.fields.forEach(a=>{if(a.name=="doc")r.doc=_a.fromJSON(t.schema,n.doc);else if(a.name=="selection")r.selection=St.fromJSON(r.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(r.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(i)for(let u in i){let o=i[u],l=o.spec.state;if(o.key==a.name&&l&&l.fromJSON&&Object.prototype.hasOwnProperty.call(n,u)){r[a.name]=l.fromJSON.call(o,t,n[u],r);return}}r[a.name]=a.init(t,r)}}),r}}function II(e,t,n){for(let i in e){let s=e[i];s instanceof Function?s=s.bind(t):i=="handleDOMEvents"&&(s=II(s,t,{})),n[i]=s}return n}class gr{constructor(t){this.spec=t,this.props={},t.props&&II(t.props,this,this.props),this.key=t.key?t.key.key:OI("plugin")}getState(t){return t[this.key]}}const bg=Object.create(null);function OI(e){return e in bg?e+"$"+ ++bg[e]:(bg[e]=0,e+"$")}class Ua{constructor(t="key"){this.key=OI(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const Wn=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},Tu=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let Rm=null;const Sr=function(e,t,n){let i=Rm||(Rm=document.createRange());return i.setEnd(e,n??e.nodeValue.length),i.setStart(e,t||0),i},eZ=function(){Rm=null},Na=function(e,t,n,i){return n&&(V_(e,t,n,i,-1)||V_(e,t,n,i,1))},tZ=/^(img|br|input|textarea|hr)$/i;function V_(e,t,n,i,s){for(;;){if(e==n&&t==i)return!0;if(t==(s<0?0:fs(e))){let r=e.parentNode;if(!r||r.nodeType!=1||Xu(e)||tZ.test(e.nodeName)||e.contentEditable=="false")return!1;t=Wn(e)+(s<0?0:1),e=r}else if(e.nodeType==1){if(e=e.childNodes[t+(s<0?-1:0)],e.contentEditable=="false")return!1;t=s<0?fs(e):0}else return!1}}function fs(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function nZ(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=fs(e)}else if(e.parentNode&&!Xu(e))t=Wn(e),e=e.parentNode;else return null}}function iZ(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!Xu(e))t=Wn(e)+1,e=e.parentNode;else return null}}function sZ(e,t,n){for(let i=t==0,s=t==fs(e);i||s;){if(e==n)return!0;let r=Wn(e);if(e=e.parentNode,!e)return!1;i=i&&r==0,s=s&&r==fs(e)}}function Xu(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const Xf=function(e){return e.focusNode&&Na(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function da(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function rZ(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function oZ(e,t,n){if(e.caretPositionFromPoint)try{let i=e.caretPositionFromPoint(t,n);if(i)return{node:i.offsetNode,offset:Math.min(fs(i.offsetNode),i.offset)}}catch{}if(e.caretRangeFromPoint){let i=e.caretRangeFromPoint(t,n);if(i)return{node:i.startContainer,offset:Math.min(fs(i.startContainer),i.startOffset)}}}const lr=typeof navigator<"u"?navigator:null,B_=typeof document<"u"?document:null,Wo=lr&&lr.userAgent||"",Dm=/Edge\/(\d+)/.exec(Wo),kI=/MSIE \d/.exec(Wo),Lm=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Wo),Oi=!!(kI||Lm||Dm),So=kI?document.documentMode:Lm?+Lm[1]:Dm?+Dm[1]:0,Gs=!Oi&&/gecko\/(\d+)/i.test(Wo);Gs&&+(/Firefox\/(\d+)/.exec(Wo)||[0,0])[1];const Fm=!Oi&&/Chrome\/(\d+)/.exec(Wo),ei=!!Fm,AI=Fm?+Fm[1]:0,hi=!Oi&&!!lr&&/Apple Computer/.test(lr.vendor),Dl=hi&&(/Mobile\/\w+/.test(Wo)||!!lr&&lr.maxTouchPoints>2),ls=Dl||(lr?/Mac/.test(lr.platform):!1),aZ=lr?/Win/.test(lr.platform):!1,Rs=/Android \d/.test(Wo),Zu=!!B_&&"webkitFontSmoothing"in B_.documentElement.style,lZ=Zu?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function cZ(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function br(e,t){return typeof e=="number"?e:e[t]}function uZ(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,i=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*i}}function H_(e,t,n){let i=e.someProp("scrollThreshold")||0,s=e.someProp("scrollMargin")||5,r=e.dom.ownerDocument;for(let a=n||e.dom;a;a=Tu(a)){if(a.nodeType!=1)continue;let u=a,o=u==r.body,l=o?cZ(r):uZ(u),c=0,d=0;if(t.top<l.top+br(i,"top")?d=-(l.top-t.top+br(s,"top")):t.bottom>l.bottom-br(i,"bottom")&&(d=t.bottom-t.top>l.bottom-l.top?t.top+br(s,"top")-l.top:t.bottom-l.bottom+br(s,"bottom")),t.left<l.left+br(i,"left")?c=-(l.left-t.left+br(s,"left")):t.right>l.right-br(i,"right")&&(c=t.right-l.right+br(s,"right")),c||d)if(o)r.defaultView.scrollBy(c,d);else{let h=u.scrollLeft,f=u.scrollTop;d&&(u.scrollTop+=d),c&&(u.scrollLeft+=c);let p=u.scrollLeft-h,g=u.scrollTop-f;t={left:t.left-p,top:t.top-g,right:t.right-p,bottom:t.bottom-g}}if(o||/^(fixed|sticky)$/.test(getComputedStyle(a).position))break}}function dZ(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),i,s;for(let r=(t.left+t.right)/2,a=n+1;a<Math.min(innerHeight,t.bottom);a+=5){let u=e.root.elementFromPoint(r,a);if(!u||u==e.dom||!e.dom.contains(u))continue;let o=u.getBoundingClientRect();if(o.top>=n-20){i=u,s=o.top;break}}return{refDOM:i,refTop:s,stack:PI(e.dom)}}function PI(e){let t=[],n=e.ownerDocument;for(let i=e;i&&(t.push({dom:i,top:i.scrollTop,left:i.scrollLeft}),e!=n);i=Tu(i));return t}function hZ({refDOM:e,refTop:t,stack:n}){let i=e?e.getBoundingClientRect().top:0;$I(n,i==0?0:i-t)}function $I(e,t){for(let n=0;n<e.length;n++){let{dom:i,top:s,left:r}=e[n];i.scrollTop!=s+t&&(i.scrollTop=s+t),i.scrollLeft!=r&&(i.scrollLeft=r)}}let il=null;function fZ(e){if(e.setActive)return e.setActive();if(il)return e.focus(il);let t=PI(e);e.focus(il==null?{get preventScroll(){return il={preventScroll:!0},!0}}:void 0),il||(il=!1,$I(t,0))}function MI(e,t){let n,i=2e8,s,r=0,a=t.top,u=t.top,o,l;for(let c=e.firstChild,d=0;c;c=c.nextSibling,d++){let h;if(c.nodeType==1)h=c.getClientRects();else if(c.nodeType==3)h=Sr(c).getClientRects();else continue;for(let f=0;f<h.length;f++){let p=h[f];if(p.top<=a&&p.bottom>=u){a=Math.max(p.bottom,a),u=Math.min(p.top,u);let g=p.left>t.left?p.left-t.left:p.right<t.left?t.left-p.right:0;if(g<i){n=c,i=g,s=g&&n.nodeType==3?{left:p.right<t.left?p.right:p.left,top:t.top}:t,c.nodeType==1&&g&&(r=d+(t.left>=(p.left+p.right)/2?1:0));continue}}else p.top>t.top&&!o&&p.left<=t.left&&p.right>=t.left&&(o=c,l={left:Math.max(p.left,Math.min(p.right,t.left)),top:p.top});!n&&(t.left>=p.right&&t.top>=p.top||t.left>=p.left&&t.top>=p.bottom)&&(r=d+1)}}return!n&&o&&(n=o,s=l,i=0),n&&n.nodeType==3?pZ(n,s):!n||i&&n.nodeType==1?{node:e,offset:r}:MI(n,s)}function pZ(e,t){let n=e.nodeValue.length,i=document.createRange();for(let s=0;s<n;s++){i.setEnd(e,s+1),i.setStart(e,s);let r=to(i,1);if(r.top!=r.bottom&&Ny(t,r))return{node:e,offset:s+(t.left>=(r.left+r.right)/2?1:0)}}return{node:e,offset:0}}function Ny(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function gZ(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function mZ(e,t,n){let{node:i,offset:s}=MI(t,n),r=-1;if(i.nodeType==1&&!i.firstChild){let a=i.getBoundingClientRect();r=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return e.docView.posFromDOM(i,s,r)}function vZ(e,t,n,i){let s=-1;for(let r=t,a=!1;r!=e.dom;){let u=e.docView.nearestDesc(r,!0);if(!u)return null;if(u.dom.nodeType==1&&(u.node.isBlock&&u.parent||!u.contentDOM)){let o=u.dom.getBoundingClientRect();if(u.node.isBlock&&u.parent&&(!a&&o.left>i.left||o.top>i.top?s=u.posBefore:(!a&&o.right<i.left||o.bottom<i.top)&&(s=u.posAfter),a=!0),!u.contentDOM&&s<0&&!u.node.isText)return(u.node.isBlock?i.top<(o.top+o.bottom)/2:i.left<(o.left+o.right)/2)?u.posBefore:u.posAfter}r=u.dom.parentNode}return s>-1?s:e.docView.posFromDOM(t,n,-1)}function NI(e,t,n){let i=e.childNodes.length;if(i&&n.top<n.bottom)for(let s=Math.max(0,Math.min(i-1,Math.floor(i*(t.top-n.top)/(n.bottom-n.top))-2)),r=s;;){let a=e.childNodes[r];if(a.nodeType==1){let u=a.getClientRects();for(let o=0;o<u.length;o++){let l=u[o];if(Ny(t,l))return NI(a,t,l)}}if((r=(r+1)%i)==s)break}return e}function yZ(e,t){let n=e.dom.ownerDocument,i,s=0,r=oZ(n,t.left,t.top);r&&({node:i,offset:s}=r);let a=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),u;if(!a||!e.dom.contains(a.nodeType!=1?a.parentNode:a)){let l=e.dom.getBoundingClientRect();if(!Ny(t,l)||(a=NI(e.dom,t,l),!a))return null}if(hi)for(let l=a;i&&l;l=Tu(l))l.draggable&&(i=void 0);if(a=gZ(a,t),i){if(Gs&&i.nodeType==1&&(s=Math.min(s,i.childNodes.length),s<i.childNodes.length)){let c=i.childNodes[s],d;c.nodeName=="IMG"&&(d=c.getBoundingClientRect()).right<=t.left&&d.bottom>t.top&&s++}let l;Zu&&s&&i.nodeType==1&&(l=i.childNodes[s-1]).nodeType==1&&l.contentEditable=="false"&&l.getBoundingClientRect().top>=t.top&&s--,i==e.dom&&s==i.childNodes.length-1&&i.lastChild.nodeType==1&&t.top>i.lastChild.getBoundingClientRect().bottom?u=e.state.doc.content.size:(s==0||i.nodeType!=1||i.childNodes[s-1].nodeName!="BR")&&(u=vZ(e,i,s,t))}u==null&&(u=mZ(e,a,t));let o=e.docView.nearestDesc(a,!0);return{pos:u,inside:o?o.posAtStart-o.border:-1}}function j_(e){return e.top<e.bottom||e.left<e.right}function to(e,t){let n=e.getClientRects();if(n.length){let i=n[t<0?0:n.length-1];if(j_(i))return i}return Array.prototype.find.call(n,j_)||e.getBoundingClientRect()}const bZ=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function RI(e,t,n){let{node:i,offset:s,atom:r}=e.docView.domFromPos(t,n<0?-1:1),a=Zu||Gs;if(i.nodeType==3)if(a&&(bZ.test(i.nodeValue)||(n<0?!s:s==i.nodeValue.length))){let o=to(Sr(i,s,s),n);if(Gs&&s&&/\s/.test(i.nodeValue[s-1])&&s<i.nodeValue.length){let l=to(Sr(i,s-1,s-1),-1);if(l.top==o.top){let c=to(Sr(i,s,s+1),-1);if(c.top!=o.top)return Sc(c,c.left<l.left)}}return o}else{let o=s,l=s,c=n<0?1:-1;return n<0&&!s?(l++,c=-1):n>=0&&s==i.nodeValue.length?(o--,c=1):n<0?o--:l++,Sc(to(Sr(i,o,l),c),c<0)}if(!e.state.doc.resolve(t-(r||0)).parent.inlineContent){if(r==null&&s&&(n<0||s==fs(i))){let o=i.childNodes[s-1];if(o.nodeType==1)return Eg(o.getBoundingClientRect(),!1)}if(r==null&&s<fs(i)){let o=i.childNodes[s];if(o.nodeType==1)return Eg(o.getBoundingClientRect(),!0)}return Eg(i.getBoundingClientRect(),n>=0)}if(r==null&&s&&(n<0||s==fs(i))){let o=i.childNodes[s-1],l=o.nodeType==3?Sr(o,fs(o)-(a?0:1)):o.nodeType==1&&(o.nodeName!="BR"||!o.nextSibling)?o:null;if(l)return Sc(to(l,1),!1)}if(r==null&&s<fs(i)){let o=i.childNodes[s];for(;o.pmViewDesc&&o.pmViewDesc.ignoreForCoords;)o=o.nextSibling;let l=o?o.nodeType==3?Sr(o,0,a?0:1):o.nodeType==1?o:null:null;if(l)return Sc(to(l,-1),!0)}return Sc(to(i.nodeType==3?Sr(i):i,-n),n>=0)}function Sc(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function Eg(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function DI(e,t,n){let i=e.state,s=e.root.activeElement;i!=t&&e.updateState(t),s!=e.dom&&e.focus();try{return n()}finally{i!=t&&e.updateState(i),s!=e.dom&&s&&s.focus()}}function EZ(e,t,n){let i=t.selection,s=n=="up"?i.$from:i.$to;return DI(e,t,()=>{let{node:r}=e.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let u=e.docView.nearestDesc(r,!0);if(!u)break;if(u.node.isBlock){r=u.contentDOM||u.dom;break}r=u.dom.parentNode}let a=RI(e,s.pos,1);for(let u=r.firstChild;u;u=u.nextSibling){let o;if(u.nodeType==1)o=u.getClientRects();else if(u.nodeType==3)o=Sr(u,0,u.nodeValue.length).getClientRects();else continue;for(let l=0;l<o.length;l++){let c=o[l];if(c.bottom>c.top+1&&(n=="up"?a.top-c.top>(c.bottom-a.top)*2:c.bottom-a.bottom>(a.bottom-c.top)*2))return!1}}return!0})}const _Z=/[\u0590-\u08ac]/;function CZ(e,t,n){let{$head:i}=t.selection;if(!i.parent.isTextblock)return!1;let s=i.parentOffset,r=!s,a=s==i.parent.content.size,u=e.domSelection();return u?!_Z.test(i.parent.textContent)||!u.modify?n=="left"||n=="backward"?r:a:DI(e,t,()=>{let{focusNode:o,focusOffset:l,anchorNode:c,anchorOffset:d}=e.domSelectionRange(),h=u.caretBidiLevel;u.modify("move",n,"character");let f=i.depth?e.docView.domAfterPos(i.before()):e.dom,{focusNode:p,focusOffset:g}=e.domSelectionRange(),m=p&&!f.contains(p.nodeType==1?p:p.parentNode)||o==p&&l==g;try{u.collapse(c,d),o&&(o!=c||l!=d)&&u.extend&&u.extend(o,l)}catch{}return h!=null&&(u.caretBidiLevel=h),m}):i.pos==i.start()||i.pos==i.end()}let U_=null,G_=null,W_=!1;function SZ(e,t,n){return U_==t&&G_==n?W_:(U_=t,G_=n,W_=n=="up"||n=="down"?EZ(e,t,n):CZ(e,t,n))}const gs=0,z_=1,fa=2,cr=3;class Qu{constructor(t,n,i,s){this.parent=t,this.children=n,this.dom=i,this.contentDOM=s,this.dirty=gs,i.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,i){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,i=this.posAtStart;;n++){let s=this.children[n];if(s==t)return i;i+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,i){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(i<0){let r,a;if(t==this.contentDOM)r=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;r=t.previousSibling}for(;r&&!((a=r.pmViewDesc)&&a.parent==this);)r=r.previousSibling;return r?this.posBeforeChild(a)+a.size:this.posAtStart}else{let r,a;if(t==this.contentDOM)r=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;r=t.nextSibling}for(;r&&!((a=r.pmViewDesc)&&a.parent==this);)r=r.nextSibling;return r?this.posBeforeChild(a):this.posAtEnd}let s;if(t==this.dom&&this.contentDOM)s=n>Wn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let r=t;;r=r.parentNode){if(r==this.dom){s=!1;break}if(r.previousSibling)break}if(s==null&&n==t.childNodes.length)for(let r=t;;r=r.parentNode){if(r==this.dom){s=!0;break}if(r.nextSibling)break}}return s??i>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let i=!0,s=t;s;s=s.parentNode){let r=this.getDesc(s),a;if(r&&(!n||r.node))if(i&&(a=r.nodeDOM)&&!(a.nodeType==1?a.contains(t.nodeType==1?t:t.parentNode):a==t))i=!1;else return r}}getDesc(t){let n=t.pmViewDesc;for(let i=n;i;i=i.parent)if(i==this)return n}posFromDOM(t,n,i){for(let s=t;s;s=s.parentNode){let r=this.getDesc(s);if(r)return r.localPosFromDOM(t,n,i)}return-1}descAt(t){for(let n=0,i=0;n<this.children.length;n++){let s=this.children[n],r=i+s.size;if(i==t&&r!=i){for(;!s.border&&s.children.length;)s=s.children[0];return s}if(t<r)return s.descAt(t-i-s.border);i=r}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let i=0,s=0;for(let r=0;i<this.children.length;i++){let a=this.children[i],u=r+a.size;if(u>t||a instanceof FI){s=t-r;break}r=u}if(s)return this.children[i].domFromPos(s-this.children[i].border,n);for(let r;i&&!(r=this.children[i-1]).size&&r instanceof LI&&r.side>=0;i--);if(n<=0){let r,a=!0;for(;r=i?this.children[i-1]:null,!(!r||r.dom.parentNode==this.contentDOM);i--,a=!1);return r&&n&&a&&!r.border&&!r.domAtom?r.domFromPos(r.size,n):{node:this.contentDOM,offset:r?Wn(r.dom)+1:0}}else{let r,a=!0;for(;r=i<this.children.length?this.children[i]:null,!(!r||r.dom.parentNode==this.contentDOM);i++,a=!1);return r&&a&&!r.border&&!r.domAtom?r.domFromPos(0,n):{node:this.contentDOM,offset:r?Wn(r.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,i=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,r=-1;for(let a=i,u=0;;u++){let o=this.children[u],l=a+o.size;if(s==-1&&t<=l){let c=a+o.border;if(t>=c&&n<=l-o.border&&o.node&&o.contentDOM&&this.contentDOM.contains(o.contentDOM))return o.parseRange(t,n,c);t=a;for(let d=u;d>0;d--){let h=this.children[d-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){s=Wn(h.dom)+1;break}t-=h.size}s==-1&&(s=0)}if(s>-1&&(l>n||u==this.children.length-1)){n=l;for(let c=u+1;c<this.children.length;c++){let d=this.children[c];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){r=Wn(d.dom);break}n+=d.size}r==-1&&(r=this.contentDOM.childNodes.length);break}a=l}return{node:this.contentDOM,from:t,to:n,fromOffset:s,toOffset:r}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:i}=this.domFromPos(t,0);if(n.nodeType!=1||i==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[i]}setSelection(t,n,i,s=!1){let r=Math.min(t,n),a=Math.max(t,n);for(let h=0,f=0;h<this.children.length;h++){let p=this.children[h],g=f+p.size;if(r>f&&a<g)return p.setSelection(t-f-p.border,n-f-p.border,i,s);f=g}let u=this.domFromPos(t,t?-1:1),o=n==t?u:this.domFromPos(n,n?-1:1),l=i.getSelection(),c=!1;if((Gs||hi)&&t==n){let{node:h,offset:f}=u;if(h.nodeType==3){if(c=!!(f&&h.nodeValue[f-1]==`
`),c&&f==h.nodeValue.length)for(let p=h,g;p;p=p.parentNode){if(g=p.nextSibling){g.nodeName=="BR"&&(u=o={node:g.parentNode,offset:Wn(g)+1});break}let m=p.pmViewDesc;if(m&&m.node&&m.node.isBlock)break}}else{let p=h.childNodes[f-1];c=p&&(p.nodeName=="BR"||p.contentEditable=="false")}}if(Gs&&l.focusNode&&l.focusNode!=o.node&&l.focusNode.nodeType==1){let h=l.focusNode.childNodes[l.focusOffset];h&&h.contentEditable=="false"&&(s=!0)}if(!(s||c&&hi)&&Na(u.node,u.offset,l.anchorNode,l.anchorOffset)&&Na(o.node,o.offset,l.focusNode,l.focusOffset))return;let d=!1;if((l.extend||t==n)&&!c){l.collapse(u.node,u.offset);try{t!=n&&l.extend(o.node,o.offset),d=!0}catch{}}if(!d){if(t>n){let f=u;u=o,o=f}let h=document.createRange();h.setEnd(o.node,o.offset),h.setStart(u.node,u.offset),l.removeAllRanges(),l.addRange(h)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let i=0,s=0;s<this.children.length;s++){let r=this.children[s],a=i+r.size;if(i==a?t<=a&&n>=i:t<a&&n>i){let u=i+r.border,o=a-r.border;if(t>=u&&n<=o){this.dirty=t==i||n==a?fa:z_,t==u&&n==o&&(r.contentLost||r.dom.parentNode!=this.contentDOM)?r.dirty=cr:r.markDirty(t-u,n-u);return}else r.dirty=r.dom==r.contentDOM&&r.dom.parentNode==this.contentDOM&&!r.children.length?fa:cr}i=a}this.dirty=fa}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let i=t==1?fa:z_;n.dirty<i&&(n.dirty=i)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(t){return!1}}class LI extends Qu{constructor(t,n,i,s){let r,a=n.type.toDOM;if(typeof a=="function"&&(a=a(i,()=>{if(!r)return s;if(r.parent)return r.parent.posBeforeChild(r)})),!n.type.spec.raw){if(a.nodeType!=1){let u=document.createElement("span");u.appendChild(a),a=u}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(t,[],a,null),this.widget=n,this.widget=n,r=this}matchesWidget(t){return this.dirty==gs&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class xZ extends Qu{constructor(t,n,i,s){super(t,[],n,null),this.textDOM=i,this.text=s}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class Ra extends Qu{constructor(t,n,i,s){super(t,[],i,s),this.mark=n}static create(t,n,i,s){let r=s.nodeViews[n.type.name],a=r&&r(n,s,i);return(!a||!a.dom)&&(a=ja.renderSpec(document,n.type.spec.toDOM(n,i),null,n.attrs)),new Ra(t,n,a.dom,a.contentDOM||a.dom)}parseRule(){return this.dirty&cr||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=cr&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=gs){let i=this.parent;for(;!i.node;)i=i.parent;i.dirty<this.dirty&&(i.dirty=this.dirty),this.dirty=gs}}slice(t,n,i){let s=Ra.create(this.parent,this.mark,!0,i),r=this.children,a=this.size;n<a&&(r=Bm(r,n,a,i)),t>0&&(r=Bm(r,0,t,i));for(let u=0;u<r.length;u++)r[u].parent=s;return s.children=r,s}}class xo extends Qu{constructor(t,n,i,s,r,a,u,o,l){super(t,[],r,a),this.node=n,this.outerDeco=i,this.innerDeco=s,this.nodeDOM=u}static create(t,n,i,s,r,a){let u=r.nodeViews[n.type.name],o,l=u&&u(n,r,()=>{if(!o)return a;if(o.parent)return o.parent.posBeforeChild(o)},i,s),c=l&&l.dom,d=l&&l.contentDOM;if(n.isText){if(!c)c=document.createTextNode(n.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:d}=ja.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),n.type.spec.draggable&&(c.draggable=!0));let h=c;return c=HI(c,i,n),l?o=new TZ(t,n,i,s,c,d||null,h,l,r,a+1):n.isText?new Zf(t,n,i,s,c,h,r):new xo(t,n,i,s,c,d||null,h,r,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let i=this.children[n];if(this.dom.contains(i.dom.parentNode)){t.contentElement=i.dom.parentNode;break}}t.contentElement||(t.getContent=()=>le.empty)}return t}matchesNode(t,n,i){return this.dirty==gs&&t.eq(this.node)&&Bh(n,this.outerDeco)&&i.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let i=this.node.inlineContent,s=n,r=t.composing?this.localCompositionInfo(t,n):null,a=r&&r.pos>-1?r:null,u=r&&r.pos<0,o=new IZ(this,a&&a.node,t);AZ(this.node,this.innerDeco,(l,c,d)=>{l.spec.marks?o.syncToMarks(l.spec.marks,i,t):l.type.side>=0&&!d&&o.syncToMarks(c==this.node.childCount?jt.none:this.node.child(c).marks,i,t),o.placeWidget(l,t,s)},(l,c,d,h)=>{o.syncToMarks(l.marks,i,t);let f;o.findNodeMatch(l,c,d,h)||u&&t.state.selection.from>s&&t.state.selection.to<s+l.nodeSize&&(f=o.findIndexWithChild(r.node))>-1&&o.updateNodeAt(l,c,d,f,t)||o.updateNextNode(l,c,d,t,h,s)||o.addNode(l,c,d,t,s),s+=l.nodeSize}),o.syncToMarks([],i,t),this.node.isTextblock&&o.addTextblockHacks(),o.destroyRest(),(o.changed||this.dirty==fa)&&(a&&this.protectLocalComposition(t,a),VI(this.contentDOM,this.children,t),Dl&&PZ(this.dom))}localCompositionInfo(t,n){let{from:i,to:s}=t.state.selection;if(!(t.state.selection instanceof vt)||i<n||s>n+this.node.content.size)return null;let r=t.input.compositionNode;if(!r||!this.dom.contains(r.parentNode))return null;if(this.node.inlineContent){let a=r.nodeValue,u=$Z(this.node.content,a,i-n,s-n);return u<0?null:{node:r,pos:u,text:a}}else return{node:r,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:i,text:s}){if(this.getDesc(n))return;let r=n;for(;r.parentNode!=this.contentDOM;r=r.parentNode){for(;r.previousSibling;)r.parentNode.removeChild(r.previousSibling);for(;r.nextSibling;)r.parentNode.removeChild(r.nextSibling);r.pmViewDesc&&(r.pmViewDesc=void 0)}let a=new xZ(this,r,n,s);t.input.compositionNodes.push(a),this.children=Bm(this.children,i,i+s.length,t,a)}update(t,n,i,s){return this.dirty==cr||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,i,s),!0)}updateInner(t,n,i,s){this.updateOuterDeco(n),this.node=t,this.innerDeco=i,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=gs}updateOuterDeco(t){if(Bh(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,i=this.dom;this.dom=BI(this.dom,this.nodeDOM,Vm(this.outerDeco,this.node,n),Vm(t,this.node,n)),this.dom!=i&&(i.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function K_(e,t,n,i,s){HI(i,t,e);let r=new xo(void 0,e,t,n,i,i,i,s,0);return r.contentDOM&&r.updateChildren(s,0),r}class Zf extends xo{constructor(t,n,i,s,r,a,u){super(t,n,i,s,r,null,a,u,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,i,s){return this.dirty==cr||this.dirty!=gs&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=gs||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=t,this.dirty=gs,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,i){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,i)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,i){let s=this.node.cut(t,n),r=document.createTextNode(s.text);return new Zf(this.parent,s,this.outerDeco,this.innerDeco,r,r,i)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=cr)}get domAtom(){return!1}isText(t){return this.node.text==t}}class FI extends Qu{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==gs&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class TZ extends xo{constructor(t,n,i,s,r,a,u,o,l,c){super(t,n,i,s,r,a,u,l,c),this.spec=o}update(t,n,i,s){if(this.dirty==cr)return!1;if(this.spec.update){let r=this.spec.update(t,n,i);return r&&this.updateInner(t,n,i,s),r}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,i,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,i,s){this.spec.setSelection?this.spec.setSelection(t,n,i):super.setSelection(t,n,i,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function VI(e,t,n){let i=e.firstChild,s=!1;for(let r=0;r<t.length;r++){let a=t[r],u=a.dom;if(u.parentNode==e){for(;u!=i;)i=q_(i),s=!0;i=i.nextSibling}else s=!0,e.insertBefore(u,i);if(a instanceof Ra){let o=i?i.previousSibling:e.lastChild;VI(a.contentDOM,a.children,n),i=o?o.nextSibling:e.firstChild}}for(;i;)i=q_(i),s=!0;s&&n.trackWrites==e&&(n.trackWrites=null)}const ou=function(e){e&&(this.nodeName=e)};ou.prototype=Object.create(null);const pa=[new ou];function Vm(e,t,n){if(e.length==0)return pa;let i=n?pa[0]:new ou,s=[i];for(let r=0;r<e.length;r++){let a=e[r].type.attrs;if(a){a.nodeName&&s.push(i=new ou(a.nodeName));for(let u in a){let o=a[u];o!=null&&(n&&s.length==1&&s.push(i=new ou(t.isInline?"span":"div")),u=="class"?i.class=(i.class?i.class+" ":"")+o:u=="style"?i.style=(i.style?i.style+";":"")+o:u!="nodeName"&&(i[u]=o))}}}return s}function BI(e,t,n,i){if(n==pa&&i==pa)return t;let s=t;for(let r=0;r<i.length;r++){let a=i[r],u=n[r];if(r){let o;u&&u.nodeName==a.nodeName&&s!=e&&(o=s.parentNode)&&o.nodeName.toLowerCase()==a.nodeName||(o=document.createElement(a.nodeName),o.pmIsDeco=!0,o.appendChild(s),u=pa[0]),s=o}wZ(s,u||pa[0],a)}return s}function wZ(e,t,n){for(let i in t)i!="class"&&i!="style"&&i!="nodeName"&&!(i in n)&&e.removeAttribute(i);for(let i in n)i!="class"&&i!="style"&&i!="nodeName"&&n[i]!=t[i]&&e.setAttribute(i,n[i]);if(t.class!=n.class){let i=t.class?t.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let r=0;r<i.length;r++)s.indexOf(i[r])==-1&&e.classList.remove(i[r]);for(let r=0;r<s.length;r++)i.indexOf(s[r])==-1&&e.classList.add(s[r]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let i=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=i.exec(t.style);)e.style.removeProperty(s[1])}n.style&&(e.style.cssText+=n.style)}}function HI(e,t,n){return BI(e,e,pa,Vm(t,n,e.nodeType!=1))}function Bh(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function q_(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class IZ{constructor(t,n,i){this.lock=n,this.view=i,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=OZ(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let i=t;i<n;i++)this.top.children[i].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,i){let s=0,r=this.stack.length>>1,a=Math.min(r,t.length);for(;s<a&&(s==r-1?this.top:this.stack[s+1<<1]).matchesMark(t[s])&&t[s].type.spec.spanning!==!1;)s++;for(;s<r;)this.destroyRest(),this.top.dirty=gs,this.index=this.stack.pop(),this.top=this.stack.pop(),r--;for(;r<t.length;){this.stack.push(this.top,this.index+1);let u=-1;for(let o=this.index;o<Math.min(this.index+3,this.top.children.length);o++){let l=this.top.children[o];if(l.matchesMark(t[r])&&!this.isLocked(l.dom)){u=o;break}}if(u>-1)u>this.index&&(this.changed=!0,this.destroyBetween(this.index,u)),this.top=this.top.children[this.index];else{let o=Ra.create(this.top,t[r],n,i);this.top.children.splice(this.index,0,o),this.top=o,this.changed=!0}this.index=0,r++}}findNodeMatch(t,n,i,s){let r=-1,a;if(s>=this.preMatch.index&&(a=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&a.matchesNode(t,n,i))r=this.top.children.indexOf(a,this.index);else for(let u=this.index,o=Math.min(this.top.children.length,u+5);u<o;u++){let l=this.top.children[u];if(l.matchesNode(t,n,i)&&!this.preMatch.matched.has(l)){r=u;break}}return r<0?!1:(this.destroyBetween(this.index,r),this.index++,!0)}updateNodeAt(t,n,i,s,r){let a=this.top.children[s];return a.dirty==cr&&a.dom==a.contentDOM&&(a.dirty=fa),a.update(t,n,i,r)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let i=t.pmViewDesc;if(i){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==i)return s}return-1}t=n}}updateNextNode(t,n,i,s,r,a){for(let u=this.index;u<this.top.children.length;u++){let o=this.top.children[u];if(o instanceof xo){let l=this.preMatch.matched.get(o);if(l!=null&&l!=r)return!1;let c=o.dom,d,h=this.isLocked(c)&&!(t.isText&&o.node&&o.node.isText&&o.nodeDOM.nodeValue==t.text&&o.dirty!=cr&&Bh(n,o.outerDeco));if(!h&&o.update(t,n,i,s))return this.destroyBetween(this.index,u),o.dom!=c&&(this.changed=!0),this.index++,!0;if(!h&&(d=this.recreateWrapper(o,t,n,i,s,a)))return this.destroyBetween(this.index,u),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=fa,d.updateChildren(s,a+1),d.dirty=gs),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,i,s,r,a){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content)||!Bh(i,t.outerDeco)||!s.eq(t.innerDeco))return null;let u=xo.create(this.top,n,i,s,r,a);if(u.contentDOM){u.children=t.children,t.children=[];for(let o of u.children)o.parent=u}return t.destroy(),u}addNode(t,n,i,s,r){let a=xo.create(this.top,t,n,i,s,r);a.contentDOM&&a.updateChildren(s,r+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(t,n,i){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(t)&&(t==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let r=new LI(this.top,t,n,i);this.top.children.splice(this.index++,0,r),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof Ra;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof Zf)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((hi||ei)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let i=document.createElement(t);t=="IMG"&&(i.className="ProseMirror-separator",i.alt=""),t=="BR"&&(i.className="ProseMirror-trailingBreak");let s=new FI(this.top,[],i,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function OZ(e,t){let n=t,i=n.children.length,s=e.childCount,r=new Map,a=[];e:for(;s>0;){let u;for(;;)if(i){let l=n.children[i-1];if(l instanceof Ra)n=l,i=l.children.length;else{u=l,i--;break}}else{if(n==t)break e;i=n.parent.children.indexOf(n),n=n.parent}let o=u.node;if(o){if(o!=e.child(s-1))break;--s,r.set(u,s),a.push(u)}}return{index:s,matched:r,matches:a.reverse()}}function kZ(e,t){return e.type.side-t.type.side}function AZ(e,t,n,i){let s=t.locals(e),r=0;if(s.length==0){for(let l=0;l<e.childCount;l++){let c=e.child(l);i(c,s,t.forChild(r,c),l),r+=c.nodeSize}return}let a=0,u=[],o=null;for(let l=0;;){let c,d;for(;a<s.length&&s[a].to==r;){let m=s[a++];m.widget&&(c?(d||(d=[c])).push(m):c=m)}if(c)if(d){d.sort(kZ);for(let m=0;m<d.length;m++)n(d[m],l,!!o)}else n(c,l,!!o);let h,f;if(o)f=-1,h=o,o=null;else if(l<e.childCount)f=l,h=e.child(l++);else break;for(let m=0;m<u.length;m++)u[m].to<=r&&u.splice(m--,1);for(;a<s.length&&s[a].from<=r&&s[a].to>r;)u.push(s[a++]);let p=r+h.nodeSize;if(h.isText){let m=p;a<s.length&&s[a].from<m&&(m=s[a].from);for(let y=0;y<u.length;y++)u[y].to<m&&(m=u[y].to);m<p&&(o=h.cut(m-r),h=h.cut(0,m-r),p=m,f=-1)}else for(;a<s.length&&s[a].to<p;)a++;let g=h.isInline&&!h.isLeaf?u.filter(m=>!m.inline):u.slice();i(h,g,t.forChild(r,h),f),r=p}}function PZ(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function $Z(e,t,n,i){for(let s=0,r=0;s<e.childCount&&r<=i;){let a=e.child(s++),u=r;if(r+=a.nodeSize,!a.isText)continue;let o=a.text;for(;s<e.childCount;){let l=e.child(s++);if(r+=l.nodeSize,!l.isText)break;o+=l.text}if(r>=n){if(r>=i&&o.slice(i-t.length-u,i-u)==t)return i-t.length;let l=u<i?o.lastIndexOf(t,i-u-1):-1;if(l>=0&&l+t.length+u>=n)return u+l;if(n==i&&o.length>=i+t.length-u&&o.slice(i-u,i-u+t.length)==t)return i}}return-1}function Bm(e,t,n,i,s){let r=[];for(let a=0,u=0;a<e.length;a++){let o=e[a],l=u,c=u+=o.size;l>=n||c<=t?r.push(o):(l<t&&r.push(o.slice(0,t-l,i)),s&&(r.push(s),s=void 0),c>n&&r.push(o.slice(n-l,o.size,i)))}return r}function Ry(e,t=null){let n=e.domSelectionRange(),i=e.state.doc;if(!n.focusNode)return null;let s=e.docView.nearestDesc(n.focusNode),r=s&&s.size==0,a=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let u=i.resolve(a),o,l;if(Xf(n)){for(o=a;s&&!s.node;)s=s.parent;let d=s.node;if(s&&d.isAtom&&Ze.isSelectable(d)&&s.parent&&!(d.isInline&&sZ(n.focusNode,n.focusOffset,s.dom))){let h=s.posBefore;l=new Ze(a==h?u:i.resolve(h))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let d=a,h=a;for(let f=0;f<n.rangeCount;f++){let p=n.getRangeAt(f);d=Math.min(d,e.docView.posFromDOM(p.startContainer,p.startOffset,1)),h=Math.max(h,e.docView.posFromDOM(p.endContainer,p.endOffset,-1))}if(d<0)return null;[o,a]=h==e.state.selection.anchor?[h,d]:[d,h],u=i.resolve(a)}else o=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(o<0)return null}let c=i.resolve(o);if(!l){let d=t=="pointer"||e.state.selection.head<u.pos&&!r?1:-1;l=Dy(e,c,u,d)}return l}function jI(e){return e.editable?e.hasFocus():GI(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Pr(e,t=!1){let n=e.state.selection;if(UI(e,n),!!jI(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&ei){let i=e.domSelectionRange(),s=e.domObserver.currentSelection;if(i.anchorNode&&s.anchorNode&&Na(i.anchorNode,i.anchorOffset,s.anchorNode,s.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)NZ(e);else{let{anchor:i,head:s}=n,r,a;Y_&&!(n instanceof vt)&&(n.$from.parent.inlineContent||(r=J_(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=J_(e,n.to))),e.docView.setSelection(i,s,e.root,t),Y_&&(r&&X_(r),a&&X_(a)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&MZ(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const Y_=hi||ei&&AI<63;function J_(e,t){let{node:n,offset:i}=e.docView.domFromPos(t,0),s=i<n.childNodes.length?n.childNodes[i]:null,r=i?n.childNodes[i-1]:null;if(hi&&s&&s.contentEditable=="false")return _g(s);if((!s||s.contentEditable=="false")&&(!r||r.contentEditable=="false")){if(s)return _g(s);if(r)return _g(r)}}function _g(e){return e.contentEditable="true",hi&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function X_(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function MZ(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),i=n.anchorNode,s=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=i||n.anchorOffset!=s)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!jI(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function NZ(e){let t=e.domSelection(),n=document.createRange();if(!t)return;let i=e.cursorWrapper.dom,s=i.nodeName=="IMG";s?n.setStart(i.parentNode,Wn(i)+1):n.setStart(i,0),n.collapse(!0),t.removeAllRanges(),t.addRange(n),!s&&!e.state.selection.visible&&Oi&&So<=11&&(i.disabled=!0,i.disabled=!1)}function UI(e,t){if(t instanceof Ze){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(Z_(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else Z_(e)}function Z_(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function Dy(e,t,n,i){return e.someProp("createSelectionBetween",s=>s(e,t,n))||vt.between(t,n,i)}function Q_(e){return e.editable&&!e.hasFocus()?!1:GI(e)}function GI(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function RZ(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return Na(t.node,t.offset,n.anchorNode,n.anchorOffset)}function Hm(e,t){let{$anchor:n,$head:i}=e.selection,s=t>0?n.max(i):n.min(i),r=s.parent.inlineContent?s.depth?e.doc.resolve(t>0?s.after():s.before()):null:s;return r&&St.findFrom(r,t)}function uo(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function eC(e,t,n){let i=e.state.selection;if(i instanceof vt)if(n.indexOf("s")>-1){let{$head:s}=i,r=s.textOffset?null:t<0?s.nodeBefore:s.nodeAfter;if(!r||r.isText||!r.isLeaf)return!1;let a=e.state.doc.resolve(s.pos+r.nodeSize*(t<0?-1:1));return uo(e,new vt(i.$anchor,a))}else if(i.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let s=Hm(e.state,t);return s&&s instanceof Ze?uo(e,s):!1}else if(!(ls&&n.indexOf("m")>-1)){let s=i.$head,r=s.textOffset?null:t<0?s.nodeBefore:s.nodeAfter,a;if(!r||r.isText)return!1;let u=t<0?s.pos-r.nodeSize:s.pos;return r.isAtom||(a=e.docView.descAt(u))&&!a.contentDOM?Ze.isSelectable(r)?uo(e,new Ze(t<0?e.state.doc.resolve(s.pos-r.nodeSize):s)):Zu?uo(e,new vt(e.state.doc.resolve(t<0?u:u+r.nodeSize))):!1:!1}}else return!1;else{if(i instanceof Ze&&i.node.isInline)return uo(e,new vt(t>0?i.$to:i.$from));{let s=Hm(e.state,t);return s?uo(e,s):!1}}}function Hh(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function au(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function sl(e,t){return t<0?DZ(e):LZ(e)}function DZ(e){let t=e.domSelectionRange(),n=t.focusNode,i=t.focusOffset;if(!n)return;let s,r,a=!1;for(Gs&&n.nodeType==1&&i<Hh(n)&&au(n.childNodes[i],-1)&&(a=!0);;)if(i>0){if(n.nodeType!=1)break;{let u=n.childNodes[i-1];if(au(u,-1))s=n,r=--i;else if(u.nodeType==3)n=u,i=n.nodeValue.length;else break}}else{if(WI(n))break;{let u=n.previousSibling;for(;u&&au(u,-1);)s=n.parentNode,r=Wn(u),u=u.previousSibling;if(u)n=u,i=Hh(n);else{if(n=n.parentNode,n==e.dom)break;i=0}}}a?jm(e,n,i):s&&jm(e,s,r)}function LZ(e){let t=e.domSelectionRange(),n=t.focusNode,i=t.focusOffset;if(!n)return;let s=Hh(n),r,a;for(;;)if(i<s){if(n.nodeType!=1)break;let u=n.childNodes[i];if(au(u,1))r=n,a=++i;else break}else{if(WI(n))break;{let u=n.nextSibling;for(;u&&au(u,1);)r=u.parentNode,a=Wn(u)+1,u=u.nextSibling;if(u)n=u,i=0,s=Hh(n);else{if(n=n.parentNode,n==e.dom)break;i=s=0}}}r&&jm(e,r,a)}function WI(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function FZ(e,t){for(;e&&t==e.childNodes.length&&!Xu(e);)t=Wn(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function VZ(e,t){for(;e&&!t&&!Xu(e);)t=Wn(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function jm(e,t,n){if(t.nodeType!=3){let r,a;(a=FZ(t,n))?(t=a,n=0):(r=VZ(t,n))&&(t=r,n=r.nodeValue.length)}let i=e.domSelection();if(!i)return;if(Xf(i)){let r=document.createRange();r.setEnd(t,n),r.setStart(t,n),i.removeAllRanges(),i.addRange(r)}else i.extend&&i.extend(t,n);e.domObserver.setCurSelection();let{state:s}=e;setTimeout(()=>{e.state==s&&Pr(e)},50)}function tC(e,t){let n=e.state.doc.resolve(t);if(!(ei||aZ)&&n.parent.inlineContent){let s=e.coordsAtPos(t);if(t>n.start()){let r=e.coordsAtPos(t-1),a=(r.top+r.bottom)/2;if(a>s.top&&a<s.bottom&&Math.abs(r.left-s.left)>1)return r.left<s.left?"ltr":"rtl"}if(t<n.end()){let r=e.coordsAtPos(t+1),a=(r.top+r.bottom)/2;if(a>s.top&&a<s.bottom&&Math.abs(r.left-s.left)>1)return r.left>s.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function nC(e,t,n){let i=e.state.selection;if(i instanceof vt&&!i.empty||n.indexOf("s")>-1||ls&&n.indexOf("m")>-1)return!1;let{$from:s,$to:r}=i;if(!s.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let a=Hm(e.state,t);if(a&&a instanceof Ze)return uo(e,a)}if(!s.parent.inlineContent){let a=t<0?s:r,u=i instanceof Vs?St.near(a,t):St.findFrom(a,t);return u?uo(e,u):!1}return!1}function iC(e,t){if(!(e.state.selection instanceof vt))return!0;let{$head:n,$anchor:i,empty:s}=e.state.selection;if(!n.sameParent(i))return!0;if(!s)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let r=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(r&&!r.isText){let a=e.state.tr;return t<0?a.delete(n.pos-r.nodeSize,n.pos):a.delete(n.pos,n.pos+r.nodeSize),e.dispatch(a),!0}return!1}function sC(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function BZ(e){if(!hi||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let i=t.firstChild;sC(e,i,"true"),setTimeout(()=>sC(e,i,"false"),20)}return!1}function HZ(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function jZ(e,t){let n=t.keyCode,i=HZ(t);if(n==8||ls&&n==72&&i=="c")return iC(e,-1)||sl(e,-1);if(n==46&&!t.shiftKey||ls&&n==68&&i=="c")return iC(e,1)||sl(e,1);if(n==13||n==27)return!0;if(n==37||ls&&n==66&&i=="c"){let s=n==37?tC(e,e.state.selection.from)=="ltr"?-1:1:-1;return eC(e,s,i)||sl(e,s)}else if(n==39||ls&&n==70&&i=="c"){let s=n==39?tC(e,e.state.selection.from)=="ltr"?1:-1:1;return eC(e,s,i)||sl(e,s)}else{if(n==38||ls&&n==80&&i=="c")return nC(e,-1,i)||sl(e,-1);if(n==40||ls&&n==78&&i=="c")return BZ(e)||nC(e,1,i)||sl(e,1);if(i==(ls?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function zI(e,t){e.someProp("transformCopied",f=>{t=f(t,e)});let n=[],{content:i,openStart:s,openEnd:r}=t;for(;s>1&&r>1&&i.childCount==1&&i.firstChild.childCount==1;){s--,r--;let f=i.firstChild;n.push(f.type.name,f.attrs!=f.type.defaultAttrs?f.attrs:null),i=f.content}let a=e.someProp("clipboardSerializer")||ja.fromSchema(e.state.schema),u=ZI(),o=u.createElement("div");o.appendChild(a.serializeFragment(i,{document:u}));let l=o.firstChild,c,d=0;for(;l&&l.nodeType==1&&(c=XI[l.nodeName.toLowerCase()]);){for(let f=c.length-1;f>=0;f--){let p=u.createElement(c[f]);for(;o.firstChild;)p.appendChild(o.firstChild);o.appendChild(p),d++}l=o.firstChild}l&&l.nodeType==1&&l.setAttribute("data-pm-slice",`${s} ${r}${d?` -${d}`:""} ${JSON.stringify(n)}`);let h=e.someProp("clipboardTextSerializer",f=>f(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:o,text:h,slice:t}}function KI(e,t,n,i,s){let r=s.parent.type.spec.code,a,u;if(!n&&!t)return null;let o=t&&(i||r||!n);if(o){if(e.someProp("transformPastedText",h=>{t=h(t,r||i,e)}),r)return t?new ye(le.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0):ye.empty;let d=e.someProp("clipboardTextParser",h=>h(t,s,i,e));if(d)u=d;else{let h=s.marks(),{schema:f}=e.state,p=ja.fromSchema(f);a=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(g=>{let m=a.appendChild(document.createElement("p"));g&&m.appendChild(p.serializeNode(f.text(g,h)))})}}else e.someProp("transformPastedHTML",d=>{n=d(n,e)}),a=zZ(n),Zu&&KZ(a);let l=a&&a.querySelector("[data-pm-slice]"),c=l&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(l.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let d=+c[3];d>0;d--){let h=a.firstChild;for(;h&&h.nodeType!=1;)h=h.nextSibling;if(!h)break;a=h}if(u||(u=(e.someProp("clipboardParser")||e.someProp("domParser")||iu.fromSchema(e.state.schema)).parseSlice(a,{preserveWhitespace:!!(o||c),context:s,ruleFromNode(h){return h.nodeName=="BR"&&!h.nextSibling&&h.parentNode&&!UZ.test(h.parentNode.nodeName)?{ignore:!0}:null}})),c)u=qZ(rC(u,+c[1],+c[2]),c[4]);else if(u=ye.maxOpen(GZ(u.content,s),!0),u.openStart||u.openEnd){let d=0,h=0;for(let f=u.content.firstChild;d<u.openStart&&!f.type.spec.isolating;d++,f=f.firstChild);for(let f=u.content.lastChild;h<u.openEnd&&!f.type.spec.isolating;h++,f=f.lastChild);u=rC(u,d,h)}return e.someProp("transformPasted",d=>{u=d(u,e)}),u}const UZ=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function GZ(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let s=t.node(n).contentMatchAt(t.index(n)),r,a=[];if(e.forEach(u=>{if(!a)return;let o=s.findWrapping(u.type),l;if(!o)return a=null;if(l=a.length&&r.length&&YI(o,r,u,a[a.length-1],0))a[a.length-1]=l;else{a.length&&(a[a.length-1]=JI(a[a.length-1],r.length));let c=qI(u,o);a.push(c),s=s.matchType(c.type),r=o}}),a)return le.from(a)}return e}function qI(e,t,n=0){for(let i=t.length-1;i>=n;i--)e=t[i].create(null,le.from(e));return e}function YI(e,t,n,i,s){if(s<e.length&&s<t.length&&e[s]==t[s]){let r=YI(e,t,n,i.lastChild,s+1);if(r)return i.copy(i.content.replaceChild(i.childCount-1,r));if(i.contentMatchAt(i.childCount).matchType(s==e.length-1?n.type:e[s+1]))return i.copy(i.content.append(le.from(qI(n,e,s+1))))}}function JI(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,JI(e.lastChild,t-1)),i=e.contentMatchAt(e.childCount).fillBefore(le.empty,!0);return e.copy(n.append(i))}function Um(e,t,n,i,s,r){let a=t<0?e.firstChild:e.lastChild,u=a.content;return e.childCount>1&&(r=0),s<i-1&&(u=Um(u,t,n,i,s+1,r)),s>=n&&(u=t<0?a.contentMatchAt(0).fillBefore(u,r<=s).append(u):u.append(a.contentMatchAt(a.childCount).fillBefore(le.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,a.copy(u))}function rC(e,t,n){return t<e.openStart&&(e=new ye(Um(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new ye(Um(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const XI={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let oC=null;function ZI(){return oC||(oC=document.implementation.createHTMLDocument("title"))}function WZ(e){let t=window.trustedTypes;return t?t.createPolicy("detachedDocument",{createHTML:n=>n}).createHTML(e):e}function zZ(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=ZI().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(e),s;if((s=i&&XI[i[1].toLowerCase()])&&(e=s.map(r=>"<"+r+">").join("")+e+s.map(r=>"</"+r+">").reverse().join("")),n.innerHTML=WZ(e),s)for(let r=0;r<s.length;r++)n=n.querySelector(s[r])||n;return n}function KZ(e){let t=e.querySelectorAll(ei?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let i=t[n];i.childNodes.length==1&&i.textContent==" "&&i.parentNode&&i.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),i)}}function qZ(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,i;try{i=JSON.parse(t)}catch{return e}let{content:s,openStart:r,openEnd:a}=e;for(let u=i.length-2;u>=0;u-=2){let o=n.nodes[i[u]];if(!o||o.hasRequiredAttrs())break;s=le.from(o.create(i[u+1],s)),r++,a++}return new ye(s,r,a)}const fi={},pi={},YZ={touchstart:!0,touchmove:!0};class JZ{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function XZ(e){for(let t in fi){let n=fi[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=i=>{QZ(e,i)&&!Ly(e,i)&&(e.editable||!(i.type in pi))&&n(e,i)},YZ[t]?{passive:!0}:void 0)}hi&&e.dom.addEventListener("input",()=>null),Gm(e)}function mo(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function ZZ(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function Gm(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=i=>Ly(e,i))})}function Ly(e,t){return e.someProp("handleDOMEvents",n=>{let i=n[t.type];return i?i(e,t)||t.defaultPrevented:!1})}function QZ(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function eQ(e,t){!Ly(e,t)&&fi[t.type]&&(e.editable||!(t.type in pi))&&fi[t.type](e,t)}pi.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!eO(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(Rs&&ei&&n.keyCode==13)))if(e.domObserver.selectionChanged(e.domSelectionRange())?e.domObserver.flush():n.keyCode!=229&&e.domObserver.forceFlush(),Dl&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let i=Date.now();e.input.lastIOSEnter=i,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==i&&(e.someProp("handleKeyDown",s=>s(e,da(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",i=>i(e,n))||jZ(e,n)?n.preventDefault():mo(e,"key")};pi.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};pi.keypress=(e,t)=>{let n=t;if(eO(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||ls&&n.metaKey)return;if(e.someProp("handleKeyPress",s=>s(e,n))){n.preventDefault();return}let i=e.state.selection;if(!(i instanceof vt)||!i.$from.sameParent(i.$to)){let s=String.fromCharCode(n.charCode);!/[\r\n]/.test(s)&&!e.someProp("handleTextInput",r=>r(e,i.$from.pos,i.$to.pos,s))&&e.dispatch(e.state.tr.insertText(s).scrollIntoView()),n.preventDefault()}};function Qf(e){return{left:e.clientX,top:e.clientY}}function tQ(e,t){let n=t.x-e.clientX,i=t.y-e.clientY;return n*n+i*i<100}function Fy(e,t,n,i,s){if(i==-1)return!1;let r=e.state.doc.resolve(i);for(let a=r.depth+1;a>0;a--)if(e.someProp(t,u=>a>r.depth?u(e,n,r.nodeAfter,r.before(a),s,!0):u(e,n,r.node(a),r.before(a),s,!1)))return!0;return!1}function wl(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let i=e.state.tr.setSelection(t);i.setMeta("pointer",!0),e.dispatch(i)}function nQ(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),i=n.nodeAfter;return i&&i.isAtom&&Ze.isSelectable(i)?(wl(e,new Ze(n)),!0):!1}function iQ(e,t){if(t==-1)return!1;let n=e.state.selection,i,s;n instanceof Ze&&(i=n.node);let r=e.state.doc.resolve(t);for(let a=r.depth+1;a>0;a--){let u=a>r.depth?r.nodeAfter:r.node(a);if(Ze.isSelectable(u)){i&&n.$from.depth>0&&a>=n.$from.depth&&r.before(n.$from.depth+1)==n.$from.pos?s=r.before(n.$from.depth):s=r.before(a);break}}return s!=null?(wl(e,Ze.create(e.state.doc,s)),!0):!1}function sQ(e,t,n,i,s){return Fy(e,"handleClickOn",t,n,i)||e.someProp("handleClick",r=>r(e,t,i))||(s?iQ(e,n):nQ(e,n))}function rQ(e,t,n,i){return Fy(e,"handleDoubleClickOn",t,n,i)||e.someProp("handleDoubleClick",s=>s(e,t,i))}function oQ(e,t,n,i){return Fy(e,"handleTripleClickOn",t,n,i)||e.someProp("handleTripleClick",s=>s(e,t,i))||aQ(e,n,i)}function aQ(e,t,n){if(n.button!=0)return!1;let i=e.state.doc;if(t==-1)return i.inlineContent?(wl(e,vt.create(i,0,i.content.size)),!0):!1;let s=i.resolve(t);for(let r=s.depth+1;r>0;r--){let a=r>s.depth?s.nodeAfter:s.node(r),u=s.before(r);if(a.inlineContent)wl(e,vt.create(i,u+1,u+1+a.content.size));else if(Ze.isSelectable(a))wl(e,Ze.create(i,u));else continue;return!0}}function Vy(e){return jh(e)}const QI=ls?"metaKey":"ctrlKey";fi.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let i=Vy(e),s=Date.now(),r="singleClick";s-e.input.lastClick.time<500&&tQ(n,e.input.lastClick)&&!n[QI]&&(e.input.lastClick.type=="singleClick"?r="doubleClick":e.input.lastClick.type=="doubleClick"&&(r="tripleClick")),e.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:r};let a=e.posAtCoords(Qf(n));a&&(r=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new lQ(e,a,n,!!i)):(r=="doubleClick"?rQ:oQ)(e,a.pos,a.inside,n)?n.preventDefault():mo(e,"pointer"))};class lQ{constructor(t,n,i,s){this.view=t,this.pos=n,this.event=i,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!i[QI],this.allowDefault=i.shiftKey;let r,a;if(n.inside>-1)r=t.state.doc.nodeAt(n.inside),a=n.inside;else{let c=t.state.doc.resolve(n.pos);r=c.parent,a=c.depth?c.before():0}const u=s?null:i.target,o=u?t.docView.nearestDesc(u,!0):null;this.target=o&&o.dom.nodeType==1?o.dom:null;let{selection:l}=t.state;(i.button==0&&r.type.spec.draggable&&r.type.spec.selectable!==!1||l instanceof Ze&&l.from<=a&&l.to>a)&&(this.mightDrag={node:r,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Gs&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),mo(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Pr(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Qf(t))),this.updateAllowDefault(t),this.allowDefault||!n?mo(this.view,"pointer"):sQ(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||hi&&this.mightDrag&&!this.mightDrag.node.isAtom||ei&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(wl(this.view,St.near(this.view.state.doc.resolve(n.pos))),t.preventDefault()):mo(this.view,"pointer")}move(t){this.updateAllowDefault(t),mo(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}fi.touchstart=e=>{e.input.lastTouch=Date.now(),Vy(e),mo(e,"pointer")};fi.touchmove=e=>{e.input.lastTouch=Date.now(),mo(e,"pointer")};fi.contextmenu=e=>Vy(e);function eO(e,t){return e.composing?!0:hi&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const cQ=Rs?5e3:-1;pi.compositionstart=pi.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof vt&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(i=>i.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||n.marks(),jh(e,!0),e.markCursor=null;else if(jh(e,!t.selection.empty),Gs&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let i=e.domSelectionRange();for(let s=i.focusNode,r=i.focusOffset;s&&s.nodeType==1&&r!=0;){let a=r<0?s.lastChild:s.childNodes[r-1];if(!a)break;if(a.nodeType==3){let u=e.domSelection();u&&u.collapse(a,a.nodeValue.length);break}else s=a,r=-1}}e.input.composing=!0}tO(e,cQ)};pi.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,tO(e,20))};function tO(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>jh(e),t))}function nO(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=dQ());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function uQ(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=nZ(t.focusNode,t.focusOffset),i=iZ(t.focusNode,t.focusOffset);if(n&&i&&n!=i){let s=i.pmViewDesc,r=e.domObserver.lastChangedTextNode;if(n==r||i==r)return r;if(!s||!s.isText(i.nodeValue))return i;if(e.input.compositionNode==i){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return i}}return n||i}function dQ(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function jh(e,t=!1){if(!(Rs&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),nO(e),t||e.docView&&e.docView.dirty){let n=Ry(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):(e.markCursor||t)&&!e.state.selection.empty?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function hQ(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let i=getSelection(),s=document.createRange();s.selectNodeContents(t),e.dom.blur(),i.removeAllRanges(),i.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const wu=Oi&&So<15||Dl&&lZ<604;fi.copy=pi.cut=(e,t)=>{let n=t,i=e.state.selection,s=n.type=="cut";if(i.empty)return;let r=wu?null:n.clipboardData,a=i.content(),{dom:u,text:o}=zI(e,a);r?(n.preventDefault(),r.clearData(),r.setData("text/html",u.innerHTML),r.setData("text/plain",o)):hQ(e,u),s&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function fQ(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function pQ(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,i=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus();let s=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),i.parentNode&&i.parentNode.removeChild(i),n?Iu(e,i.value,null,s,t):Iu(e,i.textContent,i.innerHTML,s,t)},50)}function Iu(e,t,n,i,s){let r=KI(e,t,n,i,e.state.selection.$from);if(e.someProp("handlePaste",o=>o(e,s,r||ye.empty)))return!0;if(!r)return!1;let a=fQ(r),u=a?e.state.tr.replaceSelectionWith(a,i):e.state.tr.replaceSelection(r);return e.dispatch(u.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function iO(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}pi.paste=(e,t)=>{let n=t;if(e.composing&&!Rs)return;let i=wu?null:n.clipboardData,s=e.input.shiftKey&&e.input.lastKeyCode!=45;i&&Iu(e,iO(i),i.getData("text/html"),s,n)?n.preventDefault():pQ(e,n)};class sO{constructor(t,n,i){this.slice=t,this.move=n,this.node=i}}const rO=ls?"altKey":"ctrlKey";fi.dragstart=(e,t)=>{let n=t,i=e.input.mouseDown;if(i&&i.done(),!n.dataTransfer)return;let s=e.state.selection,r=s.empty?null:e.posAtCoords(Qf(n)),a;if(!(r&&r.pos>=s.from&&r.pos<=(s instanceof Ze?s.to-1:s.to))){if(i&&i.mightDrag)a=Ze.create(e.state.doc,i.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=e.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=e.docView&&(a=Ze.create(e.state.doc,d.posBefore))}}let u=(a||e.state.selection).content(),{dom:o,text:l,slice:c}=zI(e,u);(!n.dataTransfer.files.length||!ei||AI>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(wu?"Text":"text/html",o.innerHTML),n.dataTransfer.effectAllowed="copyMove",wu||n.dataTransfer.setData("text/plain",l),e.dragging=new sO(c,!n[rO],a)};fi.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};pi.dragover=pi.dragenter=(e,t)=>t.preventDefault();pi.drop=(e,t)=>{let n=t,i=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let s=e.posAtCoords(Qf(n));if(!s)return;let r=e.state.doc.resolve(s.pos),a=i&&i.slice;a?e.someProp("transformPasted",p=>{a=p(a,e)}):a=KI(e,iO(n.dataTransfer),wu?null:n.dataTransfer.getData("text/html"),!1,r);let u=!!(i&&!n[rO]);if(e.someProp("handleDrop",p=>p(e,n,a||ye.empty,u))){n.preventDefault();return}if(!a)return;n.preventDefault();let o=a?jX(e.state.doc,r.pos,a):r.pos;o==null&&(o=r.pos);let l=e.state.tr;if(u){let{node:p}=i;p?p.replace(l):l.deleteSelection()}let c=l.mapping.map(o),d=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,h=l.doc;if(d?l.replaceRangeWith(c,c,a.content.firstChild):l.replaceRange(c,c,a),l.doc.eq(h))return;let f=l.doc.resolve(c);if(d&&Ze.isSelectable(a.content.firstChild)&&f.nodeAfter&&f.nodeAfter.sameMarkup(a.content.firstChild))l.setSelection(new Ze(f));else{let p=l.mapping.map(o);l.mapping.maps[l.mapping.maps.length-1].forEach((g,m,y,b)=>p=b),l.setSelection(Dy(e,f,l.doc.resolve(p)))}e.focus(),e.dispatch(l.setMeta("uiEvent","drop"))};fi.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Pr(e)},20))};fi.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};fi.beforeinput=(e,t)=>{if(ei&&Rs&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:i}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=i||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",r=>r(e,da(8,"Backspace")))))return;let{$cursor:s}=e.state.selection;s&&s.pos>0&&e.dispatch(e.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let e in pi)fi[e]=pi[e];function Ou(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class Uh{constructor(t,n){this.toDOM=t,this.spec=n||Ca,this.side=this.spec.side||0}map(t,n,i,s){let{pos:r,deleted:a}=t.mapResult(n.from+s,this.side<0?-1:1);return a?null:new Ds(r-i,r-i,this)}valid(){return!0}eq(t){return this==t||t instanceof Uh&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Ou(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class To{constructor(t,n){this.attrs=t,this.spec=n||Ca}map(t,n,i,s){let r=t.map(n.from+s,this.spec.inclusiveStart?-1:1)-i,a=t.map(n.to+s,this.spec.inclusiveEnd?1:-1)-i;return r>=a?null:new Ds(r,a,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof To&&Ou(this.attrs,t.attrs)&&Ou(this.spec,t.spec)}static is(t){return t.type instanceof To}destroy(){}}class By{constructor(t,n){this.attrs=t,this.spec=n||Ca}map(t,n,i,s){let r=t.mapResult(n.from+s,1);if(r.deleted)return null;let a=t.mapResult(n.to+s,-1);return a.deleted||a.pos<=r.pos?null:new Ds(r.pos-i,a.pos-i,this)}valid(t,n){let{index:i,offset:s}=t.content.findIndex(n.from),r;return s==n.from&&!(r=t.child(i)).isText&&s+r.nodeSize==n.to}eq(t){return this==t||t instanceof By&&Ou(this.attrs,t.attrs)&&Ou(this.spec,t.spec)}destroy(){}}class Ds{constructor(t,n,i){this.from=t,this.to=n,this.type=i}copy(t,n){return new Ds(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,i){return this.type.map(t,this,n,i)}static widget(t,n,i){return new Ds(t,t,new Uh(n,i))}static inline(t,n,i,s){return new Ds(t,n,new To(i,s))}static node(t,n,i,s){return new Ds(t,n,new By(i,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof To}get widget(){return this.type instanceof Uh}}const dl=[],Ca={};class $n{constructor(t,n){this.local=t.length?t:dl,this.children=n.length?n:dl}static create(t,n){return n.length?Gh(n,t,0,Ca):Xn}find(t,n,i){let s=[];return this.findInner(t??0,n??1e9,s,0,i),s}findInner(t,n,i,s,r){for(let a=0;a<this.local.length;a++){let u=this.local[a];u.from<=n&&u.to>=t&&(!r||r(u.spec))&&i.push(u.copy(u.from+s,u.to+s))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>t){let u=this.children[a]+1;this.children[a+2].findInner(t-u,n-u,i,s+u,r)}}map(t,n,i){return this==Xn||t.maps.length==0?this:this.mapInner(t,n,0,0,i||Ca)}mapInner(t,n,i,s,r){let a;for(let u=0;u<this.local.length;u++){let o=this.local[u].map(t,i,s);o&&o.type.valid(n,o)?(a||(a=[])).push(o):r.onRemove&&r.onRemove(this.local[u].spec)}return this.children.length?gQ(this.children,a||[],t,n,i,s,r):a?new $n(a.sort(Sa),dl):Xn}add(t,n){return n.length?this==Xn?$n.create(t,n):this.addInner(t,n,0):this}addInner(t,n,i){let s,r=0;t.forEach((u,o)=>{let l=o+i,c;if(c=aO(n,u,l)){for(s||(s=this.children.slice());r<s.length&&s[r]<o;)r+=3;s[r]==o?s[r+2]=s[r+2].addInner(u,c,l+1):s.splice(r,0,o,o+u.nodeSize,Gh(c,u,l+1,Ca)),r+=3}});let a=oO(r?lO(n):n,-i);for(let u=0;u<a.length;u++)a[u].type.valid(t,a[u])||a.splice(u--,1);return new $n(a.length?this.local.concat(a).sort(Sa):this.local,s||this.children)}remove(t){return t.length==0||this==Xn?this:this.removeInner(t,0)}removeInner(t,n){let i=this.children,s=this.local;for(let r=0;r<i.length;r+=3){let a,u=i[r]+n,o=i[r+1]+n;for(let c=0,d;c<t.length;c++)(d=t[c])&&d.from>u&&d.to<o&&(t[c]=null,(a||(a=[])).push(d));if(!a)continue;i==this.children&&(i=this.children.slice());let l=i[r+2].removeInner(a,u+1);l!=Xn?i[r+2]=l:(i.splice(r,3),r-=3)}if(s.length){for(let r=0,a;r<t.length;r++)if(a=t[r])for(let u=0;u<s.length;u++)s[u].eq(a,n)&&(s==this.local&&(s=this.local.slice()),s.splice(u--,1))}return i==this.children&&s==this.local?this:s.length||i.length?new $n(s,i):Xn}forChild(t,n){if(this==Xn)return this;if(n.isLeaf)return $n.empty;let i,s;for(let u=0;u<this.children.length;u+=3)if(this.children[u]>=t){this.children[u]==t&&(i=this.children[u+2]);break}let r=t+1,a=r+n.content.size;for(let u=0;u<this.local.length;u++){let o=this.local[u];if(o.from<a&&o.to>r&&o.type instanceof To){let l=Math.max(r,o.from)-r,c=Math.min(a,o.to)-r;l<c&&(s||(s=[])).push(o.copy(l,c))}}if(s){let u=new $n(s.sort(Sa),dl);return i?new fo([u,i]):u}return i||Xn}eq(t){if(this==t)return!0;if(!(t instanceof $n)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return Hy(this.localsInner(t))}localsInner(t){if(this==Xn)return dl;if(t.inlineContent||!this.local.some(To.is))return this.local;let n=[];for(let i=0;i<this.local.length;i++)this.local[i].type instanceof To||n.push(this.local[i]);return n}forEachSet(t){t(this)}}$n.empty=new $n([],[]);$n.removeOverlap=Hy;const Xn=$n.empty;class fo{constructor(t){this.members=t}map(t,n){const i=this.members.map(s=>s.map(t,n,Ca));return fo.from(i)}forChild(t,n){if(n.isLeaf)return $n.empty;let i=[];for(let s=0;s<this.members.length;s++){let r=this.members[s].forChild(t,n);r!=Xn&&(r instanceof fo?i=i.concat(r.members):i.push(r))}return fo.from(i)}eq(t){if(!(t instanceof fo)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,i=!0;for(let s=0;s<this.members.length;s++){let r=this.members[s].localsInner(t);if(r.length)if(!n)n=r;else{i&&(n=n.slice(),i=!1);for(let a=0;a<r.length;a++)n.push(r[a])}}return n?Hy(i?n:n.sort(Sa)):dl}static from(t){switch(t.length){case 0:return Xn;case 1:return t[0];default:return new fo(t.every(n=>n instanceof $n)?t:t.reduce((n,i)=>n.concat(i instanceof $n?i:i.members),[]))}}forEachSet(t){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(t)}}function gQ(e,t,n,i,s,r,a){let u=e.slice();for(let l=0,c=r;l<n.maps.length;l++){let d=0;n.maps[l].forEach((h,f,p,g)=>{let m=g-p-(f-h);for(let y=0;y<u.length;y+=3){let b=u[y+1];if(b<0||h>b+c-d)continue;let E=u[y]+c-d;f>=E?u[y+1]=h<=E?-2:-1:h>=c&&m&&(u[y]+=m,u[y+1]+=m)}d+=m}),c=n.maps[l].map(c,-1)}let o=!1;for(let l=0;l<u.length;l+=3)if(u[l+1]<0){if(u[l+1]==-2){o=!0,u[l+1]=-1;continue}let c=n.map(e[l]+r),d=c-s;if(d<0||d>=i.content.size){o=!0;continue}let h=n.map(e[l+1]+r,-1),f=h-s,{index:p,offset:g}=i.content.findIndex(d),m=i.maybeChild(p);if(m&&g==d&&g+m.nodeSize==f){let y=u[l+2].mapInner(n,m,c+1,e[l]+r+1,a);y!=Xn?(u[l]=d,u[l+1]=f,u[l+2]=y):(u[l+1]=-2,o=!0)}else o=!0}if(o){let l=mQ(u,e,t,n,s,r,a),c=Gh(l,i,0,a);t=c.local;for(let d=0;d<u.length;d+=3)u[d+1]<0&&(u.splice(d,3),d-=3);for(let d=0,h=0;d<c.children.length;d+=3){let f=c.children[d];for(;h<u.length&&u[h]<f;)h+=3;u.splice(h,0,c.children[d],c.children[d+1],c.children[d+2])}}return new $n(t.sort(Sa),u)}function oO(e,t){if(!t||!e.length)return e;let n=[];for(let i=0;i<e.length;i++){let s=e[i];n.push(new Ds(s.from+t,s.to+t,s.type))}return n}function mQ(e,t,n,i,s,r,a){function u(o,l){for(let c=0;c<o.local.length;c++){let d=o.local[c].map(i,s,l);d?n.push(d):a.onRemove&&a.onRemove(o.local[c].spec)}for(let c=0;c<o.children.length;c+=3)u(o.children[c+2],o.children[c]+l+1)}for(let o=0;o<e.length;o+=3)e[o+1]==-1&&u(e[o+2],t[o]+r+1);return n}function aO(e,t,n){if(t.isLeaf)return null;let i=n+t.nodeSize,s=null;for(let r=0,a;r<e.length;r++)(a=e[r])&&a.from>n&&a.to<i&&((s||(s=[])).push(a),e[r]=null);return s}function lO(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function Gh(e,t,n,i){let s=[],r=!1;t.forEach((u,o)=>{let l=aO(e,u,o+n);if(l){r=!0;let c=Gh(l,u,n+o+1,i);c!=Xn&&s.push(o,o+u.nodeSize,c)}});let a=oO(r?lO(e):e,-n).sort(Sa);for(let u=0;u<a.length;u++)a[u].type.valid(t,a[u])||(i.onRemove&&i.onRemove(a[u].spec),a.splice(u--,1));return a.length||s.length?new $n(a,s):Xn}function Sa(e,t){return e.from-t.from||e.to-t.to}function Hy(e){let t=e;for(let n=0;n<t.length-1;n++){let i=t[n];if(i.from!=i.to)for(let s=n+1;s<t.length;s++){let r=t[s];if(r.from==i.from){r.to!=i.to&&(t==e&&(t=e.slice()),t[s]=r.copy(r.from,i.to),aC(t,s+1,r.copy(i.to,r.to)));continue}else{r.from<i.to&&(t==e&&(t=e.slice()),t[n]=i.copy(i.from,r.from),aC(t,s,i.copy(r.from,i.to)));break}}}return t}function aC(e,t,n){for(;t<e.length&&Sa(n,e[t])>0;)t++;e.splice(t,0,n)}function Cg(e){let t=[];return e.someProp("decorations",n=>{let i=n(e.state);i&&i!=Xn&&t.push(i)}),e.cursorWrapper&&t.push($n.create(e.state.doc,[e.cursorWrapper.deco])),fo.from(t)}const vQ={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},yQ=Oi&&So<=11;class bQ{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class EQ{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new bQ,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(i=>{for(let s=0;s<i.length;s++)this.queue.push(i[s]);Oi&&So<=11&&i.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),yQ&&(this.onCharData=i=>{this.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,vQ)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Q_(this.view)){if(this.suppressingSelectionUpdates)return Pr(this.view);if(Oi&&So<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&Na(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,i;for(let r=t.focusNode;r;r=Tu(r))n.add(r);for(let r=t.anchorNode;r;r=Tu(r))if(n.has(r)){i=r;break}let s=i&&this.view.docView.nearestDesc(i);if(s&&s.ignoreMutation({type:"selection",target:i.nodeType==3?i.parentNode:i}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}selectionChanged(t){return!this.suppressingSelectionUpdates&&!this.currentSelection.eq(t)&&Q_(this.view)&&!this.ignoreSelectionChange(t)}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let i=t.domSelectionRange(),s=this.selectionChanged(i),r=-1,a=-1,u=!1,o=[];if(t.editable)for(let c=0;c<n.length;c++){let d=this.registerMutation(n[c],o);d&&(r=r<0?d.from:Math.min(d.from,r),a=a<0?d.to:Math.max(d.to,a),d.typeOver&&(u=!0))}if(Gs&&o.length){let c=o.filter(d=>d.nodeName=="BR");if(c.length==2){let[d,h]=c;d.parentNode&&d.parentNode.parentNode==h.parentNode?h.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let h of c){let f=h.parentNode;f&&f.nodeName=="LI"&&(!d||SQ(t,d)!=f)&&h.remove()}}}let l=null;r<0&&s&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&Xf(i)&&(l=Ry(t))&&l.eq(St.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Pr(t),this.currentSelection.set(i),t.scrollToSelection()):(r>-1||s)&&(r>-1&&(t.docView.markDirty(r,a),_Q(t)),this.handleDOMChange(r,a,u,o),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(i)||Pr(t),this.currentSelection.set(i))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let i=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(i==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!i||i.ignoreMutation(t))return null;if(t.type=="childList"){for(let c=0;c<t.addedNodes.length;c++){let d=t.addedNodes[c];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(i.contentDOM&&i.contentDOM!=i.dom&&!i.contentDOM.contains(t.target))return{from:i.posBefore,to:i.posAfter};let s=t.previousSibling,r=t.nextSibling;if(Oi&&So<=11&&t.addedNodes.length)for(let c=0;c<t.addedNodes.length;c++){let{previousSibling:d,nextSibling:h}=t.addedNodes[c];(!d||Array.prototype.indexOf.call(t.addedNodes,d)<0)&&(s=d),(!h||Array.prototype.indexOf.call(t.addedNodes,h)<0)&&(r=h)}let a=s&&s.parentNode==t.target?Wn(s)+1:0,u=i.localPosFromDOM(t.target,a,-1),o=r&&r.parentNode==t.target?Wn(r):t.target.childNodes.length,l=i.localPosFromDOM(t.target,o,1);return{from:u,to:l}}else return t.type=="attributes"?{from:i.posAtStart-i.border,to:i.posAtEnd+i.border}:(this.lastChangedTextNode=t.target,{from:i.posAtStart,to:i.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let lC=new WeakMap,cC=!1;function _Q(e){if(!lC.has(e)&&(lC.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=Gs,cC)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),cC=!0}}function uC(e,t){let n=t.startContainer,i=t.startOffset,s=t.endContainer,r=t.endOffset,a=e.domAtPos(e.state.selection.anchor);return Na(a.node,a.offset,s,r)&&([n,i,s,r]=[s,r,n,i]),{anchorNode:n,anchorOffset:i,focusNode:s,focusOffset:r}}function CQ(e,t){if(t.getComposedRanges){let s=t.getComposedRanges(e.root)[0];if(s)return uC(e,s)}let n;function i(s){s.preventDefault(),s.stopImmediatePropagation(),n=s.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",i,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",i,!0),n?uC(e,n):null}function SQ(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let i=e.docView.nearestDesc(n,!0);if(i&&i.node.isBlock)return n}return null}function xQ(e,t,n){let{node:i,fromOffset:s,toOffset:r,from:a,to:u}=e.docView.parseRange(t,n),o=e.domSelectionRange(),l,c=o.anchorNode;if(c&&e.dom.contains(c.nodeType==1?c:c.parentNode)&&(l=[{node:c,offset:o.anchorOffset}],Xf(o)||l.push({node:o.focusNode,offset:o.focusOffset})),ei&&e.input.lastKeyCode===8)for(let m=r;m>s;m--){let y=i.childNodes[m-1],b=y.pmViewDesc;if(y.nodeName=="BR"&&!b){r=m;break}if(!b||b.size)break}let d=e.state.doc,h=e.someProp("domParser")||iu.fromSchema(e.state.schema),f=d.resolve(a),p=null,g=h.parse(i,{topNode:f.parent,topMatch:f.parent.contentMatchAt(f.index()),topOpen:!0,from:s,to:r,preserveWhitespace:f.parent.type.whitespace=="pre"?"full":!0,findPositions:l,ruleFromNode:TQ,context:f});if(l&&l[0].pos!=null){let m=l[0].pos,y=l[1]&&l[1].pos;y==null&&(y=m),p={anchor:m+a,head:y+a}}return{doc:g,sel:p,from:a,to:u}}function TQ(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(hi&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||hi&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const wQ=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function IQ(e,t,n,i,s){let r=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let D=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,j=Ry(e,D);if(j&&!e.state.selection.eq(j)){if(ei&&Rs&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",ae=>ae(e,da(13,"Enter"))))return;let se=e.state.tr.setSelection(j);D=="pointer"?se.setMeta("pointer",!0):D=="key"&&se.scrollIntoView(),r&&se.setMeta("composition",r),e.dispatch(se)}return}let a=e.state.doc.resolve(t),u=a.sharedDepth(n);t=a.before(u+1),n=e.state.doc.resolve(n).after(u+1);let o=e.state.selection,l=xQ(e,t,n),c=e.state.doc,d=c.slice(l.from,l.to),h,f;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(h=e.state.selection.to,f="end"):(h=e.state.selection.from,f="start"),e.input.lastKeyCode=null;let p=AQ(d.content,l.doc.content,l.from,h,f);if(p&&e.input.domChangeCount++,(Dl&&e.input.lastIOSEnter>Date.now()-225||Rs)&&s.some(D=>D.nodeType==1&&!wQ.test(D.nodeName))&&(!p||p.endA>=p.endB)&&e.someProp("handleKeyDown",D=>D(e,da(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!p)if(i&&o instanceof vt&&!o.empty&&o.$head.sameParent(o.$anchor)&&!e.composing&&!(l.sel&&l.sel.anchor!=l.sel.head))p={start:o.from,endA:o.to,endB:o.to};else{if(l.sel){let D=dC(e,e.state.doc,l.sel);if(D&&!D.eq(e.state.selection)){let j=e.state.tr.setSelection(D);r&&j.setMeta("composition",r),e.dispatch(j)}}return}e.state.selection.from<e.state.selection.to&&p.start==p.endB&&e.state.selection instanceof vt&&(p.start>e.state.selection.from&&p.start<=e.state.selection.from+2&&e.state.selection.from>=l.from?p.start=e.state.selection.from:p.endA<e.state.selection.to&&p.endA>=e.state.selection.to-2&&e.state.selection.to<=l.to&&(p.endB+=e.state.selection.to-p.endA,p.endA=e.state.selection.to)),Oi&&So<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>l.from&&l.doc.textBetween(p.start-l.from-1,p.start-l.from+1)=="  "&&(p.start--,p.endA--,p.endB--);let g=l.doc.resolveNoCache(p.start-l.from),m=l.doc.resolveNoCache(p.endB-l.from),y=c.resolve(p.start),b=g.sameParent(m)&&g.parent.inlineContent&&y.end()>=p.endA,E;if((Dl&&e.input.lastIOSEnter>Date.now()-225&&(!b||s.some(D=>D.nodeName=="DIV"||D.nodeName=="P"))||!b&&g.pos<l.doc.content.size&&!g.sameParent(m)&&(E=St.findFrom(l.doc.resolve(g.pos+1),1,!0))&&E.head==m.pos)&&e.someProp("handleKeyDown",D=>D(e,da(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>p.start&&kQ(c,p.start,p.endA,g,m)&&e.someProp("handleKeyDown",D=>D(e,da(8,"Backspace")))){Rs&&ei&&e.domObserver.suppressSelectionUpdates();return}ei&&Rs&&p.endB==p.start&&(e.input.lastAndroidDelete=Date.now()),Rs&&!b&&g.start()!=m.start()&&m.parentOffset==0&&g.depth==m.depth&&l.sel&&l.sel.anchor==l.sel.head&&l.sel.head==p.endA&&(p.endB-=2,m=l.doc.resolveNoCache(p.endB-l.from),setTimeout(()=>{e.someProp("handleKeyDown",function(D){return D(e,da(13,"Enter"))})},20));let _=p.start,I=p.endA,P,M,z;if(b){if(g.pos==m.pos)Oi&&So<=11&&g.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>Pr(e),20)),P=e.state.tr.delete(_,I),M=c.resolve(p.start).marksAcross(c.resolve(p.endA));else if(p.endA==p.endB&&(z=OQ(g.parent.content.cut(g.parentOffset,m.parentOffset),y.parent.content.cut(y.parentOffset,p.endA-y.start()))))P=e.state.tr,z.type=="add"?P.addMark(_,I,z.mark):P.removeMark(_,I,z.mark);else if(g.parent.child(g.index()).isText&&g.index()==m.index()-(m.textOffset?0:1)){let D=g.parent.textBetween(g.parentOffset,m.parentOffset);if(e.someProp("handleTextInput",j=>j(e,_,I,D)))return;P=e.state.tr.insertText(D,_,I)}}if(P||(P=e.state.tr.replace(_,I,l.doc.slice(p.start-l.from,p.endB-l.from))),l.sel){let D=dC(e,P.doc,l.sel);D&&!(ei&&Rs&&e.composing&&D.empty&&(p.start!=p.endB||e.input.lastAndroidDelete<Date.now()-100)&&(D.head==_||D.head==P.mapping.map(I)-1)||Oi&&D.empty&&D.head==_)&&P.setSelection(D)}M&&P.ensureMarks(M),r&&P.setMeta("composition",r),e.dispatch(P.scrollIntoView())}function dC(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:Dy(e,t.resolve(n.anchor),t.resolve(n.head))}function OQ(e,t){let n=e.firstChild.marks,i=t.firstChild.marks,s=n,r=i,a,u,o;for(let c=0;c<i.length;c++)s=i[c].removeFromSet(s);for(let c=0;c<n.length;c++)r=n[c].removeFromSet(r);if(s.length==1&&r.length==0)u=s[0],a="add",o=c=>c.mark(u.addToSet(c.marks));else if(s.length==0&&r.length==1)u=r[0],a="remove",o=c=>c.mark(u.removeFromSet(c.marks));else return null;let l=[];for(let c=0;c<t.childCount;c++)l.push(o(t.child(c)));if(le.from(l).eq(e))return{mark:u,type:a}}function kQ(e,t,n,i,s){if(n-t<=s.pos-i.pos||Sg(i,!0,!1)<s.pos)return!1;let r=e.resolve(t);if(!i.parent.isTextblock){let u=r.nodeAfter;return u!=null&&n==t+u.nodeSize}if(r.parentOffset<r.parent.content.size||!r.parent.isTextblock)return!1;let a=e.resolve(Sg(r,!0,!0));return!a.parent.isTextblock||a.pos>n||Sg(a,!0,!1)<n?!1:i.parent.content.cut(i.parentOffset).eq(a.parent.content)}function Sg(e,t,n){let i=e.depth,s=t?e.end():e.pos;for(;i>0&&(t||e.indexAfter(i)==e.node(i).childCount);)i--,s++,t=!1;if(n){let r=e.node(i).maybeChild(e.indexAfter(i));for(;r&&!r.isLeaf;)r=r.firstChild,s++}return s}function AQ(e,t,n,i,s){let r=e.findDiffStart(t,n);if(r==null)return null;let{a,b:u}=e.findDiffEnd(t,n+e.size,n+t.size);if(s=="end"){let o=Math.max(0,r-Math.min(a,u));i-=a+o-r}if(a<r&&e.size<t.size){let o=i<=r&&i>=a?r-i:0;r-=o,r&&r<t.size&&hC(t.textBetween(r-1,r+1))&&(r+=o?1:-1),u=r+(u-a),a=r}else if(u<r){let o=i<=r&&i>=u?r-i:0;r-=o,r&&r<e.size&&hC(e.textBetween(r-1,r+1))&&(r+=o?1:-1),a=r+(a-u),u=r}return{start:r,endA:a,endB:u}}function hC(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class PQ{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new JZ,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(vC),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=gC(this),pC(this),this.nodeViews=mC(this),this.docView=K_(this.state.doc,fC(this),Cg(this),this.dom,this),this.domObserver=new EQ(this,(i,s,r,a)=>IQ(this,i,s,r,a)),this.domObserver.start(),XZ(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&Gm(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(vC),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let i in this._props)n[i]=this._props[i];n.state=this.state;for(let i in t)n[i]=t[i];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var i;let s=this.state,r=!1,a=!1;t.storedMarks&&this.composing&&(nO(this),a=!0),this.state=t;let u=s.plugins!=t.plugins||this._props.plugins!=n.plugins;if(u||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let f=mC(this);MQ(f,this.nodeViews)&&(this.nodeViews=f,r=!0)}(u||n.handleDOMEvents!=this._props.handleDOMEvents)&&Gm(this),this.editable=gC(this),pC(this);let o=Cg(this),l=fC(this),c=s.plugins!=t.plugins&&!s.doc.eq(t.doc)?"reset":t.scrollToSelection>s.scrollToSelection?"to selection":"preserve",d=r||!this.docView.matchesNode(t.doc,l,o);(d||!t.selection.eq(s.selection))&&(a=!0);let h=c=="preserve"&&a&&this.dom.style.overflowAnchor==null&&dZ(this);if(a){this.domObserver.stop();let f=d&&(Oi||ei)&&!this.composing&&!s.selection.empty&&!t.selection.empty&&$Q(s.selection,t.selection);if(d){let p=ei?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=uQ(this)),(r||!this.docView.update(t.doc,l,o,this))&&(this.docView.updateOuterDeco(l),this.docView.destroy(),this.docView=K_(t.doc,l,o,this.dom,this)),p&&!this.trackWrites&&(f=!0)}f||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&RZ(this))?Pr(this,f):(UI(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((i=this.dragging)===null||i===void 0)&&i.node&&!s.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,s),c=="reset"?this.dom.scrollTop=0:c=="to selection"?this.scrollToSelection():h&&hZ(h)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Ze){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&H_(this,n.getBoundingClientRect(),t)}else H_(this,this.coordsAtPos(this.state.selection.head,1),t)}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let i=this.directPlugins[n];i.spec.view&&this.pluginViews.push(i.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let i=this.state.plugins[n];i.spec.view&&this.pluginViews.push(i.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let i=this.pluginViews[n];i.update&&i.update(this,t)}}updateDraggedNode(t,n){let i=t.node,s=-1;if(this.state.doc.nodeAt(i.from)==i.node)s=i.from;else{let r=i.from+(this.state.doc.content.size-n.doc.content.size);(r>0&&this.state.doc.nodeAt(r))==i.node&&(s=r)}this.dragging=new sO(t.slice,t.move,s<0?void 0:Ze.create(this.state.doc,s))}someProp(t,n){let i=this._props&&this._props[t],s;if(i!=null&&(s=n?n(i):i))return s;for(let a=0;a<this.directPlugins.length;a++){let u=this.directPlugins[a].props[t];if(u!=null&&(s=n?n(u):u))return s}let r=this.state.plugins;if(r)for(let a=0;a<r.length;a++){let u=r[a].props[t];if(u!=null&&(s=n?n(u):u))return s}}hasFocus(){if(Oi){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&fZ(this.dom),Pr(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return yZ(this,t)}coordsAtPos(t,n=1){return RI(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,i=-1){let s=this.docView.posFromDOM(t,n,i);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(t,n){return SZ(this,n||this.state,t)}pasteHTML(t,n){return Iu(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return Iu(this,t,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(ZZ(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Cg(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,eZ())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return eQ(this,t)}dispatch(t){let n=this._props.dispatchTransaction;n?n.call(this,t):this.updateState(this.state.apply(t))}domSelectionRange(){let t=this.domSelection();return t?hi&&this.root.nodeType===11&&rZ(this.dom.ownerDocument)==this.dom&&CQ(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function fC(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let i in n)i=="class"?t.class+=" "+n[i]:i=="style"?t.style=(t.style?t.style+";":"")+n[i]:!t[i]&&i!="contenteditable"&&i!="nodeName"&&(t[i]=String(n[i]))}),t.translate||(t.translate="no"),[Ds.node(0,e.state.doc.content.size,t)]}function pC(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:Ds.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function gC(e){return!e.someProp("editable",t=>t(e.state)===!1)}function $Q(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function mC(e){let t=Object.create(null);function n(i){for(let s in i)Object.prototype.hasOwnProperty.call(t,s)||(t[s]=i[s])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function MQ(e,t){let n=0,i=0;for(let s in e){if(e[s]!=t[s])return!0;n++}for(let s in t)i++;return n!=i}function vC(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Mo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Wh={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},NQ=typeof navigator<"u"&&/Mac/.test(navigator.platform),RQ=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var zn=0;zn<10;zn++)Mo[48+zn]=Mo[96+zn]=String(zn);for(var zn=1;zn<=24;zn++)Mo[zn+111]="F"+zn;for(var zn=65;zn<=90;zn++)Mo[zn]=String.fromCharCode(zn+32),Wh[zn]=String.fromCharCode(zn);for(var xg in Mo)Wh.hasOwnProperty(xg)||(Wh[xg]=Mo[xg]);function DQ(e){var t=NQ&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||RQ&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?Wh:Mo)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const LQ=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function FQ(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let i,s,r,a;for(let u=0;u<t.length-1;u++){let o=t[u];if(/^(cmd|meta|m)$/i.test(o))a=!0;else if(/^a(lt)?$/i.test(o))i=!0;else if(/^(c|ctrl|control)$/i.test(o))s=!0;else if(/^s(hift)?$/i.test(o))r=!0;else if(/^mod$/i.test(o))LQ?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+o)}return i&&(n="Alt-"+n),s&&(n="Ctrl-"+n),a&&(n="Meta-"+n),r&&(n="Shift-"+n),n}function VQ(e){let t=Object.create(null);for(let n in e)t[FQ(n)]=e[n];return t}function Tg(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function BQ(e){return new gr({props:{handleKeyDown:HQ(e)}})}function HQ(e){let t=VQ(e);return function(n,i){let s=DQ(i),r,a=t[Tg(s,i)];if(a&&a(n.state,n.dispatch,n))return!0;if(s.length==1&&s!=" "){if(i.shiftKey){let u=t[Tg(s,i,!1)];if(u&&u(n.state,n.dispatch,n))return!0}if((i.shiftKey||i.altKey||i.metaKey||s.charCodeAt(0)>127)&&(r=Mo[i.keyCode])&&r!=s){let u=t[Tg(r,i)];if(u&&u(n.state,n.dispatch,n))return!0}}return!1}}const jQ=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function cO(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const UQ=(e,t,n)=>{let i=cO(e,n);if(!i)return!1;let s=jy(i);if(!s){let a=i.blockRange(),u=a&&ec(a);return u==null?!1:(t&&t(e.tr.lift(a,u).scrollIntoView()),!0)}let r=s.nodeBefore;if(fO(e,s,t,-1))return!0;if(i.parent.content.size==0&&(Ll(r,"end")||Ze.isSelectable(r)))for(let a=i.depth;;a--){let u=Yf(e.doc,i.before(a),i.after(a),ye.empty);if(u&&u.slice.size<u.to-u.from){if(t){let o=e.tr.step(u);o.setSelection(Ll(r,"end")?St.findFrom(o.doc.resolve(o.mapping.map(s.pos,-1)),-1):Ze.create(o.doc,s.pos-r.nodeSize)),t(o.scrollIntoView())}return!0}if(a==1||i.node(a-1).childCount>1)break}return r.isAtom&&s.depth==i.depth-1?(t&&t(e.tr.delete(s.pos-r.nodeSize,s.pos).scrollIntoView()),!0):!1},GQ=(e,t,n)=>{let i=cO(e,n);if(!i)return!1;let s=jy(i);return s?uO(e,s,t):!1},WQ=(e,t,n)=>{let i=dO(e,n);if(!i)return!1;let s=Uy(i);return s?uO(e,s,t):!1};function uO(e,t,n){let i=t.nodeBefore,s=i,r=t.pos-1;for(;!s.isTextblock;r--){if(s.type.spec.isolating)return!1;let c=s.lastChild;if(!c)return!1;s=c}let a=t.nodeAfter,u=a,o=t.pos+1;for(;!u.isTextblock;o++){if(u.type.spec.isolating)return!1;let c=u.firstChild;if(!c)return!1;u=c}let l=Yf(e.doc,r,o,ye.empty);if(!l||l.from!=r||l instanceof Nn&&l.slice.size>=o-r)return!1;if(n){let c=e.tr.step(l);c.setSelection(vt.create(c.doc,r)),n(c.scrollIntoView())}return!0}function Ll(e,t,n=!1){for(let i=e;i;i=t=="start"?i.firstChild:i.lastChild){if(i.isTextblock)return!0;if(n&&i.childCount!=1)return!1}return!1}const zQ=(e,t,n)=>{let{$head:i,empty:s}=e.selection,r=i;if(!s)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):i.parentOffset>0)return!1;r=jy(i)}let a=r&&r.nodeBefore;return!a||!Ze.isSelectable(a)?!1:(t&&t(e.tr.setSelection(Ze.create(e.doc,r.pos-a.nodeSize)).scrollIntoView()),!0)};function jy(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function dO(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const KQ=(e,t,n)=>{let i=dO(e,n);if(!i)return!1;let s=Uy(i);if(!s)return!1;let r=s.nodeAfter;if(fO(e,s,t,1))return!0;if(i.parent.content.size==0&&(Ll(r,"start")||Ze.isSelectable(r))){let a=Yf(e.doc,i.before(),i.after(),ye.empty);if(a&&a.slice.size<a.to-a.from){if(t){let u=e.tr.step(a);u.setSelection(Ll(r,"start")?St.findFrom(u.doc.resolve(u.mapping.map(s.pos)),1):Ze.create(u.doc,u.mapping.map(s.pos))),t(u.scrollIntoView())}return!0}}return r.isAtom&&s.depth==i.depth-1?(t&&t(e.tr.delete(s.pos,s.pos+r.nodeSize).scrollIntoView()),!0):!1},qQ=(e,t,n)=>{let{$head:i,empty:s}=e.selection,r=i;if(!s)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):i.parentOffset<i.parent.content.size)return!1;r=Uy(i)}let a=r&&r.nodeAfter;return!a||!Ze.isSelectable(a)?!1:(t&&t(e.tr.setSelection(Ze.create(e.doc,r.pos)).scrollIntoView()),!0)};function Uy(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const YQ=(e,t)=>{let n=e.selection,i=n instanceof Ze,s;if(i){if(n.node.isTextblock||!Go(e.doc,n.from))return!1;s=n.from}else if(s=qf(e.doc,n.from,-1),s==null)return!1;if(t){let r=e.tr.join(s);i&&r.setSelection(Ze.create(r.doc,s-e.doc.resolve(s).nodeBefore.nodeSize)),t(r.scrollIntoView())}return!0},JQ=(e,t)=>{let n=e.selection,i;if(n instanceof Ze){if(n.node.isTextblock||!Go(e.doc,n.to))return!1;i=n.to}else if(i=qf(e.doc,n.to,1),i==null)return!1;return t&&t(e.tr.join(i).scrollIntoView()),!0},XQ=(e,t)=>{let{$from:n,$to:i}=e.selection,s=n.blockRange(i),r=s&&ec(s);return r==null?!1:(t&&t(e.tr.lift(s,r).scrollIntoView()),!0)},ZQ=(e,t)=>{let{$head:n,$anchor:i}=e.selection;return!n.parent.type.spec.code||!n.sameParent(i)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function hO(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const QQ=(e,t)=>{let{$head:n,$anchor:i}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(i))return!1;let s=n.node(-1),r=n.indexAfter(-1),a=hO(s.contentMatchAt(r));if(!a||!s.canReplaceWith(r,r,a))return!1;if(t){let u=n.after(),o=e.tr.replaceWith(u,u,a.createAndFill());o.setSelection(St.near(o.doc.resolve(u),1)),t(o.scrollIntoView())}return!0},eee=(e,t)=>{let n=e.selection,{$from:i,$to:s}=n;if(n instanceof Vs||i.parent.inlineContent||s.parent.inlineContent)return!1;let r=hO(s.parent.contentMatchAt(s.indexAfter()));if(!r||!r.isTextblock)return!1;if(t){let a=(!i.parentOffset&&s.index()<s.parent.childCount?i:s).pos,u=e.tr.insert(a,r.createAndFill());u.setSelection(vt.create(u.doc,a+1)),t(u.scrollIntoView())}return!0},tee=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let r=n.before();if(xl(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}let i=n.blockRange(),s=i&&ec(i);return s==null?!1:(t&&t(e.tr.lift(i,s).scrollIntoView()),!0)},nee=(e,t)=>{let{$from:n,to:i}=e.selection,s,r=n.sharedDepth(i);return r==0?!1:(s=n.before(r),t&&t(e.tr.setSelection(Ze.create(e.doc,s))),!0)};function iee(e,t,n){let i=t.nodeBefore,s=t.nodeAfter,r=t.index();return!i||!s||!i.type.compatibleContent(s.type)?!1:!i.content.size&&t.parent.canReplace(r-1,r)?(n&&n(e.tr.delete(t.pos-i.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(r,r+1)||!(s.isTextblock||Go(e.doc,t.pos))?!1:(n&&n(e.tr.join(t.pos).scrollIntoView()),!0)}function fO(e,t,n,i){let s=t.nodeBefore,r=t.nodeAfter,a,u,o=s.type.spec.isolating||r.type.spec.isolating;if(!o&&iee(e,t,n))return!0;let l=!o&&t.parent.canReplace(t.index(),t.index()+1);if(l&&(a=(u=s.contentMatchAt(s.childCount)).findWrapping(r.type))&&u.matchType(a[0]||r.type).validEnd){if(n){let f=t.pos+r.nodeSize,p=le.empty;for(let y=a.length-1;y>=0;y--)p=le.from(a[y].create(null,p));p=le.from(s.copy(p));let g=e.tr.step(new Ln(t.pos-1,f,t.pos,f,new ye(p,1,0),a.length,!0)),m=g.doc.resolve(f+2*a.length);m.nodeAfter&&m.nodeAfter.type==s.type&&Go(g.doc,m.pos)&&g.join(m.pos),n(g.scrollIntoView())}return!0}let c=r.type.spec.isolating||i>0&&o?null:St.findFrom(t,1),d=c&&c.$from.blockRange(c.$to),h=d&&ec(d);if(h!=null&&h>=t.depth)return n&&n(e.tr.lift(d,h).scrollIntoView()),!0;if(l&&Ll(r,"start",!0)&&Ll(s,"end")){let f=s,p=[];for(;p.push(f),!f.isTextblock;)f=f.lastChild;let g=r,m=1;for(;!g.isTextblock;g=g.firstChild)m++;if(f.canReplace(f.childCount,f.childCount,g.content)){if(n){let y=le.empty;for(let E=p.length-1;E>=0;E--)y=le.from(p[E].copy(y));let b=e.tr.step(new Ln(t.pos-p.length,t.pos+r.nodeSize,t.pos+m,t.pos+r.nodeSize-m,new ye(y,p.length,0),0,!0));n(b.scrollIntoView())}return!0}}return!1}function pO(e){return function(t,n){let i=t.selection,s=e<0?i.$from:i.$to,r=s.depth;for(;s.node(r).isInline;){if(!r)return!1;r--}return s.node(r).isTextblock?(n&&n(t.tr.setSelection(vt.create(t.doc,e<0?s.start(r):s.end(r)))),!0):!1}}const see=pO(-1),ree=pO(1);function oee(e,t=null){return function(n,i){let{$from:s,$to:r}=n.selection,a=s.blockRange(r),u=a&&$y(a,e,t);return u?(i&&i(n.tr.wrap(a,u).scrollIntoView()),!0):!1}}function yC(e,t=null){return function(n,i){let s=!1;for(let r=0;r<n.selection.ranges.length&&!s;r++){let{$from:{pos:a},$to:{pos:u}}=n.selection.ranges[r];n.doc.nodesBetween(a,u,(o,l)=>{if(s)return!1;if(!(!o.isTextblock||o.hasMarkup(e,t)))if(o.type==e)s=!0;else{let c=n.doc.resolve(l),d=c.index();s=c.parent.canReplaceWith(d,d+1,e)}})}if(!s)return!1;if(i){let r=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:u},$to:{pos:o}}=n.selection.ranges[a];r.setBlockType(u,o,e,t)}i(r.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function aee(e,t=null){return function(n,i){let{$from:s,$to:r}=n.selection,a=s.blockRange(r),u=!1,o=a;if(!a)return!1;if(a.depth>=2&&s.node(a.depth-1).type.compatibleContent(e)&&a.startIndex==0){if(s.index(a.depth-1)==0)return!1;let c=n.doc.resolve(a.start-2);o=new Dh(c,c,a.depth),a.endIndex<a.parent.childCount&&(a=new Dh(s,n.doc.resolve(r.end(a.depth)),a.depth)),u=!0}let l=$y(o,e,t,a);return l?(i&&i(lee(n.tr,a,l,u,e).scrollIntoView()),!0):!1}}function lee(e,t,n,i,s){let r=le.empty;for(let c=n.length-1;c>=0;c--)r=le.from(n[c].type.create(n[c].attrs,r));e.step(new Ln(t.start-(i?2:0),t.end,t.start,t.end,new ye(r,0,0),n.length,!0));let a=0;for(let c=0;c<n.length;c++)n[c].type==s&&(a=c+1);let u=n.length-a,o=t.start+n.length-(i?2:0),l=t.parent;for(let c=t.startIndex,d=t.endIndex,h=!0;c<d;c++,h=!1)!h&&xl(e.doc,o,u)&&(e.split(o,u),o+=2*u),o+=l.child(c).nodeSize;return e}function cee(e){return function(t,n){let{$from:i,$to:s}=t.selection,r=i.blockRange(s,a=>a.childCount>0&&a.firstChild.type==e);return r?n?i.node(r.depth-1).type==e?uee(t,n,e,r):dee(t,n,r):!0:!1}}function uee(e,t,n,i){let s=e.tr,r=i.end,a=i.$to.end(i.depth);r<a&&(s.step(new Ln(r-1,a,r,a,new ye(le.from(n.create(null,i.parent.copy())),1,0),1,!0)),i=new Dh(s.doc.resolve(i.$from.pos),s.doc.resolve(a),i.depth));const u=ec(i);if(u==null)return!1;s.lift(i,u);let o=s.mapping.map(r,-1)-1;return Go(s.doc,o)&&s.join(o),t(s.scrollIntoView()),!0}function dee(e,t,n){let i=e.tr,s=n.parent;for(let f=n.end,p=n.endIndex-1,g=n.startIndex;p>g;p--)f-=s.child(p).nodeSize,i.delete(f-1,f+1);let r=i.doc.resolve(n.start),a=r.nodeAfter;if(i.mapping.map(n.end)!=n.start+r.nodeAfter.nodeSize)return!1;let u=n.startIndex==0,o=n.endIndex==s.childCount,l=r.node(-1),c=r.index(-1);if(!l.canReplace(c+(u?0:1),c+1,a.content.append(o?le.empty:le.from(s))))return!1;let d=r.pos,h=d+a.nodeSize;return i.step(new Ln(d-(u?1:0),h+(o?1:0),d+1,h-1,new ye((u?le.empty:le.from(s.copy(le.empty))).append(o?le.empty:le.from(s.copy(le.empty))),u?0:1,o?0:1),u?0:1)),t(i.scrollIntoView()),!0}function hee(e){return function(t,n){let{$from:i,$to:s}=t.selection,r=i.blockRange(s,l=>l.childCount>0&&l.firstChild.type==e);if(!r)return!1;let a=r.startIndex;if(a==0)return!1;let u=r.parent,o=u.child(a-1);if(o.type!=e)return!1;if(n){let l=o.lastChild&&o.lastChild.type==u.type,c=le.from(l?e.create():null),d=new ye(le.from(e.create(null,le.from(u.type.create(null,c)))),l?3:1,0),h=r.start,f=r.end;n(t.tr.step(new Ln(h-(l?3:1),f,h,f,d,1,!0)).scrollIntoView())}return!0}}function ep(e){const{state:t,transaction:n}=e;let{selection:i}=n,{doc:s}=n,{storedMarks:r}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return r},get selection(){return i},get doc(){return s},get tr(){return i=n.selection,s=n.doc,r=n.storedMarks,n}}}class tp{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:n,state:i}=this,{view:s}=n,{tr:r}=i,a=this.buildProps(r);return Object.fromEntries(Object.entries(t).map(([u,o])=>[u,(...c)=>{const d=o(...c)(a);return!r.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(r),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,n=!0){const{rawCommands:i,editor:s,state:r}=this,{view:a}=s,u=[],o=!!t,l=t||r.tr,c=()=>(!o&&n&&!l.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(l),u.every(h=>h===!0)),d={...Object.fromEntries(Object.entries(i).map(([h,f])=>[h,(...g)=>{const m=this.buildProps(l,n),y=f(...g)(m);return u.push(y),d}])),run:c};return d}createCan(t){const{rawCommands:n,state:i}=this,s=!1,r=t||i.tr,a=this.buildProps(r,s);return{...Object.fromEntries(Object.entries(n).map(([o,l])=>[o,(...c)=>l(...c)({...a,dispatch:void 0})])),chain:()=>this.createChain(r,s)}}buildProps(t,n=!0){const{rawCommands:i,editor:s,state:r}=this,{view:a}=s,u={tr:t,editor:s,view:a,state:ep({state:r,transaction:t}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(t,n),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(i).map(([o,l])=>[o,(...c)=>l(...c)(u)]))}};return u}}class fee{constructor(){this.callbacks={}}on(t,n){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(n),this}emit(t,...n){const i=this.callbacks[t];return i&&i.forEach(s=>s.apply(this,n)),this}off(t,n){const i=this.callbacks[t];return i&&(n?this.callbacks[t]=i.filter(s=>s!==n):delete this.callbacks[t]),this}removeAllListeners(){this.callbacks={}}}function xe(e,t,n){return e.config[t]===void 0&&e.parent?xe(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?xe(e.parent,t,n):null}):e.config[t]}function np(e){const t=e.filter(s=>s.type==="extension"),n=e.filter(s=>s.type==="node"),i=e.filter(s=>s.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:i}}function gO(e){const t=[],{nodeExtensions:n,markExtensions:i}=np(e),s=[...n,...i],r={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(a=>{const u={name:a.name,options:a.options,storage:a.storage,extensions:s},o=xe(a,"addGlobalAttributes",u);if(!o)return;o().forEach(c=>{c.types.forEach(d=>{Object.entries(c.attributes).forEach(([h,f])=>{t.push({type:d,name:h,attribute:{...r,...f}})})})})}),s.forEach(a=>{const u={name:a.name,options:a.options,storage:a.storage},o=xe(a,"addAttributes",u);if(!o)return;const l=o();Object.entries(l).forEach(([c,d])=>{const h={...r,...d};typeof(h==null?void 0:h.default)=="function"&&(h.default=h.default()),h!=null&&h.isRequired&&(h==null?void 0:h.default)===void 0&&delete h.default,t.push({type:a.name,name:c,attribute:h})})}),t}function Bn(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}function Ws(...e){return e.filter(t=>!!t).reduce((t,n)=>{const i={...t};return Object.entries(n).forEach(([s,r])=>{if(!i[s]){i[s]=r;return}if(s==="class"){const u=r?r.split(" "):[],o=i[s]?i[s].split(" "):[],l=u.filter(c=>!o.includes(c));i[s]=[...o,...l].join(" ")}else if(s==="style"){const u=r?r.split(";").map(c=>c.trim()).filter(Boolean):[],o=i[s]?i[s].split(";").map(c=>c.trim()).filter(Boolean):[],l=new Map;o.forEach(c=>{const[d,h]=c.split(":").map(f=>f.trim());l.set(d,h)}),u.forEach(c=>{const[d,h]=c.split(":").map(f=>f.trim());l.set(d,h)}),i[s]=Array.from(l.entries()).map(([c,d])=>`${c}: ${d}`).join("; ")}else i[s]=r}),i},{})}function Wm(e,t){return t.filter(n=>n.type===e.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(e.attrs)||{}:{[n.name]:e.attrs[n.name]}).reduce((n,i)=>Ws(n,i),{})}function mO(e){return typeof e=="function"}function _t(e,t=void 0,...n){return mO(e)?t?e.bind(t)(...n):e(...n):e}function pee(e={}){return Object.keys(e).length===0&&e.constructor===Object}function gee(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function bC(e,t){return"style"in e?e:{...e,getAttrs:n=>{const i=e.getAttrs?e.getAttrs(n):e.attrs;if(i===!1)return!1;const s=t.reduce((r,a)=>{const u=a.attribute.parseHTML?a.attribute.parseHTML(n):gee(n.getAttribute(a.name));return u==null?r:{...r,[a.name]:u}},{});return{...i,...s}}}}function EC(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>t==="attrs"&&pee(n)?!1:n!=null))}function mee(e,t){var n;const i=gO(e),{nodeExtensions:s,markExtensions:r}=np(e),a=(n=s.find(l=>xe(l,"topNode")))===null||n===void 0?void 0:n.name,u=Object.fromEntries(s.map(l=>{const c=i.filter(y=>y.type===l.name),d={name:l.name,options:l.options,storage:l.storage,editor:t},h=e.reduce((y,b)=>{const E=xe(b,"extendNodeSchema",d);return{...y,...E?E(l):{}}},{}),f=EC({...h,content:_t(xe(l,"content",d)),marks:_t(xe(l,"marks",d)),group:_t(xe(l,"group",d)),inline:_t(xe(l,"inline",d)),atom:_t(xe(l,"atom",d)),selectable:_t(xe(l,"selectable",d)),draggable:_t(xe(l,"draggable",d)),code:_t(xe(l,"code",d)),whitespace:_t(xe(l,"whitespace",d)),defining:_t(xe(l,"defining",d)),isolating:_t(xe(l,"isolating",d)),attrs:Object.fromEntries(c.map(y=>{var b;return[y.name,{default:(b=y==null?void 0:y.attribute)===null||b===void 0?void 0:b.default}]}))}),p=_t(xe(l,"parseHTML",d));p&&(f.parseDOM=p.map(y=>bC(y,c)));const g=xe(l,"renderHTML",d);g&&(f.toDOM=y=>g({node:y,HTMLAttributes:Wm(y,c)}));const m=xe(l,"renderText",d);return m&&(f.toText=m),[l.name,f]})),o=Object.fromEntries(r.map(l=>{const c=i.filter(m=>m.type===l.name),d={name:l.name,options:l.options,storage:l.storage,editor:t},h=e.reduce((m,y)=>{const b=xe(y,"extendMarkSchema",d);return{...m,...b?b(l):{}}},{}),f=EC({...h,inclusive:_t(xe(l,"inclusive",d)),excludes:_t(xe(l,"excludes",d)),group:_t(xe(l,"group",d)),spanning:_t(xe(l,"spanning",d)),code:_t(xe(l,"code",d)),attrs:Object.fromEntries(c.map(m=>{var y;return[m.name,{default:(y=m==null?void 0:m.attribute)===null||y===void 0?void 0:y.default}]}))}),p=_t(xe(l,"parseHTML",d));p&&(f.parseDOM=p.map(m=>bC(m,c)));const g=xe(l,"renderHTML",d);return g&&(f.toDOM=m=>g({mark:m,HTMLAttributes:Wm(m,c)})),[l.name,f]}));return new hI({topNode:a,nodes:u,marks:o})}function wg(e,t){return t.nodes[e]||t.marks[e]||null}function _C(e,t){return Array.isArray(t)?t.some(n=>(typeof n=="string"?n:n.name)===e.name):t}const vee=(e,t=500)=>{let n="";const i=e.parentOffset;return e.parent.nodesBetween(Math.max(0,i-t),i,(s,r,a,u)=>{var o,l;const c=((l=(o=s.type.spec).toText)===null||l===void 0?void 0:l.call(o,{node:s,pos:r,parent:a,index:u}))||s.textContent||"%leaf%";n+=s.isAtom&&!s.isText?c:c.slice(0,Math.max(0,i-r))}),n};function Gy(e){return Object.prototype.toString.call(e)==="[object RegExp]"}class Wy{constructor(t){this.find=t.find,this.handler=t.handler}}const yee=(e,t)=>{if(Gy(t))return t.exec(e);const n=t(e);if(!n)return null;const i=[n.text];return i.index=n.index,i.input=e,i.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),i.push(n.replaceWith)),i};function Ad(e){var t;const{editor:n,from:i,to:s,text:r,rules:a,plugin:u}=e,{view:o}=n;if(o.composing)return!1;const l=o.state.doc.resolve(i);if(l.parent.type.spec.code||!((t=l.nodeBefore||l.nodeAfter)===null||t===void 0)&&t.marks.find(h=>h.type.spec.code))return!1;let c=!1;const d=vee(l)+r;return a.forEach(h=>{if(c)return;const f=yee(d,h.find);if(!f)return;const p=o.state.tr,g=ep({state:o.state,transaction:p}),m={from:i-(f[0].length-r.length),to:s},{commands:y,chain:b,can:E}=new tp({editor:n,state:g});h.handler({state:g,range:m,match:f,commands:y,chain:b,can:E})===null||!p.steps.length||(p.setMeta(u,{transform:p,from:i,to:s,text:r}),o.dispatch(p),c=!0)}),c}function bee(e){const{editor:t,rules:n}=e,i=new gr({state:{init(){return null},apply(s,r){const a=s.getMeta(i);if(a)return a;const u=s.getMeta("applyInputRules");return!!u&&setTimeout(()=>{const{from:l,text:c}=u,d=l+c.length;Ad({editor:t,from:l,to:d,text:c,rules:n,plugin:i})}),s.selectionSet||s.docChanged?null:r}},props:{handleTextInput(s,r,a,u){return Ad({editor:t,from:r,to:a,text:u,rules:n,plugin:i})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:r}=s.state.selection;r&&Ad({editor:t,from:r.pos,to:r.pos,text:"",rules:n,plugin:i})}),!1)},handleKeyDown(s,r){if(r.key!=="Enter")return!1;const{$cursor:a}=s.state.selection;return a?Ad({editor:t,from:a.pos,to:a.pos,text:`
`,rules:n,plugin:i}):!1}},isInputRules:!0});return i}function Eee(e){return Object.prototype.toString.call(e).slice(8,-1)}function Pd(e){return Eee(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function ip(e,t){const n={...e};return Pd(e)&&Pd(t)&&Object.keys(t).forEach(i=>{Pd(t[i])&&Pd(e[i])?n[i]=ip(e[i],t[i]):n[i]=t[i]}),n}class No{constructor(t={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=_t(xe(this,"addOptions",{name:this.name}))),this.storage=_t(xe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new No(t)}configure(t={}){const n=this.extend({...this.config,addOptions:()=>ip(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new No(t);return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=_t(xe(n,"addOptions",{name:n.name})),n.storage=_t(xe(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:t,mark:n}){const{tr:i}=t.state,s=t.state.selection.$from;if(s.pos===s.end()){const a=s.marks();if(!!!a.find(l=>(l==null?void 0:l.type.name)===n.name))return!1;const o=a.find(l=>(l==null?void 0:l.type.name)===n.name);return o&&i.removeStoredMark(o),i.insertText(" ",s.pos),t.view.dispatch(i),!0}return!1}}function _ee(e){return typeof e=="number"}class Cee{constructor(t){this.find=t.find,this.handler=t.handler}}const See=(e,t,n)=>{if(Gy(t))return[...e.matchAll(t)];const i=t(e,n);return i?i.map(s=>{const r=[s.text];return r.index=s.index,r.input=e,r.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),r.push(s.replaceWith)),r}):[]};function xee(e){const{editor:t,state:n,from:i,to:s,rule:r,pasteEvent:a,dropEvent:u}=e,{commands:o,chain:l,can:c}=new tp({editor:t,state:n}),d=[];return n.doc.nodesBetween(i,s,(f,p)=>{if(!f.isTextblock||f.type.spec.code)return;const g=Math.max(i,p),m=Math.min(s,p+f.content.size),y=f.textBetween(g-p,m-p,void 0,"￼");See(y,r.find,a).forEach(E=>{if(E.index===void 0)return;const _=g+E.index+1,I=_+E[0].length,P={from:n.tr.mapping.map(_),to:n.tr.mapping.map(I)},M=r.handler({state:n,range:P,match:E,commands:o,chain:l,can:c,pasteEvent:a,dropEvent:u});d.push(M)})}),d.every(f=>f!==null)}const Tee=e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=n.clipboardData)===null||t===void 0||t.setData("text/html",e),n};function wee(e){const{editor:t,rules:n}=e;let i=null,s=!1,r=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,u=typeof DragEvent<"u"?new DragEvent("drop"):null;const o=({state:c,from:d,to:h,rule:f,pasteEvt:p})=>{const g=c.tr,m=ep({state:c,transaction:g});if(!(!xee({editor:t,state:m,from:Math.max(d-1,0),to:h.b-1,rule:f,pasteEvent:p,dropEvent:u})||!g.steps.length))return u=typeof DragEvent<"u"?new DragEvent("drop"):null,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g};return n.map(c=>new gr({view(d){const h=f=>{var p;i=!((p=d.dom.parentElement)===null||p===void 0)&&p.contains(f.target)?d.dom.parentElement:null};return window.addEventListener("dragstart",h),{destroy(){window.removeEventListener("dragstart",h)}}},props:{handleDOMEvents:{drop:(d,h)=>(r=i===d.dom.parentElement,u=h,!1),paste:(d,h)=>{var f;const p=(f=h.clipboardData)===null||f===void 0?void 0:f.getData("text/html");return a=h,s=!!(p!=null&&p.includes("data-pm-slice")),!1}}},appendTransaction:(d,h,f)=>{const p=d[0],g=p.getMeta("uiEvent")==="paste"&&!s,m=p.getMeta("uiEvent")==="drop"&&!r,y=p.getMeta("applyPasteRules"),b=!!y;if(!g&&!m&&!b)return;if(b){const{from:I,text:P}=y,M=I+P.length,z=Tee(P);return o({rule:c,state:f,from:I,to:{b:M},pasteEvt:z})}const E=h.doc.content.findDiffStart(f.doc.content),_=h.doc.content.findDiffEnd(f.doc.content);if(!(!_ee(E)||!_||E===_.b))return o({rule:c,state:f,from:E,to:_,pasteEvt:a})}}))}function Iee(e){const t=e.filter((n,i)=>e.indexOf(n)!==i);return Array.from(new Set(t))}class ml{constructor(t,n){this.splittableMarks=[],this.editor=n,this.extensions=ml.resolve(t),this.schema=mee(this.extensions,n),this.setupExtensions()}static resolve(t){const n=ml.sort(ml.flatten(t)),i=Iee(n.map(s=>s.name));return i.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${i.map(s=>`'${s}'`).join(", ")}]. This can lead to issues.`),n}static flatten(t){return t.map(n=>{const i={name:n.name,options:n.options,storage:n.storage},s=xe(n,"addExtensions",i);return s?[n,...this.flatten(s())]:n}).flat(10)}static sort(t){return t.sort((i,s)=>{const r=xe(i,"priority")||100,a=xe(s,"priority")||100;return r>a?-1:r<a?1:0})}get commands(){return this.extensions.reduce((t,n)=>{const i={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:wg(n.name,this.schema)},s=xe(n,"addCommands",i);return s?{...t,...s()}:t},{})}get plugins(){const{editor:t}=this,n=ml.sort([...this.extensions].reverse()),i=[],s=[],r=n.map(a=>{const u={name:a.name,options:a.options,storage:a.storage,editor:t,type:wg(a.name,this.schema)},o=[],l=xe(a,"addKeyboardShortcuts",u);let c={};if(a.type==="mark"&&xe(a,"exitable",u)&&(c.ArrowRight=()=>No.handleExit({editor:t,mark:a})),l){const g=Object.fromEntries(Object.entries(l()).map(([m,y])=>[m,()=>y({editor:t})]));c={...c,...g}}const d=BQ(c);o.push(d);const h=xe(a,"addInputRules",u);_C(a,t.options.enableInputRules)&&h&&i.push(...h());const f=xe(a,"addPasteRules",u);_C(a,t.options.enablePasteRules)&&f&&s.push(...f());const p=xe(a,"addProseMirrorPlugins",u);if(p){const g=p();o.push(...g)}return o}).flat();return[bee({editor:t,rules:i}),...wee({editor:t,rules:s}),...r]}get attributes(){return gO(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:n}=np(this.extensions);return Object.fromEntries(n.filter(i=>!!xe(i,"addNodeView")).map(i=>{const s=this.attributes.filter(o=>o.type===i.name),r={name:i.name,options:i.options,storage:i.storage,editor:t,type:Bn(i.name,this.schema)},a=xe(i,"addNodeView",r);if(!a)return[];const u=(o,l,c,d,h)=>{const f=Wm(o,s);return a()({node:o,view:l,getPos:c,decorations:d,innerDecorations:h,editor:t,extension:i,HTMLAttributes:f})};return[i.name,u]}))}setupExtensions(){this.extensions.forEach(t=>{var n;this.editor.extensionStorage[t.name]=t.storage;const i={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:wg(t.name,this.schema)};t.type==="mark"&&(!((n=_t(xe(t,"keepOnSplit",i)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(t.name);const s=xe(t,"onBeforeCreate",i),r=xe(t,"onCreate",i),a=xe(t,"onUpdate",i),u=xe(t,"onSelectionUpdate",i),o=xe(t,"onTransaction",i),l=xe(t,"onFocus",i),c=xe(t,"onBlur",i),d=xe(t,"onDestroy",i);s&&this.editor.on("beforeCreate",s),r&&this.editor.on("create",r),a&&this.editor.on("update",a),u&&this.editor.on("selectionUpdate",u),o&&this.editor.on("transaction",o),l&&this.editor.on("focus",l),c&&this.editor.on("blur",c),d&&this.editor.on("destroy",d)})}}class zs{constructor(t={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=_t(xe(this,"addOptions",{name:this.name}))),this.storage=_t(xe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new zs(t)}configure(t={}){const n=this.extend({...this.config,addOptions:()=>ip(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new zs({...this.config,...t});return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=_t(xe(n,"addOptions",{name:n.name})),n.storage=_t(xe(n,"addStorage",{name:n.name,options:n.options})),n}}function vO(e,t,n){const{from:i,to:s}=t,{blockSeparator:r=`

`,textSerializers:a={}}=n||{};let u="";return e.nodesBetween(i,s,(o,l,c,d)=>{var h;o.isBlock&&l>i&&(u+=r);const f=a==null?void 0:a[o.type.name];if(f)return c&&(u+=f({node:o,pos:l,parent:c,index:d,range:t})),!1;o.isText&&(u+=(h=o==null?void 0:o.text)===null||h===void 0?void 0:h.slice(Math.max(i,l)-l,s-l))}),u}function yO(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}const Oee=zs.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new gr({key:new Ua("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:i,selection:s}=t,{ranges:r}=s,a=Math.min(...r.map(c=>c.$from.pos)),u=Math.max(...r.map(c=>c.$to.pos)),o=yO(n);return vO(i,{from:a,to:u},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:o})}}})]}}),kee=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),Aee=(e=!1)=>({commands:t})=>t.setContent("",e),Pee=()=>({state:e,tr:t,dispatch:n})=>{const{selection:i}=t,{ranges:s}=i;return n&&s.forEach(({$from:r,$to:a})=>{e.doc.nodesBetween(r.pos,a.pos,(u,o)=>{if(u.type.isText)return;const{doc:l,mapping:c}=t,d=l.resolve(c.map(o)),h=l.resolve(c.map(o+u.nodeSize)),f=d.blockRange(h);if(!f)return;const p=ec(f);if(u.type.isTextblock){const{defaultType:g}=d.parent.contentMatchAt(d.index());t.setNodeMarkup(f.start,g)}(p||p===0)&&t.lift(f,p)})}),!0},$ee=e=>t=>e(t),Mee=()=>({state:e,dispatch:t})=>eee(e,t),Nee=(e,t)=>({editor:n,tr:i})=>{const{state:s}=n,r=s.doc.slice(e.from,e.to);i.deleteRange(e.from,e.to);const a=i.mapping.map(t);return i.insert(a,r.content),i.setSelection(new vt(i.doc.resolve(a-1))),!0},Ree=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,i=n.$anchor.node();if(i.content.size>0)return!1;const s=e.selection.$anchor;for(let r=s.depth;r>0;r-=1)if(s.node(r).type===i.type){if(t){const u=s.before(r),o=s.after(r);e.delete(u,o).scrollIntoView()}return!0}return!1},Dee=e=>({tr:t,state:n,dispatch:i})=>{const s=Bn(e,n.schema),r=t.selection.$anchor;for(let a=r.depth;a>0;a-=1)if(r.node(a).type===s){if(i){const o=r.before(a),l=r.after(a);t.delete(o,l).scrollIntoView()}return!0}return!1},Lee=e=>({tr:t,dispatch:n})=>{const{from:i,to:s}=e;return n&&t.delete(i,s),!0},Fee=()=>({state:e,dispatch:t})=>jQ(e,t),Vee=()=>({commands:e})=>e.keyboardShortcut("Enter"),Bee=()=>({state:e,dispatch:t})=>QQ(e,t);function zh(e,t,n={strict:!0}){const i=Object.keys(t);return i.length?i.every(s=>n.strict?t[s]===e[s]:Gy(t[s])?t[s].test(e[s]):t[s]===e[s]):!0}function zm(e,t,n={}){return e.find(i=>i.type===t&&zh(i.attrs,n))}function Hee(e,t,n={}){return!!zm(e,t,n)}function zy(e,t,n={}){if(!e||!t)return;let i=e.parent.childAfter(e.parentOffset);if(e.parentOffset===i.offset&&i.offset!==0&&(i=e.parent.childBefore(e.parentOffset)),!i.node)return;const s=zm([...i.node.marks],t,n);if(!s)return;let r=i.index,a=e.start()+i.offset,u=r+1,o=a+i.node.nodeSize;for(zm([...i.node.marks],t,n);r>0&&s.isInSet(e.parent.child(r-1).marks);)r-=1,a-=e.parent.child(r).nodeSize;for(;u<e.parent.childCount&&Hee([...e.parent.child(u).marks],t,n);)o+=e.parent.child(u).nodeSize,u+=1;return{from:a,to:o}}function zo(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}const jee=(e,t={})=>({tr:n,state:i,dispatch:s})=>{const r=zo(e,i.schema),{doc:a,selection:u}=n,{$from:o,from:l,to:c}=u;if(s){const d=zy(o,r,t);if(d&&d.from<=l&&d.to>=c){const h=vt.create(a,d.from,d.to);n.setSelection(h)}}return!0},Uee=e=>t=>{const n=typeof e=="function"?e(t):e;for(let i=0;i<n.length;i+=1)if(n[i](t))return!0;return!1};function bO(e){return e instanceof vt}function ga(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function EO(e,t=null){if(!t)return null;const n=St.atStart(e),i=St.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return i;const s=n.from,r=i.to;return t==="all"?vt.create(e,ga(0,s,r),ga(e.content.size,s,r)):vt.create(e,ga(t,s,r),ga(t,s,r))}function Ky(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const Gee=(e=null,t={})=>({editor:n,view:i,tr:s,dispatch:r})=>{t={scrollIntoView:!0,...t};const a=()=>{Ky()&&i.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(i.focus(),t!=null&&t.scrollIntoView&&n.commands.scrollIntoView())})};if(i.hasFocus()&&e===null||e===!1)return!0;if(r&&e===null&&!bO(n.state.selection))return a(),!0;const u=EO(s.doc,e)||n.state.selection,o=n.state.selection.eq(u);return r&&(o||s.setSelection(u),o&&s.storedMarks&&s.setStoredMarks(s.storedMarks),a()),!0},Wee=(e,t)=>n=>e.every((i,s)=>t(i,{...n,index:s})),zee=(e,t)=>({tr:n,commands:i})=>i.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),_O=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const i=t[n];i.nodeType===3&&i.nodeValue&&/^(\n\s\s|\n)$/.test(i.nodeValue)?e.removeChild(i):i.nodeType===1&&_O(i)}return e};function $d(e){const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return _O(n)}function Kh(e,t,n){n={slice:!0,parseOptions:{},...n};const i=typeof e=="object"&&e!==null,s=typeof e=="string";if(i)try{if(Array.isArray(e)&&e.length>0)return le.fromArray(e.map(u=>t.nodeFromJSON(u)));const a=t.nodeFromJSON(e);return n.errorOnInvalidContent&&a.check(),a}catch(r){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:r});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",r),Kh("",t,n)}if(s){if(n.errorOnInvalidContent){let a=!1,u="";const o=new hI({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:l=>(a=!0,u=typeof l=="string"?l:l.outerHTML,null)}]}})});if(n.slice?iu.fromSchema(o).parseSlice($d(e),n.parseOptions):iu.fromSchema(o).parse($d(e),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${u}`)})}const r=iu.fromSchema(t);return n.slice?r.parseSlice($d(e),n.parseOptions).content:r.parse($d(e),n.parseOptions)}return Kh("",t,n)}function Kee(e,t,n){const i=e.steps.length-1;if(i<t)return;const s=e.steps[i];if(!(s instanceof Nn||s instanceof Ln))return;const r=e.mapping.maps[i];let a=0;r.forEach((u,o,l,c)=>{a===0&&(a=c)}),e.setSelection(St.near(e.doc.resolve(a),n))}const qee=e=>!("type"in e),Yee=(e,t,n)=>({tr:i,dispatch:s,editor:r})=>{var a;if(s){n={parseOptions:{},updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let u;try{u=Kh(t,r.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:(a=n.errorOnInvalidContent)!==null&&a!==void 0?a:r.options.enableContentCheck})}catch(p){return r.emit("contentError",{editor:r,error:p,disableCollaboration:()=>{console.error("[tiptap error]: Unable to disable collaboration at this point in time")}}),!1}let{from:o,to:l}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},c=!0,d=!0;if((qee(u)?u:[u]).forEach(p=>{p.check(),c=c?p.isText&&p.marks.length===0:!1,d=d?p.isBlock:!1}),o===l&&d){const{parent:p}=i.doc.resolve(o);p.isTextblock&&!p.type.spec.code&&!p.childCount&&(o-=1,l+=1)}let f;c?(Array.isArray(t)?f=t.map(p=>p.text||"").join(""):typeof t=="object"&&t&&t.text?f=t.text:f=t,i.insertText(f,o,l)):(f=u,i.replaceWith(o,l,f)),n.updateSelection&&Kee(i,i.steps.length-1,-1),n.applyInputRules&&i.setMeta("applyInputRules",{from:o,text:f}),n.applyPasteRules&&i.setMeta("applyPasteRules",{from:o,text:f})}return!0},Jee=()=>({state:e,dispatch:t})=>YQ(e,t),Xee=()=>({state:e,dispatch:t})=>JQ(e,t),Zee=()=>({state:e,dispatch:t})=>UQ(e,t),Qee=()=>({state:e,dispatch:t})=>KQ(e,t),ete=()=>({state:e,dispatch:t,tr:n})=>{try{const i=qf(e.doc,e.selection.$from.pos,-1);return i==null?!1:(n.join(i,2),t&&t(n),!0)}catch{return!1}},tte=()=>({state:e,dispatch:t,tr:n})=>{try{const i=qf(e.doc,e.selection.$from.pos,1);return i==null?!1:(n.join(i,2),t&&t(n),!0)}catch{return!1}},nte=()=>({state:e,dispatch:t})=>GQ(e,t),ite=()=>({state:e,dispatch:t})=>WQ(e,t);function CO(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function ste(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let i,s,r,a;for(let u=0;u<t.length-1;u+=1){const o=t[u];if(/^(cmd|meta|m)$/i.test(o))a=!0;else if(/^a(lt)?$/i.test(o))i=!0;else if(/^(c|ctrl|control)$/i.test(o))s=!0;else if(/^s(hift)?$/i.test(o))r=!0;else if(/^mod$/i.test(o))Ky()||CO()?a=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${o}`)}return i&&(n=`Alt-${n}`),s&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),r&&(n=`Shift-${n}`),n}const rte=e=>({editor:t,view:n,tr:i,dispatch:s})=>{const r=ste(e).split(/-(?!$)/),a=r.find(l=>!["Alt","Ctrl","Meta","Shift"].includes(l)),u=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:r.includes("Alt"),ctrlKey:r.includes("Ctrl"),metaKey:r.includes("Meta"),shiftKey:r.includes("Shift"),bubbles:!0,cancelable:!0}),o=t.captureTransaction(()=>{n.someProp("handleKeyDown",l=>l(n,u))});return o==null||o.steps.forEach(l=>{const c=l.map(i.mapping);c&&s&&i.maybeStep(c)}),!0};function ku(e,t,n={}){const{from:i,to:s,empty:r}=e.selection,a=t?Bn(t,e.schema):null,u=[];e.doc.nodesBetween(i,s,(d,h)=>{if(d.isText)return;const f=Math.max(i,h),p=Math.min(s,h+d.nodeSize);u.push({node:d,from:f,to:p})});const o=s-i,l=u.filter(d=>a?a.name===d.node.type.name:!0).filter(d=>zh(d.node.attrs,n,{strict:!1}));return r?!!l.length:l.reduce((d,h)=>d+h.to-h.from,0)>=o}const ote=(e,t={})=>({state:n,dispatch:i})=>{const s=Bn(e,n.schema);return ku(n,s,t)?XQ(n,i):!1},ate=()=>({state:e,dispatch:t})=>tee(e,t),lte=e=>({state:t,dispatch:n})=>{const i=Bn(e,t.schema);return cee(i)(t,n)},cte=()=>({state:e,dispatch:t})=>ZQ(e,t);function sp(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function CC(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((i,s)=>(n.includes(s)||(i[s]=e[s]),i),{})}const ute=(e,t)=>({tr:n,state:i,dispatch:s})=>{let r=null,a=null;const u=sp(typeof e=="string"?e:e.name,i.schema);return u?(u==="node"&&(r=Bn(e,i.schema)),u==="mark"&&(a=zo(e,i.schema)),s&&n.selection.ranges.forEach(o=>{i.doc.nodesBetween(o.$from.pos,o.$to.pos,(l,c)=>{r&&r===l.type&&n.setNodeMarkup(c,void 0,CC(l.attrs,t)),a&&l.marks.length&&l.marks.forEach(d=>{a===d.type&&n.addMark(c,c+l.nodeSize,a.create(CC(d.attrs,t)))})})}),!0):!1},dte=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),hte=()=>({tr:e,commands:t})=>t.setTextSelection({from:0,to:e.doc.content.size}),fte=()=>({state:e,dispatch:t})=>zQ(e,t),pte=()=>({state:e,dispatch:t})=>qQ(e,t),gte=()=>({state:e,dispatch:t})=>nee(e,t),mte=()=>({state:e,dispatch:t})=>ree(e,t),vte=()=>({state:e,dispatch:t})=>see(e,t);function Km(e,t,n={},i={}){return Kh(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:i.errorOnInvalidContent})}const yte=(e,t=!1,n={},i={})=>({editor:s,tr:r,dispatch:a,commands:u})=>{var o,l;const{doc:c}=r;if(n.preserveWhitespace!=="full"){const d=Km(e,s.schema,n,{errorOnInvalidContent:(o=i.errorOnInvalidContent)!==null&&o!==void 0?o:s.options.enableContentCheck});return a&&r.replaceWith(0,c.content.size,d).setMeta("preventUpdate",!t),!0}return a&&r.setMeta("preventUpdate",!t),u.insertContentAt({from:0,to:c.content.size},e,{parseOptions:n,errorOnInvalidContent:(l=i.errorOnInvalidContent)!==null&&l!==void 0?l:s.options.enableContentCheck})};function qy(e,t){const n=zo(t,e.schema),{from:i,to:s,empty:r}=e.selection,a=[];r?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(i,s,o=>{a.push(...o.marks)});const u=a.find(o=>o.type.name===n.name);return u?{...u.attrs}:{}}function bte(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function Ete(e,t){for(let n=e.depth;n>0;n-=1){const i=e.node(n);if(t(i))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:i}}}function Yy(e){return t=>Ete(t.$from,e)}function _te(e,t){const n=ja.fromSchema(t).serializeFragment(e),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(n),s.innerHTML}function Cte(e,t){const n={from:0,to:e.content.size};return vO(e,n,t)}function Ste(e,t){const n=Bn(t,e.schema),{from:i,to:s}=e.selection,r=[];e.doc.nodesBetween(i,s,u=>{r.push(u)});const a=r.reverse().find(u=>u.type.name===n.name);return a?{...a.attrs}:{}}function xte(e,t){const n=sp(typeof t=="string"?t:t.name,e.schema);return n==="node"?Ste(e,t):n==="mark"?qy(e,t):{}}function SO(e,t,n){const i=[];return e===t?n.resolve(e).marks().forEach(s=>{const r=n.resolve(e),a=zy(r,s.type);a&&i.push({mark:s,...a})}):n.nodesBetween(e,t,(s,r)=>{!s||(s==null?void 0:s.nodeSize)===void 0||i.push(...s.marks.map(a=>({from:r,to:r+s.nodeSize,mark:a})))}),i}function eh(e,t,n){return Object.fromEntries(Object.entries(n).filter(([i])=>{const s=e.find(r=>r.type===t&&r.name===i);return s?s.attribute.keepOnSplit:!1}))}function qm(e,t,n={}){const{empty:i,ranges:s}=e.selection,r=t?zo(t,e.schema):null;if(i)return!!(e.storedMarks||e.selection.$from.marks()).filter(d=>r?r.name===d.type.name:!0).find(d=>zh(d.attrs,n,{strict:!1}));let a=0;const u=[];if(s.forEach(({$from:d,$to:h})=>{const f=d.pos,p=h.pos;e.doc.nodesBetween(f,p,(g,m)=>{if(!g.isText&&!g.marks.length)return;const y=Math.max(f,m),b=Math.min(p,m+g.nodeSize),E=b-y;a+=E,u.push(...g.marks.map(_=>({mark:_,from:y,to:b})))})}),a===0)return!1;const o=u.filter(d=>r?r.name===d.mark.type.name:!0).filter(d=>zh(d.mark.attrs,n,{strict:!1})).reduce((d,h)=>d+h.to-h.from,0),l=u.filter(d=>r?d.mark.type!==r&&d.mark.type.excludes(r):!0).reduce((d,h)=>d+h.to-h.from,0);return(o>0?o+l:o)>=a}function Tte(e,t,n={}){if(!t)return ku(e,null,n)||qm(e,null,n);const i=sp(t,e.schema);return i==="node"?ku(e,t,n):i==="mark"?qm(e,t,n):!1}function SC(e,t){const{nodeExtensions:n}=np(t),i=n.find(a=>a.name===e);if(!i)return!1;const s={name:i.name,options:i.options,storage:i.storage},r=_t(xe(i,"group",s));return typeof r!="string"?!1:r.split(" ").includes("list")}function Jy(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var i;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((i=e.text)!==null&&i!==void 0?i:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let s=!0;return e.content.forEach(r=>{s!==!1&&(Jy(r,{ignoreWhitespace:n,checkChildren:t})||(s=!1))}),s}return!1}function wte(e,t,n){var i;const{selection:s}=t;let r=null;if(bO(s)&&(r=s.$cursor),r){const u=(i=e.storedMarks)!==null&&i!==void 0?i:r.marks();return!!n.isInSet(u)||!u.some(o=>o.type.excludes(n))}const{ranges:a}=s;return a.some(({$from:u,$to:o})=>{let l=u.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(u.pos,o.pos,(c,d,h)=>{if(l)return!1;if(c.isInline){const f=!h||h.type.allowsMarkType(n),p=!!n.isInSet(c.marks)||!c.marks.some(g=>g.type.excludes(n));l=f&&p}return!l}),l})}const Ite=(e,t={})=>({tr:n,state:i,dispatch:s})=>{const{selection:r}=n,{empty:a,ranges:u}=r,o=zo(e,i.schema);if(s)if(a){const l=qy(i,o);n.addStoredMark(o.create({...l,...t}))}else u.forEach(l=>{const c=l.$from.pos,d=l.$to.pos;i.doc.nodesBetween(c,d,(h,f)=>{const p=Math.max(f,c),g=Math.min(f+h.nodeSize,d);h.marks.find(y=>y.type===o)?h.marks.forEach(y=>{o===y.type&&n.addMark(p,g,o.create({...y.attrs,...t}))}):n.addMark(p,g,o.create(t))})});return wte(i,n,o)},Ote=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),kte=(e,t={})=>({state:n,dispatch:i,chain:s})=>{const r=Bn(e,n.schema);return r.isTextblock?s().command(({commands:a})=>yC(r,t)(n)?!0:a.clearNodes()).command(({state:a})=>yC(r,t)(a,i)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Ate=e=>({tr:t,dispatch:n})=>{if(n){const{doc:i}=t,s=ga(e,0,i.content.size),r=Ze.create(i,s);t.setSelection(r)}return!0},Pte=e=>({tr:t,dispatch:n})=>{if(n){const{doc:i}=t,{from:s,to:r}=typeof e=="number"?{from:e,to:e}:e,a=vt.atStart(i).from,u=vt.atEnd(i).to,o=ga(s,a,u),l=ga(r,a,u),c=vt.create(i,o,l);t.setSelection(c)}return!0},$te=e=>({state:t,dispatch:n})=>{const i=Bn(e,t.schema);return hee(i)(t,n)};function xC(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const i=n.filter(s=>t==null?void 0:t.includes(s.type.name));e.tr.ensureMarks(i)}}const Mte=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:i,editor:s})=>{const{selection:r,doc:a}=t,{$from:u,$to:o}=r,l=s.extensionManager.attributes,c=eh(l,u.node().type.name,u.node().attrs);if(r instanceof Ze&&r.node.isBlock)return!u.parentOffset||!xl(a,u.pos)?!1:(i&&(e&&xC(n,s.extensionManager.splittableMarks),t.split(u.pos).scrollIntoView()),!0);if(!u.parent.isBlock)return!1;const d=o.parentOffset===o.parent.content.size,h=u.depth===0?void 0:bte(u.node(-1).contentMatchAt(u.indexAfter(-1)));let f=d&&h?[{type:h,attrs:c}]:void 0,p=xl(t.doc,t.mapping.map(u.pos),1,f);if(!f&&!p&&xl(t.doc,t.mapping.map(u.pos),1,h?[{type:h}]:void 0)&&(p=!0,f=h?[{type:h,attrs:c}]:void 0),i){if(p&&(r instanceof vt&&t.deleteSelection(),t.split(t.mapping.map(u.pos),1,f),h&&!d&&!u.parentOffset&&u.parent.type!==h)){const g=t.mapping.map(u.before()),m=t.doc.resolve(g);u.node(-1).canReplaceWith(m.index(),m.index()+1,h)&&t.setNodeMarkup(t.mapping.map(u.before()),h)}e&&xC(n,s.extensionManager.splittableMarks),t.scrollIntoView()}return p},Nte=(e,t={})=>({tr:n,state:i,dispatch:s,editor:r})=>{var a;const u=Bn(e,i.schema),{$from:o,$to:l}=i.selection,c=i.selection.node;if(c&&c.isBlock||o.depth<2||!o.sameParent(l))return!1;const d=o.node(-1);if(d.type!==u)return!1;const h=r.extensionManager.attributes;if(o.parent.content.size===0&&o.node(-1).childCount===o.indexAfter(-1)){if(o.depth===2||o.node(-3).type!==u||o.index(-2)!==o.node(-2).childCount-1)return!1;if(s){let y=le.empty;const b=o.index(-1)?1:o.index(-2)?2:3;for(let z=o.depth-b;z>=o.depth-3;z-=1)y=le.from(o.node(z).copy(y));const E=o.indexAfter(-1)<o.node(-2).childCount?1:o.indexAfter(-2)<o.node(-3).childCount?2:3,_={...eh(h,o.node().type.name,o.node().attrs),...t},I=((a=u.contentMatch.defaultType)===null||a===void 0?void 0:a.createAndFill(_))||void 0;y=y.append(le.from(u.createAndFill(null,I)||void 0));const P=o.before(o.depth-(b-1));n.replace(P,o.after(-E),new ye(y,4-b,0));let M=-1;n.doc.nodesBetween(P,n.doc.content.size,(z,D)=>{if(M>-1)return!1;z.isTextblock&&z.content.size===0&&(M=D+1)}),M>-1&&n.setSelection(vt.near(n.doc.resolve(M))),n.scrollIntoView()}return!0}const f=l.pos===o.end()?d.contentMatchAt(0).defaultType:null,p={...eh(h,d.type.name,d.attrs),...t},g={...eh(h,o.node().type.name,o.node().attrs),...t};n.delete(o.pos,l.pos);const m=f?[{type:u,attrs:p},{type:f,attrs:g}]:[{type:u,attrs:p}];if(!xl(n.doc,o.pos,2))return!1;if(s){const{selection:y,storedMarks:b}=i,{splittableMarks:E}=r.extensionManager,_=b||y.$to.parentOffset&&y.$from.marks();if(n.split(o.pos,2,m).scrollIntoView(),!_||!s)return!0;const I=_.filter(P=>E.includes(P.type.name));n.ensureMarks(I)}return!0},Ig=(e,t)=>{const n=Yy(a=>a.type===t)(e.selection);if(!n)return!0;const i=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(i===void 0)return!0;const s=e.doc.nodeAt(i);return n.node.type===(s==null?void 0:s.type)&&Go(e.doc,n.pos)&&e.join(n.pos),!0},Og=(e,t)=>{const n=Yy(a=>a.type===t)(e.selection);if(!n)return!0;const i=e.doc.resolve(n.start).after(n.depth);if(i===void 0)return!0;const s=e.doc.nodeAt(i);return n.node.type===(s==null?void 0:s.type)&&Go(e.doc,i)&&e.join(i),!0},Rte=(e,t,n,i={})=>({editor:s,tr:r,state:a,dispatch:u,chain:o,commands:l,can:c})=>{const{extensions:d,splittableMarks:h}=s.extensionManager,f=Bn(e,a.schema),p=Bn(t,a.schema),{selection:g,storedMarks:m}=a,{$from:y,$to:b}=g,E=y.blockRange(b),_=m||g.$to.parentOffset&&g.$from.marks();if(!E)return!1;const I=Yy(P=>SC(P.type.name,d))(g);if(E.depth>=1&&I&&E.depth-I.depth<=1){if(I.node.type===f)return l.liftListItem(p);if(SC(I.node.type.name,d)&&f.validContent(I.node.content)&&u)return o().command(()=>(r.setNodeMarkup(I.pos,f),!0)).command(()=>Ig(r,f)).command(()=>Og(r,f)).run()}return!n||!_||!u?o().command(()=>c().wrapInList(f,i)?!0:l.clearNodes()).wrapInList(f,i).command(()=>Ig(r,f)).command(()=>Og(r,f)).run():o().command(()=>{const P=c().wrapInList(f,i),M=_.filter(z=>h.includes(z.type.name));return r.ensureMarks(M),P?!0:l.clearNodes()}).wrapInList(f,i).command(()=>Ig(r,f)).command(()=>Og(r,f)).run()},Dte=(e,t={},n={})=>({state:i,commands:s})=>{const{extendEmptyMarkRange:r=!1}=n,a=zo(e,i.schema);return qm(i,a,t)?s.unsetMark(a,{extendEmptyMarkRange:r}):s.setMark(a,t)},Lte=(e,t,n={})=>({state:i,commands:s})=>{const r=Bn(e,i.schema),a=Bn(t,i.schema),u=ku(i,r,n);let o;return i.selection.$anchor.sameParent(i.selection.$head)&&(o=i.selection.$anchor.parent.attrs),u?s.setNode(a,o):s.setNode(r,{...o,...n})},Fte=(e,t={})=>({state:n,commands:i})=>{const s=Bn(e,n.schema);return ku(n,s,t)?i.lift(s):i.wrapIn(s,t)},Vte=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let i=0;i<n.length;i+=1){const s=n[i];let r;if(s.spec.isInputRules&&(r=s.getState(e))){if(t){const a=e.tr,u=r.transform;for(let o=u.steps.length-1;o>=0;o-=1)a.step(u.steps[o].invert(u.docs[o]));if(r.text){const o=a.doc.resolve(r.from).marks();a.replaceWith(r.from,r.to,e.schema.text(r.text,o))}else a.delete(r.from,r.to)}return!0}}return!1},Bte=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:i,ranges:s}=n;return i||t&&s.forEach(r=>{e.removeMark(r.$from.pos,r.$to.pos)}),!0},Hte=(e,t={})=>({tr:n,state:i,dispatch:s})=>{var r;const{extendEmptyMarkRange:a=!1}=t,{selection:u}=n,o=zo(e,i.schema),{$from:l,empty:c,ranges:d}=u;if(!s)return!0;if(c&&a){let{from:h,to:f}=u;const p=(r=l.marks().find(m=>m.type===o))===null||r===void 0?void 0:r.attrs,g=zy(l,o,p);g&&(h=g.from,f=g.to),n.removeMark(h,f,o)}else d.forEach(h=>{n.removeMark(h.$from.pos,h.$to.pos,o)});return n.removeStoredMark(o),!0},jte=(e,t={})=>({tr:n,state:i,dispatch:s})=>{let r=null,a=null;const u=sp(typeof e=="string"?e:e.name,i.schema);return u?(u==="node"&&(r=Bn(e,i.schema)),u==="mark"&&(a=zo(e,i.schema)),s&&n.selection.ranges.forEach(o=>{const l=o.$from.pos,c=o.$to.pos;i.doc.nodesBetween(l,c,(d,h)=>{r&&r===d.type&&n.setNodeMarkup(h,void 0,{...d.attrs,...t}),a&&d.marks.length&&d.marks.forEach(f=>{if(a===f.type){const p=Math.max(h,l),g=Math.min(h+d.nodeSize,c);n.addMark(p,g,a.create({...f.attrs,...t}))}})})}),!0):!1},Ute=(e,t={})=>({state:n,dispatch:i})=>{const s=Bn(e,n.schema);return oee(s,t)(n,i)},Gte=(e,t={})=>({state:n,dispatch:i})=>{const s=Bn(e,n.schema);return aee(s,t)(n,i)};var Wte=Object.freeze({__proto__:null,blur:kee,clearContent:Aee,clearNodes:Pee,command:$ee,createParagraphNear:Mee,cut:Nee,deleteCurrentNode:Ree,deleteNode:Dee,deleteRange:Lee,deleteSelection:Fee,enter:Vee,exitCode:Bee,extendMarkRange:jee,first:Uee,focus:Gee,forEach:Wee,insertContent:zee,insertContentAt:Yee,joinBackward:Zee,joinDown:Xee,joinForward:Qee,joinItemBackward:ete,joinItemForward:tte,joinTextblockBackward:nte,joinTextblockForward:ite,joinUp:Jee,keyboardShortcut:rte,lift:ote,liftEmptyBlock:ate,liftListItem:lte,newlineInCode:cte,resetAttributes:ute,scrollIntoView:dte,selectAll:hte,selectNodeBackward:fte,selectNodeForward:pte,selectParentNode:gte,selectTextblockEnd:mte,selectTextblockStart:vte,setContent:yte,setMark:Ite,setMeta:Ote,setNode:kte,setNodeSelection:Ate,setTextSelection:Pte,sinkListItem:$te,splitBlock:Mte,splitListItem:Nte,toggleList:Rte,toggleMark:Dte,toggleNode:Lte,toggleWrap:Fte,undoInputRule:Vte,unsetAllMarks:Bte,unsetMark:Hte,updateAttributes:jte,wrapIn:Ute,wrapInList:Gte});const zte=zs.create({name:"commands",addCommands(){return{...Wte}}}),Kte=zs.create({name:"drop",addProseMirrorPlugins(){return[new gr({key:new Ua("tiptapDrop"),props:{handleDrop:(e,t,n,i)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:i})}}})]}}),qte=zs.create({name:"editable",addProseMirrorPlugins(){return[new gr({key:new Ua("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Yte=zs.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new gr({key:new Ua("focusEvents"),props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const i=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(i),!1},blur:(t,n)=>{e.isFocused=!1;const i=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(i),!1}}}})]}}),Jte=zs.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:u})=>{const{selection:o,doc:l}=u,{empty:c,$anchor:d}=o,{pos:h,parent:f}=d,p=d.parent.isTextblock&&h>0?u.doc.resolve(h-1):d,g=p.parent.type.spec.isolating,m=d.pos-d.parentOffset,y=g&&p.parent.childCount===1?m===d.pos:St.atStart(l).from===h;return!c||!f.type.isTextblock||f.textContent.length||!y||y&&d.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),i={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},s={...i},r={...i,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Ky()||CO()?r:s},addProseMirrorPlugins(){return[new gr({key:new Ua("clearDocument"),appendTransaction:(e,t,n)=>{const i=e.some(g=>g.docChanged)&&!t.doc.eq(n.doc),s=e.some(g=>g.getMeta("preventClearDocument"));if(!i||s)return;const{empty:r,from:a,to:u}=t.selection,o=St.atStart(t.doc).from,l=St.atEnd(t.doc).to;if(r||!(a===o&&u===l)||!Jy(n.doc))return;const h=n.tr,f=ep({state:n,transaction:h}),{commands:p}=new tp({editor:this.editor,state:f});if(p.clearNodes(),!!h.steps.length)return h}})]}}),Xte=zs.create({name:"paste",addProseMirrorPlugins(){return[new gr({key:new Ua("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),Zte=zs.create({name:"tabindex",addProseMirrorPlugins(){return[new gr({key:new Ua("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class ha{get name(){return this.node.type.name}constructor(t,n,i=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=i,this.resolvedPos=t,this.editor=n,this.currentNode=s}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!==null&&t!==void 0?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let n=this.from,i=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,i=this.to-1}this.editor.commands.insertContentAt({from:n,to:i},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new ha(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new ha(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new ha(t,this.editor)}get children(){const t=[];return this.node.content.forEach((n,i)=>{const s=n.isBlock&&!n.isTextblock,r=this.pos+i+1,a=this.resolvedPos.doc.resolve(r);if(!s&&a.depth<=this.depth)return;const u=new ha(a,this.editor,s,s?n:null);s&&(u.actualDepth=this.depth+1),t.push(new ha(a,this.editor,s,s?n:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,n={}){let i=null,s=this.parent;for(;s&&!i;){if(s.node.type.name===t)if(Object.keys(n).length>0){const r=s.node.attrs,a=Object.keys(n);for(let u=0;u<a.length;u+=1){const o=a[u];if(r[o]!==n[o])break}}else i=s;s=s.parent}return i}querySelector(t,n={}){return this.querySelectorAll(t,n,!0)[0]||null}querySelectorAll(t,n={},i=!1){let s=[];if(!this.children||this.children.length===0)return s;const r=Object.keys(n);return this.children.forEach(a=>{i&&s.length>0||(a.node.type.name===t&&r.every(o=>n[o]===a.node.attrs[o])&&s.push(a),!(i&&s.length>0)&&(s=s.concat(a.querySelectorAll(t,n,i))))}),s}setAttribute(t){const n=this.editor.state.selection;this.editor.chain().setTextSelection(this.from).updateAttributes(this.node.type.name,t).setTextSelection(n.from).run()}}const Qte=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function ene(e,t,n){const i=document.querySelector("style[data-tiptap-style]");if(i!==null)return i;const s=document.createElement("style");return t&&s.setAttribute("nonce",t),s.setAttribute("data-tiptap-style",""),s.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(s),s}let tne=class extends fee{constructor(t={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:i,moved:s})=>this.options.onDrop(n,i,s)),this.on("paste",({event:n,slice:i})=>this.options.onPaste(n,i)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=ene(Qte,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,n=!0){this.setOptions({editable:t}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(t,n){const i=mO(n)?n(t,[...this.state.plugins]):[...this.state.plugins,t],s=this.state.reconfigure({plugins:i});return this.view.updateState(s),s}unregisterPlugin(t){if(this.isDestroyed)return;const n=typeof t=="string"?`${t}$`:t.key,i=this.state.reconfigure({plugins:this.state.plugins.filter(s=>!s.key.startsWith(n))});return this.view.updateState(i),i}createExtensionManager(){var t,n;const s=[...this.options.enableCoreExtensions?[qte,Oee.configure({blockSeparator:(n=(t=this.options.coreExtensionOptions)===null||t===void 0?void 0:t.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),zte,Yte,Jte,Zte,Kte,Xte].filter(r=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[r.name]!==!1:!0):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r==null?void 0:r.type));this.extensionManager=new ml(s,this)}createCommandManager(){this.commandManager=new tp({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){let t;try{t=Km(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(r){if(!(r instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(r.message))throw r;this.emit("contentError",{editor:this,error:r,disableCollaboration:()=>{this.options.extensions=this.options.extensions.filter(a=>a.name!=="collaboration"),this.createExtensionManager()}}),t=Km(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const n=EO(t,this.options.autofocus);this.view=new PQ(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:gl.create({doc:t,selection:n||void 0})});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.createNodeViews(),this.prependClass();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(a=>{var u;return(u=this.capturedTransaction)===null||u===void 0?void 0:u.step(a)});return}const n=this.state.apply(t),i=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:t,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:t}),i&&this.emit("selectionUpdate",{editor:this,transaction:t});const s=t.getMeta("focus"),r=t.getMeta("blur");s&&this.emit("focus",{editor:this,event:s.event,transaction:t}),r&&this.emit("blur",{editor:this,event:r.event,transaction:t}),!(!t.docChanged||t.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:t})}getAttributes(t){return xte(this.state,t)}isActive(t,n){const i=typeof t=="string"?t:null,s=typeof t=="string"?n:t;return Tte(this.state,i,s)}getJSON(){return this.state.doc.toJSON()}getHTML(){return _te(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:n=`

`,textSerializers:i={}}=t||{};return Cte(this.state.doc,{blockSeparator:n,textSerializers:{...yO(this.schema),...i}})}get isEmpty(){return Jy(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const t=this.view.dom;t&&t.editor&&delete t.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var t;return!(!((t=this.view)===null||t===void 0)&&t.docView)}$node(t,n){var i;return((i=this.$doc)===null||i===void 0?void 0:i.querySelector(t,n))||null}$nodes(t,n){var i;return((i=this.$doc)===null||i===void 0?void 0:i.querySelectorAll(t,n))||null}$pos(t){const n=this.state.doc.resolve(t);return new ha(n,this)}get $doc(){return this.$pos(0)}};function qh(e){return new Wy({find:e.find,handler:({state:t,range:n,match:i})=>{const s=_t(e.getAttributes,void 0,i);if(s===!1||s===null)return null;const{tr:r}=t,a=i[i.length-1],u=i[0];if(a){const o=u.search(/\S/),l=n.from+u.indexOf(a),c=l+a.length;if(SO(n.from,n.to,t.doc).filter(f=>f.mark.type.excluded.find(g=>g===e.type&&g!==f.mark.type)).filter(f=>f.to>l).length)return null;c<n.to&&r.delete(c,n.to),l>n.from&&r.delete(n.from+o,l);const h=n.from+o+a.length;r.addMark(n.from+o,h,e.type.create(s||{})),r.removeStoredMark(e.type)}}})}function nne(e){return new Wy({find:e.find,handler:({state:t,range:n,match:i})=>{const s=t.doc.resolve(n.from),r=_t(e.getAttributes,void 0,i)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,r)}})}function Yh(e){return new Wy({find:e.find,handler:({state:t,range:n,match:i,chain:s})=>{const r=_t(e.getAttributes,void 0,i)||{},a=t.tr.delete(n.from,n.to),o=a.doc.resolve(n.from).blockRange(),l=o&&$y(o,e.type,r);if(!l)return null;if(a.wrap(o,l),e.keepMarks&&e.editor){const{selection:d,storedMarks:h}=t,{splittableMarks:f}=e.editor.extensionManager,p=h||d.$to.parentOffset&&d.$from.marks();if(p){const g=p.filter(m=>f.includes(m.type.name));a.ensureMarks(g)}}if(e.keepAttributes){const d=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(d,r).run()}const c=a.doc.resolve(n.from-1).nodeBefore;c&&c.type===e.type&&Go(a.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(i,c))&&a.join(n.from-1)}})}let Ga=class Ym{constructor(t={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=_t(xe(this,"addOptions",{name:this.name}))),this.storage=_t(xe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new Ym(t)}configure(t={}){const n=this.extend({...this.config,addOptions:()=>ip(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new Ym(t);return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=_t(xe(n,"addOptions",{name:n.name})),n.storage=_t(xe(n,"addStorage",{name:n.name,options:n.options})),n}};function Jh(e){return new Cee({find:e.find,handler:({state:t,range:n,match:i,pasteEvent:s})=>{const r=_t(e.getAttributes,void 0,i,s);if(r===!1||r===null)return null;const{tr:a}=t,u=i[i.length-1],o=i[0];let l=n.to;if(u){const c=o.search(/\S/),d=n.from+o.indexOf(u),h=d+u.length;if(SO(n.from,n.to,t.doc).filter(p=>p.mark.type.excluded.find(m=>m===e.type&&m!==p.mark.type)).filter(p=>p.to>d).length)return null;h<n.to&&a.delete(h,n.to),d>n.from&&a.delete(n.from+c,d),l=n.from+c+u.length,a.addMark(n.from+c,l,e.type.create(r||{})),a.removeStoredMark(e.type)}}})}function TC(e){return Ev((t,n)=>({get(){return t(),e},set(i){e=i,requestAnimationFrame(()=>{requestAnimationFrame(()=>{n()})})}}))}class ine extends tne{constructor(t={}){return super(t),this.contentComponent=null,this.appContext=null,this.reactiveState=TC(this.view.state),this.reactiveExtensionStorage=TC(this.extensionStorage),this.on("beforeTransaction",({nextState:n})=>{this.reactiveState.value=n,this.reactiveExtensionStorage.value=this.extensionStorage}),bt(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(t,n){const i=super.registerPlugin(t,n);return this.reactiveState&&(this.reactiveState.value=i),i}unregisterPlugin(t){const n=super.unregisterPlugin(t);return this.reactiveState&&n&&(this.reactiveState.value=n),n}}const sne=$({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(e){const t=st(),n=ms();return Ov(()=>{const i=e.editor;i&&i.options.element&&t.value&&Ta(()=>{if(!t.value||!i.options.element.firstChild)return;const s=v(t.value);t.value.append(...i.options.element.childNodes),i.contentComponent=n.ctx._,n&&(i.appContext={...n.appContext,provides:n.provides}),i.setOptions({element:s}),i.createNodeViews()})}),Du(()=>{const i=e.editor;if(!i||(i.isDestroyed||i.view.setProps({nodeViews:{}}),i.contentComponent=null,i.appContext=null,!i.options.element.firstChild))return;const s=document.createElement("div");s.append(...i.options.element.childNodes),i.setOptions({element:s})}),{rootEl:t}},render(){return Oa("div",{ref:e=>{this.rootEl=e}})}}),rne=(e={})=>{const t=yo();return Ai(()=>{t.value=new ine(e)}),Du(()=>{var n;(n=t.value)===null||n===void 0||n.destroy()}),t},one=Ga.create({name:"doc",topNode:!0,content:"block+"}),ane=Ga.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",Ws(this.options.HTMLAttributes,e),0]},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),lne=Ga.create({name:"text",group:"inline"}),cne=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,une=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,dne=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,hne=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,fne=No.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return["strong",Ws(this.options.HTMLAttributes,e),0]},addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[qh({find:cne,type:this.type}),qh({find:dne,type:this.type})]},addPasteRules(){return[Jh({find:une,type:this.type}),Jh({find:hne,type:this.type})]}}),pne=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,gne=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,mne=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,vne=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,yne=No.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",Ws(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[qh({find:pne,type:this.type}),qh({find:mne,type:this.type})]},addPasteRules(){return[Jh({find:gne,type:this.type}),Jh({find:vne,type:this.type})]}}),bne=No.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",Ws(this.options.HTMLAttributes,e),0]},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),Ene=Ga.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,Ws(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>nne({find:new RegExp(`^(#{1,${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),Xy=Ga.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",Ws(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Xh=No.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:e=>e.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["span",Ws(this.options.HTMLAttributes,e),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:e,commands:t})=>{const n=qy(e,this.type);return Object.entries(n).some(([,s])=>!!s)?!0:t.unsetMark(this.name)}}}}),wC=/^\s*([-+*])\s$/,_ne=Ga.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",Ws(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Xy.name,this.editor.getAttributes(Xh.name)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=Yh({find:wC,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Yh({find:wC,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Xh.name),editor:this.editor})),[e]}}),IC=/^(\d+)\.\s$/,Cne=Ga.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:e=>e.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return t===1?["ol",Ws(this.options.HTMLAttributes,n),0]:["ol",Ws(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Xy.name,this.editor.getAttributes(Xh.name)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=Yh({find:IC,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Yh({find:IC,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(Xh.name)}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1],editor:this.editor})),[e]}});var Sne=Object.defineProperty,xne=(e,t,n)=>t in e?Sne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Le=(e,t,n)=>xne(e,typeof t!="symbol"?t+"":t,n);function xO(e,...t){for(const n of t){const i=Te(n);for(const s in i)bi(n[s])?(e[s]||(e[s]={}),xO(e[s],n[s])):e[s]=n[s]}return e}function OC(e){return bn(e)}function ks(e){return q(e)?{type:e}:e}function no(e){return e?Qe(e)?e.slice():[e]:[]}function TO(e){return Ce(e)&&e.predicate!=null}var Tne=()=>!0;function Zy(e,t,n,i){return s=>{var r;return q(s)?!!((r=e[s])!=null&&r.call(e,t,n,i)):We(s)?s(t,n,i):s.predicate(e)(t,n,i)}}function wne(...e){return{predicate:t=>(n,i,s)=>e.map(Zy(t,n,i,s)).some(Boolean)}}function Ine(...e){return{predicate:t=>(n,i,s)=>e.map(Zy(t,n,i,s)).every(Boolean)}}function One(e){return{predicate:t=>(n,i,s)=>!Zy(t,n,i,s)(e)}}function kne(...e){return(t,n,i)=>i.state.matches(...e)}var Ane={or:wne,and:Ine,not:One,stateIn:kne};function wO(e,t){return e=e??Tne,(n,i,s)=>{if(q(e)){const r=t[e];return We(r)?r(n,i,s):r}return TO(e)?e.predicate(t)(n,i,s):e==null?void 0:e(n,i,s)}}function kg(e,t){return(n,i,s)=>TO(e)?e.predicate(t)(n,i,s):e}function Pne(e){var r,a;const t=e.computed??Q({}),n=e.context??Q({}),i=e.initial?(a=(r=e.states)==null?void 0:r[e.initial])==null?void 0:a.tags:[],s=qn({value:e.initial??"",previousValue:"",event:Q({}),previousEvent:Q({}),context:mi(n,t),done:!1,tags:i??[],hasTag(u){return this.tags.includes(u)},matches(...u){return u.includes(this.value)},can(u){return Q(this).nextEvents.includes(u)},get nextEvents(){var l,c;const u=((c=(l=e.states)==null?void 0:l[this.value])==null?void 0:c.on)??{},o=(e==null?void 0:e.on)??{};return Object.keys({...u,...o})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return Q(s)}function xc(e,t){return(n,i)=>{if(yi(e))return e;if(We(e))return e(n,i);if(q(e)){const s=Number.parseFloat(e);if(!Number.isNaN(s))return s;if(t){const r=t==null?void 0:t[e];return He(r==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${e}\`. It doesn't exist in \`options.delays\``),We(r)?r(n,i):r}}}}function $ne(e){return q(e)?{target:e}:e}function Mne(e,t){return(n,i,s)=>no(e).map($ne).find(r=>wO(r.guard,t)(n,i,s)??r.target??r.actions)}var Nne=class{constructor(t,n){var i,s,r,a,u;Le(this,"status","Not Started"),Le(this,"state"),Le(this,"initialState"),Le(this,"initialContext"),Le(this,"id"),Le(this,"type","machine"),Le(this,"activityEvents",new Map),Le(this,"delayedEvents",new Map),Le(this,"stateListeners",new Set),Le(this,"doneListeners",new Set),Le(this,"contextWatchers",new Set),Le(this,"removeStateListener",ni),Le(this,"parent"),Le(this,"children",new Map),Le(this,"guardMap"),Le(this,"actionMap"),Le(this,"delayMap"),Le(this,"activityMap"),Le(this,"sync"),Le(this,"options"),Le(this,"config"),Le(this,"_created",()=>{var l;const o=ks("machine.created");this.executeActions((l=this.config)==null?void 0:l.created,o)}),Le(this,"start",o=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=Pt(this.state,()=>{this.stateListeners.forEach(p=>{p(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(ks("machine.start"),no(this.config.activities),"machine.start"),this.executeActions(this.config.entry,ks("machine.start"));const l=ks("machine.init"),c=Ce(o)?o.value:o,d=Ce(o)?o.context:void 0;d&&this.setContext(d);const h={target:c??this.config.initial},f=this.getNextStateInfo(h,l);return this.initialState=f,this.performStateChangeEffects(this.state.value,f,l),this}),Le(this,"setupContextWatchers",()=>{const{watch:o}=this.config;if(!o)return;let l=_e(this.state.context);const c=Pt(this.state.context,()=>{var h;const d=_e(this.state.context);for(const[f,p]of Object.entries(o))(((h=this.options.compareFns)==null?void 0:h[f])??Object.is)(l[f],d[f])||this.executeActions(p,this.state.event);l=d});this.contextWatchers.add(c)}),Le(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,ks("machine.stop")),this.executeActions(this.config.exit,ks("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),Le(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),Le(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(o=>o()),this.contextWatchers.clear()}),Le(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(o=>{o.forEach(l=>l())}),this.delayedEvents.clear()}),Le(this,"stopActivities",o=>{var l,c;o?((l=this.activityEvents.get(o))==null||l.forEach(d=>d()),(c=this.activityEvents.get(o))==null||c.clear(),this.activityEvents.delete(o)):(this.activityEvents.forEach(d=>{d.forEach(h=>h()),d.clear()}),this.activityEvents.clear())}),Le(this,"sendChild",(o,l)=>{const c=ks(o),d=$t(l,this.contextSnapshot),h=this.children.get(d);h||He(`[@zag-js/core] Cannot send '${c.type}' event to unknown child`),h.send(c)}),Le(this,"stopChild",o=>{this.children.has(o)||He(`[@zag-js/core > stop-child] Cannot stop unknown child ${o}`),this.children.get(o).stop(),this.children.delete(o)}),Le(this,"removeChild",o=>{this.children.delete(o)}),Le(this,"stopChildren",()=>{this.children.forEach(o=>o.stop()),this.children.clear()}),Le(this,"setParent",o=>{this.parent=o}),Le(this,"spawn",(o,l)=>{const c=$t(o);return l&&(c.id=l),c.type="machine.actor",c.setParent(this),this.children.set(c.id,Q(c)),c.onDone(()=>{this.removeChild(c.id)}).start(),Q(Ke(c))}),Le(this,"stopActivity",o=>{var c;if(!this.state.value)return;const l=this.activityEvents.get(this.state.value);(c=l==null?void 0:l.get(o))==null||c(),l==null||l.delete(o)}),Le(this,"addActivityCleanup",(o,l,c)=>{var d;o&&(this.activityEvents.has(o)?(d=this.activityEvents.get(o))==null||d.set(l,c):this.activityEvents.set(o,new Map([[l,c]])))}),Le(this,"setState",o=>{this.state.previousValue=this.state.value,this.state.value=o;const l=this.getStateNode(o);o==null?vi(this.state.tags):this.state.tags=no(l==null?void 0:l.tags)}),Le(this,"setContext",o=>{o&&xO(this.state.context,Te(o))}),Le(this,"setOptions",o=>{const l=Te(o);this.actionMap={...this.actionMap,...l.actions},this.delayMap={...this.delayMap,...l.delays},this.activityMap={...this.activityMap,...l.activities},this.guardMap={...this.guardMap,...l.guards}}),Le(this,"getStateNode",o=>{var l;if(o)return(l=this.config.states)==null?void 0:l[o]}),Le(this,"getNextStateInfo",(o,l)=>{const c=this.determineTransition(o,l),d=!(c!=null&&c.target),h=(c==null?void 0:c.target)??this.state.value,f=this.state.value!==h,p=this.getStateNode(h),m={reenter:!d&&!f&&!(c!=null&&c.internal),transition:c,stateNode:p,target:h,changed:f};return this.log("NextState:",`[${l.type}]`,this.state.value,"---->",m.target),m}),Le(this,"getAfterActions",(o,l)=>{let c;const d=this.state.value;return{entry:()=>{c=globalThis.setTimeout(()=>{const h=this.getNextStateInfo(o,this.state.event);this.performStateChangeEffects(d,h,this.state.event)},l)},exit:()=>{globalThis.clearTimeout(c)}}}),Le(this,"getDelayedEventActions",o=>{const l=this.getStateNode(o),c=this.state.event;if(!l||!l.after)return;const d=[],h=[];if(Qe(l.after)){const f=this.determineTransition(l.after,c);if(!f)return;if(!wn(f,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(f)}`);const g=xc(f.delay,this.delayMap)(this.contextSnapshot,c),m=this.getAfterActions(f,g);return d.push(m.entry),h.push(m.exit),{entries:d,exits:h}}if(Ce(l.after))for(const f in l.after){const p=l.after[f],m=xc(f,this.delayMap)(this.contextSnapshot,c),y=this.getAfterActions(p,m);d.push(y.entry),h.push(y.exit)}return{entries:d,exits:h}}),Le(this,"executeActions",(o,l)=>{var d;const c=kg(o,this.guardMap)(this.contextSnapshot,l,this.guardMeta);for(const h of no(c)){const f=q(h)?(d=this.actionMap)==null?void 0:d[h]:h;nt(q(h)&&!f,`[@zag-js/core > execute-actions] No implementation found for action: \`${h}\``),f==null||f(this.state.context,l,this.meta)}}),Le(this,"executeActivities",(o,l,c)=>{var d;for(const h of l){const f=q(h)?(d=this.activityMap)==null?void 0:d[h]:h;if(!f){nt(`[@zag-js/core > execute-activity] No implementation found for activity: \`${h}\``);continue}const p=f(this.state.context,o,this.meta);if(p){const g=q(h)?h:h.name||Rt();this.addActivityCleanup(c??this.state.value,g,p)}}}),Le(this,"createEveryActivities",(o,l)=>{if(o)if(Qe(o)){const c=no(o).find(p=>{const g=p.delay,y=xc(g,this.delayMap)(this.contextSnapshot,this.state.event);return wO(p.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??y!=null});if(!c)return;const h=xc(c.delay,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const p=globalThis.setInterval(()=>{this.executeActions(c.actions,this.state.event)},h);return()=>{globalThis.clearInterval(p)}})}else for(const c in o){const d=o==null?void 0:o[c],f=xc(c,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const g=globalThis.setInterval(()=>{this.executeActions(d,this.state.event)},f);return()=>{globalThis.clearInterval(g)}})}}),Le(this,"setEvent",o=>{this.state.previousEvent=this.state.event,this.state.event=Ke(ks(o))}),Le(this,"performExitEffects",(o,l)=>{const c=this.state.value;if(c==="")return;const d=o?this.getStateNode(o):void 0;this.stopActivities(c);const h=kg(d==null?void 0:d.exit,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=no(h),p=this.delayedEvents.get(c);p&&f.push(...p),this.executeActions(f,l),this.delayedEvents.delete(c)}),Le(this,"performEntryEffects",(o,l)=>{const c=this.getStateNode(o),d=no(c==null?void 0:c.activities);this.createEveryActivities(c==null?void 0:c.every,g=>{d.unshift(g)}),d.length>0&&this.executeActivities(l,d);const h=kg(c==null?void 0:c.entry,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=no(h),p=this.getDelayedEventActions(o);c!=null&&c.after&&p&&(this.delayedEvents.set(o,p==null?void 0:p.exits),f.push(...p.entries)),this.executeActions(f,l),(c==null?void 0:c.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(g=>{g(this.stateSnapshot)}),this.stop())}),Le(this,"performTransitionEffects",(o,l)=>{const c=this.determineTransition(o,l);this.executeActions(c==null?void 0:c.actions,l)}),Le(this,"performStateChangeEffects",(o,l,c)=>{this.setEvent(c);const d=l.changed||l.reenter;d&&this.performExitEffects(o,c),this.performTransitionEffects(l.transition,c),this.setState(l.target),d&&this.performEntryEffects(l.target,c)}),Le(this,"determineTransition",(o,l)=>{const c=Mne(o,this.guardMap);return c==null?void 0:c(this.contextSnapshot,l,this.guardMeta)}),Le(this,"sendParent",o=>{var c;this.parent||He("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const l=ks(o);(c=this.parent)==null||c.send(l)}),Le(this,"log",(...o)=>{}),Le(this,"send",o=>{const l=ks(o);this.transition(this.state.value,l)}),Le(this,"transition",(o,l)=>{var p,g;const c=q(o)?this.getStateNode(o):o==null?void 0:o.stateNode,d=ks(l);if(!c&&!this.config.on){const m=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${o}, \`event\`: ${d.type}`;nt(m);return}const h=((p=c==null?void 0:c.on)==null?void 0:p[d.type])??((g=this.config.on)==null?void 0:g[d.type]),f=this.getNextStateInfo(h,d);return this.performStateChangeEffects(this.state.value,f,d),f.stateNode}),Le(this,"subscribe",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),()=>{this.stateListeners.delete(o)})),Le(this,"onDone",o=>(this.doneListeners.add(o),this)),Le(this,"onTransition",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),this)),this.config=OC(t),this.options=OC(n??{}),this.id=this.config.id??`machine-${Rt()}`,this.guardMap=((i=this.options)==null?void 0:i.guards)??{},this.actionMap=((s=this.options)==null?void 0:s.actions)??{},this.delayMap=((r=this.options)==null?void 0:r.delays)??{},this.activityMap=((a=this.options)==null?void 0:a.activities)??{},this.sync=((u=this.options)==null?void 0:u.sync)??!1,this.state=Pne(this.config),this.initialContext=_e(this.state.context)}get stateSnapshot(){return Q(_e(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const t=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return t.stateSnapshot},get initialContext(){return t.initialContext},get initialState(){var n;return((n=t.initialState)==null?void 0:n.target)??""}}}get meta(){var t;return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:((t=this.initialState)==null?void 0:t.target)??"",getState:()=>this.stateSnapshot,getAction:n=>this.actionMap[n],getGuard:n=>this.guardMap[n]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){const t=this.getState();return{value:t.value,tags:t.tags}}},Rne=(e,t)=>new Nne(e,t),Dne=(...e)=>e.map(t=>{var n;return(n=t==null?void 0:t.trim)==null?void 0:n.call(t)}).filter(Boolean).join(" "),Lne=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,kC=e=>{const t={};let n;for(;n=Lne.exec(e);)t[n[1]]=n[2];return t},Fne=(e,t)=>{if(q(e)){if(q(t))return`${e};${t}`;e=kC(e)}else q(t)&&(t=kC(t));return Object.assign({},e??{},t??{})};function Vne(...e){let t={};for(let n of e){for(let i in t){if(i.startsWith("on")&&typeof t[i]=="function"&&typeof n[i]=="function"){t[i]=Eu(n[i],t[i]);continue}if(i==="className"||i==="class"){t[i]=Dne(t[i],n[i]);continue}if(i==="style"){t[i]=Fne(t[i],n[i]);continue}t[i]=n[i]!==void 0?n[i]:t[i]}for(let i in n)t[i]===void 0&&(t[i]=n[i])}return t}var Fc=(e,t)=>({x:e,y:t});function Bne(e){const{x:t,y:n,width:i,height:s}=e,r=t+i/2,a=n+s/2;return{x:t,y:n,width:i,height:s,minX:t,minY:n,maxX:t+i,maxY:n+s,midX:r,midY:a,center:Fc(r,a)}}function Hne(e){const t=Fc(e.minX,e.minY),n=Fc(e.maxX,e.minY),i=Fc(e.maxX,e.maxY),s=Fc(e.minX,e.maxY);return{top:t,right:n,bottom:i,left:s}}function jne(e,t){const n=Bne(e),{top:i,right:s,left:r,bottom:a}=Hne(n),[u]=t.split("-");return{top:[r,i,s,a],right:[i,s,a,r],bottom:[i,r,a,s],left:[s,i,r,a]}[u]}function Une(e,t){const{x:n,y:i}=t;let s=!1;for(let r=0,a=e.length-1;r<e.length;a=r++){const u=e[r].x,o=e[r].y,l=e[a].x,c=e[a].y;o>i!=c>i&&n<(l-u)*(i-o)/(c-o)+u&&(s=!s)}return s}var Gne=Dn("menu").parts("arrow","arrowTip","content","contextTrigger","indicator","item","itemGroup","itemGroupLabel","itemIndicator","itemText","positioner","separator","trigger","triggerItem"),oi=Gne.build(),Ue=Pi({getTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.trigger)??`menu:${e.id}:trigger`},getContextTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.contextTrigger)??`menu:${e.id}:ctx-trigger`},getContentId:e=>{var t;return((t=e.ids)==null?void 0:t.content)??`menu:${e.id}:content`},getArrowId:e=>{var t;return((t=e.ids)==null?void 0:t.arrow)??`menu:${e.id}:arrow`},getPositionerId:e=>{var t;return((t=e.ids)==null?void 0:t.positioner)??`menu:${e.id}:popper`},getGroupId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.group)==null?void 0:i.call(n,t))??`menu:${e.id}:group:${t}`},getGroupLabelId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.groupLabel)==null?void 0:i.call(n,t))??`menu:${e.id}:group-label:${t}`},getContentEl:e=>Ue.getById(e,Ue.getContentId(e)),getPositionerEl:e=>Ue.getById(e,Ue.getPositionerId(e)),getTriggerEl:e=>Ue.getById(e,Ue.getTriggerId(e)),getHighlightedItemEl:e=>e.highlightedValue?Ue.getById(e,e.highlightedValue):null,getArrowEl:e=>Ue.getById(e,Ue.getArrowId(e)),getElements:e=>{const n=`[role^="menuitem"][data-ownedby=${CSS.escape(Ue.getContentId(e))}]:not([data-disabled])`;return Tr(Ue.getContentEl(e),n)},getFirstEl:e=>Wv(Ue.getElements(e)),getLastEl:e=>zv(Ue.getElements(e)),getNextEl:(e,t)=>Fv(Ue.getElements(e),e.highlightedValue,t??e.loopFocus),getPrevEl:(e,t)=>Vv(Ue.getElements(e),e.highlightedValue,t??e.loopFocus),getElemByKey:(e,t)=>vu(Ue.getElements(e),{state:e.typeaheadState,key:t,activeId:e.highlightedValue}),isTargetDisabled:e=>Ji(e)&&(e.dataset.disabled===""||e.hasAttribute("disabled")),isTriggerItem:e=>{var t;return!!((t=e==null?void 0:e.getAttribute("role"))!=null&&t.startsWith("menuitem"))&&!!(e!=null&&e.hasAttribute("aria-controls"))},getOptionFromItemEl(e){return{id:e.id,name:e.dataset.name,value:e.dataset.value,valueText:e.dataset.valueText,type:e.dataset.type}}});function Wne(e,t,n){const i=e.context.isSubmenu,s=e.context.isTypingAhead,r=e.context.composite,a=e.hasTag("open"),u=Ju({...e.context.positioning,placement:e.context.anchorPoint?"bottom":e.context.currentPlacement});function o(h){return{disabled:!!h.disabled,highlighted:e.context.highlightedValue===h.value}}function l(h){const f=h.valueText??h.value;return{...h,id:h.value,valueText:f}}function c(h){return{...o(l(h)),checked:!!h.checked}}function d(h){const{value:f,closeOnSelect:p,valueText:g}=h,m=o(h);return n.element({...oi.item.attrs,id:f,role:"menuitem","aria-disabled":m.disabled,"data-disabled":H(m.disabled),"data-ownedby":Ue.getContentId(e.context),"data-highlighted":H(m.highlighted),"data-valuetext":g,onDragStart(y){y.currentTarget.matches("a[href]")&&y.preventDefault()},onPointerMove(y){if(m.disabled||y.pointerType!=="mouse")return;const b=y.currentTarget;m.highlighted||t({type:"ITEM_POINTERMOVE",id:f,target:b,closeOnSelect:p})},onPointerLeave(y){if(m.disabled||y.pointerType!=="mouse"||!e.previousEvent.type.includes("POINTER"))return;const E=y.currentTarget;t({type:"ITEM_POINTERLEAVE",id:f,target:E,closeOnSelect:p})},onPointerDown(y){if(m.disabled)return;const b=y.currentTarget;t({type:"ITEM_POINTERDOWN",target:b,id:f,closeOnSelect:p})},onClick(y){if(sm(y)||im(y)||m.disabled)return;const b=y.currentTarget;t({type:"ITEM_CLICK",target:b,id:f,closeOnSelect:p})}})}return{highlightedValue:e.context.highlightedValue,open:a,setOpen(h){h!==a&&t(h?"OPEN":"CLOSE")},setHighlightedValue(h){t({type:"HIGHLIGHTED.SET",id:h})},setParent(h){t({type:"PARENT.SET",value:h,id:h.state.context.id})},setChild(h){t({type:"CHILD.SET",value:h,id:h.state.context.id})},reposition(h={}){t({type:"POSITIONING.SET",options:h})},getContextTriggerProps(){return n.element({...oi.contextTrigger.attrs,dir:e.context.dir,id:Ue.getContextTriggerId(e.context),onPointerDown(h){if(h.pointerType==="mouse")return;const f=Ar(h);t({type:"CONTEXT_MENU_START",point:f})},onPointerCancel(h){h.pointerType!=="mouse"&&t("CONTEXT_MENU_CANCEL")},onPointerMove(h){h.pointerType!=="mouse"&&t("CONTEXT_MENU_CANCEL")},onPointerUp(h){h.pointerType!=="mouse"&&t("CONTEXT_MENU_CANCEL")},onContextMenu(h){const f=Ar(h);t({type:"CONTEXT_MENU",point:f}),h.preventDefault()},style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",userSelect:"none"}})},getTriggerItemProps(h){return Vne(d({value:h.getTriggerProps().id}),h.getTriggerProps())},getTriggerProps(){return n.button({...i?oi.triggerItem.attrs:oi.trigger.attrs,"data-placement":e.context.currentPlacement,type:"button",dir:e.context.dir,id:Ue.getTriggerId(e.context),"data-uid":e.context.id,"aria-haspopup":r?"menu":"dialog","aria-controls":Ue.getContentId(e.context),"aria-expanded":a||void 0,"data-state":a?"open":"closed",onPointerMove(h){h.pointerType!=="mouse"||Ue.isTargetDisabled(h.currentTarget)||!i||t({type:"TRIGGER_POINTERMOVE",target:h.currentTarget})},onPointerLeave(h){if(Ue.isTargetDisabled(h.currentTarget)||h.pointerType!=="mouse"||!i)return;const f=Ar(h);t({type:"TRIGGER_POINTERLEAVE",target:h.currentTarget,point:f})},onPointerDown(h){Ue.isTargetDisabled(h.currentTarget)||Yv(h)||h.preventDefault()},onClick(h){h.defaultPrevented||Ue.isTargetDisabled(h.currentTarget)||t({type:"TRIGGER_CLICK",target:h.currentTarget})},onBlur(){t("TRIGGER_BLUR")},onFocus(){t("TRIGGER_FOCUS")},onKeyDown(h){if(h.defaultPrevented)return;const f={ArrowDown(){t("ARROW_DOWN")},ArrowUp(){t("ARROW_UP")},Enter(){t({type:"ARROW_DOWN",src:"enter"})},Space(){t({type:"ARROW_DOWN",src:"space"})}},p=Hs(h,e.context),g=f[p];g&&(h.preventDefault(),g(h))}})},getIndicatorProps(){return n.element({...oi.indicator.attrs,dir:e.context.dir,"data-state":a?"open":"closed"})},getPositionerProps(){return n.element({...oi.positioner.attrs,dir:e.context.dir,id:Ue.getPositionerId(e.context),style:u.floating})},getArrowProps(){return n.element({id:Ue.getArrowId(e.context),...oi.arrow.attrs,dir:e.context.dir,style:u.arrow})},getArrowTipProps(){return n.element({...oi.arrowTip.attrs,dir:e.context.dir,style:u.arrowTip})},getContentProps(){return n.element({...oi.content.attrs,id:Ue.getContentId(e.context),"aria-label":e.context["aria-label"],hidden:!a,"data-state":a?"open":"closed",role:r?"menu":"dialog",tabIndex:0,dir:e.context.dir,"aria-activedescendant":e.context.highlightedValue??void 0,"aria-labelledby":Ue.getTriggerId(e.context),"data-placement":e.context.currentPlacement,onPointerEnter(h){h.pointerType==="mouse"&&t("MENU_POINTERENTER")},onKeyDown(h){if(h.defaultPrevented||!mu(h))return;const f=Zi(h);if(!((f==null?void 0:f.closest("[role=menu]"))===h.currentTarget||f===h.currentTarget))return;if(h.key==="Tab"&&!Ex(h)){h.preventDefault();return}const g=Ue.getHighlightedItemEl(e.context),m={ArrowDown(){t("ARROW_DOWN")},ArrowUp(){t("ARROW_UP")},ArrowLeft(){t("ARROW_LEFT")},ArrowRight(){t("ARROW_RIGHT")},Enter(){t("ENTER"),Rx(g)},Space(E){var _;s?t({type:"TYPEAHEAD",key:E.key}):(_=m.Enter)==null||_.call(m,E)},Home(){t("HOME")},End(){t("END")}},y=Hs(h,{dir:e.context.dir}),b=m[y];if(b){b(h),h.stopPropagation(),h.preventDefault();return}e.context.typeahead&&iR(h)&&($l(h)||jv(f)||(t({type:"TYPEAHEAD",key:h.key}),h.preventDefault()))}})},getSeparatorProps(){return n.element({...oi.separator.attrs,role:"separator",dir:e.context.dir,"aria-orientation":"horizontal"})},getItemState:o,getItemProps:d,getOptionItemState:c,getOptionItemProps(h){const{type:f,disabled:p,onCheckedChange:g,closeOnSelect:m}=h,y=l(h),b=c(h);return{...d(y),...n.element({"data-type":f,...oi.item.attrs,dir:e.context.dir,"data-value":y.value,role:`menuitem${f}`,"aria-checked":!!b.checked,"data-state":b.checked?"checked":"unchecked",onClick(E){if(p||sm(E)||im(E))return;const _=E.currentTarget;t({type:"ITEM_CLICK",target:_,option:y,closeOnSelect:m}),g==null||g(!b.checked)}})}},getItemIndicatorProps(h){const f=c(h);return n.element({...oi.itemIndicator.attrs,dir:e.context.dir,"data-disabled":H(f.disabled),"data-highlighted":H(f.highlighted),"data-state":f.checked?"checked":"unchecked",hidden:!f.checked})},getItemTextProps(h){const f=c(h);return n.element({...oi.itemText.attrs,dir:e.context.dir,"data-disabled":H(f.disabled),"data-highlighted":H(f.highlighted),"data-state":f.checked?"checked":"unchecked"})},getItemGroupLabelProps(h){return n.element({id:Ue.getGroupLabelId(e.context,h.htmlFor),dir:e.context.dir,...oi.itemGroupLabel.attrs})},getItemGroupProps(h){return n.element({id:Ue.getGroupId(e.context,h.id),...oi.itemGroup.attrs,dir:e.context.dir,"aria-labelledby":Ue.getGroupLabelId(e.context,h.id),role:"group"})}}}var{not:rs,and:rl,or:zne}=Ane;function Kne(e){const t=Te(e);return Rne({id:"menu",initial:t.open?"open":"idle",context:{highlightedValue:null,loopFocus:!1,anchorPoint:null,closeOnSelect:!0,typeahead:!0,composite:!0,...t,positioning:{placement:"bottom-start",gutter:8,...t.positioning},intentPolygon:null,parent:null,lastHighlightedValue:null,children:Q(Ke({})),suspendPointer:!1,restoreFocus:!0,typeaheadState:vu.defaultOptions},computed:{isSubmenu:n=>n.parent!==null,isRtl:n=>n.dir==="rtl",isTypingAhead:n=>n.typeaheadState.keysSoFar!==""},watch:{isSubmenu:"setSubmenuPlacement",anchorPoint:"reposition",open:"toggleVisibility"},on:{"PARENT.SET":{actions:"setParentMenu"},"CHILD.SET":{actions:"setChildMenu"},OPEN:[{guard:"isOpenControlled",actions:"invokeOnOpen"},{target:"open",actions:"invokeOnOpen"}],OPEN_AUTOFOCUS:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{internal:!0,target:"open",actions:["highlightFirstItem","invokeOnOpen"]}],CLOSE:[{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"closed",actions:"invokeOnClose"}],"HIGHLIGHTED.RESTORE":{actions:"restoreHighlightedItem"},"HIGHLIGHTED.SET":{actions:"setHighlightedItem"}},states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":"open","CONTROLLED.CLOSE":"closed",CONTEXT_MENU_START:{target:"opening:contextmenu",actions:"setAnchorPoint"},CONTEXT_MENU:[{guard:"isOpenControlled",actions:["setAnchorPoint","invokeOnOpen"]},{target:"open",actions:["setAnchorPoint","invokeOnOpen"]}],TRIGGER_CLICK:[{guard:"isOpenControlled",actions:"invokeOnOpen"},{target:"open",actions:"invokeOnOpen"}],TRIGGER_FOCUS:{guard:rs("isSubmenu"),target:"closed"},TRIGGER_POINTERMOVE:{guard:"isSubmenu",target:"opening"}}},"opening:contextmenu":{tags:["closed"],after:{LONG_PRESS_DELAY:[{guard:"isOpenControlled",actions:"invokeOnOpen"},{target:"open",actions:"invokeOnOpen"}]},on:{"CONTROLLED.OPEN":"open","CONTROLLED.CLOSE":"closed",CONTEXT_MENU_CANCEL:[{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"closed",actions:"invokeOnClose"}]}},opening:{tags:["closed"],after:{SUBMENU_OPEN_DELAY:[{guard:"isOpenControlled",actions:"invokeOnOpen"},{target:"open",actions:"invokeOnOpen"}]},on:{"CONTROLLED.OPEN":"open","CONTROLLED.CLOSE":"closed",BLUR:[{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"closed",actions:"invokeOnClose"}],TRIGGER_POINTERLEAVE:[{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"closed",actions:"invokeOnClose"}]}},closing:{tags:["open"],activities:["trackPointerMove","trackInteractOutside"],after:{SUBMENU_CLOSE_DELAY:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["focusParentMenu","restoreParentHiglightedItem","invokeOnClose"]}]},on:{"CONTROLLED.OPEN":"open","CONTROLLED.CLOSE":{target:"closed",actions:["focusParentMenu","restoreParentHiglightedItem"]},MENU_POINTERENTER:{target:"open",actions:"clearIntentPolygon"},POINTER_MOVED_AWAY_FROM_SUBMENU:[{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"closed",actions:["focusParentMenu","restoreParentHiglightedItem"]}]}},closed:{tags:["closed"],entry:["clearHighlightedItem","focusTrigger","resumePointer"],on:{"CONTROLLED.OPEN":[{guard:zne("isOpenAutoFocusEvent","isArrowDownEvent"),target:"open",actions:"highlightFirstItem"},{guard:"isArrowUpEvent",target:"open",actions:"highlightLastItem"},{target:"open"}],CONTEXT_MENU_START:{target:"opening:contextmenu",actions:"setAnchorPoint"},CONTEXT_MENU:[{guard:"isOpenControlled",actions:["setAnchorPoint","invokeOnOpen"]},{target:"open",actions:["setAnchorPoint","invokeOnOpen"]}],TRIGGER_CLICK:[{guard:"isOpenControlled",actions:"invokeOnOpen"},{target:"open",actions:"invokeOnOpen"}],TRIGGER_POINTERMOVE:{guard:"isTriggerItem",target:"opening"},TRIGGER_BLUR:"idle",ARROW_DOWN:[{guard:"isOpenControlled",actions:"invokeOnOpen"},{target:"open",actions:["highlightFirstItem","invokeOnOpen"]}],ARROW_UP:[{guard:"isOpenControlled",actions:"invokeOnOpen"},{target:"open",actions:["highlightLastItem","invokeOnOpen"]}]}},open:{tags:["open"],activities:["trackInteractOutside","trackPositioning","scrollToHighlightedItem"],entry:["focusMenu","resumePointer"],on:{"CONTROLLED.CLOSE":[{target:"closed",guard:"isArrowLeftEvent",actions:["focusParentMenu"]},{target:"closed"}],TRIGGER_CLICK:[{guard:rl(rs("isTriggerItem"),"isOpenControlled"),actions:"invokeOnClose"},{guard:rs("isTriggerItem"),target:"closed",actions:"invokeOnClose"}],ARROW_UP:{actions:["highlightPrevItem","focusMenu"]},ARROW_DOWN:{actions:["highlightNextItem","focusMenu"]},ARROW_LEFT:[{guard:rl("isSubmenu","isOpenControlled"),actions:"invokeOnClose"},{guard:"isSubmenu",target:"closed",actions:["focusParentMenu","invokeOnClose"]}],HOME:{actions:["highlightFirstItem","focusMenu"]},END:{actions:["highlightLastItem","focusMenu"]},ARROW_RIGHT:{guard:"isTriggerItemHighlighted",actions:"openSubmenu"},ENTER:[{guard:"isTriggerItemHighlighted",actions:"openSubmenu"},{actions:"clickHighlightedItem"}],ITEM_POINTERMOVE:[{guard:rs("suspendPointer"),actions:["setHighlightedItem","focusMenu"]},{actions:"setLastHighlightedItem"}],ITEM_POINTERLEAVE:{guard:rl(rs("suspendPointer"),rs("isTriggerItem")),actions:"clearHighlightedItem"},ITEM_CLICK:[{guard:rl(rs("isTriggerItemHighlighted"),rs("isHighlightedItemEditable"),"closeOnSelect","isOpenControlled"),actions:["invokeOnSelect","setOptionState","closeRootMenu","invokeOnClose"]},{guard:rl(rs("isTriggerItemHighlighted"),rs("isHighlightedItemEditable"),"closeOnSelect"),target:"closed",actions:["invokeOnSelect","setOptionState","closeRootMenu","invokeOnClose"]},{guard:rl(rs("isTriggerItemHighlighted"),rs("isHighlightedItemEditable")),actions:["invokeOnSelect","setOptionState"]},{actions:"setHighlightedItem"}],TRIGGER_POINTERLEAVE:{target:"closing",actions:"setIntentPolygon"},ITEM_POINTERDOWN:{actions:"setHighlightedItem"},TYPEAHEAD:{actions:"highlightMatchedItem"},FOCUS_MENU:{actions:"focusMenu"},"POSITIONING.SET":{actions:"reposition"}}}}},{delays:{LONG_PRESS_DELAY:700,SUBMENU_OPEN_DELAY:100,SUBMENU_CLOSE_DELAY:100},guards:{closeOnSelect:(n,i)=>!!((i==null?void 0:i.closeOnSelect)??n.closeOnSelect),isTriggerItem:(n,i)=>Ue.isTriggerItem(i.target),isTriggerItemHighlighted:(n,i)=>{const s=i.target??Ue.getHighlightedItemEl(n);return!!(s!=null&&s.hasAttribute("aria-controls"))},isSubmenu:n=>n.isSubmenu,suspendPointer:n=>n.suspendPointer,isHighlightedItemEditable:n=>jv(Ue.getHighlightedItemEl(n)),isWithinPolygon:(n,i)=>n.intentPolygon?Une(n.intentPolygon,i.point):!1,isOpenControlled:n=>!!n["open.controlled"],isArrowLeftEvent:(n,i)=>{var s;return((s=i.previousEvent)==null?void 0:s.type)==="ARROW_LEFT"},isArrowUpEvent:(n,i)=>{var s;return((s=i.previousEvent)==null?void 0:s.type)==="ARROW_UP"},isArrowDownEvent:(n,i)=>{var s;return((s=i.previousEvent)==null?void 0:s.type)==="ARROW_DOWN"},isOpenAutoFocusEvent:(n,i)=>{var s;return((s=i.previousEvent)==null?void 0:s.type)==="OPEN_AUTOFOCUS"}},activities:{trackPositioning(n){if(n.anchorPoint)return;n.currentPlacement=n.positioning.placement;const i=()=>Ue.getPositionerEl(n);return Rr(Ue.getTriggerEl(n),i,{...n.positioning,defer:!0,onComplete(s){n.currentPlacement=s.placement}})},trackInteractOutside(n,i,{send:s}){return Ul(()=>Ue.getContentEl(n),{defer:!0,exclude:[Ue.getTriggerEl(n)],onInteractOutside:n.onInteractOutside,onFocusOutside:n.onFocusOutside,onEscapeKeyDown(a){var u;(u=n.onEscapeKeyDown)==null||u.call(n,a),n.isSubmenu&&a.preventDefault(),AC(n)},onPointerDownOutside(a){var u;n.restoreFocus=!a.detail.focusable,(u=n.onPointerDownOutside)==null||u.call(n,a)},onDismiss(){s({type:"CLOSE",src:"interact-outside"})}})},trackPointerMove(n,i,{guards:s,send:r}){const{isWithinPolygon:a}=s;n.parent.state.context.suspendPointer=!0;const u=Ue.getDoc(n);return pn(u,"pointermove",o=>{const l={x:o.clientX,y:o.clientY};a(n,{point:l})||(r("POINTER_MOVED_AWAY_FROM_SUBMENU"),n.parent.state.context.suspendPointer=!1)})},scrollToHighlightedItem(n,i,{getState:s}){const r=()=>{if(s().event.type.startsWith("ITEM_POINTER"))return;const o=Ue.getHighlightedItemEl(n),l=Ue.getContentEl(n);Uv(o,{rootEl:l,block:"nearest"})};return Je(()=>r()),kf(()=>Ue.getContentEl(n),{defer:!0,attributes:["aria-activedescendant"],callback:r})}},actions:{setAnchorPoint(n,i){n.anchorPoint=i.point},setSubmenuPlacement(n){n.isSubmenu&&(n.positioning.placement=n.isRtl?"left-start":"right-start",n.positioning.gutter=0)},reposition(n,i){const s=()=>Ue.getPositionerEl(n),r=n.anchorPoint?()=>({width:0,height:0,...n.anchorPoint}):void 0;Rr(Ue.getTriggerEl(n),s,{...n.positioning,defer:!0,getAnchorRect:r,...i.options??{},listeners:!1,onComplete(a){n.currentPlacement=a.placement}})},setOptionState(n,i){if(!i.option)return;const{checked:s,onCheckedChange:r,type:a}=i.option;a==="radio"?r==null||r(!0):a==="checkbox"&&(r==null||r(!s))},clickHighlightedItem(n,i){const s=Ue.getHighlightedItemEl(n);!s||s.dataset.disabled||queueMicrotask(()=>s.click())},setIntentPolygon(n,i){const s=Ue.getContentEl(n),r=n.currentPlacement;if(!s||!r)return;const a=s.getBoundingClientRect(),u=jne(a,r);if(!u)return;const l=h7(r)==="right"?-5:5;n.intentPolygon=[{...i.point,x:i.point.x+l},...u]},clearIntentPolygon(n){n.intentPolygon=null},resumePointer(n){n.parent&&(n.parent.state.context.suspendPointer=!1)},setHighlightedItem(n,i){Hr.highlighted(n,i.id)},clearHighlightedItem(n){Hr.highlighted(n,null)},focusMenu(n){Je(()=>{const i=Ue.getContentEl(n),s=bu({root:i,enabled:!$r(i,Ue.getActiveElement(n)),filter(r){var a;return!((a=r.role)!=null&&a.startsWith("menuitem"))}});s==null||s.focus({preventScroll:!0})})},highlightFirstItem(n){(Ue.getContentEl(n)?queueMicrotask:Je)(()=>{const s=Ue.getFirstEl(n);s&&Hr.highlighted(n,s.id)})},highlightLastItem(n){(Ue.getContentEl(n)?queueMicrotask:Je)(()=>{const s=Ue.getLastEl(n);s&&Hr.highlighted(n,s.id)})},highlightNextItem(n,i){const s=Ue.getNextEl(n,i.loop);Hr.highlighted(n,(s==null?void 0:s.id)??null)},highlightPrevItem(n,i){const s=Ue.getPrevEl(n,i.loop);Hr.highlighted(n,(s==null?void 0:s.id)??null)},invokeOnSelect(n){var i;n.highlightedValue&&((i=n.onSelect)==null||i.call(n,{value:n.highlightedValue}))},focusTrigger(n){n.isSubmenu||n.anchorPoint||!n.restoreFocus||queueMicrotask(()=>{var i;return(i=Ue.getTriggerEl(n))==null?void 0:i.focus({preventScroll:!0})})},highlightMatchedItem(n,i){const s=Ue.getElemByKey(n,i.key);s&&Hr.highlighted(n,s.id)},setParentMenu(n,i){n.parent=Ke(i.value)},setChildMenu(n,i){n.children[i.id]=Ke(i.value)},closeRootMenu(n){AC(n)},openSubmenu(n){const i=Ue.getHighlightedItemEl(n),s=i==null?void 0:i.getAttribute("data-uid"),r=s?n.children[s]:null;r==null||r.send("OPEN_AUTOFOCUS")},focusParentMenu(n){var i;(i=n.parent)==null||i.send("FOCUS_MENU")},setLastHighlightedItem(n,i){n.lastHighlightedValue=i.id},restoreHighlightedItem(n){n.lastHighlightedValue&&(Hr.highlighted(n,n.lastHighlightedValue),n.lastHighlightedValue=null)},restoreParentHiglightedItem(n){var i;(i=n.parent)==null||i.send("HIGHLIGHTED.RESTORE")},invokeOnOpen(n){var i;(i=n.onOpenChange)==null||i.call(n,{open:!0})},invokeOnClose(n){var i;(i=n.onOpenChange)==null||i.call(n,{open:!1})},toggleVisibility(n,i,{send:s}){s({type:n.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:i})}}})}function AC(e){let t=e.parent;for(;t&&t.state.context.isSubmenu;)t=t.state.context.parent;t==null||t.send("CLOSE")}var Hr={highlighted(e,t){var n;dn(e.highlightedValue,t)||(e.highlightedValue=t,(n=e.onHighlightChange)==null||n.call(e,{highlightedValue:t}))}};tn()(["anchorPoint","aria-label","closeOnSelect","dir","getRootNode","highlightedValue","id","ids","loopFocus","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","onEscapeKeyDown","onSelect","onHighlightChange","open","open.controlled","positioning","typeahead","composite"]);tn()(["closeOnSelect","disabled","value","valueText"]);tn()(["htmlFor"]);tn()(["id"]);tn()(["disabled","valueText","closeOnSelect","type","value","checked","onCheckedChange"]);const qne=(e,t)=>{const n=Kn(),i=Qi(),s=Ni(Mi),r=K(()=>({id:n,dir:s.value.dir,open:e.open??e.defaultOpen,"open.controlled":e.open!==void 0,getRootNode:i==null?void 0:i.value.getRootNode,onOpenChange:c=>{t==null||t("openChange",c),t==null||t("update:open",c.open)},onEscapeKeyDown:c=>t==null?void 0:t("escapeKeyDown",c),onFocusOutside:c=>t==null?void 0:t("focusOutside",c),onHighlightChange:c=>t==null?void 0:t("highlightChange",c),onInteractOutside:c=>t==null?void 0:t("interactOutside",c),onPointerDownOutside:c=>t==null?void 0:t("pointerDownOutside",c),onSelect:c=>t==null?void 0:t("select",c),...es(e)})),[a,u,o]=Ei(Kne(r.value),{context:r});return{api:K(()=>Wne(a.value,u,$i)),machine:o}},[IO,kn]=gt("MenuContext"),[Qy,Yne]=gt("MenuItemContext"),Jne=$({__name:"menu-arrow-tip",props:{asChild:{type:Boolean}},setup(e){const t=kn();return U(),(n,i)=>(C(),R(v(X).div,W(v(t).getArrowTipProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),Xne=$({__name:"menu-arrow",props:{asChild:{type:Boolean}},setup(e){const t=kn();return U(),(n,i)=>(C(),R(v(X).div,W(v(t).getArrowProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),[OO,kO]=gt("MenuOptionItemPropsContext"),Zne=$({__name:"menu-checkbox-item",props:On({checked:{type:Boolean},value:{},disabled:{type:Boolean},valueText:{},closeOnSelect:{type:Boolean},asChild:{type:Boolean}},{checked:void 0,disabled:void 0,closeOnSelect:void 0}),emits:["update:checked"],setup(e,{emit:t}){const n=e,i=t,s=kn(),r=K(()=>({...n,type:"checkbox",onCheckedChange:u=>i("update:checked",u)})),a=K(()=>s.value.getOptionItemState(r.value));return Qy(a),OO(r),U(),(u,o)=>(C(),R(v(X).div,W(v(s).getOptionItemProps(r.value),{"as-child":u.asChild}),{default:S(()=>[V(u.$slots,"default")]),_:3},16,["as-child"]))}}),Qne=$({__name:"menu-content",props:{asChild:{type:Boolean}},setup(e){const t=kn(),n=Gl(),i=K(()=>Bo(t.value.getContentProps(),n.value.presenceProps));return U(),(s,r)=>v(n).unmounted?tt("",!0):(C(),R(v(X).div,W({key:0},i.value,{"as-child":s.asChild}),{default:S(()=>[V(s.$slots,"default")]),_:3},16,["as-child"]))}}),eie=$({__name:"menu-context-trigger",props:{asChild:{type:Boolean}},setup(e){const t=kn();return U(),(n,i)=>(C(),R(v(X).button,W(v(t).getContextTriggerProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),tie=$({__name:"menu-context",setup(e){const t=kn();return(n,i)=>V(n.$slots,"default",hn(on(v(t))))}}),nie=$({__name:"menu-indicator",props:{asChild:{type:Boolean}},setup(e){const t=kn();return U(),(n,i)=>(C(),R(v(X).div,W(v(t).getIndicatorProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),iie=$({__name:"menu-item-context",setup(e){const t=Yne();return(n,i)=>V(n.$slots,"default",hn(on(v(t))))}}),[AO,PO]=gt("MenuItemGroupContext"),sie=$({__name:"menu-item-group-label",props:{asChild:{type:Boolean}},setup(e){const t=kn(),n=PO();return U(),(i,s)=>(C(),R(v(X).div,W(v(t).getItemGroupLabelProps({htmlFor:v(n).id}),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["as-child"]))}}),rie=$({__name:"menu-item-group",props:{id:{},asChild:{type:Boolean}},setup(e){const t=e,n=kn(),i=t.id??Kn(),s=K(()=>({id:i}));return AO(s),U(),(r,a)=>(C(),R(v(X).div,W(v(n).getItemGroupProps(s.value),{"as-child":r.asChild}),{default:S(()=>[V(r.$slots,"default")]),_:3},16,["as-child"]))}}),oie=$({__name:"menu-item-indicator",props:{asChild:{type:Boolean}},setup(e){const t=kn(),n=kO();return U(),(i,s)=>(C(),R(v(X).div,W(v(t).getItemIndicatorProps(v(n)),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["as-child"]))}}),aie=$({__name:"menu-item-text",props:{asChild:{type:Boolean}},setup(e){const t=kn(),n=kO();return U(),(i,s)=>(C(),R(v(X).div,W(v(t).getItemTextProps(v(n)),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["as-child"]))}}),lie=$({__name:"menu-item",props:On({value:{},disabled:{type:Boolean},valueText:{},closeOnSelect:{type:Boolean},asChild:{type:Boolean}},{disabled:void 0,closeOnSelect:void 0}),setup(e){const t=e,n=kn();return Qy(K(()=>n.value.getItemState(t))),U(),(i,s)=>(C(),R(v(X).div,W(v(n).getItemProps(t),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["as-child"]))}}),cie=$({__name:"menu-positioner",props:{asChild:{type:Boolean}},setup(e){const t=kn(),n=jo(),i=Da(K(()=>({...n.value,present:t.value.open})));return La(i),U(),(s,r)=>v(i).unmounted?tt("",!0):(C(),R(v(X).div,W({key:0},v(t).getPositionerProps(),{"as-child":s.asChild}),{default:S(()=>[V(s.$slots,"default")]),_:3},16,["as-child"]))}}),uie=$({__name:"menu-radio-item-group",props:{id:{},modelValue:{},asChild:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,i=t,s=kn(),r=n.id??Kn(),a=K(()=>({id:r,value:n.modelValue,onValueChange:u=>i("update:modelValue",u.value)}));return AO(a),U(),(u,o)=>(C(),R(v(X).div,W(v(s).getItemGroupProps(a.value),{"as-child":u.asChild}),{default:S(()=>[V(u.$slots,"default")]),_:3},16,["as-child"]))}}),die=$({__name:"menu-radio-item",props:On({value:{},disabled:{type:Boolean},valueText:{},closeOnSelect:{type:Boolean},asChild:{type:Boolean}},{disabled:void 0,closeOnSelect:void 0}),setup(e){const t=e,n=kn(),i=PO(),s=K(()=>({...t,checked:i.value.value===t.value,type:"radio",onCheckedChange:()=>{var a,u;return(u=(a=i.value).onValueChange)==null?void 0:u.call(a,{value:t.value})}})),r=K(()=>n.value.getOptionItemState(s.value));return Qy(r),OO(s),U(),(a,u)=>(C(),R(v(X).div,W(v(n).getOptionItemProps(s.value),{"as-child":a.asChild}),{default:S(()=>[V(a.$slots,"default")]),_:3},16,["as-child"]))}}),[$O,MO]=gt("MenuMachineContext"),[NO,hie]=gt("MenuTriggerItemContext"),fie=$({__name:"menu-root-provider",props:{value:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,{value:{machine:n,api:i}}=t,s=kn(),r=MO();return Ai(()=>{r&&(s.value.setChild(n),i.value.setParent(r))}),NO(K(()=>s.value.getTriggerItemProps(i.value))),$O(n),IO(i),Ri(K(()=>({lazyMount:t.lazyMount,unmountOnExit:t.unmountOnExit}))),U(),(a,u)=>V(a.$slots,"default")}}),pie=$({__name:"menu-root",props:On({anchorPoint:{},"aria-label":{},closeOnSelect:{type:Boolean},composite:{type:Boolean},defaultOpen:{type:Boolean},highlightedValue:{},id:{},ids:{},loopFocus:{type:Boolean},open:{type:Boolean},positioning:{},typeahead:{type:Boolean},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},{closeOnSelect:void 0,composite:void 0,defaultOpen:void 0,loopFocus:void 0,open:void 0,typeahead:void 0}),emits:["escapeKeyDown","focusOutside","highlightChange","interactOutside","openChange","pointerDownOutside","select","update:open"],setup(e,{emit:t}){const n=e,i=t,{api:s,machine:r}=qne(n,i),a=kn(),u=MO();return Ai(()=>{u&&(a.value.setChild(r),s.value.setParent(u))}),NO(K(()=>a.value.getTriggerItemProps(s.value))),$O(r),IO(s),Ri(K(()=>({lazyMount:n.lazyMount,unmountOnExit:n.unmountOnExit}))),U(),(o,l)=>V(o.$slots,"default")}}),gie=$({__name:"menu-separator",props:{asChild:{type:Boolean}},setup(e){const t=kn();return U(),(n,i)=>(C(),R(v(X).hr,W(v(t).getSeparatorProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),mie=$({__name:"menu-trigger-item",props:{asChild:{type:Boolean}},setup(e){const t=hie();return U(),(n,i)=>(C(),R(v(X).div,W(v(t),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),vie=$({__name:"menu-trigger",props:{asChild:{type:Boolean}},setup(e){const t=kn();return U(),(n,i)=>(C(),R(v(X).button,W(v(t).getTriggerProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),ft=Object.freeze(Object.defineProperty({__proto__:null,Arrow:Xne,ArrowTip:Jne,CheckboxItem:Zne,Content:Qne,Context:tie,ContextTrigger:eie,Indicator:nie,Item:lie,ItemContext:iie,ItemGroup:rie,ItemGroupLabel:sie,ItemIndicator:oie,ItemText:aie,Positioner:cie,RadioItem:die,RadioItemGroup:uie,Root:pie,RootProvider:fie,Separator:gie,Trigger:vie,TriggerItem:mie},Symbol.toStringTag,{value:"Module"})),yie={class:"flex flex-col gap-2"},bie={key:0,class:"text-sm font-medium"},Eie={key:1,class:"border rounded-lg"},_ie={class:"h-10 px-3 flex gap-2 items-center border-b bg-gray-200 [&>button]:p-1 [&>button]:rounded-md [&>button:hover]:bg-gray-300"},Cie={class:"focus-within:ring focus-within:ring-gray-700 rounded-b overflow-hidden [&>div]:overflow-y-auto [&>div]:max-h-48"},RO=$({__name:"RichtextEditor",props:Vn({label:null,inline:{type:Boolean}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=mn(e,"modelValue"),n=rne({content:t.value,extensions:[one,ane,lne,fne,yne,bne,Ene,_ne,Cne,Xy],injectCSS:!1,editorProps:{attributes:{class:"p-3 prose prose-sm prose-gray focus:outline-none"}},onUpdate({editor:i}){t.value=i.getHTML()}});return qt(t,i=>{n.value&&n.value.getHTML()!==i&&n.value.commands.setContent(i)}),xv(()=>{var i;(i=n.value)==null||i.destroy()}),(i,s)=>{const r=nX,a=QJ,u=JJ,o=KJ,l=Lr,c=GJ,d=HJ;return C(),te("div",yie,[e.label?(C(),te("label",bie,ue(e.label),1)):tt("",!0),v(n)?(C(),te("section",Eie,[L("header",_ie,[L("button",{title:"Bold",onClick:s[0]||(s[0]=h=>v(n).chain().focus().toggleBold().run()),class:sn({"bg-gray-300 text-blue-500":v(n).isActive("bold")})},[O(r,{class:"w-4 h-4"})],2),L("button",{title:"Italic",onClick:s[1]||(s[1]=h=>v(n).chain().focus().toggleItalic().run()),class:sn({"bg-gray-300 text-blue-500":v(n).isActive("italic")})},[O(a,{class:"w-4 h-4"})],2),L("button",{title:"Underline",onClick:s[2]||(s[2]=h=>v(n).chain().focus().toggleUnderline().run()),class:sn({"bg-gray-300 text-blue-500":v(n).isActive("underline")})},[O(u,{class:"w-4 h-4"})],2),e.inline?tt("",!0):(C(),te(Ye,{key:0},[O(v(ft).Root,null,{default:S(()=>[O(v(ft).Trigger,{class:"flex outline-none items-center"},{default:S(()=>[O(o,{class:"w-4 h-4"}),O(l,{class:"w-3 h-3"})]),_:1}),O(v(ft).Positioner,null,{default:S(()=>[O(v(ft).Content,{class:"shadow-sm rounded-md bg-white border outline-none overflow-hidden"},{default:S(()=>[O(v(ft).ItemGroup,null,{default:S(()=>[O(v(ft).ItemGroupLabel,{class:"bg-zinc-300 px-3 py-2"},{default:S(()=>s[11]||(s[11]=[qe("Headings")])),_:1}),O(v(ft).Item,{value:"h1",class:"text-2xl flex items-center px-3 py-2 gap-2 cursor-pointer font-bold hover:bg-gray-100",onClick:s[3]||(s[3]=h=>v(n).chain().focus().toggleHeading({level:1}).run())},{default:S(()=>[qe(ue(i.$t("Heading 1")),1)]),_:1}),O(v(ft).Item,{value:"h2",class:"text-xl flex items-center px-3 py-2 gap-2 font-semibold cursor-pointer hover:bg-gray-100",onClick:s[4]||(s[4]=h=>v(n).chain().focus().toggleHeading({level:2}).run())},{default:S(()=>[qe(ue(i.$t("Heading 2")),1)]),_:1}),O(v(ft).Item,{value:"h2",class:"text-lg flex items-center px-3 py-2 gap-2 font-medium cursor-pointer hover:bg-gray-100",onClick:s[5]||(s[5]=h=>v(n).chain().focus().toggleHeading({level:3}).run())},{default:S(()=>[qe(ue(i.$t("Heading 3")),1)]),_:1}),O(v(ft).Item,{value:"h2",class:"text-md flex items-center px-3 py-2 gap-2 font-medium cursor-pointer hover:bg-gray-100",onClick:s[6]||(s[6]=h=>v(n).chain().focus().toggleHeading({level:4}).run())},{default:S(()=>[qe(ue(i.$t("Heading 4")),1)]),_:1}),O(v(ft).Item,{value:"h2",class:"text-sm flex items-center px-3 py-2 gap-2 font-medium cursor-pointer hover:bg-gray-100",onClick:s[7]||(s[7]=h=>v(n).chain().focus().toggleHeading({level:5}).run())},{default:S(()=>[qe(ue(i.$t("Heading 5")),1)]),_:1}),O(v(ft).Item,{value:"h2",class:"text-xs flex items-center px-3 py-2 gap-2 font-medium cursor-pointer hover:bg-gray-100",onClick:s[8]||(s[8]=h=>v(n).chain().focus().toggleHeading({level:6}).run())},{default:S(()=>[qe(ue(i.$t("Heading 6")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),L("button",{title:"Bullet list",onClick:s[9]||(s[9]=h=>v(n).chain().focus().toggleBulletList().run()),class:sn({"bg-gray-300 text-blue-500":v(n).isActive("bulletList")})},[O(c,{class:"w-4 h-4"})],2),L("button",{title:"Numbered list",onClick:s[10]||(s[10]=h=>v(n).chain().focus().toggleOrderedList().run()),class:sn({"bg-gray-300 text-blue-500":v(n).isActive("orderedList")})},[O(d,{class:"w-4 h-4"})],2)],64))]),L("div",Cie,[O(v(sne),{editor:v(n)},null,8,["editor"])])])):tt("",!0)])}}}),Sie={class:"mb-4 last:mb-0"},xie={key:0,class:"text-xs leading-3"},Tie=RO,wie={components:{TextSetting:E6,TextareaSetting:_6,CheckboxSetting:cy,NumberSetting:cW,RadioSetting:qW,RangeSetting:X8,SelectSetting:t9,ColorSetting:OK,ImageSetting:vq,CategorySetting:cY,ProductSetting:wY,CmsPageSetting:HY,LinkSetting:FJ,RichtextSetting:RO,InlineRichtextSetting:Tie}},eb=$({...wie,__name:"Setting",props:{setting:null,value:null},emits:["input"],setup(e,{emit:t}){const n=e,i=t;return _i(),(s,r)=>(C(),te("div",Sie,[(C(),R(r1(e.setting.component),W(e.setting,{"model-value":n.value,"onUpdate:modelValue":r[0]||(r[0]=a=>i("input",a))}),null,16,["model-value"])),e.setting.info?(C(),te("small",xie,ue(e.setting.info),1)):tt("",!0)]))}}),Iie={class:""},Oie=["data-disabled"],kie={class:"handle flex-none py-1 px-1 rounded-md hover:bg-zinc-200 cursor-move"},Aie={class:"w-0 flex-1 truncate text-xs capitalize"},Pie=$({__name:"Block",props:{block:null},emits:["remove","toggle"],setup(e,{emit:t}){const n=Hl(),i=Ef(),s=t,r=e;function a(){n.push({name:"/[section].[block]",params:{block:r.block.id,section:i.params.section}})}function u(o){const c=new DOMParser().parseFromString(o,"text/html").body.textContent;return c==="undefined"?o:c}return(o,l)=>{const c=J1,d=Cf,h=Y1,f=q1;return C(),te("div",Iie,[L("div",{class:"flex rounded border border-zinc-100 hover:bg-zinc-100 cursor-pointer active:ring-inset active:ring-2 active:ring-gray-700 data-[disabled=true]:text-zinc-500","data-disabled":e.block.disabled},[L("button",kie,[O(c,{class:"inline w-4"})]),L("div",{onClick:a,class:"group mx-2 py-1 pr-1 text-sm flex-1 flex items-center max-w-full"},[L("div",Aie,ue(e.block.settings.title||e.block.settings.heading||u(e.block.settings.text)||e.block.name),1),L("button",{onClick:l[0]||(l[0]=zi(p=>s("remove"),["stop"])),class:"flex-none invisible group-hover:visible py-[1px] px-[2px] rounded-md hover:bg-zinc-200"},[O(d,{class:"inline w-4"})]),L("button",{onClick:l[1]||(l[1]=zi(p=>s("toggle"),["stop"])),class:"flex-none invisible group-hover:visible py-[1px] px-[2px] rounded-md hover:bg-zinc-200 ml-1"},[e.block.disabled?(C(),R(f,{key:1,class:"inline w-4"})):(C(),R(h,{key:0,class:"inline w-4"}))])])],8,Oie)])}}}),$ie=$({__name:"BlocksGroup",props:{blocks:null,order:null},emits:["reorder","toggleBlock","removeBlock"],setup(e,{emit:t}){const n=e,i=t,s=Sv("sortable");return Ai(()=>{new rt(s.value,{animation:150,ghostClass:"sortable-ghost",onEnd({newIndex:r,oldIndex:a}){const u=[...n.order],o=u.splice(a,1)[0];u.splice(r,0,o),i("reorder",u)}})}),(r,a)=>{const u=Pie;return C(),te("div",{ref_key:"sortable",ref:s,class:"space-y-1"},[(C(!0),te(Ye,null,Kt(e.blocks,o=>(C(),R(u,{key:o.id,block:o,onToggle:l=>i("toggleBlock",o.id),onRemove:l=>i("removeBlock",o.id)},null,8,["block","onToggle","onRemove"]))),128))],512)}}});var Mie=Object.defineProperty,Nie=(e,t,n)=>t in e?Mie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fe=(e,t,n)=>Nie(e,typeof t!="symbol"?t+"":t,n);function DO(e,...t){for(const n of t){const i=Te(n);for(const s in i)bi(n[s])?(e[s]||(e[s]={}),DO(e[s],n[s])):e[s]=n[s]}return e}function PC(e){return bn(e)}function As(e){return q(e)?{type:e}:e}function io(e){return e?Qe(e)?e.slice():[e]:[]}function LO(e){return Ce(e)&&e.predicate!=null}var Rie=()=>!0;function tb(e,t,n,i){return s=>{var r;return q(s)?!!((r=e[s])!=null&&r.call(e,t,n,i)):We(s)?s(t,n,i):s.predicate(e)(t,n,i)}}function Die(...e){return{predicate:t=>(n,i,s)=>e.map(tb(t,n,i,s)).some(Boolean)}}function Lie(...e){return{predicate:t=>(n,i,s)=>e.map(tb(t,n,i,s)).every(Boolean)}}function Fie(e){return{predicate:t=>(n,i,s)=>!tb(t,n,i,s)(e)}}function Vie(...e){return(t,n,i)=>i.state.matches(...e)}var Bie={or:Die,and:Lie,not:Fie,stateIn:Vie};function FO(e,t){return e=e??Rie,(n,i,s)=>{if(q(e)){const r=t[e];return We(r)?r(n,i,s):r}return LO(e)?e.predicate(t)(n,i,s):e==null?void 0:e(n,i,s)}}function Ag(e,t){return(n,i,s)=>LO(e)?e.predicate(t)(n,i,s):e}function Hie(e){var r,a;const t=e.computed??Q({}),n=e.context??Q({}),i=e.initial?(a=(r=e.states)==null?void 0:r[e.initial])==null?void 0:a.tags:[],s=qn({value:e.initial??"",previousValue:"",event:Q({}),previousEvent:Q({}),context:mi(n,t),done:!1,tags:i??[],hasTag(u){return this.tags.includes(u)},matches(...u){return u.includes(this.value)},can(u){return Q(this).nextEvents.includes(u)},get nextEvents(){var l,c;const u=((c=(l=e.states)==null?void 0:l[this.value])==null?void 0:c.on)??{},o=(e==null?void 0:e.on)??{};return Object.keys({...u,...o})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return Q(s)}function Tc(e,t){return(n,i)=>{if(yi(e))return e;if(We(e))return e(n,i);if(q(e)){const s=Number.parseFloat(e);if(!Number.isNaN(s))return s;if(t){const r=t==null?void 0:t[e];return He(r==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${e}\`. It doesn't exist in \`options.delays\``),We(r)?r(n,i):r}}}}function jie(e){return q(e)?{target:e}:e}function Uie(e,t){return(n,i,s)=>io(e).map(jie).find(r=>FO(r.guard,t)(n,i,s)??r.target??r.actions)}var Gie=class{constructor(t,n){var i,s,r,a,u;Fe(this,"status","Not Started"),Fe(this,"state"),Fe(this,"initialState"),Fe(this,"initialContext"),Fe(this,"id"),Fe(this,"type","machine"),Fe(this,"activityEvents",new Map),Fe(this,"delayedEvents",new Map),Fe(this,"stateListeners",new Set),Fe(this,"doneListeners",new Set),Fe(this,"contextWatchers",new Set),Fe(this,"removeStateListener",ni),Fe(this,"parent"),Fe(this,"children",new Map),Fe(this,"guardMap"),Fe(this,"actionMap"),Fe(this,"delayMap"),Fe(this,"activityMap"),Fe(this,"sync"),Fe(this,"options"),Fe(this,"config"),Fe(this,"_created",()=>{var l;const o=As("machine.created");this.executeActions((l=this.config)==null?void 0:l.created,o)}),Fe(this,"start",o=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=Pt(this.state,()=>{this.stateListeners.forEach(p=>{p(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(As("machine.start"),io(this.config.activities),"machine.start"),this.executeActions(this.config.entry,As("machine.start"));const l=As("machine.init"),c=Ce(o)?o.value:o,d=Ce(o)?o.context:void 0;d&&this.setContext(d);const h={target:c??this.config.initial},f=this.getNextStateInfo(h,l);return this.initialState=f,this.performStateChangeEffects(this.state.value,f,l),this}),Fe(this,"setupContextWatchers",()=>{const{watch:o}=this.config;if(!o)return;let l=_e(this.state.context);const c=Pt(this.state.context,()=>{var h;const d=_e(this.state.context);for(const[f,p]of Object.entries(o))(((h=this.options.compareFns)==null?void 0:h[f])??Object.is)(l[f],d[f])||this.executeActions(p,this.state.event);l=d});this.contextWatchers.add(c)}),Fe(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,As("machine.stop")),this.executeActions(this.config.exit,As("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),Fe(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),Fe(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(o=>o()),this.contextWatchers.clear()}),Fe(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(o=>{o.forEach(l=>l())}),this.delayedEvents.clear()}),Fe(this,"stopActivities",o=>{var l,c;o?((l=this.activityEvents.get(o))==null||l.forEach(d=>d()),(c=this.activityEvents.get(o))==null||c.clear(),this.activityEvents.delete(o)):(this.activityEvents.forEach(d=>{d.forEach(h=>h()),d.clear()}),this.activityEvents.clear())}),Fe(this,"sendChild",(o,l)=>{const c=As(o),d=$t(l,this.contextSnapshot),h=this.children.get(d);h||He(`[@zag-js/core] Cannot send '${c.type}' event to unknown child`),h.send(c)}),Fe(this,"stopChild",o=>{this.children.has(o)||He(`[@zag-js/core > stop-child] Cannot stop unknown child ${o}`),this.children.get(o).stop(),this.children.delete(o)}),Fe(this,"removeChild",o=>{this.children.delete(o)}),Fe(this,"stopChildren",()=>{this.children.forEach(o=>o.stop()),this.children.clear()}),Fe(this,"setParent",o=>{this.parent=o}),Fe(this,"spawn",(o,l)=>{const c=$t(o);return l&&(c.id=l),c.type="machine.actor",c.setParent(this),this.children.set(c.id,Q(c)),c.onDone(()=>{this.removeChild(c.id)}).start(),Q(Ke(c))}),Fe(this,"stopActivity",o=>{var c;if(!this.state.value)return;const l=this.activityEvents.get(this.state.value);(c=l==null?void 0:l.get(o))==null||c(),l==null||l.delete(o)}),Fe(this,"addActivityCleanup",(o,l,c)=>{var d;o&&(this.activityEvents.has(o)?(d=this.activityEvents.get(o))==null||d.set(l,c):this.activityEvents.set(o,new Map([[l,c]])))}),Fe(this,"setState",o=>{this.state.previousValue=this.state.value,this.state.value=o;const l=this.getStateNode(o);o==null?vi(this.state.tags):this.state.tags=io(l==null?void 0:l.tags)}),Fe(this,"setContext",o=>{o&&DO(this.state.context,Te(o))}),Fe(this,"setOptions",o=>{const l=Te(o);this.actionMap={...this.actionMap,...l.actions},this.delayMap={...this.delayMap,...l.delays},this.activityMap={...this.activityMap,...l.activities},this.guardMap={...this.guardMap,...l.guards}}),Fe(this,"getStateNode",o=>{var l;if(o)return(l=this.config.states)==null?void 0:l[o]}),Fe(this,"getNextStateInfo",(o,l)=>{const c=this.determineTransition(o,l),d=!(c!=null&&c.target),h=(c==null?void 0:c.target)??this.state.value,f=this.state.value!==h,p=this.getStateNode(h),m={reenter:!d&&!f&&!(c!=null&&c.internal),transition:c,stateNode:p,target:h,changed:f};return this.log("NextState:",`[${l.type}]`,this.state.value,"---->",m.target),m}),Fe(this,"getAfterActions",(o,l)=>{let c;const d=this.state.value;return{entry:()=>{c=globalThis.setTimeout(()=>{const h=this.getNextStateInfo(o,this.state.event);this.performStateChangeEffects(d,h,this.state.event)},l)},exit:()=>{globalThis.clearTimeout(c)}}}),Fe(this,"getDelayedEventActions",o=>{const l=this.getStateNode(o),c=this.state.event;if(!l||!l.after)return;const d=[],h=[];if(Qe(l.after)){const f=this.determineTransition(l.after,c);if(!f)return;if(!wn(f,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(f)}`);const g=Tc(f.delay,this.delayMap)(this.contextSnapshot,c),m=this.getAfterActions(f,g);return d.push(m.entry),h.push(m.exit),{entries:d,exits:h}}if(Ce(l.after))for(const f in l.after){const p=l.after[f],m=Tc(f,this.delayMap)(this.contextSnapshot,c),y=this.getAfterActions(p,m);d.push(y.entry),h.push(y.exit)}return{entries:d,exits:h}}),Fe(this,"executeActions",(o,l)=>{var d;const c=Ag(o,this.guardMap)(this.contextSnapshot,l,this.guardMeta);for(const h of io(c)){const f=q(h)?(d=this.actionMap)==null?void 0:d[h]:h;nt(q(h)&&!f,`[@zag-js/core > execute-actions] No implementation found for action: \`${h}\``),f==null||f(this.state.context,l,this.meta)}}),Fe(this,"executeActivities",(o,l,c)=>{var d;for(const h of l){const f=q(h)?(d=this.activityMap)==null?void 0:d[h]:h;if(!f){nt(`[@zag-js/core > execute-activity] No implementation found for activity: \`${h}\``);continue}const p=f(this.state.context,o,this.meta);if(p){const g=q(h)?h:h.name||Rt();this.addActivityCleanup(c??this.state.value,g,p)}}}),Fe(this,"createEveryActivities",(o,l)=>{if(o)if(Qe(o)){const c=io(o).find(p=>{const g=p.delay,y=Tc(g,this.delayMap)(this.contextSnapshot,this.state.event);return FO(p.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??y!=null});if(!c)return;const h=Tc(c.delay,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const p=globalThis.setInterval(()=>{this.executeActions(c.actions,this.state.event)},h);return()=>{globalThis.clearInterval(p)}})}else for(const c in o){const d=o==null?void 0:o[c],f=Tc(c,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const g=globalThis.setInterval(()=>{this.executeActions(d,this.state.event)},f);return()=>{globalThis.clearInterval(g)}})}}),Fe(this,"setEvent",o=>{this.state.previousEvent=this.state.event,this.state.event=Ke(As(o))}),Fe(this,"performExitEffects",(o,l)=>{const c=this.state.value;if(c==="")return;const d=o?this.getStateNode(o):void 0;this.stopActivities(c);const h=Ag(d==null?void 0:d.exit,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=io(h),p=this.delayedEvents.get(c);p&&f.push(...p),this.executeActions(f,l),this.delayedEvents.delete(c)}),Fe(this,"performEntryEffects",(o,l)=>{const c=this.getStateNode(o),d=io(c==null?void 0:c.activities);this.createEveryActivities(c==null?void 0:c.every,g=>{d.unshift(g)}),d.length>0&&this.executeActivities(l,d);const h=Ag(c==null?void 0:c.entry,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=io(h),p=this.getDelayedEventActions(o);c!=null&&c.after&&p&&(this.delayedEvents.set(o,p==null?void 0:p.exits),f.push(...p.entries)),this.executeActions(f,l),(c==null?void 0:c.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(g=>{g(this.stateSnapshot)}),this.stop())}),Fe(this,"performTransitionEffects",(o,l)=>{const c=this.determineTransition(o,l);this.executeActions(c==null?void 0:c.actions,l)}),Fe(this,"performStateChangeEffects",(o,l,c)=>{this.setEvent(c);const d=l.changed||l.reenter;d&&this.performExitEffects(o,c),this.performTransitionEffects(l.transition,c),this.setState(l.target),d&&this.performEntryEffects(l.target,c)}),Fe(this,"determineTransition",(o,l)=>{const c=Uie(o,this.guardMap);return c==null?void 0:c(this.contextSnapshot,l,this.guardMeta)}),Fe(this,"sendParent",o=>{var c;this.parent||He("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const l=As(o);(c=this.parent)==null||c.send(l)}),Fe(this,"log",(...o)=>{}),Fe(this,"send",o=>{const l=As(o);this.transition(this.state.value,l)}),Fe(this,"transition",(o,l)=>{var p,g;const c=q(o)?this.getStateNode(o):o==null?void 0:o.stateNode,d=As(l);if(!c&&!this.config.on){const m=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${o}, \`event\`: ${d.type}`;nt(m);return}const h=((p=c==null?void 0:c.on)==null?void 0:p[d.type])??((g=this.config.on)==null?void 0:g[d.type]),f=this.getNextStateInfo(h,d);return this.performStateChangeEffects(this.state.value,f,d),f.stateNode}),Fe(this,"subscribe",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),()=>{this.stateListeners.delete(o)})),Fe(this,"onDone",o=>(this.doneListeners.add(o),this)),Fe(this,"onTransition",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),this)),this.config=PC(t),this.options=PC(n??{}),this.id=this.config.id??`machine-${Rt()}`,this.guardMap=((i=this.options)==null?void 0:i.guards)??{},this.actionMap=((s=this.options)==null?void 0:s.actions)??{},this.delayMap=((r=this.options)==null?void 0:r.delays)??{},this.activityMap=((a=this.options)==null?void 0:a.activities)??{},this.sync=((u=this.options)==null?void 0:u.sync)??!1,this.state=Hie(this.config),this.initialContext=_e(this.state.context)}get stateSnapshot(){return Q(_e(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const t=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return t.stateSnapshot},get initialContext(){return t.initialContext},get initialState(){var n;return((n=t.initialState)==null?void 0:n.target)??""}}}get meta(){var t;return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:((t=this.initialState)==null?void 0:t.target)??"",getState:()=>this.stateSnapshot,getAction:n=>this.actionMap[n],getGuard:n=>this.guardMap[n]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){const t=this.getState();return{value:t.value,tags:t.tags}}},Wie=(e,t)=>new Gie(e,t),zie=Dn("accordion").parts("root","item","itemTrigger","itemContent","itemIndicator"),wc=zie.build(),fn=Pi({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`accordion:${e.id}`},getItemId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.item)==null?void 0:i.call(n,t))??`accordion:${e.id}:item:${t}`},getItemContentId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.itemContent)==null?void 0:i.call(n,t))??`accordion:${e.id}:content:${t}`},getItemTriggerId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.itemTrigger)==null?void 0:i.call(n,t))??`accordion:${e.id}:trigger:${t}`},getRootEl:e=>fn.getById(e,fn.getRootId(e)),getTriggerEls:e=>{const n=`[aria-controls][data-ownedby='${CSS.escape(fn.getRootId(e))}']:not([disabled])`;return Tr(fn.getRootEl(e),n)},getFirstTriggerEl:e=>Wv(fn.getTriggerEls(e)),getLastTriggerEl:e=>zv(fn.getTriggerEls(e)),getNextTriggerEl:(e,t)=>Fv(fn.getTriggerEls(e),fn.getItemTriggerId(e,t)),getPrevTriggerEl:(e,t)=>Vv(fn.getTriggerEls(e),fn.getItemTriggerId(e,t))});function Kie(e,t,n){const i=e.context.focusedValue,s=e.context.value,r=e.context.multiple;function a(o){let l=o;r&&l.length>1&&(l=[l[0]]),t({type:"VALUE.SET",value:l})}function u(o){return{expanded:s.includes(o.value),focused:i===o.value,disabled:!!(o.disabled??e.context.disabled)}}return{focusedValue:i,value:s,setValue:a,getItemState:u,getRootProps(){return n.element({...wc.root.attrs,dir:e.context.dir,id:fn.getRootId(e.context),"data-orientation":e.context.orientation})},getItemProps(o){const l=u(o);return n.element({...wc.item.attrs,dir:e.context.dir,id:fn.getItemId(e.context,o.value),"data-state":l.expanded?"open":"closed","data-focus":H(l.focused),"data-disabled":H(l.disabled),"data-orientation":e.context.orientation})},getItemContentProps(o){const l=u(o);return n.element({...wc.itemContent.attrs,dir:e.context.dir,role:"region",id:fn.getItemContentId(e.context,o.value),"aria-labelledby":fn.getItemTriggerId(e.context,o.value),hidden:!l.expanded,"data-state":l.expanded?"open":"closed","data-disabled":H(l.disabled),"data-focus":H(l.focused),"data-orientation":e.context.orientation})},getItemIndicatorProps(o){const l=u(o);return n.element({...wc.itemIndicator.attrs,dir:e.context.dir,"aria-hidden":!0,"data-state":l.expanded?"open":"closed","data-disabled":H(l.disabled),"data-focus":H(l.focused),"data-orientation":e.context.orientation})},getItemTriggerProps(o){const{value:l}=o,c=u(o);return n.button({...wc.itemTrigger.attrs,type:"button",dir:e.context.dir,id:fn.getItemTriggerId(e.context,l),"aria-controls":fn.getItemContentId(e.context,l),"aria-expanded":c.expanded,disabled:c.disabled,"data-orientation":e.context.orientation,"aria-disabled":c.disabled,"data-state":c.expanded?"open":"closed","data-ownedby":fn.getRootId(e.context),onFocus(){c.disabled||t({type:"TRIGGER.FOCUS",value:l})},onBlur(){c.disabled||t("TRIGGER.BLUR")},onClick(d){c.disabled||(wf()&&d.currentTarget.focus(),t({type:"TRIGGER.CLICK",value:l}))},onKeyDown(d){if(d.defaultPrevented||c.disabled)return;const h={ArrowDown(){e.context.isHorizontal||t({type:"GOTO.NEXT",value:l})},ArrowUp(){e.context.isHorizontal||t({type:"GOTO.PREV",value:l})},ArrowRight(){e.context.isHorizontal&&t({type:"GOTO.NEXT",value:l})},ArrowLeft(){e.context.isHorizontal&&t({type:"GOTO.PREV",value:l})},Home(){t({type:"GOTO.FIRST",value:l})},End(){t({type:"GOTO.LAST",value:l})}},f=Hs(d,{dir:e.context.dir,orientation:e.context.orientation}),p=h[f];p&&(p(d),d.preventDefault())}})}}}var{and:qie,not:Yie}=Bie;function Jie(e){const t=Te(e);return Wie({id:"accordion",initial:"idle",context:{focusedValue:null,value:[],collapsible:!1,multiple:!1,orientation:"vertical",...t},watch:{value:"coarseValue",multiple:"coarseValue"},created:"coarseValue",computed:{isHorizontal:n=>n.orientation==="horizontal"},on:{"VALUE.SET":{actions:["setValue"]}},states:{idle:{on:{"TRIGGER.FOCUS":{target:"focused",actions:"setFocusedValue"}}},focused:{on:{"GOTO.NEXT":{actions:"focusNextTrigger"},"GOTO.PREV":{actions:"focusPrevTrigger"},"TRIGGER.CLICK":[{guard:qie("isExpanded","canToggle"),actions:["collapse"]},{guard:Yie("isExpanded"),actions:["expand"]}],"GOTO.FIRST":{actions:"focusFirstTrigger"},"GOTO.LAST":{actions:"focusLastTrigger"},"TRIGGER.BLUR":{target:"idle",actions:"clearFocusedValue"}}}}},{guards:{canToggle:n=>!!n.collapsible||!!n.multiple,isExpanded:(n,i)=>n.value.includes(i.value)},actions:{collapse(n,i){const s=n.multiple?qv(n.value,i.value):[];Ic.value(n,n.multiple?s:[])},expand(n,i){const s=n.multiple?Kv(n.value,i.value):[i.value];Ic.value(n,s)},focusFirstTrigger(n){var i;(i=fn.getFirstTriggerEl(n))==null||i.focus()},focusLastTrigger(n){var i;(i=fn.getLastTriggerEl(n))==null||i.focus()},focusNextTrigger(n){if(!n.focusedValue)return;const i=fn.getNextTriggerEl(n,n.focusedValue);i==null||i.focus()},focusPrevTrigger(n){if(!n.focusedValue)return;const i=fn.getPrevTriggerEl(n,n.focusedValue);i==null||i.focus()},setFocusedValue(n,i){Ic.focusedValue(n,i.value)},clearFocusedValue(n){Ic.focusedValue(n,null)},setValue(n,i){Ic.value(n,i.value)},coarseValue(n){!n.multiple&&n.value.length>1&&(nt("The value of accordion should be a single value when multiple is false."),n.value=[n.value[0]])}}})}var $C={change(e){var t;(t=e.onValueChange)==null||t.call(e,{value:Array.from(e.value)})},focusChange(e){var t;(t=e.onFocusChange)==null||t.call(e,{value:e.focusedValue})}},Ic={value(e,t){dn(e.value,t)||(e.value=t,$C.change(e))},focusedValue(e,t){dn(e.focusedValue,t)||(e.focusedValue=t,$C.focusChange(e))}};tn()(["collapsible","dir","disabled","getRootNode","id","ids","multiple","onFocusChange","onValueChange","orientation","value"]);tn()(["value","disabled"]);const Xie=(e,t)=>{const n=Kn(),i=Qi(),s=Ni(Mi),r=K(()=>({id:n,dir:s.value.dir,value:e.modelValue??e.defaultValue,getRootNode:i==null?void 0:i.value.getRootNode,onFocusChange:o=>t==null?void 0:t("focusChange",o),onValueChange:o=>{t==null||t("valueChange",o),t==null||t("update:modelValue",o.value)},...es(e)})),[a,u]=Ei(Jie(r.value),{context:r});return K(()=>Kie(a.value,u,$i))},[VO,ed]=gt("AccordionContext"),[Zie,Qie]=gt("AccordionItemContext"),ese=$({__name:"accordion-context",setup(e){const t=ed();return(n,i)=>V(n.$slots,"default",hn(on(v(t))))}}),[BO,rp]=gt("CollapsibleContext"),tse=$({__name:"collapsible-content",props:{asChild:{type:Boolean}},setup(e){const t=rp();return U(),(n,i)=>v(t).unmounted?tt("",!0):(C(),R(v(X).div,W({key:0},v(t).getContentProps(),{"as-child":n.asChild}),{default:S(()=>[V(n.$slots,"default")]),_:3},16,["as-child"]))}}),nse=$({__name:"collapsible-context",setup(e){const t=rp();return(n,i)=>V(n.$slots,"default",hn(on(v(t))))}}),ise=$({__name:"collapsible-root-provider",props:{value:{},asChild:{type:Boolean}},setup(e){const t=e,n=K(()=>t.value);return BO(n),U(),(i,s)=>(C(),R(v(X).div,W(n.value.getRootProps(),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["as-child"]))}});var sse=Object.defineProperty,rse=(e,t,n)=>t in e?sse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ve=(e,t,n)=>rse(e,typeof t!="symbol"?t+"":t,n);function HO(e,...t){for(const n of t){const i=Te(n);for(const s in i)bi(n[s])?(e[s]||(e[s]={}),HO(e[s],n[s])):e[s]=n[s]}return e}function MC(e){return bn(e)}function Ps(e){return q(e)?{type:e}:e}function so(e){return e?Qe(e)?e.slice():[e]:[]}function jO(e){return Ce(e)&&e.predicate!=null}var ose=()=>!0;function UO(e,t){return e=e??ose,(n,i,s)=>{if(q(e)){const r=t[e];return We(r)?r(n,i,s):r}return jO(e)?e.predicate(t)(n,i,s):e==null?void 0:e(n,i,s)}}function Pg(e,t){return(n,i,s)=>jO(e)?e.predicate(t)(n,i,s):e}function ase(e){var r,a;const t=e.computed??Q({}),n=e.context??Q({}),i=e.initial?(a=(r=e.states)==null?void 0:r[e.initial])==null?void 0:a.tags:[],s=qn({value:e.initial??"",previousValue:"",event:Q({}),previousEvent:Q({}),context:mi(n,t),done:!1,tags:i??[],hasTag(u){return this.tags.includes(u)},matches(...u){return u.includes(this.value)},can(u){return Q(this).nextEvents.includes(u)},get nextEvents(){var l,c;const u=((c=(l=e.states)==null?void 0:l[this.value])==null?void 0:c.on)??{},o=(e==null?void 0:e.on)??{};return Object.keys({...u,...o})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return Q(s)}function Oc(e,t){return(n,i)=>{if(yi(e))return e;if(We(e))return e(n,i);if(q(e)){const s=Number.parseFloat(e);if(!Number.isNaN(s))return s;if(t){const r=t==null?void 0:t[e];return He(r==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${e}\`. It doesn't exist in \`options.delays\``),We(r)?r(n,i):r}}}}function lse(e){return q(e)?{target:e}:e}function cse(e,t){return(n,i,s)=>so(e).map(lse).find(r=>UO(r.guard,t)(n,i,s)??r.target??r.actions)}var use=class{constructor(t,n){var i,s,r,a,u;Ve(this,"status","Not Started"),Ve(this,"state"),Ve(this,"initialState"),Ve(this,"initialContext"),Ve(this,"id"),Ve(this,"type","machine"),Ve(this,"activityEvents",new Map),Ve(this,"delayedEvents",new Map),Ve(this,"stateListeners",new Set),Ve(this,"doneListeners",new Set),Ve(this,"contextWatchers",new Set),Ve(this,"removeStateListener",ni),Ve(this,"parent"),Ve(this,"children",new Map),Ve(this,"guardMap"),Ve(this,"actionMap"),Ve(this,"delayMap"),Ve(this,"activityMap"),Ve(this,"sync"),Ve(this,"options"),Ve(this,"config"),Ve(this,"_created",()=>{var l;const o=Ps("machine.created");this.executeActions((l=this.config)==null?void 0:l.created,o)}),Ve(this,"start",o=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=Pt(this.state,()=>{this.stateListeners.forEach(p=>{p(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(Ps("machine.start"),so(this.config.activities),"machine.start"),this.executeActions(this.config.entry,Ps("machine.start"));const l=Ps("machine.init"),c=Ce(o)?o.value:o,d=Ce(o)?o.context:void 0;d&&this.setContext(d);const h={target:c??this.config.initial},f=this.getNextStateInfo(h,l);return this.initialState=f,this.performStateChangeEffects(this.state.value,f,l),this}),Ve(this,"setupContextWatchers",()=>{const{watch:o}=this.config;if(!o)return;let l=_e(this.state.context);const c=Pt(this.state.context,()=>{var h;const d=_e(this.state.context);for(const[f,p]of Object.entries(o))(((h=this.options.compareFns)==null?void 0:h[f])??Object.is)(l[f],d[f])||this.executeActions(p,this.state.event);l=d});this.contextWatchers.add(c)}),Ve(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,Ps("machine.stop")),this.executeActions(this.config.exit,Ps("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),Ve(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),Ve(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(o=>o()),this.contextWatchers.clear()}),Ve(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(o=>{o.forEach(l=>l())}),this.delayedEvents.clear()}),Ve(this,"stopActivities",o=>{var l,c;o?((l=this.activityEvents.get(o))==null||l.forEach(d=>d()),(c=this.activityEvents.get(o))==null||c.clear(),this.activityEvents.delete(o)):(this.activityEvents.forEach(d=>{d.forEach(h=>h()),d.clear()}),this.activityEvents.clear())}),Ve(this,"sendChild",(o,l)=>{const c=Ps(o),d=$t(l,this.contextSnapshot),h=this.children.get(d);h||He(`[@zag-js/core] Cannot send '${c.type}' event to unknown child`),h.send(c)}),Ve(this,"stopChild",o=>{this.children.has(o)||He(`[@zag-js/core > stop-child] Cannot stop unknown child ${o}`),this.children.get(o).stop(),this.children.delete(o)}),Ve(this,"removeChild",o=>{this.children.delete(o)}),Ve(this,"stopChildren",()=>{this.children.forEach(o=>o.stop()),this.children.clear()}),Ve(this,"setParent",o=>{this.parent=o}),Ve(this,"spawn",(o,l)=>{const c=$t(o);return l&&(c.id=l),c.type="machine.actor",c.setParent(this),this.children.set(c.id,Q(c)),c.onDone(()=>{this.removeChild(c.id)}).start(),Q(Ke(c))}),Ve(this,"stopActivity",o=>{var c;if(!this.state.value)return;const l=this.activityEvents.get(this.state.value);(c=l==null?void 0:l.get(o))==null||c(),l==null||l.delete(o)}),Ve(this,"addActivityCleanup",(o,l,c)=>{var d;o&&(this.activityEvents.has(o)?(d=this.activityEvents.get(o))==null||d.set(l,c):this.activityEvents.set(o,new Map([[l,c]])))}),Ve(this,"setState",o=>{this.state.previousValue=this.state.value,this.state.value=o;const l=this.getStateNode(o);o==null?vi(this.state.tags):this.state.tags=so(l==null?void 0:l.tags)}),Ve(this,"setContext",o=>{o&&HO(this.state.context,Te(o))}),Ve(this,"setOptions",o=>{const l=Te(o);this.actionMap={...this.actionMap,...l.actions},this.delayMap={...this.delayMap,...l.delays},this.activityMap={...this.activityMap,...l.activities},this.guardMap={...this.guardMap,...l.guards}}),Ve(this,"getStateNode",o=>{var l;if(o)return(l=this.config.states)==null?void 0:l[o]}),Ve(this,"getNextStateInfo",(o,l)=>{const c=this.determineTransition(o,l),d=!(c!=null&&c.target),h=(c==null?void 0:c.target)??this.state.value,f=this.state.value!==h,p=this.getStateNode(h),m={reenter:!d&&!f&&!(c!=null&&c.internal),transition:c,stateNode:p,target:h,changed:f};return this.log("NextState:",`[${l.type}]`,this.state.value,"---->",m.target),m}),Ve(this,"getAfterActions",(o,l)=>{let c;const d=this.state.value;return{entry:()=>{c=globalThis.setTimeout(()=>{const h=this.getNextStateInfo(o,this.state.event);this.performStateChangeEffects(d,h,this.state.event)},l)},exit:()=>{globalThis.clearTimeout(c)}}}),Ve(this,"getDelayedEventActions",o=>{const l=this.getStateNode(o),c=this.state.event;if(!l||!l.after)return;const d=[],h=[];if(Qe(l.after)){const f=this.determineTransition(l.after,c);if(!f)return;if(!wn(f,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(f)}`);const g=Oc(f.delay,this.delayMap)(this.contextSnapshot,c),m=this.getAfterActions(f,g);return d.push(m.entry),h.push(m.exit),{entries:d,exits:h}}if(Ce(l.after))for(const f in l.after){const p=l.after[f],m=Oc(f,this.delayMap)(this.contextSnapshot,c),y=this.getAfterActions(p,m);d.push(y.entry),h.push(y.exit)}return{entries:d,exits:h}}),Ve(this,"executeActions",(o,l)=>{var d;const c=Pg(o,this.guardMap)(this.contextSnapshot,l,this.guardMeta);for(const h of so(c)){const f=q(h)?(d=this.actionMap)==null?void 0:d[h]:h;nt(q(h)&&!f,`[@zag-js/core > execute-actions] No implementation found for action: \`${h}\``),f==null||f(this.state.context,l,this.meta)}}),Ve(this,"executeActivities",(o,l,c)=>{var d;for(const h of l){const f=q(h)?(d=this.activityMap)==null?void 0:d[h]:h;if(!f){nt(`[@zag-js/core > execute-activity] No implementation found for activity: \`${h}\``);continue}const p=f(this.state.context,o,this.meta);if(p){const g=q(h)?h:h.name||Rt();this.addActivityCleanup(c??this.state.value,g,p)}}}),Ve(this,"createEveryActivities",(o,l)=>{if(o)if(Qe(o)){const c=so(o).find(p=>{const g=p.delay,y=Oc(g,this.delayMap)(this.contextSnapshot,this.state.event);return UO(p.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??y!=null});if(!c)return;const h=Oc(c.delay,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const p=globalThis.setInterval(()=>{this.executeActions(c.actions,this.state.event)},h);return()=>{globalThis.clearInterval(p)}})}else for(const c in o){const d=o==null?void 0:o[c],f=Oc(c,this.delayMap)(this.contextSnapshot,this.state.event);l(()=>{const g=globalThis.setInterval(()=>{this.executeActions(d,this.state.event)},f);return()=>{globalThis.clearInterval(g)}})}}),Ve(this,"setEvent",o=>{this.state.previousEvent=this.state.event,this.state.event=Ke(Ps(o))}),Ve(this,"performExitEffects",(o,l)=>{const c=this.state.value;if(c==="")return;const d=o?this.getStateNode(o):void 0;this.stopActivities(c);const h=Pg(d==null?void 0:d.exit,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=so(h),p=this.delayedEvents.get(c);p&&f.push(...p),this.executeActions(f,l),this.delayedEvents.delete(c)}),Ve(this,"performEntryEffects",(o,l)=>{const c=this.getStateNode(o),d=so(c==null?void 0:c.activities);this.createEveryActivities(c==null?void 0:c.every,g=>{d.unshift(g)}),d.length>0&&this.executeActivities(l,d);const h=Pg(c==null?void 0:c.entry,this.guardMap)(this.contextSnapshot,l,this.guardMeta),f=so(h),p=this.getDelayedEventActions(o);c!=null&&c.after&&p&&(this.delayedEvents.set(o,p==null?void 0:p.exits),f.push(...p.entries)),this.executeActions(f,l),(c==null?void 0:c.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(g=>{g(this.stateSnapshot)}),this.stop())}),Ve(this,"performTransitionEffects",(o,l)=>{const c=this.determineTransition(o,l);this.executeActions(c==null?void 0:c.actions,l)}),Ve(this,"performStateChangeEffects",(o,l,c)=>{this.setEvent(c);const d=l.changed||l.reenter;d&&this.performExitEffects(o,c),this.performTransitionEffects(l.transition,c),this.setState(l.target),d&&this.performEntryEffects(l.target,c)}),Ve(this,"determineTransition",(o,l)=>{const c=cse(o,this.guardMap);return c==null?void 0:c(this.contextSnapshot,l,this.guardMeta)}),Ve(this,"sendParent",o=>{var c;this.parent||He("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const l=Ps(o);(c=this.parent)==null||c.send(l)}),Ve(this,"log",(...o)=>{}),Ve(this,"send",o=>{const l=Ps(o);this.transition(this.state.value,l)}),Ve(this,"transition",(o,l)=>{var p,g;const c=q(o)?this.getStateNode(o):o==null?void 0:o.stateNode,d=Ps(l);if(!c&&!this.config.on){const m=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${o}, \`event\`: ${d.type}`;nt(m);return}const h=((p=c==null?void 0:c.on)==null?void 0:p[d.type])??((g=this.config.on)==null?void 0:g[d.type]),f=this.getNextStateInfo(h,d);return this.performStateChangeEffects(this.state.value,f,d),f.stateNode}),Ve(this,"subscribe",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),()=>{this.stateListeners.delete(o)})),Ve(this,"onDone",o=>(this.doneListeners.add(o),this)),Ve(this,"onTransition",o=>(this.stateListeners.add(o),this.status==="Running"&&o(this.stateSnapshot),this)),this.config=MC(t),this.options=MC(n??{}),this.id=this.config.id??`machine-${Rt()}`,this.guardMap=((i=this.options)==null?void 0:i.guards)??{},this.actionMap=((s=this.options)==null?void 0:s.actions)??{},this.delayMap=((r=this.options)==null?void 0:r.delays)??{},this.activityMap=((a=this.options)==null?void 0:a.activities)??{},this.sync=((u=this.options)==null?void 0:u.sync)??!1,this.state=ase(this.config),this.initialContext=_e(this.state.context)}get stateSnapshot(){return Q(_e(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const t=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return t.stateSnapshot},get initialContext(){return t.initialContext},get initialState(){var n;return((n=t.initialState)==null?void 0:n.target)??""}}}get meta(){var t;return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:((t=this.initialState)==null?void 0:t.target)??"",getState:()=>this.stateSnapshot,getAction:n=>this.actionMap[n],getGuard:n=>this.guardMap[n]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){const t=this.getState();return{value:t.value,tags:t.tags}}},dse=(e,t)=>new use(e,t),hse=Dn("collapsible").parts("root","trigger","content"),$g=hse.build(),us=Pi({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`collapsible:${e.id}`},getContentId:e=>{var t;return((t=e.ids)==null?void 0:t.content)??`collapsible:${e.id}:content`},getTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.trigger)??`collapsible:${e.id}:trigger`},getRootEl:e=>us.getById(e,us.getRootId(e)),getContentEl:e=>us.getById(e,us.getContentId(e)),getTriggerEl:e=>us.getById(e,us.getTriggerId(e))});function fse(e,t,n){const i=e.matches("open","closing"),s=e.matches("open"),r=e.context.height,a=e.context.width,u=!!e.context.disabled,o=!e.context.initial&&s;return{disabled:u,visible:i,open:s,setOpen(l){l!==s&&t(l?"OPEN":"CLOSE")},getRootProps(){return n.element({...$g.root.attrs,"data-state":s?"open":"closed",dir:e.context.dir,id:us.getRootId(e.context)})},getContentProps(){return n.element({...$g.content.attrs,"data-state":o?void 0:s?"open":"closed",id:us.getContentId(e.context),"data-disabled":H(u),hidden:!i,style:{"--height":r!=null?`${r}px`:void 0,"--width":a!=null?`${a}px`:void 0}})},getTriggerProps(){return n.element({...$g.trigger.attrs,id:us.getTriggerId(e.context),dir:e.context.dir,type:"button","data-state":s?"open":"closed","data-disabled":H(u),"aria-controls":us.getContentId(e.context),"aria-expanded":i||!1,onClick(l){l.defaultPrevented||u||t({type:s?"CLOSE":"OPEN",src:"trigger.click"})}})}}}function pse(e){const t=Te(e);return dse({id:"collapsible",initial:t.open?"open":"closed",context:{...t,height:0,width:0,initial:!1,stylesRef:null,unmountAnimationName:null},watch:{open:["setInitial","computeSize","toggleVisibility"]},exit:["clearInitial"],states:{closed:{tags:["closed"],on:{"CONTROLLED.OPEN":"open",OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitial","computeSize","invokeOnOpen"]}]}},closing:{tags:["open"],activities:["trackAnimationEvents"],on:{"CONTROLLED.CLOSE":"closed","CONTROLLED.OPEN":"open",OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitial","invokeOnOpen"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnExitComplete"]},{target:"closed",actions:["setInitial","computeSize","invokeOnExitComplete"]}],"ANIMATION.END":{target:"closed",actions:["invokeOnExitComplete"]}}},open:{tags:["open"],on:{"CONTROLLED.CLOSE":"closing",CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closing",actions:["setInitial","computeSize","invokeOnClose"]}]}}}},{guards:{isOpenControlled:n=>!!n["open.controlled"]},activities:{trackAnimationEvents(n,i,{send:s}){let r;const a=Je(()=>{const u=us.getContentEl(n);if(!u)return;const o=oN(u).animationName;if(!o||o==="none"){s({type:"ANIMATION.END"});return}const c=d=>{const f=(u.ownerDocument.defaultView||window).getComputedStyle(u).animationName;Zi(d)===u&&f===n.unmountAnimationName&&s({type:"ANIMATION.END"})};u.addEventListener("animationend",c),r=()=>{u.removeEventListener("animationend",c)}});return()=>{a(),r==null||r()}}},actions:{setInitial(n){n.initial=!0},clearInitial(n){n.initial=!1},computeSize(n,i){var s;(s=n._rafCleanup)==null||s.call(n),n._rafCleanup=Je(()=>{const r=us.getContentEl(n);if(!r)return;if(n.stylesRef||(n.stylesRef=Ke({animationName:r.style.animationName,animationDuration:r.style.animationDuration})),i.type==="CLOSE"||!n.open){const o=r.ownerDocument.defaultView||window;n.unmountAnimationName=o.getComputedStyle(r).animationName}const a=r.hidden;r.style.animationName="none",r.style.animationDuration="0s",r.hidden=!1;const u=r.getBoundingClientRect();n.height=u.height,n.width=u.width,n.initial&&(r.style.animationName=n.stylesRef.animationName,r.style.animationDuration=n.stylesRef.animationDuration),r.hidden=a})},invokeOnOpen:n=>{var i;(i=n.onOpenChange)==null||i.call(n,{open:!0})},invokeOnClose:n=>{var i;(i=n.onOpenChange)==null||i.call(n,{open:!1})},invokeOnExitComplete(n){var i;(i=n.onExitComplete)==null||i.call(n)},toggleVisibility:(n,i,{send:s})=>{s({type:n.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE"})}}})}tn()(["dir","disabled","getRootNode","id","ids","onExitComplete","onOpenChange","open.controlled","open"]);const gse=(e,t)=>{const n=Kn(),i=Qi(),s=Ni(Mi),r=K(()=>({id:n,dir:s.value.dir,open:e.defaultOpen,"open.controlled":e.open!==void 0,getRootNode:i==null?void 0:i.value.getRootNode,onExitComplete:()=>t("exitComplete"),onOpenChange:c=>{t("openChange",c),t("update:open",c.open)},...es(e)})),[a,u]=Ei(pse(r.value),{context:r}),o=K(()=>fse(a.value,u,$i)),l=st(!1);return qt(()=>o.value.visible,()=>{o.value.visible&&(l.value=!0)}),K(()=>({...o.value,unmounted:!o.value.visible&&!l.value&&e.lazyMount||e.unmountOnExit&&!o.value.visible&&l.value}))},mse=$({__name:"collapsible-root",props:On({defaultOpen:{type:Boolean},disabled:{type:Boolean},id:{},ids:{},lazyMount:{type:Boolean},open:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},{defaultOpen:void 0,disabled:void 0,lazyMount:void 0,open:void 0,unmountOnExit:void 0}),emits:["exitComplete","openChange","update:open"],setup(e,{emit:t}){const s=gse(e,t);return BO(s),U(),(r,a)=>(C(),R(v(X).div,W(v(s).getRootProps(),{"as-child":r.asChild}),{default:S(()=>[V(r.$slots,"default")]),_:3},16,["as-child"]))}}),vse=$({__name:"collapsible-trigger",props:{asChild:{type:Boolean}},setup(e){const t=rp();return U(),(n,i)=>(C(),R(v(X).button,hn(on(v(t).getTriggerProps())),{default:S(()=>[V(n.$slots,"default")]),_:3},16))}}),GO=Object.freeze(Object.defineProperty({__proto__:null,Content:tse,Context:nse,Root:mse,RootProvider:ise,Trigger:vse},Symbol.toStringTag,{value:"Module"})),[yse,nb]=gt("AccordionItemPropsContext"),bse=()=>(e,t)=>t.reduce((n,i)=>{const[s,r]=n,a=i;return r[a]!==void 0&&(s[a]=r[a]),delete r[a],[s,r]},[{},{...e}]),Ese=bse(),_se=$({__name:"accordion-item-content",props:{asChild:{type:Boolean}},setup(e){const t=ed(),n=nb(),i=K(()=>{const s=t.value.getItemContentProps(n),[,r]=Ese(s,["hidden","data-state"]);return r});return U(),(s,r)=>(C(),R(v(GO).Content,W(i.value,{"as-child":s.asChild}),{default:S(()=>[V(s.$slots,"default")]),_:3},16,["as-child"]))}}),Cse=$({__name:"accordion-item-context",setup(e){const t=Qie();return(n,i)=>V(n.$slots,"default",hn(on(v(t))))}}),Sse=$({__name:"accordion-item-indicator",props:{asChild:{type:Boolean}},setup(e){const t=ed(),n=nb();return U(),(i,s)=>(C(),R(v(X).div,W(v(t).getItemIndicatorProps(v(n)),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["as-child"]))}}),xse=$({__name:"accordion-item-trigger",props:{asChild:{type:Boolean}},setup(e){const t=ed(),n=nb(),i=rp(),s=K(()=>{const{"aria-controls":r,...a}=t.value.getItemTriggerProps(n);return{...a,...i.value.unmounted?{}:{"aria-controls":r}}});return U(),(r,a)=>(C(),R(v(X).button,W(s.value,{"as-child":r.asChild}),{default:S(()=>[V(r.$slots,"default")]),_:3},16,["as-child"]))}}),Tse=$({__name:"accordion-item",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=ed(),n=e,i=K(()=>t.value.getItemState(n)),s=jo(),r=K(()=>t.value.getItemContentProps(n));return Zie(i),yse(n),U(),(a,u)=>(C(),R(v(GO).Root,W(v(t).getItemProps(n),{open:i.value.expanded,"lazy-mount":v(s).lazyMount,"unmount-on-exit":v(s).unmountOnExit,ids:{content:r.value.id}}),{default:S(()=>[V(a.$slots,"default")]),_:3},16,["open","lazy-mount","unmount-on-exit","ids"]))}}),wse=$({__name:"accordion-root-provider",props:{value:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,n=K(()=>t.value);return VO(n),Ri(K(()=>({lazyMount:t.lazyMount,unmountOnExit:t.unmountOnExit}))),U(),(i,s)=>(C(),R(v(X).div,W(n.value.getRootProps(),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["as-child"]))}}),Ise=$({__name:"accordion-root",props:On({collapsible:{type:Boolean},defaultValue:{},disabled:{type:Boolean},id:{},ids:{},modelValue:{},multiple:{type:Boolean},orientation:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean},asChild:{type:Boolean}},{collapsible:void 0,disabled:void 0,multiple:void 0}),emits:["focusChange","valueChange","update:modelValue"],setup(e,{emit:t}){const n=e,s=Xie(n,t);return VO(s),Ri(K(()=>({lazyMount:n.lazyMount,unmountOnExit:n.unmountOnExit}))),U(),(r,a)=>(C(),R(v(X).div,W(v(s).getRootProps(),{"as-child":r.asChild}),{default:S(()=>[V(r.$slots,"default")]),_:3},16,["as-child"]))}}),Sn=Object.freeze(Object.defineProperty({__proto__:null,Context:ese,Item:Tse,ItemContent:_se,ItemContext:Cse,ItemIndicator:Sse,ItemTrigger:xse,Root:Ise,RootProvider:wse},Symbol.toStringTag,{value:"Module"}));function WO(e){const t=[];let n={name:"Settings",settings:[]};return e.forEach(i=>{if(i.type==="header"){n.settings.length>0&&t.push({...n}),n={name:i.label,settings:[]};return}n.settings.push(i)}),n.settings.length>0&&t.push({...n}),t}const Ose={key:0,class:"flex flex-col h-full overflow-hidden relative w-full"},kse={class:"flex-none p-2 border-b"},Ase={class:"flex items-center"},Pse={class:"ml-2 truncate"},$se={key:0,class:"mt-2 text-sm"},Mse={class:"flex-1 overflow-y-auto"},Nse={key:1,class:"p-2 text-sm"},Rse={key:0,class:"flex-none border-t"},Dse=$({__name:"[section]",setup(e){const t=Hl(),n=Ef(),i=_i(),s=K(()=>i.getSectionData(n.params.section)),r=K(()=>s.value?i.getSectionBySlug(s.value.type):null),a=K(()=>i.canRemoveSection(n.params.section)),u=K(()=>{var b;return WO(((b=r.value)==null?void 0:b.settings)||[])}),o=K(()=>s.value.blocks_order.map(b=>s.value.blocks[b])),l=K(()=>{var E;const b=((E=r.value)==null?void 0:E.blocks)||[];return o.value.length===0?b:b.filter(_=>{const I=o.value.filter(P=>P.type===_.type);return _.limit===void 0?!0:I.length<_.limit})});function c(){t.back()}function d(){i.removeSection(n.params.section),c()}function h(b){return i.getThemeDataValue(`sectionsData.${s.value.id}.settings.${b}`)}function f(b,E){return i.updateThemeDataValue(`sectionsData.${s.value.id}.settings.${b}`,E)}function p(b){const E=r.value.blocks.find(_=>_.type===b);i.addBlockToSection(s.value.id,E)}function g(b){i.updateThemeDataValue(["sectionsData",s.value.id,"blocks_order"],b)}function m(b){i.toggleSectionBlock(s.value.id,b)}function y(b){i.removeSectionBlock(s.value.id,b)}return(b,E)=>{const _=zf,I=Lr,P=$ie,M=K1,z=eb,D=Cf;return v(r)?(C(),te("div",Ose,[L("header",kse,[L("div",Ase,[L("button",{class:"p-1 px-2 rounded hover:bg-gray-200 focus:outline-none",onClick:c},[O(_,{class:"inline w-4"})]),L("span",Pse,ue(v(s).settings.heading||v(r).name),1)]),v(r).description?(C(),te("p",$se,ue(v(r).description),1)):tt("",!0)]),L("section",Mse,[O(v(Sn).Root,{multiple:"",defaultValue:["blocks","Settings"]},{default:S(()=>[v(r).blocks.length>0?(C(),R(v(Sn).Item,{key:0,value:"blocks"},{default:S(()=>[O(v(Sn).ItemTrigger,null,{default:S(()=>[qe(ue(b.$t("Blocks"))+" ",1),O(v(Sn).ItemIndicator,null,{default:S(()=>[O(I)]),_:1})]),_:1}),O(v(Sn).ItemContent,null,{default:S(()=>[O(P,{class:"-mt-2 mb-2",blocks:v(o),order:v(s).blocks_order,onReorder:g,onToggleBlock:m,onRemoveBlock:y},null,8,["blocks","order"]),v(l).length>0?(C(),R(v(ft).Root,{key:0,onSelect:E[0]||(E[0]=j=>p(j.value))},{default:S(()=>[O(v(ft).Trigger,{class:"w-full text-sm text-blue-600 rounded-lg cursor-pointer outline-0 inline-flex items-center gap-2 px-2 py-1 hover:bg-gray-200 focus:ring-1 focus:ring-gray-700"},{default:S(()=>[O(M,{class:"w-4 h-4 inline mr-1"}),qe(" "+ue(b.$t("Add Block")),1)]),_:1}),O(v(ft).Positioner,{class:"w-[var(--reference-width)] !z-10"},{default:S(()=>[O(v(ft).Content,{class:"flex flex-col outline-0 gap-1 p-1 bg-white shadow border rounded-lg data-[state=open]:animate-fade-in"},{default:S(()=>[(C(!0),te(Ye,null,Kt(v(l),j=>(C(),R(v(ft).Item,{key:j.type,value:j.type,class:"outline-0 rounded cursor-pointer px-2 py-2 hover:bg-gray-200"},{default:S(()=>[qe(ue(j.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1})):tt("",!0)]),_:1})]),_:1})):tt("",!0),(C(!0),te(Ye,null,Kt(v(u),j=>(C(),R(v(Sn).Item,{value:j.name,key:j.name},{default:S(()=>[O(v(Sn).ItemTrigger,null,{default:S(()=>[qe(ue(j.name)+" ",1),O(v(Sn).ItemIndicator,null,{default:S(()=>[O(I)]),_:1})]),_:2},1024),O(v(Sn).ItemContent,null,{default:S(()=>[(C(!0),te(Ye,null,Kt(j.settings,se=>(C(),R(z,{key:se.id,value:h(se.id),setting:se,onInput:ae=>f(se.id,ae)},null,8,["value","setting","onInput"]))),128))]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1}),v(r).settings.length>0?(C(),te(Ye,{key:0},[],64)):(C(),te("p",Nse,ue(b.$t("This section has no configuration")),1))]),v(a)?(C(),te("footer",Rse,[L("button",{class:"flex items-center w-full text-left py-2 px-4 text-red-500 hover:bg-gray-100",onClick:d},[O(D,{class:"inline mr-2 w-4"}),qe(" "+ue(b.$t("Remove section")),1)])])):tt("",!0)])):tt("",!0)}}}),Lse={key:0,class:"flex flex-col h-full overflow-hidden relative w-full"},Fse={class:"flex-none p-2 border-b"},Vse={class:"flex items-center"},Bse={class:"ml-2 truncate"},Hse={key:0,class:"mt-2 text-sm"},jse={class:"flex-1 overflow-y-auto"},Use={key:1,class:"p-2 text-sm"},Gse={class:"flex-none border-t"},Wse=$({__name:"[section].[block]",setup(e){const t=Hl(),n=Ef(),i=_i(),s=K(()=>i.getSectionBlockData(n.params.section,n.params.block)),r=K(()=>s.value?i.getSectionBlockByType(n.params.section,s.value.type):null),a=K(()=>{var d;return WO(((d=r.value)==null?void 0:d.settings)||[])});function u(){t.back()}function o(d){return i.getThemeDataValue(["sectionsData",n.params.section,"blocks",n.params.block,"settings",d])}function l(d,h){return i.updateThemeDataValue(["sectionsData",n.params.section,"blocks",n.params.block,"settings",d],h)}function c(){i.removeSectionBlock(n.params.section,n.params.block),t.back()}return(d,h)=>{const f=zf,p=Lr,g=eb,m=Cf;return v(r)?(C(),te("div",Lse,[L("header",Fse,[L("div",Vse,[L("button",{class:"p-1 px-2 rounded hover:bg-gray-200 focus:outline-none",onClick:u},[O(f,{class:"inline w-4"})]),L("span",Bse,ue(v(s).settings.title||v(s).settings.heading||v(r).name),1)]),v(r).description?(C(),te("p",Hse,ue(v(r).description),1)):tt("",!0)]),L("section",jse,[O(v(Sn).Root,{multiple:"",defaultValue:["blocks","Settings"]},{default:S(()=>[(C(!0),te(Ye,null,Kt(v(a),y=>(C(),R(v(Sn).Item,{value:y.name,key:y.name},{default:S(()=>[O(v(Sn).ItemTrigger,null,{default:S(()=>[qe(ue(y.name)+" ",1),O(v(Sn).ItemIndicator,null,{default:S(()=>[O(p)]),_:1})]),_:2},1024),O(v(Sn).ItemContent,null,{default:S(()=>[(C(!0),te(Ye,null,Kt(y.settings,b=>(C(),R(g,{key:b.id,value:o(b.id),setting:b,onInput:E=>l(b.id,E)},null,8,["value","setting","onInput"]))),128))]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1}),v(r).settings.length>0?(C(),te(Ye,{key:0},[],64)):(C(),te("p",Use,ue(d.$t("This block has no configuration")),1))]),L("footer",Gse,[L("button",{class:"flex items-center w-full text-left py-2 px-4 text-red-500 hover:bg-gray-100",onClick:c},[O(m,{class:"inline mr-2 w-4"}),qe(" "+ue(d.$t("Remove block")),1)])])])):tt("",!0)}}}),zse={class:"flex flex-col h-full overflow-hidden relative w-full"},Kse={class:"flex-none p-2 border-b"},qse={class:"flex items-center"},Yse={class:"ml-2 truncate"},Jse={class:"flex-1 overflow-y-auto"},Xse=$({__name:"settings",setup(e){const t=Hl(),n=_i();function i(){t.back()}function s(a){return n.getThemeDataValue(["settings",a])}function r(a,u){return n.updateThemeDataValue(["settings",a],u)}return(a,u)=>{const o=zf,l=Lr,c=eb;return C(),te("div",zse,[L("header",Kse,[L("div",qse,[L("button",{class:"p-1 px-2 rounded hover:bg-gray-200 focus:outline-none",onClick:i},[O(o,{class:"inline w-4"})]),L("span",Yse,ue(a.$t("Theme settings")),1)])]),L("section",Jse,[O(v(Sn).Root,{collapsible:""},{default:S(()=>[(C(!0),te(Ye,null,Kt(v(n).settingsSchema,d=>(C(),R(v(Sn).Item,{value:d.name,key:d.name},{default:S(()=>[O(v(Sn).ItemTrigger,null,{default:S(()=>[qe(ue(d.name)+" ",1),O(v(Sn).ItemIndicator,null,{default:S(()=>[O(l)]),_:1})]),_:2},1024),O(v(Sn).ItemContent,null,{default:S(()=>[(C(!0),te(Ye,null,Kt(d.settings,h=>(C(),R(c,{key:h.id,value:s(h.id),setting:h,onInput:f=>r(h.id,f)},null,8,["value","setting","onInput"]))),128))]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1})])])}}}),Zse=[{path:"/",name:"/",component:l6},{path:"/:section",name:"/[section]",component:Dse},{path:"/:section/:block",name:"/[section].[block]",component:Wse},{path:"/settings",name:"/settings",component:Xse}];/*!
  * shared v10.0.5
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const Zh=typeof window<"u",Ko=(e,t=!1)=>t?Symbol.for(e):Symbol(e),Qse=(e,t,n)=>ere({l:e,k:t,s:n}),ere=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),gn=e=>typeof e=="number"&&isFinite(e),tre=e=>ib(e)==="[object Date]",Fl=e=>ib(e)==="[object RegExp]",op=e=>pt(e)&&Object.keys(e).length===0,In=Object.assign,nre=Object.create,Bt=(e=null)=>nre(e);let NC;const ma=()=>NC||(NC=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Bt());function RC(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const ire=Object.prototype.hasOwnProperty;function Ls(e,t){return ire.call(e,t)}const un=Array.isArray,Xt=e=>typeof e=="function",ve=e=>typeof e=="string",Ot=e=>typeof e=="boolean",At=e=>e!==null&&typeof e=="object",sre=e=>At(e)&&Xt(e.then)&&Xt(e.catch),zO=Object.prototype.toString,ib=e=>zO.call(e),pt=e=>ib(e)==="[object Object]",rre=e=>e==null?"":un(e)||pt(e)&&e.toString===zO?JSON.stringify(e,null,2):String(e);function sb(e,t=""){return e.reduce((n,i,s)=>s===0?n+i:n+t+i,"")}function ore(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const Md=e=>!At(e)||un(e);function th(e,t){if(Md(e)||Md(t))throw new Error("Invalid value");const n=[{src:e,des:t}];for(;n.length;){const{src:i,des:s}=n.pop();Object.keys(i).forEach(r=>{r!=="__proto__"&&(At(i[r])&&!At(s[r])&&(s[r]=Array.isArray(i[r])?[]:Bt()),Md(s[r])||Md(i[r])?s[r]=i[r]:n.push({src:i[r],des:s[r]}))})}}/*!
  * message-compiler v10.0.5
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function are(e,t,n){return{line:e,column:t,offset:n}}function Jm(e,t,n){return{start:e,end:t}}const Vt={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16},lre=17;function ap(e,t,n={}){const{domain:i,messages:s,args:r}=n,a=e,u=new SyntaxError(String(a));return u.code=e,t&&(u.location=t),u.domain=i,u}function cre(e){throw e}const Er=" ",ure="\r",ci=`
`,dre="\u2028",hre="\u2029";function fre(e){const t=e;let n=0,i=1,s=1,r=0;const a=M=>t[M]===ure&&t[M+1]===ci,u=M=>t[M]===ci,o=M=>t[M]===hre,l=M=>t[M]===dre,c=M=>a(M)||u(M)||o(M)||l(M),d=()=>n,h=()=>i,f=()=>s,p=()=>r,g=M=>a(M)||o(M)||l(M)?ci:t[M],m=()=>g(n),y=()=>g(n+r);function b(){return r=0,c(n)&&(i++,s=0),a(n)&&n++,n++,s++,t[n]}function E(){return a(n+r)&&r++,r++,t[n+r]}function _(){n=0,i=1,s=1,r=0}function I(M=0){r=M}function P(){const M=n+r;for(;M!==n;)b();r=0}return{index:d,line:h,column:f,peekOffset:p,charAt:g,currentChar:m,currentPeek:y,next:b,peek:E,reset:_,resetPeek:I,skipToPeek:P}}const jr=void 0,pre=".",DC="'",gre="tokenizer";function mre(e,t={}){const n=t.location!==!1,i=fre(e),s=()=>i.index(),r=()=>are(i.line(),i.column(),i.index()),a=r(),u=s(),o={currentType:13,offset:u,startLoc:a,endLoc:a,lastType:13,lastOffset:u,lastStartLoc:a,lastEndLoc:a,braceNest:0,inLinked:!1,text:""},l=()=>o,{onError:c}=t;function d(x,w,F,...A){const B=l();if(w.column+=F,w.offset+=F,c){const ee=n?Jm(B.startLoc,w):null,N=ap(x,ee,{domain:gre,args:A});c(N)}}function h(x,w,F){x.endLoc=r(),x.currentType=w;const A={type:w};return n&&(A.loc=Jm(x.startLoc,x.endLoc)),F!=null&&(A.value=F),A}const f=x=>h(x,13);function p(x,w){return x.currentChar()===w?(x.next(),w):(d(Vt.EXPECTED_TOKEN,r(),0,w),"")}function g(x){let w="";for(;x.currentPeek()===Er||x.currentPeek()===ci;)w+=x.currentPeek(),x.peek();return w}function m(x){const w=g(x);return x.skipToPeek(),w}function y(x){if(x===jr)return!1;const w=x.charCodeAt(0);return w>=97&&w<=122||w>=65&&w<=90||w===95}function b(x){if(x===jr)return!1;const w=x.charCodeAt(0);return w>=48&&w<=57}function E(x,w){const{currentType:F}=w;if(F!==2)return!1;g(x);const A=y(x.currentPeek());return x.resetPeek(),A}function _(x,w){const{currentType:F}=w;if(F!==2)return!1;g(x);const A=x.currentPeek()==="-"?x.peek():x.currentPeek(),B=b(A);return x.resetPeek(),B}function I(x,w){const{currentType:F}=w;if(F!==2)return!1;g(x);const A=x.currentPeek()===DC;return x.resetPeek(),A}function P(x,w){const{currentType:F}=w;if(F!==7)return!1;g(x);const A=x.currentPeek()===".";return x.resetPeek(),A}function M(x,w){const{currentType:F}=w;if(F!==8)return!1;g(x);const A=y(x.currentPeek());return x.resetPeek(),A}function z(x,w){const{currentType:F}=w;if(!(F===7||F===11))return!1;g(x);const A=x.currentPeek()===":";return x.resetPeek(),A}function D(x,w){const{currentType:F}=w;if(F!==9)return!1;const A=()=>{const ee=x.currentPeek();return ee==="{"?y(x.peek()):ee==="@"||ee==="|"||ee===":"||ee==="."||ee===Er||!ee?!1:ee===ci?(x.peek(),A()):se(x,!1)},B=A();return x.resetPeek(),B}function j(x){g(x);const w=x.currentPeek()==="|";return x.resetPeek(),w}function se(x,w=!0){const F=(B=!1,ee="")=>{const N=x.currentPeek();return N==="{"||N==="@"||!N?B:N==="|"?!(ee===Er||ee===ci):N===Er?(x.peek(),F(!0,Er)):N===ci?(x.peek(),F(!0,ci)):!0},A=F();return w&&x.resetPeek(),A}function ae(x,w){const F=x.currentChar();return F===jr?jr:w(F)?(x.next(),F):null}function Y(x){const w=x.charCodeAt(0);return w>=97&&w<=122||w>=65&&w<=90||w>=48&&w<=57||w===95||w===36}function Z(x){return ae(x,Y)}function de(x){const w=x.charCodeAt(0);return w>=97&&w<=122||w>=65&&w<=90||w>=48&&w<=57||w===95||w===36||w===45}function ce(x){return ae(x,de)}function re(x){const w=x.charCodeAt(0);return w>=48&&w<=57}function he(x){return ae(x,re)}function je(x){const w=x.charCodeAt(0);return w>=48&&w<=57||w>=65&&w<=70||w>=97&&w<=102}function lt(x){return ae(x,je)}function ht(x){let w="",F="";for(;w=he(x);)F+=w;return F}function Et(x){let w="";for(;;){const F=x.currentChar();if(F==="{"||F==="}"||F==="@"||F==="|"||!F)break;if(F===Er||F===ci)if(se(x))w+=F,x.next();else{if(j(x))break;w+=F,x.next()}else w+=F,x.next()}return w}function Ut(x){m(x);let w="",F="";for(;w=ce(x);)F+=w;return x.currentChar()===jr&&d(Vt.UNTERMINATED_CLOSING_BRACE,r(),0),F}function mt(x){m(x);let w="";return x.currentChar()==="-"?(x.next(),w+=`-${ht(x)}`):w+=ht(x),x.currentChar()===jr&&d(Vt.UNTERMINATED_CLOSING_BRACE,r(),0),w}function Gt(x){return x!==DC&&x!==ci}function an(x){m(x),p(x,"'");let w="",F="";for(;w=ae(x,Gt);)w==="\\"?F+=ne(x):F+=w;const A=x.currentChar();return A===ci||A===jr?(d(Vt.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,r(),0),A===ci&&(x.next(),p(x,"'")),F):(p(x,"'"),F)}function ne(x){const w=x.currentChar();switch(w){case"\\":case"'":return x.next(),`\\${w}`;case"u":return ge(x,w,4);case"U":return ge(x,w,6);default:return d(Vt.UNKNOWN_ESCAPE_SEQUENCE,r(),0,w),""}}function ge(x,w,F){p(x,w);let A="";for(let B=0;B<F;B++){const ee=lt(x);if(!ee){d(Vt.INVALID_UNICODE_ESCAPE_SEQUENCE,r(),0,`\\${w}${A}${x.currentChar()}`);break}A+=ee}return`\\${w}${A}`}function pe(x){return x!=="{"&&x!=="}"&&x!==Er&&x!==ci}function Ee(x){m(x);let w="",F="";for(;w=ae(x,pe);)F+=w;return F}function xt(x){let w="",F="";for(;w=Z(x);)F+=w;return F}function Dt(x){const w=F=>{const A=x.currentChar();return A==="{"||A==="@"||A==="|"||A==="("||A===")"||!A||A===Er?F:(F+=A,x.next(),w(F))};return w("")}function T(x){m(x);const w=p(x,"|");return m(x),w}function k(x,w){let F=null;switch(x.currentChar()){case"{":return w.braceNest>=1&&d(Vt.NOT_ALLOW_NEST_PLACEHOLDER,r(),0),x.next(),F=h(w,2,"{"),m(x),w.braceNest++,F;case"}":return w.braceNest>0&&w.currentType===2&&d(Vt.EMPTY_PLACEHOLDER,r(),0),x.next(),F=h(w,3,"}"),w.braceNest--,w.braceNest>0&&m(x),w.inLinked&&w.braceNest===0&&(w.inLinked=!1),F;case"@":return w.braceNest>0&&d(Vt.UNTERMINATED_CLOSING_BRACE,r(),0),F=G(x,w)||f(w),w.braceNest=0,F;default:{let B=!0,ee=!0,N=!0;if(j(x))return w.braceNest>0&&d(Vt.UNTERMINATED_CLOSING_BRACE,r(),0),F=h(w,1,T(x)),w.braceNest=0,w.inLinked=!1,F;if(w.braceNest>0&&(w.currentType===4||w.currentType===5||w.currentType===6))return d(Vt.UNTERMINATED_CLOSING_BRACE,r(),0),w.braceNest=0,oe(x,w);if(B=E(x,w))return F=h(w,4,Ut(x)),m(x),F;if(ee=_(x,w))return F=h(w,5,mt(x)),m(x),F;if(N=I(x,w))return F=h(w,6,an(x)),m(x),F;if(!B&&!ee&&!N)return F=h(w,12,Ee(x)),d(Vt.INVALID_TOKEN_IN_PLACEHOLDER,r(),0,F.value),m(x),F;break}}return F}function G(x,w){const{currentType:F}=w;let A=null;const B=x.currentChar();switch((F===7||F===8||F===11||F===9)&&(B===ci||B===Er)&&d(Vt.INVALID_LINKED_FORMAT,r(),0),B){case"@":return x.next(),A=h(w,7,"@"),w.inLinked=!0,A;case".":return m(x),x.next(),h(w,8,".");case":":return m(x),x.next(),h(w,9,":");default:return j(x)?(A=h(w,1,T(x)),w.braceNest=0,w.inLinked=!1,A):P(x,w)||z(x,w)?(m(x),G(x,w)):M(x,w)?(m(x),h(w,11,xt(x))):D(x,w)?(m(x),B==="{"?k(x,w)||A:h(w,10,Dt(x))):(F===7&&d(Vt.INVALID_LINKED_FORMAT,r(),0),w.braceNest=0,w.inLinked=!1,oe(x,w))}}function oe(x,w){let F={type:13};if(w.braceNest>0)return k(x,w)||f(w);if(w.inLinked)return G(x,w)||f(w);switch(x.currentChar()){case"{":return k(x,w)||f(w);case"}":return d(Vt.UNBALANCED_CLOSING_BRACE,r(),0),x.next(),h(w,3,"}");case"@":return G(x,w)||f(w);default:{if(j(x))return F=h(w,1,T(x)),w.braceNest=0,w.inLinked=!1,F;if(se(x))return h(w,0,Et(x));break}}return F}function ie(){const{currentType:x,offset:w,startLoc:F,endLoc:A}=o;return o.lastType=x,o.lastOffset=w,o.lastStartLoc=F,o.lastEndLoc=A,o.offset=s(),o.startLoc=r(),i.currentChar()===jr?h(o,13):oe(i,o)}return{nextToken:ie,currentOffset:s,currentPosition:r,context:l}}const vre="parser",yre=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function bre(e,t,n){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const i=parseInt(t||n,16);return i<=55295||i>=57344?String.fromCodePoint(i):"�"}}}function Ere(e={}){const t=e.location!==!1,{onError:n}=e;function i(y,b,E,_,...I){const P=y.currentPosition();if(P.offset+=_,P.column+=_,n){const M=t?Jm(E,P):null,z=ap(b,M,{domain:vre,args:I});n(z)}}function s(y,b,E){const _={type:y};return t&&(_.start=b,_.end=b,_.loc={start:E,end:E}),_}function r(y,b,E,_){t&&(y.end=b,y.loc&&(y.loc.end=E))}function a(y,b){const E=y.context(),_=s(3,E.offset,E.startLoc);return _.value=b,r(_,y.currentOffset(),y.currentPosition()),_}function u(y,b){const E=y.context(),{lastOffset:_,lastStartLoc:I}=E,P=s(5,_,I);return P.index=parseInt(b,10),y.nextToken(),r(P,y.currentOffset(),y.currentPosition()),P}function o(y,b){const E=y.context(),{lastOffset:_,lastStartLoc:I}=E,P=s(4,_,I);return P.key=b,y.nextToken(),r(P,y.currentOffset(),y.currentPosition()),P}function l(y,b){const E=y.context(),{lastOffset:_,lastStartLoc:I}=E,P=s(9,_,I);return P.value=b.replace(yre,bre),y.nextToken(),r(P,y.currentOffset(),y.currentPosition()),P}function c(y){const b=y.nextToken(),E=y.context(),{lastOffset:_,lastStartLoc:I}=E,P=s(8,_,I);return b.type!==11?(i(y,Vt.UNEXPECTED_EMPTY_LINKED_MODIFIER,E.lastStartLoc,0),P.value="",r(P,_,I),{nextConsumeToken:b,node:P}):(b.value==null&&i(y,Vt.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,Qs(b)),P.value=b.value||"",r(P,y.currentOffset(),y.currentPosition()),{node:P})}function d(y,b){const E=y.context(),_=s(7,E.offset,E.startLoc);return _.value=b,r(_,y.currentOffset(),y.currentPosition()),_}function h(y){const b=y.context(),E=s(6,b.offset,b.startLoc);let _=y.nextToken();if(_.type===8){const I=c(y);E.modifier=I.node,_=I.nextConsumeToken||y.nextToken()}switch(_.type!==9&&i(y,Vt.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Qs(_)),_=y.nextToken(),_.type===2&&(_=y.nextToken()),_.type){case 10:_.value==null&&i(y,Vt.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Qs(_)),E.key=d(y,_.value||"");break;case 4:_.value==null&&i(y,Vt.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Qs(_)),E.key=o(y,_.value||"");break;case 5:_.value==null&&i(y,Vt.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Qs(_)),E.key=u(y,_.value||"");break;case 6:_.value==null&&i(y,Vt.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Qs(_)),E.key=l(y,_.value||"");break;default:{i(y,Vt.UNEXPECTED_EMPTY_LINKED_KEY,b.lastStartLoc,0);const I=y.context(),P=s(7,I.offset,I.startLoc);return P.value="",r(P,I.offset,I.startLoc),E.key=P,r(E,I.offset,I.startLoc),{nextConsumeToken:_,node:E}}}return r(E,y.currentOffset(),y.currentPosition()),{node:E}}function f(y){const b=y.context(),E=b.currentType===1?y.currentOffset():b.offset,_=b.currentType===1?b.endLoc:b.startLoc,I=s(2,E,_);I.items=[];let P=null;do{const D=P||y.nextToken();switch(P=null,D.type){case 0:D.value==null&&i(y,Vt.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Qs(D)),I.items.push(a(y,D.value||""));break;case 5:D.value==null&&i(y,Vt.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Qs(D)),I.items.push(u(y,D.value||""));break;case 4:D.value==null&&i(y,Vt.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Qs(D)),I.items.push(o(y,D.value||""));break;case 6:D.value==null&&i(y,Vt.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Qs(D)),I.items.push(l(y,D.value||""));break;case 7:{const j=h(y);I.items.push(j.node),P=j.nextConsumeToken||null;break}}}while(b.currentType!==13&&b.currentType!==1);const M=b.currentType===1?b.lastOffset:y.currentOffset(),z=b.currentType===1?b.lastEndLoc:y.currentPosition();return r(I,M,z),I}function p(y,b,E,_){const I=y.context();let P=_.items.length===0;const M=s(1,b,E);M.cases=[],M.cases.push(_);do{const z=f(y);P||(P=z.items.length===0),M.cases.push(z)}while(I.currentType!==13);return P&&i(y,Vt.MUST_HAVE_MESSAGES_IN_PLURAL,E,0),r(M,y.currentOffset(),y.currentPosition()),M}function g(y){const b=y.context(),{offset:E,startLoc:_}=b,I=f(y);return b.currentType===13?I:p(y,E,_,I)}function m(y){const b=mre(y,In({},e)),E=b.context(),_=s(0,E.offset,E.startLoc);return t&&_.loc&&(_.loc.source=y),_.body=g(b),e.onCacheKey&&(_.cacheKey=e.onCacheKey(y)),E.currentType!==13&&i(b,Vt.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,y[E.offset]||""),r(_,b.currentOffset(),b.currentPosition()),_}return{parse:m}}function Qs(e){if(e.type===13)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"…":t}function _re(e,t={}){const n={ast:e,helpers:new Set};return{context:()=>n,helper:r=>(n.helpers.add(r),r)}}function LC(e,t){for(let n=0;n<e.length;n++)rb(e[n],t)}function rb(e,t){switch(e.type){case 1:LC(e.cases,t),t.helper("plural");break;case 2:LC(e.items,t);break;case 6:{rb(e.key,t),t.helper("linked"),t.helper("type");break}case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function Cre(e,t={}){const n=_re(e);n.helper("normalize"),e.body&&rb(e.body,n);const i=n.context();e.helpers=Array.from(i.helpers)}function Sre(e){const t=e.body;return t.type===2?FC(t):t.cases.forEach(n=>FC(n)),e}function FC(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let n=0;n<e.items.length;n++){const i=e.items[n];if(!(i.type===3||i.type===9)||i.value==null)break;t.push(i.value)}if(t.length===e.items.length){e.static=sb(t);for(let n=0;n<e.items.length;n++){const i=e.items[n];(i.type===3||i.type===9)&&delete i.value}}}}function hl(e){switch(e.t=e.type,e.type){case 0:{const t=e;hl(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,n=t.cases;for(let i=0;i<n.length;i++)hl(n[i]);t.c=n,delete t.cases;break}case 2:{const t=e,n=t.items;for(let i=0;i<n.length;i++)hl(n[i]);t.i=n,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;hl(t.key),t.k=t.key,delete t.key,t.modifier&&(hl(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}}delete e.type}function xre(e,t){const{sourceMap:n,filename:i,breakLineCode:s,needIndent:r}=t,a=t.location!==!1,u={filename:i,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:s,needIndent:r,indentLevel:0};a&&e.loc&&(u.source=e.loc.source);const o=()=>u;function l(m,y){u.code+=m}function c(m,y=!0){const b=y?s:"";l(r?b+"  ".repeat(m):b)}function d(m=!0){const y=++u.indentLevel;m&&c(y)}function h(m=!0){const y=--u.indentLevel;m&&c(y)}function f(){c(u.indentLevel)}return{context:o,push:l,indent:d,deindent:h,newline:f,helper:m=>`_${m}`,needIndent:()=>u.needIndent}}function Tre(e,t){const{helper:n}=e;e.push(`${n("linked")}(`),Vl(e,t.key),t.modifier?(e.push(", "),Vl(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function wre(e,t){const{helper:n,needIndent:i}=e;e.push(`${n("normalize")}([`),e.indent(i());const s=t.items.length;for(let r=0;r<s&&(Vl(e,t.items[r]),r!==s-1);r++)e.push(", ");e.deindent(i()),e.push("])")}function Ire(e,t){const{helper:n,needIndent:i}=e;if(t.cases.length>1){e.push(`${n("plural")}([`),e.indent(i());const s=t.cases.length;for(let r=0;r<s&&(Vl(e,t.cases[r]),r!==s-1);r++)e.push(", ");e.deindent(i()),e.push("])")}}function Ore(e,t){t.body?Vl(e,t.body):e.push("null")}function Vl(e,t){const{helper:n}=e;switch(t.type){case 0:Ore(e,t);break;case 1:Ire(e,t);break;case 2:wre(e,t);break;case 6:Tre(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${n("interpolate")}(${n("list")}(${t.index}))`,t);break;case 4:e.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break}}const kre=(e,t={})=>{const n=ve(t.mode)?t.mode:"normal",i=ve(t.filename)?t.filename:"message.intl",s=!!t.sourceMap,r=t.breakLineCode!=null?t.breakLineCode:n==="arrow"?";":`
`,a=t.needIndent?t.needIndent:n!=="arrow",u=e.helpers||[],o=xre(e,{mode:n,filename:i,sourceMap:s,breakLineCode:r,needIndent:a});o.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),o.indent(a),u.length>0&&(o.push(`const { ${sb(u.map(d=>`${d}: _${d}`),", ")} } = ctx`),o.newline()),o.push("return "),Vl(o,e),o.deindent(a),o.push("}"),delete e.helpers;const{code:l,map:c}=o.context();return{ast:e,code:l,map:c?c.toJSON():void 0}};function Are(e,t={}){const n=In({},t),i=!!n.jit,s=!!n.minify,r=n.optimize==null?!0:n.optimize,u=Ere(n).parse(e);return i?(r&&Sre(u),s&&hl(u),{ast:u,code:""}):(Cre(u,n),kre(u,n))}/*!
  * core-base v10.0.5
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function Pre(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(ma().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(ma().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function Mg(e){return n=>$re(n,e)}function $re(e,t){const n=Nre(t);if(n==null)throw Au(0);if(ob(n)===1){const r=Dre(n);return e.plural(r.reduce((a,u)=>[...a,VC(e,u)],[]))}else return VC(e,n)}const Mre=["b","body"];function Nre(e){return qo(e,Mre)}const Rre=["c","cases"];function Dre(e){return qo(e,Rre,[])}function VC(e,t){const n=Fre(t);if(n!=null)return e.type==="text"?n:e.normalize([n]);{const i=Bre(t).reduce((s,r)=>[...s,Xm(e,r)],[]);return e.normalize(i)}}const Lre=["s","static"];function Fre(e){return qo(e,Lre)}const Vre=["i","items"];function Bre(e){return qo(e,Vre,[])}function Xm(e,t){const n=ob(t);switch(n){case 3:return Nd(t,n);case 9:return Nd(t,n);case 4:{const i=t;if(Ls(i,"k")&&i.k)return e.interpolate(e.named(i.k));if(Ls(i,"key")&&i.key)return e.interpolate(e.named(i.key));throw Au(n)}case 5:{const i=t;if(Ls(i,"i")&&gn(i.i))return e.interpolate(e.list(i.i));if(Ls(i,"index")&&gn(i.index))return e.interpolate(e.list(i.index));throw Au(n)}case 6:{const i=t,s=Gre(i),r=zre(i);return e.linked(Xm(e,r),s?Xm(e,s):void 0,e.type)}case 7:return Nd(t,n);case 8:return Nd(t,n);default:throw new Error(`unhandled node on format message part: ${n}`)}}const Hre=["t","type"];function ob(e){return qo(e,Hre)}const jre=["v","value"];function Nd(e,t){const n=qo(e,jre);if(n)return n;throw Au(t)}const Ure=["m","modifier"];function Gre(e){return qo(e,Ure)}const Wre=["k","key"];function zre(e){const t=qo(e,Wre);if(t)return t;throw Au(6)}function qo(e,t,n){for(let i=0;i<t.length;i++){const s=t[i];if(Ls(e,s)&&e[s]!=null)return e[s]}return n}function Au(e){return new Error(`unhandled node type: ${e}`)}const Kre=e=>e;let Rd=Bt();function Bl(e){return At(e)&&ob(e)===0&&(Ls(e,"b")||Ls(e,"body"))}function qre(e,t={}){let n=!1;const i=t.onError||cre;return t.onError=s=>{n=!0,i(s)},{...Are(e,t),detectError:n}}function Yre(e,t){if(!__INTLIFY_DROP_MESSAGE_COMPILER__&&ve(e)){Ot(t.warnHtmlMessage)&&t.warnHtmlMessage;const i=(t.onCacheKey||Kre)(e),s=Rd[i];if(s)return s;const{ast:r,detectError:a}=qre(e,{...t,location:!1,jit:!0}),u=Mg(r);return a?u:Rd[i]=u}else{const n=e.cacheKey;if(n){const i=Rd[n];return i||(Rd[n]=Mg(e))}else return Mg(e)}}let Pu=null;function Jre(e){Pu=e}function Xre(e,t,n){Pu&&Pu.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:n})}const Zre=Qre("function:translate");function Qre(e){return t=>Pu&&Pu.emit(e,t)}const wr={INVALID_ARGUMENT:lre,INVALID_DATE_ARGUMENT:18,INVALID_ISO_DATE_ARGUMENT:19,NOT_SUPPORT_NON_STRING_MESSAGE:20,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},eoe=24;function Ir(e){return ap(e,null,void 0)}function ab(e,t){return t.locale!=null?BC(t.locale):BC(e.locale)}let Ng;function BC(e){if(ve(e))return e;if(Xt(e)){if(e.resolvedOnce&&Ng!=null)return Ng;if(e.constructor.name==="Function"){const t=e();if(sre(t))throw Ir(wr.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return Ng=t}else throw Ir(wr.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw Ir(wr.NOT_SUPPORT_LOCALE_TYPE)}function toe(e,t,n){return[...new Set([n,...un(t)?t:At(t)?Object.keys(t):ve(t)?[t]:[n]])]}function KO(e,t,n){const i=ve(n)?n:$u,s=e;s.__localeChainCache||(s.__localeChainCache=new Map);let r=s.__localeChainCache.get(i);if(!r){r=[];let a=[n];for(;un(a);)a=HC(r,a,t);const u=un(t)||!pt(t)?t:t.default?t.default:null;a=ve(u)?[u]:u,un(a)&&HC(r,a,!1),s.__localeChainCache.set(i,r)}return r}function HC(e,t,n){let i=!0;for(let s=0;s<t.length&&Ot(i);s++){const r=t[s];ve(r)&&(i=noe(e,t[s],n))}return i}function noe(e,t,n){let i;const s=t.split("-");do{const r=s.join("-");i=ioe(e,r,n),s.splice(-1,1)}while(s.length&&i===!0);return i}function ioe(e,t,n){let i=!1;if(!e.includes(t)&&(i=!0,t)){i=t[t.length-1]!=="!";const s=t.replace(/!/g,"");e.push(s),(un(n)||pt(n))&&n[s]&&(i=n[s])}return i}const Yo=[];Yo[0]={w:[0],i:[3,0],"[":[4],o:[7]};Yo[1]={w:[1],".":[2],"[":[4],o:[7]};Yo[2]={w:[2],i:[3,0],0:[3,0]};Yo[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Yo[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Yo[5]={"'":[4,0],o:8,l:[5,0]};Yo[6]={'"':[4,0],o:8,l:[6,0]};const soe=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function roe(e){return soe.test(e)}function ooe(e){const t=e.charCodeAt(0),n=e.charCodeAt(e.length-1);return t===n&&(t===34||t===39)?e.slice(1,-1):e}function aoe(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function loe(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:roe(t)?ooe(t):"*"+t}function coe(e){const t=[];let n=-1,i=0,s=0,r,a,u,o,l,c,d;const h=[];h[0]=()=>{a===void 0?a=u:a+=u},h[1]=()=>{a!==void 0&&(t.push(a),a=void 0)},h[2]=()=>{h[0](),s++},h[3]=()=>{if(s>0)s--,i=4,h[0]();else{if(s=0,a===void 0||(a=loe(a),a===!1))return!1;h[1]()}};function f(){const p=e[n+1];if(i===5&&p==="'"||i===6&&p==='"')return n++,u="\\"+p,h[0](),!0}for(;i!==null;)if(n++,r=e[n],!(r==="\\"&&f())){if(o=aoe(r),d=Yo[i],l=d[o]||d.l||8,l===8||(i=l[0],l[1]!==void 0&&(c=h[l[1]],c&&(u=r,c()===!1))))return;if(i===7)return t}}const jC=new Map;function uoe(e,t){return At(e)?e[t]:null}function doe(e,t){if(!At(e))return null;let n=jC.get(t);if(n||(n=coe(t),n&&jC.set(t,n)),!n)return null;const i=n.length;let s=e,r=0;for(;r<i;){const a=s[n[r]];if(a===void 0||Xt(s))return null;s=a,r++}return s}const hoe="10.0.5",lp=-1,$u="en-US",UC="",GC=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function foe(){return{upper:(e,t)=>t==="text"&&ve(e)?e.toUpperCase():t==="vnode"&&At(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&ve(e)?e.toLowerCase():t==="vnode"&&At(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&ve(e)?GC(e):t==="vnode"&&At(e)&&"__v_isVNode"in e?GC(e.children):e}}let qO;function poe(e){qO=e}let YO;function goe(e){YO=e}let JO;function moe(e){JO=e}let XO=null;const voe=e=>{XO=e},yoe=()=>XO;let ZO=null;const WC=e=>{ZO=e},boe=()=>ZO;let zC=0;function Eoe(e={}){const t=Xt(e.onWarn)?e.onWarn:ore,n=ve(e.version)?e.version:hoe,i=ve(e.locale)||Xt(e.locale)?e.locale:$u,s=Xt(i)?$u:i,r=un(e.fallbackLocale)||pt(e.fallbackLocale)||ve(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:s,a=pt(e.messages)?e.messages:Rg(s),u=pt(e.datetimeFormats)?e.datetimeFormats:Rg(s),o=pt(e.numberFormats)?e.numberFormats:Rg(s),l=In(Bt(),e.modifiers,foe()),c=e.pluralRules||Bt(),d=Xt(e.missing)?e.missing:null,h=Ot(e.missingWarn)||Fl(e.missingWarn)?e.missingWarn:!0,f=Ot(e.fallbackWarn)||Fl(e.fallbackWarn)?e.fallbackWarn:!0,p=!!e.fallbackFormat,g=!!e.unresolving,m=Xt(e.postTranslation)?e.postTranslation:null,y=pt(e.processor)?e.processor:null,b=Ot(e.warnHtmlMessage)?e.warnHtmlMessage:!0,E=!!e.escapeParameter,_=Xt(e.messageCompiler)?e.messageCompiler:qO,I=Xt(e.messageResolver)?e.messageResolver:YO||uoe,P=Xt(e.localeFallbacker)?e.localeFallbacker:JO||toe,M=At(e.fallbackContext)?e.fallbackContext:void 0,z=e,D=At(z.__datetimeFormatters)?z.__datetimeFormatters:new Map,j=At(z.__numberFormatters)?z.__numberFormatters:new Map,se=At(z.__meta)?z.__meta:{};zC++;const ae={version:n,cid:zC,locale:i,fallbackLocale:r,messages:a,modifiers:l,pluralRules:c,missing:d,missingWarn:h,fallbackWarn:f,fallbackFormat:p,unresolving:g,postTranslation:m,processor:y,warnHtmlMessage:b,escapeParameter:E,messageCompiler:_,messageResolver:I,localeFallbacker:P,fallbackContext:M,onWarn:t,__meta:se};return ae.datetimeFormats=u,ae.numberFormats=o,ae.__datetimeFormatters=D,ae.__numberFormatters=j,__INTLIFY_PROD_DEVTOOLS__&&Xre(ae,n,se),ae}const Rg=e=>({[e]:Bt()});function lb(e,t,n,i,s){const{missing:r,onWarn:a}=e;if(r!==null){const u=r(e,n,t,s);return ve(u)?u:t}else return t}function kc(e,t,n){const i=e;i.__localeChainCache=new Map,e.localeFallbacker(e,n,t)}function _oe(e,t){return e===t?!1:e.split("-")[0]===t.split("-")[0]}function Coe(e,t){const n=t.indexOf(e);if(n===-1)return!1;for(let i=n+1;i<t.length;i++)if(_oe(e,t[i]))return!0;return!1}function KC(e,...t){const{datetimeFormats:n,unresolving:i,fallbackLocale:s,onWarn:r,localeFallbacker:a}=e,{__datetimeFormatters:u}=e,[o,l,c,d]=Zm(...t),h=Ot(c.missingWarn)?c.missingWarn:e.missingWarn;Ot(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn;const f=!!c.part,p=ab(e,c),g=a(e,s,p);if(!ve(o)||o==="")return new Intl.DateTimeFormat(p,d).format(l);let m={},y,b=null;const E="datetime format";for(let P=0;P<g.length&&(y=g[P],m=n[y]||{},b=m[o],!pt(b));P++)lb(e,o,y,h,E);if(!pt(b)||!ve(y))return i?lp:o;let _=`${y}__${o}`;op(d)||(_=`${_}__${JSON.stringify(d)}`);let I=u.get(_);return I||(I=new Intl.DateTimeFormat(y,In({},b,d)),u.set(_,I)),f?I.formatToParts(l):I.format(l)}const QO=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function Zm(...e){const[t,n,i,s]=e,r=Bt();let a=Bt(),u;if(ve(t)){const o=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!o)throw Ir(wr.INVALID_ISO_DATE_ARGUMENT);const l=o[3]?o[3].trim().startsWith("T")?`${o[1].trim()}${o[3].trim()}`:`${o[1].trim()}T${o[3].trim()}`:o[1].trim();u=new Date(l);try{u.toISOString()}catch{throw Ir(wr.INVALID_ISO_DATE_ARGUMENT)}}else if(tre(t)){if(isNaN(t.getTime()))throw Ir(wr.INVALID_DATE_ARGUMENT);u=t}else if(gn(t))u=t;else throw Ir(wr.INVALID_ARGUMENT);return ve(n)?r.key=n:pt(n)&&Object.keys(n).forEach(o=>{QO.includes(o)?a[o]=n[o]:r[o]=n[o]}),ve(i)?r.locale=i:pt(i)&&(a=i),pt(s)&&(a=s),[r.key||"",u,r,a]}function qC(e,t,n){const i=e;for(const s in n){const r=`${t}__${s}`;i.__datetimeFormatters.has(r)&&i.__datetimeFormatters.delete(r)}}function YC(e,...t){const{numberFormats:n,unresolving:i,fallbackLocale:s,onWarn:r,localeFallbacker:a}=e,{__numberFormatters:u}=e,[o,l,c,d]=Qm(...t),h=Ot(c.missingWarn)?c.missingWarn:e.missingWarn;Ot(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn;const f=!!c.part,p=ab(e,c),g=a(e,s,p);if(!ve(o)||o==="")return new Intl.NumberFormat(p,d).format(l);let m={},y,b=null;const E="number format";for(let P=0;P<g.length&&(y=g[P],m=n[y]||{},b=m[o],!pt(b));P++)lb(e,o,y,h,E);if(!pt(b)||!ve(y))return i?lp:o;let _=`${y}__${o}`;op(d)||(_=`${_}__${JSON.stringify(d)}`);let I=u.get(_);return I||(I=new Intl.NumberFormat(y,In({},b,d)),u.set(_,I)),f?I.formatToParts(l):I.format(l)}const ek=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function Qm(...e){const[t,n,i,s]=e,r=Bt();let a=Bt();if(!gn(t))throw Ir(wr.INVALID_ARGUMENT);const u=t;return ve(n)?r.key=n:pt(n)&&Object.keys(n).forEach(o=>{ek.includes(o)?a[o]=n[o]:r[o]=n[o]}),ve(i)?r.locale=i:pt(i)&&(a=i),pt(s)&&(a=s),[r.key||"",u,r,a]}function JC(e,t,n){const i=e;for(const s in n){const r=`${t}__${s}`;i.__numberFormatters.has(r)&&i.__numberFormatters.delete(r)}}const Soe=e=>e,xoe=e=>"",Toe="text",woe=e=>e.length===0?"":sb(e),Ioe=rre;function XC(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function Ooe(e){const t=gn(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(gn(e.named.count)||gn(e.named.n))?gn(e.named.count)?e.named.count:gn(e.named.n)?e.named.n:t:t}function koe(e,t){t.count||(t.count=e),t.n||(t.n=e)}function Aoe(e={}){const t=e.locale,n=Ooe(e),i=At(e.pluralRules)&&ve(t)&&Xt(e.pluralRules[t])?e.pluralRules[t]:XC,s=At(e.pluralRules)&&ve(t)&&Xt(e.pluralRules[t])?XC:void 0,r=y=>y[i(n,y.length,s)],a=e.list||[],u=y=>a[y],o=e.named||Bt();gn(e.pluralIndex)&&koe(n,o);const l=y=>o[y];function c(y,b){const E=Xt(e.messages)?e.messages(y,!!b):At(e.messages)?e.messages[y]:!1;return E||(e.parent?e.parent.message(y):xoe)}const d=y=>e.modifiers?e.modifiers[y]:Soe,h=pt(e.processor)&&Xt(e.processor.normalize)?e.processor.normalize:woe,f=pt(e.processor)&&Xt(e.processor.interpolate)?e.processor.interpolate:Ioe,p=pt(e.processor)&&ve(e.processor.type)?e.processor.type:Toe,m={list:u,named:l,plural:r,linked:(y,...b)=>{const[E,_]=b;let I="text",P="";b.length===1?At(E)?(P=E.modifier||P,I=E.type||I):ve(E)&&(P=E||P):b.length===2&&(ve(E)&&(P=E||P),ve(_)&&(I=_||I));const M=c(y,!0)(m),z=I==="vnode"&&un(M)&&P?M[0]:M;return P?d(P)(z,I):z},message:c,type:p,interpolate:f,normalize:h,values:In(Bt(),a,o)};return m}const ZC=()=>"",ds=e=>Xt(e);function QC(e,...t){const{fallbackFormat:n,postTranslation:i,unresolving:s,messageCompiler:r,fallbackLocale:a,messages:u}=e,[o,l]=ev(...t),c=Ot(l.missingWarn)?l.missingWarn:e.missingWarn,d=Ot(l.fallbackWarn)?l.fallbackWarn:e.fallbackWarn,h=Ot(l.escapeParameter)?l.escapeParameter:e.escapeParameter,f=!!l.resolvedMessage,p=ve(l.default)||Ot(l.default)?Ot(l.default)?r?o:()=>o:l.default:n?r?o:()=>o:null,g=n||p!=null&&(ve(p)||Xt(p)),m=ab(e,l);h&&Poe(l);let[y,b,E]=f?[o,m,u[m]||Bt()]:tk(e,o,m,a,d,c),_=y,I=o;if(!f&&!(ve(_)||Bl(_)||ds(_))&&g&&(_=p,I=_),!f&&(!(ve(_)||Bl(_)||ds(_))||!ve(b)))return s?lp:o;let P=!1;const M=()=>{P=!0},z=ds(_)?_:nk(e,o,b,_,I,M);if(P)return _;const D=Noe(e,b,E,l),j=Aoe(D),se=$oe(e,z,j),ae=i?i(se,o):se;if(__INTLIFY_PROD_DEVTOOLS__){const Y={timestamp:Date.now(),key:ve(o)?o:ds(_)?_.key:"",locale:b||(ds(_)?_.locale:""),format:ve(_)?_:ds(_)?_.source:"",message:ae};Y.meta=In({},e.__meta,yoe()||{}),Zre(Y)}return ae}function Poe(e){un(e.list)?e.list=e.list.map(t=>ve(t)?RC(t):t):At(e.named)&&Object.keys(e.named).forEach(t=>{ve(e.named[t])&&(e.named[t]=RC(e.named[t]))})}function tk(e,t,n,i,s,r){const{messages:a,onWarn:u,messageResolver:o,localeFallbacker:l}=e,c=l(e,i,n);let d=Bt(),h,f=null;const p="translate";for(let g=0;g<c.length&&(h=c[g],d=a[h]||Bt(),(f=o(d,t))===null&&(f=d[t]),!(ve(f)||Bl(f)||ds(f)));g++)if(!Coe(h,c)){const m=lb(e,t,h,r,p);m!==t&&(f=m)}return[f,h,d]}function nk(e,t,n,i,s,r){const{messageCompiler:a,warnHtmlMessage:u}=e;if(ds(i)){const l=i;return l.locale=l.locale||n,l.key=l.key||t,l}if(a==null){const l=()=>i;return l.locale=n,l.key=t,l}const o=a(i,Moe(e,n,s,i,u,r));return o.locale=n,o.key=t,o.source=i,o}function $oe(e,t,n){return t(n)}function ev(...e){const[t,n,i]=e,s=Bt();if(!ve(t)&&!gn(t)&&!ds(t)&&!Bl(t))throw Ir(wr.INVALID_ARGUMENT);const r=gn(t)?String(t):(ds(t),t);return gn(n)?s.plural=n:ve(n)?s.default=n:pt(n)&&!op(n)?s.named=n:un(n)&&(s.list=n),gn(i)?s.plural=i:ve(i)?s.default=i:pt(i)&&In(s,i),[r,s]}function Moe(e,t,n,i,s,r){return{locale:t,key:n,warnHtmlMessage:s,onError:a=>{throw r&&r(a),a},onCacheKey:a=>Qse(t,n,a)}}function Noe(e,t,n,i){const{modifiers:s,pluralRules:r,messageResolver:a,fallbackLocale:u,fallbackWarn:o,missingWarn:l,fallbackContext:c}=e,h={locale:t,modifiers:s,pluralRules:r,messages:(f,p)=>{let g=a(n,f);if(g==null&&(c||p)){const[,,m]=tk(c||e,f,t,u,o,l);g=a(m,f)}if(ve(g)||Bl(g)){let m=!1;const b=nk(e,f,t,g,f,()=>{m=!0});return m?ZC:b}else return ds(g)?g:ZC}};return e.processor&&(h.processor=e.processor),i.list&&(h.list=i.list),i.named&&(h.named=i.named),gn(i.plural)&&(h.pluralIndex=i.plural),h}Pre();/*!
  * vue-i18n v10.0.5
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const Roe="10.0.5";function Doe(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(ma().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(ma().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(ma().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(ma().__INTLIFY_PROD_DEVTOOLS__=!1)}const gi={UNEXPECTED_RETURN_TYPE:eoe,INVALID_ARGUMENT:25,MUST_BE_CALL_SETUP_TOP:26,NOT_INSTALLED:27,REQUIRED_VALUE:28,INVALID_VALUE:29,CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:30,NOT_INSTALLED_WITH_PROVIDE:31,UNEXPECTED_ERROR:32,NOT_COMPATIBLE_LEGACY_VUE_I18N:33,NOT_AVAILABLE_COMPOSITION_IN_LEGACY:34};function ki(e,...t){return ap(e,null,void 0)}const tv=Ko("__translateVNode"),nv=Ko("__datetimeParts"),iv=Ko("__numberParts"),ik=Ko("__setPluralRules"),sk=Ko("__injectWithOption"),sv=Ko("__dispose");function Mu(e){if(!At(e))return e;for(const t in e)if(Ls(e,t))if(!t.includes("."))At(e[t])&&Mu(e[t]);else{const n=t.split("."),i=n.length-1;let s=e,r=!1;for(let a=0;a<i;a++){if(n[a]in s||(s[n[a]]=Bt()),!At(s[n[a]])){r=!0;break}s=s[n[a]]}r||(s[n[i]]=e[t],delete e[t]),At(s[n[i]])&&Mu(s[n[i]])}return e}function cb(e,t){const{messages:n,__i18n:i,messageResolver:s,flatJson:r}=t,a=pt(n)?n:un(i)?Bt():{[e]:Bt()};if(un(i)&&i.forEach(u=>{if("locale"in u&&"resource"in u){const{locale:o,resource:l}=u;o?(a[o]=a[o]||Bt(),th(l,a[o])):th(l,a)}else ve(u)&&th(JSON.parse(u),a)}),s==null&&r)for(const u in a)Ls(a,u)&&Mu(a[u]);return a}function rk(e){return e.type}function ok(e,t,n){let i=At(t.messages)?t.messages:Bt();"__i18nGlobal"in n&&(i=cb(e.locale.value,{messages:i,__i18n:n.__i18nGlobal}));const s=Object.keys(i);s.length&&s.forEach(r=>{e.mergeLocaleMessage(r,i[r])});{if(At(t.datetimeFormats)){const r=Object.keys(t.datetimeFormats);r.length&&r.forEach(a=>{e.mergeDateTimeFormat(a,t.datetimeFormats[a])})}if(At(t.numberFormats)){const r=Object.keys(t.numberFormats);r.length&&r.forEach(a=>{e.mergeNumberFormat(a,t.numberFormats[a])})}}}function eS(e){return O(Lu,null,e,0)}const tS="__INTLIFY_META__",nS=()=>[],Loe=()=>!1;let iS=0;function sS(e){return(t,n,i,s)=>e(n,i,ms()||void 0,s)}const Foe=()=>{const e=ms();let t=null;return e&&(t=rk(e)[tS])?{[tS]:t}:null};function ub(e={}){const{__root:t,__injectWithOption:n}=e,i=t===void 0,s=e.flatJson,r=Zh?st:yo;let a=Ot(e.inheritLocale)?e.inheritLocale:!0;const u=r(t&&a?t.locale.value:ve(e.locale)?e.locale:$u),o=r(t&&a?t.fallbackLocale.value:ve(e.fallbackLocale)||un(e.fallbackLocale)||pt(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:u.value),l=r(cb(u.value,e)),c=r(pt(e.datetimeFormats)?e.datetimeFormats:{[u.value]:{}}),d=r(pt(e.numberFormats)?e.numberFormats:{[u.value]:{}});let h=t?t.missingWarn:Ot(e.missingWarn)||Fl(e.missingWarn)?e.missingWarn:!0,f=t?t.fallbackWarn:Ot(e.fallbackWarn)||Fl(e.fallbackWarn)?e.fallbackWarn:!0,p=t?t.fallbackRoot:Ot(e.fallbackRoot)?e.fallbackRoot:!0,g=!!e.fallbackFormat,m=Xt(e.missing)?e.missing:null,y=Xt(e.missing)?sS(e.missing):null,b=Xt(e.postTranslation)?e.postTranslation:null,E=t?t.warnHtmlMessage:Ot(e.warnHtmlMessage)?e.warnHtmlMessage:!0,_=!!e.escapeParameter;const I=t?t.modifiers:pt(e.modifiers)?e.modifiers:{};let P=e.pluralRules||t&&t.pluralRules,M;M=(()=>{i&&WC(null);const N={version:Roe,locale:u.value,fallbackLocale:o.value,messages:l.value,modifiers:I,pluralRules:P,missing:y===null?void 0:y,missingWarn:h,fallbackWarn:f,fallbackFormat:g,unresolving:!0,postTranslation:b===null?void 0:b,warnHtmlMessage:E,escapeParameter:_,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};N.datetimeFormats=c.value,N.numberFormats=d.value,N.__datetimeFormatters=pt(M)?M.__datetimeFormatters:void 0,N.__numberFormatters=pt(M)?M.__numberFormatters:void 0;const J=Eoe(N);return i&&WC(J),J})(),kc(M,u.value,o.value);function D(){return[u.value,o.value,l.value,c.value,d.value]}const j=K({get:()=>u.value,set:N=>{u.value=N,M.locale=u.value}}),se=K({get:()=>o.value,set:N=>{o.value=N,M.fallbackLocale=o.value,kc(M,u.value,N)}}),ae=K(()=>l.value),Y=K(()=>c.value),Z=K(()=>d.value);function de(){return Xt(b)?b:null}function ce(N){b=N,M.postTranslation=N}function re(){return m}function he(N){N!==null&&(y=sS(N)),m=N,M.missing=y}const je=(N,J,me,Ge,Tt,wt)=>{D();let vn;try{__INTLIFY_PROD_DEVTOOLS__,i||(M.fallbackContext=t?boe():void 0),vn=N(M)}finally{__INTLIFY_PROD_DEVTOOLS__,i||(M.fallbackContext=void 0)}if(me!=="translate exists"&&gn(vn)&&vn===lp||me==="translate exists"&&!vn){const[An,ts]=J();return t&&p?Ge(t):Tt(An)}else{if(wt(vn))return vn;throw ki(gi.UNEXPECTED_RETURN_TYPE)}};function lt(...N){return je(J=>Reflect.apply(QC,null,[J,...N]),()=>ev(...N),"translate",J=>Reflect.apply(J.t,J,[...N]),J=>J,J=>ve(J))}function ht(...N){const[J,me,Ge]=N;if(Ge&&!At(Ge))throw ki(gi.INVALID_ARGUMENT);return lt(J,me,In({resolvedMessage:!0},Ge||{}))}function Et(...N){return je(J=>Reflect.apply(KC,null,[J,...N]),()=>Zm(...N),"datetime format",J=>Reflect.apply(J.d,J,[...N]),()=>UC,J=>ve(J))}function Ut(...N){return je(J=>Reflect.apply(YC,null,[J,...N]),()=>Qm(...N),"number format",J=>Reflect.apply(J.n,J,[...N]),()=>UC,J=>ve(J))}function mt(N){return N.map(J=>ve(J)||gn(J)||Ot(J)?eS(String(J)):J)}const an={normalize:mt,interpolate:N=>N,type:"vnode"};function ne(...N){return je(J=>{let me;const Ge=J;try{Ge.processor=an,me=Reflect.apply(QC,null,[Ge,...N])}finally{Ge.processor=null}return me},()=>ev(...N),"translate",J=>J[tv](...N),J=>[eS(J)],J=>un(J))}function ge(...N){return je(J=>Reflect.apply(YC,null,[J,...N]),()=>Qm(...N),"number format",J=>J[iv](...N),nS,J=>ve(J)||un(J))}function pe(...N){return je(J=>Reflect.apply(KC,null,[J,...N]),()=>Zm(...N),"datetime format",J=>J[nv](...N),nS,J=>ve(J)||un(J))}function Ee(N){P=N,M.pluralRules=P}function xt(N,J){return je(()=>{if(!N)return!1;const me=ve(J)?J:u.value,Ge=k(me),Tt=M.messageResolver(Ge,N);return Bl(Tt)||ds(Tt)||ve(Tt)},()=>[N],"translate exists",me=>Reflect.apply(me.te,me,[N,J]),Loe,me=>Ot(me))}function Dt(N){let J=null;const me=KO(M,o.value,u.value);for(let Ge=0;Ge<me.length;Ge++){const Tt=l.value[me[Ge]]||{},wt=M.messageResolver(Tt,N);if(wt!=null){J=wt;break}}return J}function T(N){const J=Dt(N);return J??(t?t.tm(N)||{}:{})}function k(N){return l.value[N]||{}}function G(N,J){if(s){const me={[N]:J};for(const Ge in me)Ls(me,Ge)&&Mu(me[Ge]);J=me[N]}l.value[N]=J,M.messages=l.value}function oe(N,J){l.value[N]=l.value[N]||{};const me={[N]:J};if(s)for(const Ge in me)Ls(me,Ge)&&Mu(me[Ge]);J=me[N],th(J,l.value[N]),M.messages=l.value}function ie(N){return c.value[N]||{}}function x(N,J){c.value[N]=J,M.datetimeFormats=c.value,qC(M,N,J)}function w(N,J){c.value[N]=In(c.value[N]||{},J),M.datetimeFormats=c.value,qC(M,N,J)}function F(N){return d.value[N]||{}}function A(N,J){d.value[N]=J,M.numberFormats=d.value,JC(M,N,J)}function B(N,J){d.value[N]=In(d.value[N]||{},J),M.numberFormats=d.value,JC(M,N,J)}iS++,t&&Zh&&(qt(t.locale,N=>{a&&(u.value=N,M.locale=N,kc(M,u.value,o.value))}),qt(t.fallbackLocale,N=>{a&&(o.value=N,M.fallbackLocale=N,kc(M,u.value,o.value))}));const ee={id:iS,locale:j,fallbackLocale:se,get inheritLocale(){return a},set inheritLocale(N){a=N,N&&t&&(u.value=t.locale.value,o.value=t.fallbackLocale.value,kc(M,u.value,o.value))},get availableLocales(){return Object.keys(l.value).sort()},messages:ae,get modifiers(){return I},get pluralRules(){return P||{}},get isGlobal(){return i},get missingWarn(){return h},set missingWarn(N){h=N,M.missingWarn=h},get fallbackWarn(){return f},set fallbackWarn(N){f=N,M.fallbackWarn=f},get fallbackRoot(){return p},set fallbackRoot(N){p=N},get fallbackFormat(){return g},set fallbackFormat(N){g=N,M.fallbackFormat=g},get warnHtmlMessage(){return E},set warnHtmlMessage(N){E=N,M.warnHtmlMessage=N},get escapeParameter(){return _},set escapeParameter(N){_=N,M.escapeParameter=N},t:lt,getLocaleMessage:k,setLocaleMessage:G,mergeLocaleMessage:oe,getPostTranslationHandler:de,setPostTranslationHandler:ce,getMissingHandler:re,setMissingHandler:he,[ik]:Ee};return ee.datetimeFormats=Y,ee.numberFormats=Z,ee.rt=ht,ee.te=xt,ee.tm=T,ee.d=Et,ee.n=Ut,ee.getDateTimeFormat=ie,ee.setDateTimeFormat=x,ee.mergeDateTimeFormat=w,ee.getNumberFormat=F,ee.setNumberFormat=A,ee.mergeNumberFormat=B,ee[sk]=n,ee[tv]=ne,ee[nv]=pe,ee[iv]=ge,ee}function Voe(e){const t=ve(e.locale)?e.locale:$u,n=ve(e.fallbackLocale)||un(e.fallbackLocale)||pt(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,i=Xt(e.missing)?e.missing:void 0,s=Ot(e.silentTranslationWarn)||Fl(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,r=Ot(e.silentFallbackWarn)||Fl(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,a=Ot(e.fallbackRoot)?e.fallbackRoot:!0,u=!!e.formatFallbackMessages,o=pt(e.modifiers)?e.modifiers:{},l=e.pluralizationRules,c=Xt(e.postTranslation)?e.postTranslation:void 0,d=ve(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,h=!!e.escapeParameterHtml,f=Ot(e.sync)?e.sync:!0;let p=e.messages;if(pt(e.sharedMessages)){const I=e.sharedMessages;p=Object.keys(I).reduce((M,z)=>{const D=M[z]||(M[z]={});return In(D,I[z]),M},p||{})}const{__i18n:g,__root:m,__injectWithOption:y}=e,b=e.datetimeFormats,E=e.numberFormats,_=e.flatJson;return{locale:t,fallbackLocale:n,messages:p,flatJson:_,datetimeFormats:b,numberFormats:E,missing:i,missingWarn:s,fallbackWarn:r,fallbackRoot:a,fallbackFormat:u,modifiers:o,pluralRules:l,postTranslation:c,warnHtmlMessage:d,escapeParameter:h,messageResolver:e.messageResolver,inheritLocale:f,__i18n:g,__root:m,__injectWithOption:y}}function rv(e={}){const t=ub(Voe(e)),{__extender:n}=e,i={id:t.id,get locale(){return t.locale.value},set locale(s){t.locale.value=s},get fallbackLocale(){return t.fallbackLocale.value},set fallbackLocale(s){t.fallbackLocale.value=s},get messages(){return t.messages.value},get datetimeFormats(){return t.datetimeFormats.value},get numberFormats(){return t.numberFormats.value},get availableLocales(){return t.availableLocales},get missing(){return t.getMissingHandler()},set missing(s){t.setMissingHandler(s)},get silentTranslationWarn(){return Ot(t.missingWarn)?!t.missingWarn:t.missingWarn},set silentTranslationWarn(s){t.missingWarn=Ot(s)?!s:s},get silentFallbackWarn(){return Ot(t.fallbackWarn)?!t.fallbackWarn:t.fallbackWarn},set silentFallbackWarn(s){t.fallbackWarn=Ot(s)?!s:s},get modifiers(){return t.modifiers},get formatFallbackMessages(){return t.fallbackFormat},set formatFallbackMessages(s){t.fallbackFormat=s},get postTranslation(){return t.getPostTranslationHandler()},set postTranslation(s){t.setPostTranslationHandler(s)},get sync(){return t.inheritLocale},set sync(s){t.inheritLocale=s},get warnHtmlInMessage(){return t.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(s){t.warnHtmlMessage=s!=="off"},get escapeParameterHtml(){return t.escapeParameter},set escapeParameterHtml(s){t.escapeParameter=s},get pluralizationRules(){return t.pluralRules||{}},__composer:t,t(...s){return Reflect.apply(t.t,t,[...s])},rt(...s){return Reflect.apply(t.rt,t,[...s])},tc(...s){const[r,a,u]=s,o={plural:1};let l=null,c=null;if(!ve(r))throw ki(gi.INVALID_ARGUMENT);const d=r;return ve(a)?o.locale=a:gn(a)?o.plural=a:un(a)?l=a:pt(a)&&(c=a),ve(u)?o.locale=u:un(u)?l=u:pt(u)&&(c=u),Reflect.apply(t.t,t,[d,l||c||{},o])},te(s,r){return t.te(s,r)},tm(s){return t.tm(s)},getLocaleMessage(s){return t.getLocaleMessage(s)},setLocaleMessage(s,r){t.setLocaleMessage(s,r)},mergeLocaleMessage(s,r){t.mergeLocaleMessage(s,r)},d(...s){return Reflect.apply(t.d,t,[...s])},getDateTimeFormat(s){return t.getDateTimeFormat(s)},setDateTimeFormat(s,r){t.setDateTimeFormat(s,r)},mergeDateTimeFormat(s,r){t.mergeDateTimeFormat(s,r)},n(...s){return Reflect.apply(t.n,t,[...s])},getNumberFormat(s){return t.getNumberFormat(s)},setNumberFormat(s,r){t.setNumberFormat(s,r)},mergeNumberFormat(s,r){t.mergeNumberFormat(s,r)}};return i.__extender=n,i}function Boe(e,t,n){return{beforeCreate(){const i=ms();if(!i)throw ki(gi.UNEXPECTED_ERROR);const s=this.$options;if(s.i18n){const r=s.i18n;if(s.__i18n&&(r.__i18n=s.__i18n),r.__root=t,this===this.$root)this.$i18n=rS(e,r);else{r.__injectWithOption=!0,r.__extender=n.__vueI18nExtend,this.$i18n=rv(r);const a=this.$i18n;a.__extender&&(a.__disposer=a.__extender(this.$i18n))}}else if(s.__i18n)if(this===this.$root)this.$i18n=rS(e,s);else{this.$i18n=rv({__i18n:s.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:t});const r=this.$i18n;r.__extender&&(r.__disposer=r.__extender(this.$i18n))}else this.$i18n=e;s.__i18nGlobal&&ok(t,s,s),this.$t=(...r)=>this.$i18n.t(...r),this.$rt=(...r)=>this.$i18n.rt(...r),this.$tc=(...r)=>this.$i18n.tc(...r),this.$te=(r,a)=>this.$i18n.te(r,a),this.$d=(...r)=>this.$i18n.d(...r),this.$n=(...r)=>this.$i18n.n(...r),this.$tm=r=>this.$i18n.tm(r),n.__setInstance(i,this.$i18n)},mounted(){},unmounted(){const i=ms();if(!i)throw ki(gi.UNEXPECTED_ERROR);const s=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,s.__disposer&&(s.__disposer(),delete s.__disposer,delete s.__extender),n.__deleteInstance(i),delete this.$i18n}}}function rS(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[ik](t.pluralizationRules||e.pluralizationRules);const n=cb(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(n).forEach(i=>e.mergeLocaleMessage(i,n[i])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(i=>e.mergeDateTimeFormat(i,t.datetimeFormats[i])),t.numberFormats&&Object.keys(t.numberFormats).forEach(i=>e.mergeNumberFormat(i,t.numberFormats[i])),e}const db={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function Hoe({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((i,s)=>[...i,...s.type===Ye?s.children:[s]],[]):t.reduce((n,i)=>{const s=e[i];return s&&(n[i]=s()),n},Bt())}function ak(){return Ye}const joe=$({name:"i18n-t",props:In({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>gn(e)||!isNaN(e)}},db),setup(e,t){const{slots:n,attrs:i}=t,s=e.i18n||hb({useScope:e.scope,__useComponent:!0});return()=>{const r=Object.keys(n).filter(d=>d!=="_"),a=Bt();e.locale&&(a.locale=e.locale),e.plural!==void 0&&(a.plural=ve(e.plural)?+e.plural:e.plural);const u=Hoe(t,r),o=s[tv](e.keypath,u,a),l=In(Bt(),i),c=ve(e.tag)||At(e.tag)?e.tag:ak();return Oa(c,l,o)}}}),oS=joe;function Uoe(e){return un(e)&&!ve(e[0])}function lk(e,t,n,i){const{slots:s,attrs:r}=t;return()=>{const a={part:!0};let u=Bt();e.locale&&(a.locale=e.locale),ve(e.format)?a.key=e.format:At(e.format)&&(ve(e.format.key)&&(a.key=e.format.key),u=Object.keys(e.format).reduce((h,f)=>n.includes(f)?In(Bt(),h,{[f]:e.format[f]}):h,Bt()));const o=i(e.value,a,u);let l=[a.key];un(o)?l=o.map((h,f)=>{const p=s[h.type],g=p?p({[h.type]:h.value,index:f,parts:o}):[h.value];return Uoe(g)&&(g[0].key=`${h.type}-${f}`),g}):ve(o)&&(l=[o]);const c=In(Bt(),r),d=ve(e.tag)||At(e.tag)?e.tag:ak();return Oa(d,c,l)}}const Goe=$({name:"i18n-n",props:In({value:{type:Number,required:!0},format:{type:[String,Object]}},db),setup(e,t){const n=e.i18n||hb({useScope:e.scope,__useComponent:!0});return lk(e,t,ek,(...i)=>n[iv](...i))}}),aS=Goe,Woe=$({name:"i18n-d",props:In({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},db),setup(e,t){const n=e.i18n||hb({useScope:e.scope,__useComponent:!0});return lk(e,t,QO,(...i)=>n[nv](...i))}}),lS=Woe;function zoe(e,t){const n=e;if(e.mode==="composition")return n.__getInstance(t)||e.global;{const i=n.__getInstance(t);return i!=null?i.__composer:e.global.__composer}}function Koe(e){const t=a=>{const{instance:u,value:o}=a;if(!u||!u.$)throw ki(gi.UNEXPECTED_ERROR);const l=zoe(e,u.$),c=cS(o);return[Reflect.apply(l.t,l,[...uS(c)]),l]};return{created:(a,u)=>{const[o,l]=t(u);Zh&&e.global===l&&(a.__i18nWatcher=qt(l.locale,()=>{u.instance&&u.instance.$forceUpdate()})),a.__composer=l,a.textContent=o},unmounted:a=>{Zh&&a.__i18nWatcher&&(a.__i18nWatcher(),a.__i18nWatcher=void 0,delete a.__i18nWatcher),a.__composer&&(a.__composer=void 0,delete a.__composer)},beforeUpdate:(a,{value:u})=>{if(a.__composer){const o=a.__composer,l=cS(u);a.textContent=Reflect.apply(o.t,o,[...uS(l)])}},getSSRProps:a=>{const[u]=t(a);return{textContent:u}}}}function cS(e){if(ve(e))return{path:e};if(pt(e)){if(!("path"in e))throw ki(gi.REQUIRED_VALUE,"path");return e}else throw ki(gi.INVALID_VALUE)}function uS(e){const{path:t,locale:n,args:i,choice:s,plural:r}=e,a={},u=i||{};return ve(n)&&(a.locale=n),gn(s)&&(a.plural=s),gn(r)&&(a.plural=r),[t,u,a]}function qoe(e,t,...n){const i=pt(n[0])?n[0]:{};(Ot(i.globalInstall)?i.globalInstall:!0)&&([oS.name,"I18nT"].forEach(r=>e.component(r,oS)),[aS.name,"I18nN"].forEach(r=>e.component(r,aS)),[lS.name,"I18nD"].forEach(r=>e.component(r,lS))),e.directive("t",Koe(t))}const Yoe=Ko("global-vue-i18n");function Joe(e={},t){const n=__VUE_I18N_LEGACY_API__&&Ot(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,i=Ot(e.globalInjection)?e.globalInjection:!0,s=new Map,[r,a]=Xoe(e,n),u=Ko("");function o(h){return s.get(h)||null}function l(h,f){s.set(h,f)}function c(h){s.delete(h)}const d={get mode(){return __VUE_I18N_LEGACY_API__&&n?"legacy":"composition"},async install(h,...f){if(h.__VUE_I18N_SYMBOL__=u,h.provide(h.__VUE_I18N_SYMBOL__,d),pt(f[0])){const m=f[0];d.__composerExtend=m.__composerExtend,d.__vueI18nExtend=m.__vueI18nExtend}let p=null;!n&&i&&(p=rae(h,d.global)),__VUE_I18N_FULL_INSTALL__&&qoe(h,d,...f),__VUE_I18N_LEGACY_API__&&n&&h.mixin(Boe(a,a.__composer,d));const g=h.unmount;h.unmount=()=>{p&&p(),d.dispose(),g()}},get global(){return a},dispose(){r.stop()},__instances:s,__getInstance:o,__setInstance:l,__deleteInstance:c};return d}function hb(e={}){const t=ms();if(t==null)throw ki(gi.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw ki(gi.NOT_INSTALLED);const n=Zoe(t),i=eae(n),s=rk(t),r=Qoe(e,s);if(r==="global")return ok(i,e,s),i;if(r==="parent"){let o=tae(n,t,e.__useComponent);return o==null&&(o=i),o}const a=n;let u=a.__getInstance(t);if(u==null){const o=In({},e);"__i18n"in s&&(o.__i18n=s.__i18n),i&&(o.__root=i),u=ub(o),a.__composerExtend&&(u[sv]=a.__composerExtend(u)),iae(a,t,u),a.__setInstance(t,u)}return u}function Xoe(e,t,n){const i=uv(),s=__VUE_I18N_LEGACY_API__&&t?i.run(()=>rv(e)):i.run(()=>ub(e));if(s==null)throw ki(gi.UNEXPECTED_ERROR);return[i,s]}function Zoe(e){const t=Ii(e.isCE?Yoe:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw ki(e.isCE?gi.NOT_INSTALLED_WITH_PROVIDE:gi.UNEXPECTED_ERROR);return t}function Qoe(e,t){return op(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function eae(e){return e.mode==="composition"?e.global:e.global.__composer}function tae(e,t,n=!1){let i=null;const s=t.root;let r=nae(t,n);for(;r!=null;){const a=e;if(e.mode==="composition")i=a.__getInstance(r);else if(__VUE_I18N_LEGACY_API__){const u=a.__getInstance(r);u!=null&&(i=u.__composer,n&&i&&!i[sk]&&(i=null))}if(i!=null||s===r)break;r=r.parent}return i}function nae(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function iae(e,t,n){Ai(()=>{},t),uf(()=>{const i=n;e.__deleteInstance(t);const s=i[sv];s&&(s(),delete i[sv])},t)}const sae=["locale","fallbackLocale","availableLocales"],dS=["t","rt","d","n","tm","te"];function rae(e,t){const n=Object.create(null);return sae.forEach(s=>{const r=Object.getOwnPropertyDescriptor(t,s);if(!r)throw ki(gi.UNEXPECTED_ERROR);const a=dt(r.value)?{get(){return r.value.value},set(u){r.value.value=u}}:{get(){return r.get&&r.get()}};Object.defineProperty(n,s,a)}),e.config.globalProperties.$i18n=n,dS.forEach(s=>{const r=Object.getOwnPropertyDescriptor(t,s);if(!r||!r.value)throw ki(gi.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${s}`,r)}),()=>{delete e.config.globalProperties.$i18n,dS.forEach(s=>{delete e.config.globalProperties[`$${s}`]})}}Doe();poe(Yre);goe(doe);moe(KO);if(__INTLIFY_PROD_DEVTOOLS__){const e=ma();e.__INTLIFY__=!0,Jre(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const oae={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function aae(e,t){return C(),te("svg",oae,t[0]||(t[0]=[L("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"},[L("path",{d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87q.11.06.22.127c.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a8 8 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a7 7 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a7 7 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a7 7 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124q.108-.066.22-.128c.332-.183.582-.495.644-.869z"}),L("path",{d:"M15 12a3 3 0 1 1-6 0a3 3 0 0 1 6 0"})],-1)]))}const lae=bt({name:"heroicons-cog6-tooth",render:aae}),cae={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function uae(e,t){return C(),te("svg",cae,t[0]||(t[0]=[L("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M6.429 9.75L2.25 12l4.179 2.25m0-4.5l5.571 3l5.571-3m-11.142 0L2.25 7.5L12 2.25l9.75 5.25l-4.179 2.25m0 0L21.75 12l-4.179 2.25m0 0l4.179 2.25L12 21.75L2.25 16.5l4.179-2.25m11.142 0l-5.571 3l-5.571-3"},null,-1)]))}const dae=bt({name:"heroicons-square3-stack3d",render:uae}),hae={class:"flex flex-col gap-1 p-1 bg"},fae=$({__name:"ActionBar",setup(e){const t=Ef(),n=K(()=>!["/settings"].includes(t.path));return(i,s)=>{const r=dae,a=i1("RouterLink"),u=lae;return C(),te("div",hae,[O(a,{to:"/",class:sn(["hover:bg-gray-100 h-12 flex items-center justify-center rounded-md",{"bg-zinc-200 text-blue-800":v(n)}])},{default:S(()=>[O(r,{class:"w-5"})]),_:1},8,["class"]),O(a,{to:"/settings",class:"hover:bg-gray-100 h-12 flex items-center justify-center rounded-md","active-class":"bg-zinc-200 text-blue-800"},{default:S(()=>[O(u,{class:"w-5"})]),_:1})])}}}),pae={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function gae(e,t){return C(),te("svg",pae,t[0]||(t[0]=[L("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"m15 15l6-6m0 0l-6-6m6 6H9a6 6 0 0 0 0 12h3"},null,-1)]))}const mae=bt({name:"heroicons-arrow-uturn-right",render:gae}),vae={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function yae(e,t){return C(),te("svg",vae,t[0]||(t[0]=[L("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 15L3 9m0 0l6-6M3 9h12a6 6 0 0 1 0 12h-3"},null,-1)]))}const bae=bt({name:"heroicons-arrow-uturn-left",render:yae}),Eae={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function _ae(e,t){return C(),te("svg",Eae,t[0]||(t[0]=[L("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M12.75 3.03v.568c0 .334.148.65.405.864l1.068.89c.442.369.535 1.01.216 1.49l-.51.766a2.25 2.25 0 0 1-1.161.886l-.143.048a1.107 1.107 0 0 0-.57 1.664a1.108 1.108 0 0 1-.427 1.605L9 13.125l.423 1.059a.956.956 0 0 1-1.652.928l-.679-.906a1.125 1.125 0 0 0-1.906.172L4.5 15.75l-.612.153M12.75 3.031a9 9 0 0 0-8.862 12.872M12.75 3.031a9 9 0 0 1 6.69 14.036m0 0l-.177-.529A2.25 2.25 0 0 0 17.128 15H16.5l-.324-.324a1.453 1.453 0 0 0-2.328.377l-.036.073a1.6 1.6 0 0 1-.982.816l-.99.282c-.55.157-.894.702-.8 1.267l.073.438c.08.474.49.821.97.821c.846 0 1.598.542 1.865 1.345l.215.643m5.276-3.67a9 9 0 0 1-5.276 3.67m0 0a9 9 0 0 1-10.275-4.835M15.75 9c0 .896-.393 1.7-1.016 2.25"},null,-1)]))}const Cae=bt({name:"heroicons-globe-asia-australia",render:_ae}),Sae=$({__name:"LocaleSelector",props:Vn({channel:null},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=e,n=window.ThemeEditor.channels,i=mn(e,"modelValue"),s=K(()=>{let u=n.find(o=>o.code===t.channel);return u||(u=n[0]),u.locales}),r=K(()=>{var u;return(u=s.value.find(o=>o.code===i.value))==null?void 0:u.name});xv(()=>{i.value||(i.value=s.value[0].code)}),qt(()=>t.channel,u=>{!!s.value.find(l=>l.code===i.value)||(i.value=s.value[0].code)});function a({value:u}){i.value=u}return(u,o)=>{const l=Cae,c=Lr;return C(),R(v(ft).Root,{onSelect:a},{default:S(()=>[O(v(ft).Trigger,{class:"min-w-32 py-2 appearance-none rounded-lg cursor-pointer inline-flex gap-3 outline-none relative select-none items-center justify-center hover:bg-gray-200"},{default:S(()=>[O(l,{class:"inline w-4"}),qe(" "+ue(v(r))+" ",1),O(v(ft).Indicator,null,{default:S(()=>[O(c,{class:"inline w-4"})]),_:1})]),_:1}),O(v(ft).Positioner,{class:"w-56"},{default:S(()=>[O(v(ft).Content,{class:"pointer-events-none border shadow flex gap-1 p-1 flex-col outline-none rounded bg-white data-[state=open]:animate-fade-in"},{default:S(()=>[O(v(ft).ItemGroup,{class:"flex flex-col"},{default:S(()=>[O(v(ft).ItemGroupLabel,{class:"px-2.5 mb-1 text-gray-700"},{default:S(()=>[qe(ue(u.$t("Locales")),1)]),_:1}),(C(!0),te(Ye,null,Kt(v(s),d=>(C(),R(v(ft).Item,{key:d.code,value:d.code,class:"rounded cursor-pointer flex items-center h-9 px-3 gap-3 hover:bg-gray-200"},{default:S(()=>[qe(ue(d.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})}}}),xae={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Tae(e,t){return C(),te("svg",xae,t[0]||(t[0]=[L("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M13.5 21v-7.5a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75V21m-4.5 0H2.36m11.14 0H18m0 0h3.64m-1.39 0V9.349M3.75 21V9.349m0 0a3 3 0 0 0 3.75-.615A3 3 0 0 0 9.75 9.75c.896 0 1.7-.393 2.25-1.016a3 3 0 0 0 2.25 1.016c.896 0 1.7-.393 2.25-1.015q.062.07.128.136a3 3 0 0 0 3.622.478m-16.5 0a3.004 3.004 0 0 1-.621-4.72l1.189-1.19A1.5 1.5 0 0 1 5.378 3h13.243a1.5 1.5 0 0 1 1.06.44l1.19 1.189a3 3 0 0 1-.621 4.72M6.75 18h3.75a.75.75 0 0 0 .75-.75V13.5a.75.75 0 0 0-.75-.75H6.75a.75.75 0 0 0-.75.75v3.75c0 .414.336.75.75.75"},null,-1)]))}const wae=bt({name:"heroicons-building-storefront",render:Tae}),Iae=$({__name:"ChannelSelector",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=window.ThemeEditor.channels,n=mn(e,"modelValue"),i=K(()=>{var r;return(r=t.find(a=>a.code===n.value))==null?void 0:r.name});function s({value:r}){n.value=r}return(r,a)=>{const u=wae,o=Lr;return C(),R(v(ft).Root,{onSelect:s},{default:S(()=>[O(v(ft).Trigger,{class:"min-w-32 py-2 appearance-none rounded-lg cursor-pointer inline-flex gap-3 outline-none relative select-none items-center justify-center hover:bg-gray-200"},{default:S(()=>[O(u,{class:"inline w-4"}),qe(" "+ue(v(i))+" ",1),O(v(ft).Indicator,null,{default:S(()=>[O(o,{class:"inline w-4"})]),_:1})]),_:1}),O(v(ft).Positioner,{class:"w-56"},{default:S(()=>[O(v(ft).Content,{class:"pointer-events-none border shadow flex gap-1 p-1 flex-col outline-none rounded bg-white data-[state=open]:animate-fade-in"},{default:S(()=>[O(v(ft).ItemGroup,{class:"flex flex-col"},{default:S(()=>[O(v(ft).ItemGroupLabel,{class:"px-2.5 mb-1 text-gray-700"},{default:S(()=>[qe(ue(r.$t("Channels")),1)]),_:1}),(C(!0),te(Ye,null,Kt(v(t),l=>(C(),R(v(ft).Item,{key:l.code,value:l.code,class:"rounded cursor-pointer flex items-center h-9 px-3 gap-3 hover:bg-gray-200"},{default:S(()=>[qe(ue(l.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})}}}),Oae=["innerHTML"],kae=["innerHTML"],Aae=$({__name:"TemplateSelector",props:{modelValue:{},modelModifiers:{}},emits:Vn(["select"],["update:modelValue"]),setup(e,{emit:t}){const n=_i(),i=t,s=mn(e,"modelValue"),r=K(()=>n.templates.find(u=>u.template===s.value));qt([n.templates,()=>n.themeData.template],([u,o])=>{o&&s.value!==o?s.value=o:!s.value&&u.length&&(s.value=u[0].template)},{immediate:!0});function a({value:u}){s.value=u,i("select",r.value)}return(u,o)=>{const l=Lr;return C(),R(v(ft).Root,{onSelect:a},{default:S(()=>[O(v(ft).Trigger,{class:"min-w-44 px-4 py-2 appearance-none rounded-lg cursor-pointer inline-flex gap-3 outline-none relative select-none items-center justify-center hover:bg-gray-200"},{default:S(()=>[v(r)?(C(),te(Ye,{key:0},[L("span",{innerHTML:v(r).icon},null,8,Oae),qe(" "+ue(v(r).label),1)],64)):tt("",!0),O(v(ft).Indicator,null,{default:S(()=>[O(l,{class:"inline w-4"})]),_:1})]),_:1}),O(v(ft).Positioner,{class:"w-64"},{default:S(()=>[O(v(ft).Content,{class:"pointer-events-none border shadow flex gap-1 p-1 flex-col outline-none rounded bg-white data-[state=open]:animate-fade-in"},{default:S(()=>[(C(!0),te(Ye,null,Kt(v(n).templates,c=>(C(),te(Ye,{key:c.template},[c.template==="__separator__"?(C(),R(v(ft).Separator,{key:0})):(C(),R(v(ft).Item,{key:1,value:c.template,class:"rounded cursor-pointer flex items-center h-9 px-3 gap-3 hover:bg-gray-200"},{default:S(()=>[L("span",{innerHTML:c.icon},null,8,kae),qe(" "+ue(c.label),1)]),_:2},1032,["value"]))],64))),128))]),_:1})]),_:1})]),_:1})}}}),Pae={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function $ae(e,t){return C(),te("svg",Pae,t[0]||(t[0]=[L("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"},null,-1)]))}const Mae=bt({name:"heroicons-arrow-left-end-on-rectangle",render:$ae});var Nae=Object.defineProperty,Rae=(e,t,n)=>t in e?Nae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Be=(e,t,n)=>Rae(e,typeof t!="symbol"?t+"":t,n);function ck(e,...t){for(const n of t){const i=Te(n);for(const s in i)bi(n[s])?(e[s]||(e[s]={}),ck(e[s],n[s])):e[s]=n[s]}return e}function hS(e){return bn(e)}function $s(e){return q(e)?{type:e}:e}function ro(e){return e?Qe(e)?e.slice():[e]:[]}function uk(e){return Ce(e)&&e.predicate!=null}var Dae=()=>!0;function fb(e,t,n,i){return s=>{var r;return q(s)?!!((r=e[s])!=null&&r.call(e,t,n,i)):We(s)?s(t,n,i):s.predicate(e)(t,n,i)}}function Lae(...e){return{predicate:t=>(n,i,s)=>e.map(fb(t,n,i,s)).some(Boolean)}}function Fae(...e){return{predicate:t=>(n,i,s)=>e.map(fb(t,n,i,s)).every(Boolean)}}function Vae(e){return{predicate:t=>(n,i,s)=>!fb(t,n,i,s)(e)}}function Bae(...e){return(t,n,i)=>i.state.matches(...e)}var Hae={or:Lae,and:Fae,not:Vae,stateIn:Bae};function dk(e,t){return e=e??Dae,(n,i,s)=>{if(q(e)){const r=t[e];return We(r)?r(n,i,s):r}return uk(e)?e.predicate(t)(n,i,s):e==null?void 0:e(n,i,s)}}function Dg(e,t){return(n,i,s)=>uk(e)?e.predicate(t)(n,i,s):e}function jae(e){var r,a;const t=e.computed??Q({}),n=e.context??Q({}),i=e.initial?(a=(r=e.states)==null?void 0:r[e.initial])==null?void 0:a.tags:[],s=qn({value:e.initial??"",previousValue:"",event:Q({}),previousEvent:Q({}),context:mi(n,t),done:!1,tags:i??[],hasTag(u){return this.tags.includes(u)},matches(...u){return u.includes(this.value)},can(u){return Q(this).nextEvents.includes(u)},get nextEvents(){var l,c;const u=((c=(l=e.states)==null?void 0:l[this.value])==null?void 0:c.on)??{},o=(e==null?void 0:e.on)??{};return Object.keys({...u,...o})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return Q(s)}function Ac(e,t){return(n,i)=>{if(yi(e))return e;if(We(e))return e(n,i);if(q(e)){const s=Number.parseFloat(e);if(!Number.isNaN(s))return s;if(t){const r=t==null?void 0:t[e];return He(r==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${e}\`. It doesn't exist in \`options.delays\``),We(r)?r(n,i):r}}}}function Uae(e){return q(e)?{target:e}:e}function Gae(e,t){return(n,i,s)=>ro(e).map(Uae).find(r=>dk(r.guard,t)(n,i,s)??r.target??r.actions)}var Wae=class{constructor(e,t){var n,i,s,r,a;Be(this,"status","Not Started"),Be(this,"state"),Be(this,"initialState"),Be(this,"initialContext"),Be(this,"id"),Be(this,"type","machine"),Be(this,"activityEvents",new Map),Be(this,"delayedEvents",new Map),Be(this,"stateListeners",new Set),Be(this,"doneListeners",new Set),Be(this,"contextWatchers",new Set),Be(this,"removeStateListener",ni),Be(this,"parent"),Be(this,"children",new Map),Be(this,"guardMap"),Be(this,"actionMap"),Be(this,"delayMap"),Be(this,"activityMap"),Be(this,"sync"),Be(this,"options"),Be(this,"config"),Be(this,"_created",()=>{var o;const u=$s("machine.created");this.executeActions((o=this.config)==null?void 0:o.created,u)}),Be(this,"start",u=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=Pt(this.state,()=>{this.stateListeners.forEach(f=>{f(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities($s("machine.start"),ro(this.config.activities),"machine.start"),this.executeActions(this.config.entry,$s("machine.start"));const o=$s("machine.init"),l=Ce(u)?u.value:u,c=Ce(u)?u.context:void 0;c&&this.setContext(c);const d={target:l??this.config.initial},h=this.getNextStateInfo(d,o);return this.initialState=h,this.performStateChangeEffects(this.state.value,h,o),this}),Be(this,"setupContextWatchers",()=>{const{watch:u}=this.config;if(!u)return;let o=_e(this.state.context);const l=Pt(this.state.context,()=>{var d;const c=_e(this.state.context);for(const[h,f]of Object.entries(u))(((d=this.options.compareFns)==null?void 0:d[h])??Object.is)(o[h],c[h])||this.executeActions(f,this.state.event);o=c});this.contextWatchers.add(l)}),Be(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,$s("machine.stop")),this.executeActions(this.config.exit,$s("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),Be(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),Be(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(u=>u()),this.contextWatchers.clear()}),Be(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(u=>{u.forEach(o=>o())}),this.delayedEvents.clear()}),Be(this,"stopActivities",u=>{var o,l;u?((o=this.activityEvents.get(u))==null||o.forEach(c=>c()),(l=this.activityEvents.get(u))==null||l.clear(),this.activityEvents.delete(u)):(this.activityEvents.forEach(c=>{c.forEach(d=>d()),c.clear()}),this.activityEvents.clear())}),Be(this,"sendChild",(u,o)=>{const l=$s(u),c=$t(o,this.contextSnapshot),d=this.children.get(c);d||He(`[@zag-js/core] Cannot send '${l.type}' event to unknown child`),d.send(l)}),Be(this,"stopChild",u=>{this.children.has(u)||He(`[@zag-js/core > stop-child] Cannot stop unknown child ${u}`),this.children.get(u).stop(),this.children.delete(u)}),Be(this,"removeChild",u=>{this.children.delete(u)}),Be(this,"stopChildren",()=>{this.children.forEach(u=>u.stop()),this.children.clear()}),Be(this,"setParent",u=>{this.parent=u}),Be(this,"spawn",(u,o)=>{const l=$t(u);return o&&(l.id=o),l.type="machine.actor",l.setParent(this),this.children.set(l.id,Q(l)),l.onDone(()=>{this.removeChild(l.id)}).start(),Q(Ke(l))}),Be(this,"stopActivity",u=>{var l;if(!this.state.value)return;const o=this.activityEvents.get(this.state.value);(l=o==null?void 0:o.get(u))==null||l(),o==null||o.delete(u)}),Be(this,"addActivityCleanup",(u,o,l)=>{var c;u&&(this.activityEvents.has(u)?(c=this.activityEvents.get(u))==null||c.set(o,l):this.activityEvents.set(u,new Map([[o,l]])))}),Be(this,"setState",u=>{this.state.previousValue=this.state.value,this.state.value=u;const o=this.getStateNode(u);u==null?vi(this.state.tags):this.state.tags=ro(o==null?void 0:o.tags)}),Be(this,"setContext",u=>{u&&ck(this.state.context,Te(u))}),Be(this,"setOptions",u=>{const o=Te(u);this.actionMap={...this.actionMap,...o.actions},this.delayMap={...this.delayMap,...o.delays},this.activityMap={...this.activityMap,...o.activities},this.guardMap={...this.guardMap,...o.guards}}),Be(this,"getStateNode",u=>{var o;if(u)return(o=this.config.states)==null?void 0:o[u]}),Be(this,"getNextStateInfo",(u,o)=>{const l=this.determineTransition(u,o),c=!(l!=null&&l.target),d=(l==null?void 0:l.target)??this.state.value,h=this.state.value!==d,f=this.getStateNode(d),g={reenter:!c&&!h&&!(l!=null&&l.internal),transition:l,stateNode:f,target:d,changed:h};return this.log("NextState:",`[${o.type}]`,this.state.value,"---->",g.target),g}),Be(this,"getAfterActions",(u,o)=>{let l;const c=this.state.value;return{entry:()=>{l=globalThis.setTimeout(()=>{const d=this.getNextStateInfo(u,this.state.event);this.performStateChangeEffects(c,d,this.state.event)},o)},exit:()=>{globalThis.clearTimeout(l)}}}),Be(this,"getDelayedEventActions",u=>{const o=this.getStateNode(u),l=this.state.event;if(!o||!o.after)return;const c=[],d=[];if(Qe(o.after)){const h=this.determineTransition(o.after,l);if(!h)return;if(!wn(h,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(h)}`);const p=Ac(h.delay,this.delayMap)(this.contextSnapshot,l),g=this.getAfterActions(h,p);return c.push(g.entry),d.push(g.exit),{entries:c,exits:d}}if(Ce(o.after))for(const h in o.after){const f=o.after[h],g=Ac(h,this.delayMap)(this.contextSnapshot,l),m=this.getAfterActions(f,g);c.push(m.entry),d.push(m.exit)}return{entries:c,exits:d}}),Be(this,"executeActions",(u,o)=>{var c;const l=Dg(u,this.guardMap)(this.contextSnapshot,o,this.guardMeta);for(const d of ro(l)){const h=q(d)?(c=this.actionMap)==null?void 0:c[d]:d;nt(q(d)&&!h,`[@zag-js/core > execute-actions] No implementation found for action: \`${d}\``),h==null||h(this.state.context,o,this.meta)}}),Be(this,"executeActivities",(u,o,l)=>{var c;for(const d of o){const h=q(d)?(c=this.activityMap)==null?void 0:c[d]:d;if(!h){nt(`[@zag-js/core > execute-activity] No implementation found for activity: \`${d}\``);continue}const f=h(this.state.context,u,this.meta);if(f){const p=q(d)?d:d.name||Rt();this.addActivityCleanup(l??this.state.value,p,f)}}}),Be(this,"createEveryActivities",(u,o)=>{if(u)if(Qe(u)){const l=ro(u).find(f=>{const p=f.delay,m=Ac(p,this.delayMap)(this.contextSnapshot,this.state.event);return dk(f.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??m!=null});if(!l)return;const d=Ac(l.delay,this.delayMap)(this.contextSnapshot,this.state.event);o(()=>{const f=globalThis.setInterval(()=>{this.executeActions(l.actions,this.state.event)},d);return()=>{globalThis.clearInterval(f)}})}else for(const l in u){const c=u==null?void 0:u[l],h=Ac(l,this.delayMap)(this.contextSnapshot,this.state.event);o(()=>{const p=globalThis.setInterval(()=>{this.executeActions(c,this.state.event)},h);return()=>{globalThis.clearInterval(p)}})}}),Be(this,"setEvent",u=>{this.state.previousEvent=this.state.event,this.state.event=Ke($s(u))}),Be(this,"performExitEffects",(u,o)=>{const l=this.state.value;if(l==="")return;const c=u?this.getStateNode(u):void 0;this.stopActivities(l);const d=Dg(c==null?void 0:c.exit,this.guardMap)(this.contextSnapshot,o,this.guardMeta),h=ro(d),f=this.delayedEvents.get(l);f&&h.push(...f),this.executeActions(h,o),this.delayedEvents.delete(l)}),Be(this,"performEntryEffects",(u,o)=>{const l=this.getStateNode(u),c=ro(l==null?void 0:l.activities);this.createEveryActivities(l==null?void 0:l.every,p=>{c.unshift(p)}),c.length>0&&this.executeActivities(o,c);const d=Dg(l==null?void 0:l.entry,this.guardMap)(this.contextSnapshot,o,this.guardMeta),h=ro(d),f=this.getDelayedEventActions(u);l!=null&&l.after&&f&&(this.delayedEvents.set(u,f==null?void 0:f.exits),h.push(...f.entries)),this.executeActions(h,o),(l==null?void 0:l.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(p=>{p(this.stateSnapshot)}),this.stop())}),Be(this,"performTransitionEffects",(u,o)=>{const l=this.determineTransition(u,o);this.executeActions(l==null?void 0:l.actions,o)}),Be(this,"performStateChangeEffects",(u,o,l)=>{this.setEvent(l);const c=o.changed||o.reenter;c&&this.performExitEffects(u,l),this.performTransitionEffects(o.transition,l),this.setState(o.target),c&&this.performEntryEffects(o.target,l)}),Be(this,"determineTransition",(u,o)=>{const l=Gae(u,this.guardMap);return l==null?void 0:l(this.contextSnapshot,o,this.guardMeta)}),Be(this,"sendParent",u=>{var l;this.parent||He("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const o=$s(u);(l=this.parent)==null||l.send(o)}),Be(this,"log",(...u)=>{}),Be(this,"send",u=>{const o=$s(u);this.transition(this.state.value,o)}),Be(this,"transition",(u,o)=>{var f,p;const l=q(u)?this.getStateNode(u):u==null?void 0:u.stateNode,c=$s(o);if(!l&&!this.config.on){const g=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${u}, \`event\`: ${c.type}`;nt(g);return}const d=((f=l==null?void 0:l.on)==null?void 0:f[c.type])??((p=this.config.on)==null?void 0:p[c.type]),h=this.getNextStateInfo(d,c);return this.performStateChangeEffects(this.state.value,h,c),h.stateNode}),Be(this,"subscribe",u=>(this.stateListeners.add(u),this.status==="Running"&&u(this.stateSnapshot),()=>{this.stateListeners.delete(u)})),Be(this,"onDone",u=>(this.doneListeners.add(u),this)),Be(this,"onTransition",u=>(this.stateListeners.add(u),this.status==="Running"&&u(this.stateSnapshot),this)),this.config=hS(e),this.options=hS(t??{}),this.id=this.config.id??`machine-${Rt()}`,this.guardMap=((n=this.options)==null?void 0:n.guards)??{},this.actionMap=((i=this.options)==null?void 0:i.actions)??{},this.delayMap=((s=this.options)==null?void 0:s.delays)??{},this.activityMap=((r=this.options)==null?void 0:r.activities)??{},this.sync=((a=this.options)==null?void 0:a.sync)??!1,this.state=jae(this.config),this.initialContext=_e(this.state.context)}get stateSnapshot(){return Q(_e(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const e=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return e.stateSnapshot},get initialContext(){return e.initialContext},get initialState(){var t;return((t=e.initialState)==null?void 0:t.target)??""}}}get meta(){var e;return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:((e=this.initialState)==null?void 0:e.target)??"",getState:()=>this.stateSnapshot,getAction:t=>this.actionMap[t],getGuard:t=>this.guardMap[t]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){const e=this.getState();return{value:e.value,tags:e.tags}}},zae=(e,t)=>new Wae(e,t),Kae=Dn("toggle-group").parts("root","item"),fS=Kae.build(),Zn=Pi({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`toggle-group:${e.id}`},getItemId:(e,t)=>{var n,i;return((i=(n=e.ids)==null?void 0:n.item)==null?void 0:i.call(n,t))??`toggle-group:${e.id}:${t}`},getRootEl:e=>Zn.getById(e,Zn.getRootId(e)),getElements:e=>{const n=`[data-ownedby='${CSS.escape(Zn.getRootId(e))}']:not([data-disabled])`;return Tr(Zn.getRootEl(e),n)},getFirstEl:e=>Wv(Zn.getElements(e)),getLastEl:e=>zv(Zn.getElements(e)),getNextEl:(e,t)=>Fv(Zn.getElements(e),t,e.currentLoopFocus),getPrevEl:(e,t)=>Vv(Zn.getElements(e),t,e.currentLoopFocus)});function qae(e,t,n){const i=e.context.value,s=e.context.disabled,r=!e.context.multiple,a=e.context.rovingFocus,u=e.context.orientation==="horizontal";function o(l){const c=Zn.getItemId(e.context,l.value);return{id:c,disabled:!!(l.disabled||s),pressed:!!i.includes(l.value),focused:e.context.focusedId===c}}return{value:i,setValue(l){t({type:"VALUE.SET",value:l})},getRootProps(){return n.element({...fS.root.attrs,id:Zn.getRootId(e.context),dir:e.context.dir,role:r?"radiogroup":"group",tabIndex:e.context.isTabbingBackward?-1:0,"data-disabled":H(s),"data-orientation":e.context.orientation,"data-focus":H(e.context.focusedId!=null),style:{outline:"none"},onMouseDown(){s||t("ROOT.MOUSE_DOWN")},onFocus(l){if(s)return;const c=l.nativeEvent||l;!mu(c)||e.context.isClickFocus||e.context.isTabbingBackward||t("ROOT.FOCUS")},onBlur(){s||t("ROOT.BLUR")}})},getItemState:o,getItemProps(l){const c=o(l),d=c.focused?0:-1;return n.button({...fS.item.attrs,id:c.id,type:"button","data-ownedby":Zn.getRootId(e.context),"data-focus":H(c.focused),disabled:c.disabled,tabIndex:a?d:void 0,role:r?"radio":void 0,"aria-checked":r?c.pressed:void 0,"aria-pressed":r?void 0:c.pressed,"data-disabled":H(c.disabled),"data-orientation":e.context.orientation,dir:e.context.dir,"data-state":c.pressed?"on":"off",onFocus(){c.disabled||t({type:"TOGGLE.FOCUS",id:c.id})},onClick(h){c.disabled||(t({type:"TOGGLE.CLICK",id:c.id,value:l.value}),wf()&&h.currentTarget.focus({preventScroll:!0}))},onKeyDown(h){if(h.defaultPrevented||!mu(h)||c.disabled)return;const p={Tab(g){const m=g.shiftKey;t({type:"TOGGLE.SHIFT_TAB",isShiftTab:m})},ArrowLeft(){!a||!u||t("TOGGLE.FOCUS_PREV")},ArrowRight(){!a||!u||t("TOGGLE.FOCUS_NEXT")},ArrowUp(){!a||u||t("TOGGLE.FOCUS_PREV")},ArrowDown(){!a||u||t("TOGGLE.FOCUS_NEXT")},Home(){a&&t("TOGGLE.FOCUS_FIRST")},End(){a&&t("TOGGLE.FOCUS_LAST")}}[Hs(h)];p&&(p(h),h.key!=="Tab"&&h.preventDefault())}})}}}var{not:Yae,and:Jae}=Hae;function Xae(e){const t=Te(e);return zae({id:"toggle-group",initial:"idle",context:{value:[],disabled:!1,orientation:"horizontal",rovingFocus:!0,loopFocus:!0,...t,focusedId:null,isTabbingBackward:!1,isClickFocus:!1,isWithinToolbar:!1},computed:{currentLoopFocus:n=>n.loopFocus&&!n.isWithinToolbar},entry:["checkIfWithinToolbar"],on:{"VALUE.SET":{actions:["setValue"]},"TOGGLE.CLICK":{actions:["setValue"]},"ROOT.MOUSE_DOWN":{actions:["setClickFocus"]}},states:{idle:{on:{"ROOT.FOCUS":{target:"focused",guard:Yae(Jae("isClickFocus","isTabbingBackward")),actions:["focusFirstToggle","clearClickFocus"]},"TOGGLE.FOCUS":{target:"focused",actions:["setFocusedId"]}}},focused:{on:{"ROOT.BLUR":{target:"idle",actions:["clearIsTabbingBackward"]},"TOGGLE.FOCUS":{actions:["setFocusedId"]},"TOGGLE.FOCUS_NEXT":{actions:["focusNextToggle"]},"TOGGLE.FOCUS_PREV":{actions:["focusPrevToggle"]},"TOGGLE.FOCUS_FIRST":{actions:["focusFirstToggle"]},"TOGGLE.FOCUS_LAST":{actions:["focusLastToggle"]},"TOGGLE.SHIFT_TAB":{target:"idle",actions:["setIsTabbingBackward"]}}}}},{guards:{isClickFocus:n=>n.isClickFocus,isTabbingBackward:n=>n.isTabbingBackward},actions:{setIsTabbingBackward(n){n.isTabbingBackward=!0},clearIsTabbingBackward(n){n.isTabbingBackward=!1},setClickFocus(n){n.isClickFocus=!0},clearClickFocus(n){n.isClickFocus=!1},checkIfWithinToolbar(n){var s;const i=(s=Zn.getRootEl(n))==null?void 0:s.closest("[role=toolbar]");n.isWithinToolbar=!!i},setFocusedId(n,i){n.focusedId=i.id},clearFocusedId(n){n.focusedId=null},setValue(n,i){if(!i.value)return;let s=Array.from(n.value);n.multiple?s=s.includes(i.value)?qv(s,i.value):Kv(s,i.value):s=dn(n.value,[i.value])?[]:[i.value],Qae.value(n,s)},focusNextToggle(n){Je(()=>{var i;n.focusedId&&((i=Zn.getNextEl(n,n.focusedId))==null||i.focus({preventScroll:!0}))})},focusPrevToggle(n){Je(()=>{var i;n.focusedId&&((i=Zn.getPrevEl(n,n.focusedId))==null||i.focus({preventScroll:!0}))})},focusFirstToggle(n){Je(()=>{var i;(i=Zn.getFirstEl(n))==null||i.focus({preventScroll:!0})})},focusLastToggle(n){Je(()=>{var i;(i=Zn.getLastEl(n))==null||i.focus({preventScroll:!0})})}}})}var Zae={change(e){var t;(t=e.onValueChange)==null||t.call(e,{value:Array.from(e.value)})}},Qae={value(e,t){dn(e.value,t)||(e.value=t,Zae.change(e))}};tn()(["dir","disabled","getRootNode","id","ids","loopFocus","multiple","onValueChange","orientation","rovingFocus","value"]);tn()(["value","disabled"]);const ele=(e,t)=>{const n=Kn(),i=Qi(),s=Ni(Mi),r=K(()=>({id:n,dir:s.value.dir,value:e.modelValue??e.defaultValue,getRootNode:i==null?void 0:i.value.getRootNode,onValueChange:o=>{t==null||t("valueChange",o),t==null||t("update:modelValue",o.value)},...es(e)})),[a,u]=Ei(Xae(r.value),{context:r});return K(()=>qae(a.value,u,$i))},[hk,fk]=gt("ToggleGroupContext"),tle=$({__name:"toggle-group-context",setup(e){const t=fk();return(n,i)=>V(n.$slots,"default",hn(on(v(t))))}}),nle=$({__name:"toggle-group-item",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean}},setup(e){const t=e,n=fk();return U(),(i,s)=>(C(),R(v(X).button,W(v(n).getItemProps(t),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["as-child"]))}}),ile=$({__name:"toggle-group-root-provider",props:{value:{},asChild:{type:Boolean}},setup(e){const t=e,n=K(()=>t.value);return hk(n),U(),(i,s)=>(C(),R(v(X).div,W(n.value.getRootProps(),{"as-child":i.asChild}),{default:S(()=>[V(i.$slots,"default")]),_:3},16,["as-child"]))}}),sle=$({__name:"toggle-group-root",props:On({defaultValue:{},disabled:{type:Boolean},id:{},ids:{},loopFocus:{type:Boolean},modelValue:{},multiple:{type:Boolean},orientation:{},rovingFocus:{type:Boolean},asChild:{type:Boolean}},{disabled:void 0,loopFocus:void 0,multiple:void 0,rovingFocus:void 0}),emits:["valueChange","update:modelValue"],setup(e,{emit:t}){const s=ele(e,t);return hk(s),(r,a)=>(C(),R(v(X).div,W(v(s).getRootProps(),{"as-child":r.asChild}),{default:S(()=>[V(r.$slots,"default")]),_:3},16,["as-child"]))}}),pS=Object.freeze(Object.defineProperty({__proto__:null,Context:tle,Item:nle,Root:sle,RootProvider:ile},Symbol.toStringTag,{value:"Module"})),rle={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function ole(e,t){return C(),te("svg",rle,t[0]||(t[0]=[L("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25"},null,-1)]))}const ale=bt({name:"heroicons-computer-desktop",render:ole}),lle={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function cle(e,t){return C(),te("svg",lle,t[0]||(t[0]=[L("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"},null,-1)]))}const ule=bt({name:"heroicons-device-phone-mobile",render:cle}),dle={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function hle(e,t){return C(),te("svg",dle,t[0]||(t[0]=[L("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"},null,-1)]))}const fle=bt({name:"heroicons-arrows-pointing-out",render:hle}),ple={class:"flex"},gle={class:"w-[23.47rem] h-full items-center flex-none flex"},mle={class:"flex-1 px-4 border-l border-r"},vle={class:"font-medium"},yle={class:"text-gray-700"},ble={class:"flex flex-1 items-center justify-between"},Ele={class:"flex-1 flex justify-start pl-4 gap-4"},_le={class:"mr-4 flex space-x-4"},Cle={class:"flex items-center gap-1"},Sle=["title","aria-label"],xle=["title","aria-label"],Tle=["disabled"],wle={class:"flex flex-col gap-8 p-6"},Ile={class:"flex gap-6"},gS="bagisto_visual_editor_confirm_publush",Ole=$({__name:"Header",props:Vn({canUndoHistory:{type:Boolean},canRedoHistory:{type:Boolean}},{viewMode:{default:"desktop"},viewModeModifiers:{}}),emits:Vn(["exit","channelChanged","localeChanged","undoHistory","redoHistory","publishTheme","changeTemplate"],["update:viewMode"]),setup(e,{emit:t}){const n=t,i=_i(),s=mn(e,"viewMode"),r=st([{icon:ale,value:"desktop",label:"Desktop"},{icon:ule,value:"mobile",label:"Mobile"},{icon:fle,value:"fullscreen",label:"Fullscreen"}]),a=K({get:()=>[s.value],set(d){s.value=d[0]}}),u=st(!1),o=st(!1);function l(){if(localStorage.getItem(gS)===null){u.value=!0;return}n("publishTheme")}function c(){o.value&&localStorage.setItem(gS,"true"),n("publishTheme"),u.value=!1}return(d,h)=>{const f=Mae,p=Aae,g=Iae,m=Sae,y=bae,b=mae,E=cy;return C(),te("div",ple,[L("div",gle,[L("button",{class:"hover:bg-gray-100 w-[3.45rem] flex justify-center items-center focus:outline-none h-full",onClick:h[0]||(h[0]=_=>n("exit"))},[O(f,{class:"w-5"})]),L("div",mle,[L("h1",vle,ue(d.$t("title")),1),L("h2",yle,ue(v(i).themeData.theme),1)])]),L("div",ble,[L("div",Ele,[O(p,{onSelect:h[1]||(h[1]=_=>n("changeTemplate",_))}),O(g,{"model-value":v(i).themeData.channel,"onUpdate:modelValue":h[2]||(h[2]=_=>n("channelChanged",_))},null,8,["model-value"]),O(m,{channel:v(i).themeData.channel,"model-value":v(i).themeData.locale,"onUpdate:modelValue":h[3]||(h[3]=_=>n("localeChanged",_))},null,8,["channel","model-value"])]),L("div",_le,[O(v(pS).Root,{modelValue:v(a),"onUpdate:modelValue":h[4]||(h[4]=_=>dt(a)?a.value=_:null),class:"rounded-lg bg-gray-200 p-1 flex gap-1 overflow-hidden"},{default:S(()=>[(C(!0),te(Ye,null,Kt(v(r),_=>(C(),R(v(pS).Item,{value:_.value,key:_.value,class:"appearance-none cursor-pointer inline-flex items-center justify-center outline-none relative p-1 rounded data-[state=on]:bg-white"},{default:S(()=>[(C(),R(r1(_.icon),{class:"w-4"}))]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),L("div",Cle,[L("button",{title:d.$t("Undo"),"aria-label":d.$t("Undo"),type:"button",class:sn(["rounded px-2 py-1 hover:bg-gray-200",{"pointer-events-none text-gray-300":!e.canUndoHistory}]),onClick:h[5]||(h[5]=_=>n("undoHistory"))},[O(y,{class:"inline w-4 h-4"})],10,Sle),L("button",{title:d.$t("Redo"),"aria-label":d.$t("Redo"),type:"button",class:sn(["rounded px-2 hover:bg-gray-200 py-1",{"pointer-events-none text-gray-300":!e.canRedoHistory}]),onClick:h[6]||(h[6]=_=>n("redoHistory"))},[O(b,{class:"inline w-4 h-4"})],10,xle)]),L("button",{class:"cursor-pointer border px-3 rounded-md shadow-sm bg-gray-700 text-white active:bg-gray-600 focus:ring focus:ring-gray-200 disabled:bg-gray-200 disabled:text-gray-400",disabled:!e.canUndoHistory,onClick:l},ue(d.$t("Publish")),9,Tle)])]),O(v(yn).Root,{open:v(u),"onUpdate:open":h[8]||(h[8]=_=>dt(u)?u.value=_:null),lazyMount:""},{default:S(()=>[(C(),R(lf,{to:"body"},[O(v(yn).Backdrop,{class:"fixed h-screen w-screen left-0 top-0 backdrop-blur-sm bg-gray-700/30"}),O(v(yn).Positioner,{class:"flex fixed inset-0 items-center justify-center"},{default:S(()=>[O(v(yn).Content,{class:"bg-white shadow rounded-md flex flex-col w-full max-w-sm overflow-hidden"},{default:S(()=>[L("div",wle,[O(v(yn).Title,{class:"text-lg font-semibold"},{default:S(()=>[qe(ue(d.$t("Publish edits ?")),1)]),_:1}),O(v(yn).Description,null,{default:S(()=>[qe(ue(d.$t("publish_warning_line1")),1),h[9]||(h[9]=L("br",null,null,-1)),h[10]||(h[10]=L("br",null,null,-1)),qe(" "+ue(d.$t("publish_warning_line2")),1)]),_:1}),O(E,{modelValue:v(o),"onUpdate:modelValue":h[7]||(h[7]=_=>dt(o)?o.value=_:null),label:d.$t("Don't ask next time")},null,8,["modelValue","label"]),L("div",Ile,[O(v(yn).CloseTrigger,{class:"flex-1 border rounded py-1 outline-none hover:bg-gray-100 focus:ring focus:ring-gray-700"},{default:S(()=>h[11]||(h[11]=[qe("Cancel")])),_:1}),L("button",{class:"flex-1 border rounded bg-gray-900 hover:bg-gray-950 text-white",onClick:c},ue(d.$t("Publish")),1)])])]),_:1})]),_:1})]))]),_:1},8,["open"])])}}}),kle={class:"h-screen w-full flex flex-col"},Ale={class:"flex-1 bg-gray-100 flex overflow-y-hidden"},Ple={class:"w-14 flex-none border-r bg-white transition-all shado"},$le={class:"flex-none w-80 border-r bg-white flex overflow-y-hidden transition-all shadow"},Mle={class:"flex-1 flex justify-center items-center p-4"},Nle=["src"],Rle=$({__name:"App",setup(e){const t=Hl(),n=_i(),i=Qx(),s=window.ThemeEditor.storefrontUrl,r=Sv("previewer"),a=st("desktop"),u=K(()=>a.value!=="mobile"?"width: 100%; height: 100%":"width: 375px; height: 100%"),o={initialize(f){n.setThemeData(f.themeData),n.setSettingsSchema(f.settingsSchema),n.setTemplates(f.templates),n.setAvailableSections(window.ThemeEditor.availableSections),i.done()},usedColors(f){Object.assign(n.usedColors,f)},moveSectionUp:n.moveSectionUp,moveSectionDown:n.moveSectionDown,toggleSection:n.toggleSection,removeSection:n.removeSection};window.addEventListener("message",f=>{const{data:p}=f;p.type&&o[p.type]&&o[p.type](p.data)}),Ai(()=>{n.setPreviewIframe(r.value)});function l(){window.location.href=window.ThemeEditor.routes.themesIndex}function c(f){var g;if(!r.value)return;const p=new URL(window.ThemeEditor.storefrontUrl);p.searchParams.set("channel",f),i.start(),(g=r.value.contentWindow)==null||g.location.replace(p.href),n.redoHistory(),t.replace("/")}function d(f){var g;if(!r.value)return;const p=new URL(window.ThemeEditor.storefrontUrl);p.searchParams.set("locale",f),p.searchParams.set("channel",n.themeData.channel),i.start(),(g=r.value.contentWindow)==null||g.location.replace(p.href),n.resetHistory(),t.replace("/")}function h(f){var g;if(!r.value)return;const p=new URL(f.previewUrl);p.searchParams.set("locale",n.themeData.locale),p.searchParams.set("channel",n.themeData.channel),p.searchParams.set("_designMode",n.themeData.theme),i.start(),(g=r.value.contentWindow)==null||g.location.replace(p.href),n.resetHistory(),t.replace("/")}return(f,p)=>{const g=Ole,m=fae,y=i1("RouterView");return C(),te("div",kle,[O(g,{viewMode:v(a),"onUpdate:viewMode":p[0]||(p[0]=b=>dt(a)?a.value=b:null),class:"h-14 border-b flex-none","can-undo-history":v(n).canUndoHistory,"can-redo-history":v(n).canRedoHistory,onExit:l,onChannelChanged:c,onLocaleChanged:d,onUndoHistory:p[1]||(p[1]=b=>v(n).undoHistory()),onRedoHistory:p[2]||(p[2]=b=>v(n).redoHistory()),onPublishTheme:p[3]||(p[3]=b=>v(n).publishTheme()),onChangeTemplate:h},null,8,["viewMode","can-undo-history","can-redo-history"]),L("div",Ale,[wa(L("div",Ple,[O(m)],512),[[qg,v(a)!=="fullscreen"]]),wa(L("aside",$le,[O(y)],512),[[qg,v(a)!=="fullscreen"]]),L("div",Mle,[L("iframe",{ref:"previewer",frameborder:"0",class:"transition-all shadow bg-white",src:v(s),style:Nu(v(u))},null,12,Nle)])])])}}}),cp=AP(Rle),Dle=NP(),Lle=H$({routes:Zse,history:v$(window.ThemeEditor.baseUrl)}),Fle=Joe({locale:window.ThemeEditor.editorLocale,messages:{[window.ThemeEditor.editorLocale]:window.ThemeEditor.messages}});cp.use(Dle);cp.use(Lle);cp.use(Fle);cp.mount("#app");

import{r as ze,a as Xe,b as Ye,S as Ze,c as He,_ as Je}from"./sortable.core.esm-CASc3zXj.js";import{o as T,c as V,a as S,d as F,u as Qe,b as L,t as Be,w as Pe,e as k,f as et,g as tt,F as nt,r as rt,h as ee,i as ot,j as at,k as it,l as st,m as lt,n as ct,p as ut,q as dt,s as pt,v as ft,x as Se,y as vt,z as gt,A as bt,B as pe,C as Fe,D as ht,E as mt,G as yt,H as Et,I as q,J as wt,K as Tt,L as Ct,M as Ot,N as A,O as N,P as D,Q as x,R as b,S as M,T as Pt,U as St,V as Ft,W as _t,X as It,Y as Nt,Z as kt,_ as $e,$ as Dt,a0 as At,a1 as Rt,a2 as Bt}from"./index-Dexbsdpm.js";function $t(n,e){return T(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[S("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"})])}const Lt={class:"flex rounded border border-zinc-100 hover:bg-zinc-100 cursor-pointer active:ring-inset active:ring-2 active:ring-gray-700"},xt={class:"handle flex-none py-2 px-1 rounded-md hover:bg-zinc-200 cursor-move"},Mt={class:"w-0 flex-1 truncate"},Kt=F({__name:"Section",props:{section:null},emits:["activate","deactivate","toggle","remove"],setup(n,{emit:e}){const t=Qe(),r=e,a=n;function l(){t.push(a.section.id)}return(o,u)=>{const c=ze,f=Xe,y=Ye,v=$t;return T(),V("div",{class:"",onMouseenter:u[2]||(u[2]=g=>r("activate")),onMouseleave:u[3]||(u[3]=g=>r("deactivate"))},[S("div",Lt,[S("button",xt,[L(c,{class:"inline w-3"})]),S("div",{onClick:l,class:"group mx-2 py-2 pr-1 text-sm flex-1 flex items-center max-w-full"},[S("div",Mt,Be(a.section.name),1),S("button",{onClick:u[0]||(u[0]=Pe(g=>r("remove"),["stop"])),class:"flex-none invisible group-hover:visible py-[1px] px-[2px] rounded-md hover:bg-zinc-200"},[L(f,{class:"inline w-4"})]),S("button",{onClick:u[1]||(u[1]=Pe(g=>r("toggle"),["stop"])),class:"flex-none cursor-pointer invisible group-hover:visible py-[1px] px-[2px] rounded-md hover:bg-zinc-200 ml-1"},[n.section.disabled?(T(),k(v,{key:1,class:"inline w-4"})):(T(),k(y,{key:0,class:"inline w-4"}))])])])],32)}}}),jt={class:"pb-3"},Gt={class:"text-sm font-semibold p-3"},Ut={key:0,class:"text-sm px-3"},Wt={key:1,class:"space-y-2 mt-4 px-3"},Vt=F({__name:"SectionsGroup",props:{title:null,sections:null,order:{default:()=>[]},static:{type:Boolean,default:!1}},emits:["reorder","addSection","toggleSection","activateSection","deactivateSection"],setup(n,{emit:e}){const t=n,r=e,a=et("sortable");return tt(()=>{new Ze(a.value,{animation:150,ghostClass:"sortable-ghost",onEnd({newIndex:l,oldIndex:o}){const u=[...t.order],c=u.splice(o,1)[0];u.splice(l,0,c),r("reorder",u)}})}),(l,o)=>{const u=Kt,c=He;return T(),V("div",jt,[S("h2",Gt,Be(n.title),1),S("div",{ref_key:"sortable",ref:a,class:"space-y-1 px-3"},[n.sections.length>0?(T(!0),V(nt,{key:0},rt(n.sections,f=>(T(),k(u,{section:f,onToggle:y=>r("toggleSection",f.id),onActivate:y=>r("activateSection",f.id),onDeactivate:y=>r("deactivateSection",f.id)},null,8,["section","onToggle","onActivate","onDeactivate"]))),256)):ee("",!0)],512),n.static?(T(),V("p",Ut,"No sections")):ee("",!0),t.static?ee("",!0):(T(),V("div",Wt,[S("button",{class:"block w-full !text-left",onClick:o[0]||(o[0]=f=>r("addSection",f))},[L(c,{class:"w-4 h-4 inline mr-1"}),o[1]||(o[1]=ot(" Add Section "))])]))])}}});var qt=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},X=new WeakMap,ne=new WeakMap,re={},fe=0,Le=function(n){return n&&(n.host||Le(n.parentNode))},zt=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=Le(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},Xt=function(n,e,t,r){var a=zt(e,Array.isArray(n)?n:[n]);re[t]||(re[t]=new WeakMap);var l=re[t],o=[],u=new Set,c=new Set(a),f=function(v){!v||u.has(v)||(u.add(v),f(v.parentNode))};a.forEach(f);var y=function(v){!v||c.has(v)||Array.prototype.forEach.call(v.children,function(g){if(u.has(g))y(g);else try{var I=g.getAttribute(r),O=I!==null&&I!=="false",j=(X.get(g)||0)+1,G=(l.get(g)||0)+1;X.set(g,j),l.set(g,G),o.push(g),j===1&&O&&ne.set(g,!0),G===1&&g.setAttribute(t,"true"),O||g.setAttribute(r,"true")}catch(B){console.error("aria-hidden: cannot operate on ",g,B)}})};return y(e),u.clear(),fe++,function(){o.forEach(function(v){var g=X.get(v)-1,I=l.get(v)-1;X.set(v,g),l.set(v,I),g||(ne.has(v)||v.removeAttribute(r),ne.delete(v)),I||v.removeAttribute(t)}),fe--,fe||(X=new WeakMap,X=new WeakMap,ne=new WeakMap,re={})}},Yt=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),a=qt(n);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live]"))),Xt(r,a,t,"aria-hidden")):function(){return null}},Zt=n=>{const e=requestAnimationFrame(()=>n());return()=>cancelAnimationFrame(e)};function Ht(n,e={}){const{defer:t=!0}=e,r=t?Zt:l=>l(),a=[];return a.push(r(()=>{const o=(typeof n=="function"?n():n).filter(Boolean);a.push(Yt(o))})),()=>{a.forEach(l=>l==null?void 0:l())}}var ve="data-scroll-lock";function _e(n,e){if(!n)return;const t=n.style.cssText;return Object.assign(n.style,e),()=>{n.style.cssText=t}}function Jt(n,e,t){if(!n)return;const r=n.style.getPropertyValue(e);return n.style.setProperty(e,t),()=>{r?n.style.setProperty(e,r):n.style.removeProperty(e)}}function Qt(n){const e=n.getBoundingClientRect().left;return Math.round(e)+n.scrollLeft?"paddingLeft":"paddingRight"}function en(n){const e=n??document,t=e.defaultView??window,{documentElement:r,body:a}=e;if(a.hasAttribute(ve))return;a.setAttribute(ve,"");const o=t.innerWidth-r.clientWidth,u=()=>Jt(r,"--scrollbar-width",`${o}px`),c=Qt(r),f=()=>_e(a,{overflow:"hidden",[c]:`${o}px`}),y=()=>{const{scrollX:g,scrollY:I,visualViewport:O}=t,j=(O==null?void 0:O.offsetLeft)??0,G=(O==null?void 0:O.offsetTop)??0,B=_e(a,{position:"fixed",overflow:"hidden",top:`${-(I-Math.floor(G))}px`,left:`${-(g-Math.floor(j))}px`,right:"0",[c]:`${o}px`});return()=>{B==null||B(),t.scrollTo({left:g,top:I,behavior:"instant"})}},v=[u(),at()?y():f()];return()=>{v.forEach(g=>g==null?void 0:g()),a.removeAttribute(ve)}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var xe=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],ae=xe.join(","),Me=typeof Element>"u",z=Me?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,ie=!Me&&Element.prototype.getRootNode?function(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}:function(n){return n==null?void 0:n.ownerDocument},se=function n(e,t){var r;t===void 0&&(t=!0);var a=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),l=a===""||a==="true",o=l||t&&e&&n(e.parentNode);return o},tn=function(e){var t,r=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return r===""||r==="true"},Ke=function(e,t,r){if(se(e))return[];var a=Array.prototype.slice.apply(e.querySelectorAll(ae));return t&&z.call(e,ae)&&a.unshift(e),a=a.filter(r),a},je=function n(e,t,r){for(var a=[],l=Array.from(e);l.length;){var o=l.shift();if(!se(o,!1))if(o.tagName==="SLOT"){var u=o.assignedElements(),c=u.length?u:o.children,f=n(c,!0,r);r.flatten?a.push.apply(a,f):a.push({scopeParent:o,candidates:f})}else{var y=z.call(o,ae);y&&r.filter(o)&&(t||!e.includes(o))&&a.push(o);var v=o.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(o),g=!se(v,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(o));if(v&&g){var I=n(v===!0?o.children:v.children,!0,r);r.flatten?a.push.apply(a,I):a.push({scopeParent:o,candidates:I})}else l.unshift.apply(l,o.children)}}return a},Ge=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},W=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||tn(e))&&!Ge(e)?0:e.tabIndex},nn=function(e,t){var r=W(e);return r<0&&t&&!Ge(e)?0:r},rn=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},Ue=function(e){return e.tagName==="INPUT"},on=function(e){return Ue(e)&&e.type==="hidden"},an=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return t},sn=function(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]},ln=function(e){if(!e.name)return!0;var t=e.form||ie(e),r=function(u){return t.querySelectorAll('input[type="radio"][name="'+u+'"]')},a;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")a=r(window.CSS.escape(e.name));else try{a=r(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var l=sn(a,e.form);return!l||l===e},cn=function(e){return Ue(e)&&e.type==="radio"},un=function(e){return cn(e)&&!ln(e)},dn=function(e){var t,r=e&&ie(e),a=(t=r)===null||t===void 0?void 0:t.host,l=!1;if(r&&r!==e){var o,u,c;for(l=!!((o=a)!==null&&o!==void 0&&(u=o.ownerDocument)!==null&&u!==void 0&&u.contains(a)||e!=null&&(c=e.ownerDocument)!==null&&c!==void 0&&c.contains(e));!l&&a;){var f,y,v;r=ie(a),a=(f=r)===null||f===void 0?void 0:f.host,l=!!((y=a)!==null&&y!==void 0&&(v=y.ownerDocument)!==null&&v!==void 0&&v.contains(a))}}return l},Ie=function(e){var t=e.getBoundingClientRect(),r=t.width,a=t.height;return r===0&&a===0},pn=function(e,t){var r=t.displayCheck,a=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var l=z.call(e,"details>summary:first-of-type"),o=l?e.parentElement:e;if(z.call(o,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof a=="function"){for(var u=e;e;){var c=e.parentElement,f=ie(e);if(c&&!c.shadowRoot&&a(c)===!0)return Ie(e);e.assignedSlot?e=e.assignedSlot:!c&&f!==e.ownerDocument?e=f.host:e=c}e=u}if(dn(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return Ie(e);return!1},fn=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var r=0;r<t.children.length;r++){var a=t.children.item(r);if(a.tagName==="LEGEND")return z.call(t,"fieldset[disabled] *")?!0:!a.contains(e)}return!0}t=t.parentElement}return!1},le=function(e,t){return!(t.disabled||se(t)||on(t)||pn(t,e)||an(t)||fn(t))},he=function(e,t){return!(un(t)||W(t)<0||!le(e,t))},vn=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},gn=function n(e){var t=[],r=[];return e.forEach(function(a,l){var o=!!a.scopeParent,u=o?a.scopeParent:a,c=nn(u,o),f=o?n(a.candidates):u;c===0?o?t.push.apply(t,f):t.push(u):r.push({documentOrder:l,tabIndex:c,item:a,isScope:o,content:f})}),r.sort(rn).reduce(function(a,l){return l.isScope?a.push.apply(a,l.content):a.push(l.content),a},[]).concat(t)},bn=function(e,t){t=t||{};var r;return t.getShadowRoot?r=je([e],t.includeContainer,{filter:he.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:vn}):r=Ke(e,t.includeContainer,he.bind(null,t)),gn(r)},hn=function(e,t){t=t||{};var r;return t.getShadowRoot?r=je([e],t.includeContainer,{filter:le.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):r=Ke(e,t.includeContainer,le.bind(null,t)),r},Y=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return z.call(e,ae)===!1?!1:he(t,e)},mn=xe.concat("iframe").join(","),ge=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return z.call(e,mn)===!1?!1:le(t,e)};/*!
* focus-trap 7.6.0
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function yn(n,e,t){return(e=wn(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ne(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function ke(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ne(Object(t),!0).forEach(function(r){yn(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ne(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function En(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function wn(n){var e=En(n,"string");return typeof e=="symbol"?e:e+""}var De={activateTrap:function(e,t){if(e.length>0){var r=e[e.length-1];r!==t&&r.pause()}var a=e.indexOf(t);a===-1||e.splice(a,1),e.push(t)},deactivateTrap:function(e,t){var r=e.indexOf(t);r!==-1&&e.splice(r,1),e.length>0&&e[e.length-1].unpause()}},Tn=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},Cn=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},te=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},On=function(e){return te(e)&&!e.shiftKey},Pn=function(e){return te(e)&&e.shiftKey},Ae=function(e){return setTimeout(e,0)},Re=function(e,t){var r=-1;return e.every(function(a,l){return t(a)?(r=l,!1):!0}),r},Q=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return typeof e=="function"?e.apply(void 0,r):e},oe=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},Sn=[],Fn=function(e,t){var r=(t==null?void 0:t.document)||document,a=(t==null?void 0:t.trapStack)||Sn,l=ke({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:On,isKeyBackward:Pn},t),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},u,c=function(i,s,d){return i&&i[s]!==void 0?i[s]:l[d||s]},f=function(i,s){var d=typeof(s==null?void 0:s.composedPath)=="function"?s.composedPath():void 0;return o.containerGroups.findIndex(function(h){var m=h.container,w=h.tabbableNodes;return m.contains(i)||(d==null?void 0:d.includes(m))||w.find(function(C){return C===i})})},y=function(i){var s=l[i];if(typeof s=="function"){for(var d=arguments.length,h=new Array(d>1?d-1:0),m=1;m<d;m++)h[m-1]=arguments[m];s=s.apply(void 0,h)}if(s===!0&&(s=void 0),!s){if(s===void 0||s===!1)return s;throw new Error("`".concat(i,"` was specified but was not a node, or did not return a node"))}var w=s;if(typeof s=="string"&&(w=r.querySelector(s),!w))throw new Error("`".concat(i,"` as selector refers to no known node"));return w},v=function(){var i=y("initialFocus");if(i===!1)return!1;if(i===void 0||!ge(i,l.tabbableOptions))if(f(r.activeElement)>=0)i=r.activeElement;else{var s=o.tabbableGroups[0],d=s&&s.firstTabbableNode;i=d||y("fallbackFocus")}if(!i)throw new Error("Your focus-trap needs to have at least one focusable element");return i},g=function(){if(o.containerGroups=o.containers.map(function(i){var s=bn(i,l.tabbableOptions),d=hn(i,l.tabbableOptions),h=s.length>0?s[0]:void 0,m=s.length>0?s[s.length-1]:void 0,w=d.find(function(P){return Y(P)}),C=d.slice().reverse().find(function(P){return Y(P)}),_=!!s.find(function(P){return W(P)>0});return{container:i,tabbableNodes:s,focusableNodes:d,posTabIndexesFound:_,firstTabbableNode:h,lastTabbableNode:m,firstDomTabbableNode:w,lastDomTabbableNode:C,nextTabbableNode:function(U){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,K=s.indexOf(U);return K<0?H?d.slice(d.indexOf(U)+1).find(function(J){return Y(J)}):d.slice(0,d.indexOf(U)).reverse().find(function(J){return Y(J)}):s[K+(H?1:-1)]}}}),o.tabbableGroups=o.containerGroups.filter(function(i){return i.tabbableNodes.length>0}),o.tabbableGroups.length<=0&&!y("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(o.containerGroups.find(function(i){return i.posTabIndexesFound})&&o.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},I=function(i){var s=i.activeElement;if(s)return s.shadowRoot&&s.shadowRoot.activeElement!==null?I(s.shadowRoot):s},O=function(i){if(i!==!1&&i!==I(document)){if(!i||!i.focus){O(v());return}i.focus({preventScroll:!!l.preventScroll}),o.mostRecentlyFocusedNode=i,Tn(i)&&i.select()}},j=function(i){var s=y("setReturnFocus",i);return s||(s===!1?!1:i)},G=function(i){var s=i.target,d=i.event,h=i.isBackward,m=h===void 0?!1:h;s=s||oe(d),g();var w=null;if(o.tabbableGroups.length>0){var C=f(s,d),_=C>=0?o.containerGroups[C]:void 0;if(C<0)m?w=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:w=o.tabbableGroups[0].firstTabbableNode;else if(m){var P=Re(o.tabbableGroups,function(ue){var de=ue.firstTabbableNode;return s===de});if(P<0&&(_.container===s||ge(s,l.tabbableOptions)&&!Y(s,l.tabbableOptions)&&!_.nextTabbableNode(s,!1))&&(P=C),P>=0){var U=P===0?o.tabbableGroups.length-1:P-1,H=o.tabbableGroups[U];w=W(s)>=0?H.lastTabbableNode:H.lastDomTabbableNode}else te(d)||(w=_.nextTabbableNode(s,!1))}else{var K=Re(o.tabbableGroups,function(ue){var de=ue.lastTabbableNode;return s===de});if(K<0&&(_.container===s||ge(s,l.tabbableOptions)&&!Y(s,l.tabbableOptions)&&!_.nextTabbableNode(s))&&(K=C),K>=0){var J=K===o.tabbableGroups.length-1?0:K+1,Oe=o.tabbableGroups[J];w=W(s)>=0?Oe.firstTabbableNode:Oe.firstDomTabbableNode}else te(d)||(w=_.nextTabbableNode(s))}}else w=y("fallbackFocus");return w},B=function(i){var s=oe(i);if(!(f(s,i)>=0)){if(Q(l.clickOutsideDeactivates,i)){u.deactivate({returnFocus:l.returnFocusOnDeactivate});return}Q(l.allowOutsideClick,i)||i.preventDefault()}},me=function(i){var s=oe(i),d=f(s,i)>=0;if(d||s instanceof Document)d&&(o.mostRecentlyFocusedNode=s);else{i.stopImmediatePropagation();var h,m=!0;if(o.mostRecentlyFocusedNode)if(W(o.mostRecentlyFocusedNode)>0){var w=f(o.mostRecentlyFocusedNode),C=o.containerGroups[w].tabbableNodes;if(C.length>0){var _=C.findIndex(function(P){return P===o.mostRecentlyFocusedNode});_>=0&&(l.isKeyForward(o.recentNavEvent)?_+1<C.length&&(h=C[_+1],m=!1):_-1>=0&&(h=C[_-1],m=!1))}}else o.containerGroups.some(function(P){return P.tabbableNodes.some(function(U){return W(U)>0})})||(m=!1);else m=!1;m&&(h=G({target:o.mostRecentlyFocusedNode,isBackward:l.isKeyBackward(o.recentNavEvent)})),O(h||o.mostRecentlyFocusedNode||v())}o.recentNavEvent=void 0},Ve=function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o.recentNavEvent=i;var d=G({event:i,isBackward:s});d&&(te(i)&&i.preventDefault(),O(d))},ye=function(i){(l.isKeyForward(i)||l.isKeyBackward(i))&&Ve(i,l.isKeyBackward(i))},Ee=function(i){Cn(i)&&Q(l.escapeDeactivates,i)!==!1&&(i.preventDefault(),u.deactivate())},we=function(i){var s=oe(i);f(s,i)>=0||Q(l.clickOutsideDeactivates,i)||Q(l.allowOutsideClick,i)||(i.preventDefault(),i.stopImmediatePropagation())},Te=function(){if(o.active)return De.activateTrap(a,u),o.delayInitialFocusTimer=l.delayInitialFocus?Ae(function(){O(v())}):O(v()),r.addEventListener("focusin",me,!0),r.addEventListener("mousedown",B,{capture:!0,passive:!1}),r.addEventListener("touchstart",B,{capture:!0,passive:!1}),r.addEventListener("click",we,{capture:!0,passive:!1}),r.addEventListener("keydown",ye,{capture:!0,passive:!1}),r.addEventListener("keydown",Ee),u},Ce=function(){if(o.active)return r.removeEventListener("focusin",me,!0),r.removeEventListener("mousedown",B,!0),r.removeEventListener("touchstart",B,!0),r.removeEventListener("click",we,!0),r.removeEventListener("keydown",ye,!0),r.removeEventListener("keydown",Ee),u},qe=function(i){var s=i.some(function(d){var h=Array.from(d.removedNodes);return h.some(function(m){return m===o.mostRecentlyFocusedNode})});s&&O(v())},ce=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(qe):void 0,Z=function(){ce&&(ce.disconnect(),o.active&&!o.paused&&o.containers.map(function(i){ce.observe(i,{subtree:!0,childList:!0})}))};return u={get active(){return o.active},get paused(){return o.paused},activate:function(i){if(o.active)return this;var s=c(i,"onActivate"),d=c(i,"onPostActivate"),h=c(i,"checkCanFocusTrap");h||g(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=r.activeElement,s==null||s();var m=function(){h&&g(),Te(),Z(),d==null||d()};return h?(h(o.containers.concat()).then(m,m),this):(m(),this)},deactivate:function(i){if(!o.active)return this;var s=ke({onDeactivate:l.onDeactivate,onPostDeactivate:l.onPostDeactivate,checkCanReturnFocus:l.checkCanReturnFocus},i);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,Ce(),o.active=!1,o.paused=!1,Z(),De.deactivateTrap(a,u);var d=c(s,"onDeactivate"),h=c(s,"onPostDeactivate"),m=c(s,"checkCanReturnFocus"),w=c(s,"returnFocus","returnFocusOnDeactivate");d==null||d();var C=function(){Ae(function(){w&&O(j(o.nodeFocusedBeforeActivation)),h==null||h()})};return w&&m?(m(j(o.nodeFocusedBeforeActivation)).then(C,C),this):(C(),this)},pause:function(i){if(o.paused||!o.active)return this;var s=c(i,"onPause"),d=c(i,"onPostPause");return o.paused=!0,s==null||s(),Ce(),Z(),d==null||d(),this},unpause:function(i){if(!o.paused||!o.active)return this;var s=c(i,"onUnpause"),d=c(i,"onPostUnpause");return o.paused=!1,s==null||s(),g(),Te(),Z(),d==null||d(),this},updateContainerElements:function(i){var s=[].concat(i).filter(Boolean);return o.containers=s.map(function(d){return typeof d=="string"?r.querySelector(d):d}),o.active&&g(),Z(),this}},u.updateContainerElements(e),u},_n=it("popover").parts("arrow","arrowTip","anchor","trigger","indicator","positioner","content","title","description","closeTrigger"),$=_n.build(),p=st({getAnchorId:n=>{var e;return((e=n.ids)==null?void 0:e.anchor)??`popover:${n.id}:anchor`},getTriggerId:n=>{var e;return((e=n.ids)==null?void 0:e.trigger)??`popover:${n.id}:trigger`},getContentId:n=>{var e;return((e=n.ids)==null?void 0:e.content)??`popover:${n.id}:content`},getPositionerId:n=>{var e;return((e=n.ids)==null?void 0:e.positioner)??`popover:${n.id}:popper`},getArrowId:n=>{var e;return((e=n.ids)==null?void 0:e.arrow)??`popover:${n.id}:arrow`},getTitleId:n=>{var e;return((e=n.ids)==null?void 0:e.title)??`popover:${n.id}:title`},getDescriptionId:n=>{var e;return((e=n.ids)==null?void 0:e.description)??`popover:${n.id}:desc`},getCloseTriggerId:n=>{var e;return((e=n.ids)==null?void 0:e.closeTrigger)??`popover:${n.id}:close`},getAnchorEl:n=>p.getById(n,p.getAnchorId(n)),getTriggerEl:n=>p.getById(n,p.getTriggerId(n)),getContentEl:n=>p.getById(n,p.getContentId(n)),getPositionerEl:n=>p.getById(n,p.getPositionerId(n)),getTitleEl:n=>p.getById(n,p.getTitleId(n)),getDescriptionEl:n=>p.getById(n,p.getDescriptionId(n)),getFocusableEls:n=>ft(p.getContentEl(n)),getFirstFocusableEl:n=>p.getFocusableEls(n)[0]});function In(n,e,t){const r=n.matches("open"),a=n.context.currentPlacement,l=n.context.currentPortalled,o=n.context.renderedElements,u=lt({...n.context.positioning,placement:a});return{portalled:l,open:r,setOpen(c){c!==r&&e(c?"OPEN":"CLOSE")},reposition(c={}){e({type:"POSITIONING.SET",options:c})},getArrowProps(){return t.element({id:p.getArrowId(n.context),...$.arrow.attrs,dir:n.context.dir,style:u.arrow})},getArrowTipProps(){return t.element({...$.arrowTip.attrs,dir:n.context.dir,style:u.arrowTip})},getAnchorProps(){return t.element({...$.anchor.attrs,dir:n.context.dir,id:p.getAnchorId(n.context)})},getTriggerProps(){return t.button({...$.trigger.attrs,dir:n.context.dir,type:"button","data-placement":a,id:p.getTriggerId(n.context),"aria-haspopup":"dialog","aria-expanded":r,"data-state":r?"open":"closed","aria-controls":p.getContentId(n.context),onClick(c){c.defaultPrevented||e("TOGGLE")},onBlur(c){e({type:"TRIGGER_BLUR",target:c.relatedTarget})}})},getIndicatorProps(){return t.element({...$.indicator.attrs,dir:n.context.dir,"data-state":r?"open":"closed"})},getPositionerProps(){return t.element({id:p.getPositionerId(n.context),...$.positioner.attrs,dir:n.context.dir,style:u.floating})},getContentProps(){return t.element({...$.content.attrs,dir:n.context.dir,id:p.getContentId(n.context),tabIndex:-1,role:"dialog",hidden:!r,"data-state":r?"open":"closed","data-expanded":ct(r),"aria-labelledby":o.title?p.getTitleId(n.context):void 0,"aria-describedby":o.description?p.getDescriptionId(n.context):void 0,"data-placement":a})},getTitleProps(){return t.element({...$.title.attrs,id:p.getTitleId(n.context),dir:n.context.dir})},getDescriptionProps(){return t.element({...$.description.attrs,id:p.getDescriptionId(n.context),dir:n.context.dir})},getCloseTriggerProps(){return t.button({...$.closeTrigger.attrs,dir:n.context.dir,id:p.getCloseTriggerId(n.context),type:"button","aria-label":"close",onClick(c){c.defaultPrevented||e("CLOSE")}})}}}function Nn(n){const e=ut(n);return dt({id:"popover",initial:e.open?"open":"closed",context:{closeOnInteractOutside:!0,closeOnEscape:!0,autoFocus:!0,modal:!1,portalled:!0,positioning:{placement:"bottom",...e.positioning},currentPlacement:void 0,...e,renderedElements:{title:!0,description:!0}},computed:{currentPortalled:t=>!!t.modal||!!t.portalled},watch:{open:["toggleVisibility"]},entry:["checkRenderedElements"],states:{closed:{on:{"CONTROLLED.OPEN":{target:"open",actions:["setInitialFocus"]},TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}]}},open:{activities:["trapFocus","preventScroll","hideContentBelow","trackPositioning","trackDismissableElement","proxyTabFocus"],on:{"CONTROLLED.CLOSE":{target:"closed",actions:["setFinalFocus"]},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose","setFinalFocus"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"POSITIONING.SET":{actions:"reposition"}}}}},{guards:{isOpenControlled:t=>!!t["open.controlled"]},activities:{trackPositioning(t){t.currentPlacement=t.positioning.placement;const r=p.getAnchorEl(t)??p.getTriggerEl(t);return Se(r,()=>p.getPositionerEl(t),{...t.positioning,defer:!0,onComplete(l){t.currentPlacement=l.placement}})},trackDismissableElement(t,r,{send:a}){const l=()=>p.getContentEl(t);let o=!0;return vt(l,{pointerBlocking:t.modal,exclude:p.getTriggerEl(t),defer:!0,onEscapeKeyDown(u){var c;(c=t.onEscapeKeyDown)==null||c.call(t,u),!t.closeOnEscape&&u.preventDefault()},onInteractOutside(u){var c;(c=t.onInteractOutside)==null||c.call(t,u),!u.defaultPrevented&&(o=!(u.detail.focusable||u.detail.contextmenu),t.closeOnInteractOutside||u.preventDefault())},onPointerDownOutside:t.onPointerDownOutside,onFocusOutside:t.onFocusOutside,persistentElements:t.persistentElements,onDismiss(){a({type:"CLOSE",src:"interact-outside",restoreFocus:o})}})},proxyTabFocus(t){return t.modal||!t.portalled?void 0:gt(()=>p.getContentEl(t),{triggerElement:p.getTriggerEl(t),defer:!0,onFocus(a){a.focus({preventScroll:!0})}})},hideContentBelow(t){return t.modal?Ht(()=>[p.getContentEl(t),p.getTriggerEl(t)],{defer:!0}):void 0},preventScroll(t){if(t.modal)return en(p.getDoc(t))},trapFocus(t){if(!t.modal)return;let r;return bt(()=>{const a=p.getContentEl(t);if(a){r=Fn(a,{escapeDeactivates:!1,allowOutsideClick:!0,preventScroll:!0,returnFocusOnDeactivate:!0,document:p.getDoc(t),fallbackFocus:a,initialFocus:Fe({root:p.getContentEl(t),getInitialEl:t.initialFocusEl,enabled:t.autoFocus})});try{r.activate()}catch{}}}),()=>r==null?void 0:r.deactivate()}},actions:{reposition(t,r){const a=p.getAnchorEl(t)??p.getTriggerEl(t);Se(a,()=>p.getPositionerEl(t),{...t.positioning,...r.options,defer:!0,listeners:!1,onComplete(o){t.currentPlacement=o.placement}})},checkRenderedElements(t){pe(()=>{Object.assign(t.renderedElements,{title:!!p.getTitleEl(t),description:!!p.getDescriptionEl(t)})})},setInitialFocus(t){t.modal||pe(()=>{const r=Fe({root:p.getContentEl(t),getInitialEl:t.initialFocusEl,enabled:t.autoFocus});r==null||r.focus({preventScroll:!0})})},setFinalFocus(t,r){var l;const a=r.restoreFocus??((l=r.previousEvent)==null?void 0:l.restoreFocus);a!=null&&!a||pe(()=>{const o=p.getTriggerEl(t);o==null||o.focus({preventScroll:!0})})},invokeOnOpen(t){var r;(r=t.onOpenChange)==null||r.call(t,{open:!0})},invokeOnClose(t){var r;(r=t.onOpenChange)==null||r.call(t,{open:!1})},toggleVisibility(t,r,{send:a}){a({type:t.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:r})}}})}pt()(["autoFocus","closeOnEscape","closeOnInteractOutside","dir","getRootNode","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","open.controlled","open","persistentElements","portalled","positioning"]);const kn=(n,e)=>{const t=ht(),r=mt(),a=yt(Et),l=q(()=>({id:t,dir:a.value.dir,open:n.open??n.defaultOpen,"open.controlled":n.open!==void 0,getRootNode:r==null?void 0:r.value.getRootNode,onOpenChange:c=>{e==null||e("openChange",c),e==null||e("update:open",c.open)},onEscapeKeyDown:c=>e==null?void 0:e("escapeKeyDown",c),onFocusOutside:c=>e==null?void 0:e("focusOutside",c),onInteractOutside:c=>e==null?void 0:e("interactOutside",c),onPointerDownOutside:c=>e==null?void 0:e("pointerDownOutside",c),...wt(n)})),[o,u]=Tt(Nn(l.value),{context:l});return q(()=>In(o.value,u,Ct))},[We,R]=Ot("PopoverContext"),Dn=F({__name:"popover-anchor",props:{asChild:{type:Boolean}},setup(n){const e=R();return A(),(t,r)=>(T(),k(b(M).div,x(b(e).getAnchorProps(),{"as-child":t.asChild}),{default:N(()=>[D(t.$slots,"default")]),_:3},16,["as-child"]))}}),An=F({__name:"popover-arrow-tip",props:{asChild:{type:Boolean}},setup(n){const e=R();return A(),(t,r)=>(T(),k(b(M).div,x(b(e).getArrowTipProps(),{"as-child":t.asChild}),{default:N(()=>[D(t.$slots,"default")]),_:3},16,["as-child"]))}}),Rn=F({__name:"popover-arrow",props:{asChild:{type:Boolean}},setup(n){const e=R();return A(),(t,r)=>(T(),k(b(M).div,x(b(e).getArrowProps(),{"as-child":t.asChild}),{default:N(()=>[D(t.$slots,"default")]),_:3},16,["as-child"]))}}),Bn=F({__name:"popover-close-trigger",props:{asChild:{type:Boolean}},setup(n){const e=R();return A(),(t,r)=>(T(),k(b(M).button,x(b(e).getCloseTriggerProps(),{"as-child":t.asChild}),{default:N(()=>[D(t.$slots,"default")]),_:3},16,["as-child"]))}}),$n=F({__name:"popover-content",props:{asChild:{type:Boolean}},setup(n){const e=R(),t=Pt(),r=q(()=>St(e.value.getContentProps(),t.value.presenceProps));return A(),(a,l)=>b(t).unmounted?ee("",!0):(T(),k(b(M).div,x({key:0},r.value,{"as-child":a.asChild}),{default:N(()=>[D(a.$slots,"default")]),_:3},16,["as-child"]))}}),Ln=F({__name:"popover-context",setup(n){const e=R();return(t,r)=>D(t.$slots,"default",Ft(_t(b(e))))}}),xn=F({__name:"popover-description",props:{asChild:{type:Boolean}},setup(n){const e=R();return A(),(t,r)=>(T(),k(b(M).div,x(b(e).getDescriptionProps(),{"as-child":t.asChild}),{default:N(()=>[D(t.$slots,"default")]),_:3},16,["as-child"]))}}),Mn=F({__name:"popover-indicator",props:{asChild:{type:Boolean}},setup(n){const e=R();return A(),(t,r)=>(T(),k(b(M).div,x(b(e).getIndicatorProps(),{"as-child":t.asChild}),{default:N(()=>[D(t.$slots,"default")]),_:3},16,["as-child"]))}}),Kn=F({__name:"popover-positioner",props:{asChild:{type:Boolean}},setup(n){const e=R(),t=It(),r=Nt(q(()=>({...t.value,present:e.value.open})));return kt(r),A(),(a,l)=>b(r).unmounted?ee("",!0):(T(),k(b(M).div,x({key:0},b(e).getPositionerProps(),{"as-child":a.asChild}),{default:N(()=>[D(a.$slots,"default")]),_:3},16,["as-child"]))}}),jn=F({__name:"popover-root-provider",props:{value:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean}},setup(n){const e=n,t=q(()=>e.value);return We(t),$e(q(()=>({lazyMount:e.lazyMount,unmountOnExit:e.unmountOnExit}))),A(),(r,a)=>D(r.$slots,"default")}}),Gn=F({__name:"popover-root",props:Dt({autoFocus:{type:Boolean},closeOnEscape:{type:Boolean},closeOnInteractOutside:{type:Boolean},defaultOpen:{type:Boolean},id:{},ids:{},initialFocusEl:{type:Function},modal:{type:Boolean},open:{type:Boolean},persistentElements:{},portalled:{type:Boolean},positioning:{},lazyMount:{type:Boolean},unmountOnExit:{type:Boolean}},{autoFocus:void 0,closeOnEscape:void 0,closeOnInteractOutside:void 0,defaultOpen:void 0,modal:void 0,open:void 0,portalled:void 0}),emits:["escapeKeyDown","focusOutside","interactOutside","openChange","pointerDownOutside","update:open"],setup(n,{emit:e}){const t=n,a=kn(t,e);return We(a),$e(q(()=>({lazyMount:t.lazyMount,unmountOnExit:t.unmountOnExit}))),A(),(l,o)=>D(l.$slots,"default")}}),Un=F({__name:"popover-title",props:{asChild:{type:Boolean}},setup(n){const e=R();return A(),(t,r)=>(T(),k(b(M).div,x(b(e).getTitleProps(),{"as-child":t.asChild}),{default:N(()=>[D(t.$slots,"default")]),_:3},16,["as-child"]))}}),Wn=F({__name:"popover-trigger",props:{asChild:{type:Boolean}},setup(n){const e=R();return A(),(t,r)=>(T(),k(b(M).button,x(b(e).getTriggerProps(),{"as-child":t.asChild}),{default:N(()=>[D(t.$slots,"default")]),_:3},16,["as-child"]))}}),be=Object.freeze(Object.defineProperty({__proto__:null,Anchor:Dn,Arrow:Rn,ArrowTip:An,CloseTrigger:Bn,Content:$n,Context:Ln,Description:xn,Indicator:Mn,Positioner:Kn,Root:Gn,RootProvider:jn,Title:Un,Trigger:Wn},Symbol.toStringTag,{value:"Module"})),Vn={class:"w-full h-full flex flex-col"},qn={class:"flex-1 overflow-y-auto"},Yn=F({__name:"index",setup(n){const e=At(),t=Rt(!1);function r(c){t.value=!t.value}function a(c){e.setContentSectionsOrder(c)}function l(c){e.toggleSection(c)}function o(c){e.activateSection(c)}function u(c){e.deactivateSection(c)}return(c,f)=>{const y=Vt,v=Je;return T(),V("div",Vn,[f[3]||(f[3]=S("header",{class:"flex none px-4 py-3 border-b font-medium"},[S("h1",null,"Page title")],-1)),S("div",qn,[L(y,{static:"",title:"Layout Header Sections",sections:b(e).beforeContentSections,onToggleSection:l,onActivateSection:o,onDeactivateSection:u},null,8,["sections"]),f[1]||(f[1]=S("hr",null,null,-1)),L(y,{title:"Template Sections",order:b(e).contentSectionsOrder,sections:b(e).contentSections,onReorder:a,onAddSection:r,onToggleSection:l,onActivateSection:o,onDeactivateSection:u},null,8,["order","sections"]),f[2]||(f[2]=S("hr",null,null,-1)),L(y,{static:"",title:"Layout Footer Sections",sections:[],onToggleSection:l,onActivateSection:o,onDeactivateSection:u})]),L(b(be).Root,{open:b(t),"onUpdate:open":f[0]||(f[0]=g=>Bt(t)?t.value=g:null),positioning:{placement:"left-start",gutter:16,offset:{mainAxis:120,crossAxis:120}}},{default:N(()=>[L(b(be).Positioner,null,{default:N(()=>[L(b(be).Content,{class:"bg-white w-48 border rounded shadow p-1"},{default:N(()=>[S("header",null,[L(v)])]),_:1})]),_:1})]),_:1},8,["open"])])}}});export{Yn as default};

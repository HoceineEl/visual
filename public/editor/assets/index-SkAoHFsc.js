import{r as C,P as b,_ as R}from"./popover-DI3eR_Zm.js";import{d as $,u as A,o as l,c as f,a as n,b as r,t as h,w,e as S,f as y,g as T,h as z,F as B,r as I,i as P,j as D,k as N,l as m,m as _,n as E}from"./index-DRWtARfF.js";import{r as M,a as V,b as F,S as L,c as O}from"./sortable.core.esm-O7qXCF8P.js";const G=["data-disabled"],U={class:"handle flex-none py-2 px-1 rounded-md hover:bg-zinc-200 cursor-move"},j={class:"w-0 flex-1 truncate"},H=$({__name:"Section",props:{section:null,static:{type:Boolean,default:!1}},emits:["activate","deactivate","toggle","remove"],setup(i,{emit:a}){const c=A(),s=a,v=i;function p(){c.push(v.section.id)}return(d,t)=>{const u=M,e=C,o=V,g=F;return l(),f("div",{class:"",onMouseenter:t[2]||(t[2]=x=>s("activate")),onMouseleave:t[3]||(t[3]=x=>s("deactivate"))},[n("div",{class:"flex rounded border border-zinc-100 hover:bg-zinc-100 cursor-pointer active:ring-inset active:ring-2 active:ring-gray-700 data-[disabled=true]:text-zinc-500","data-disabled":i.section.disabled},[n("button",U,[r(u,{class:"inline w-3"})]),n("div",{onClick:p,class:"group mx-2 py-2 pr-1 text-sm flex-1 flex items-center max-w-full"},[n("div",j,h(v.section.name),1),i.static?S("",!0):(l(),f("button",{key:0,onClick:t[0]||(t[0]=w(x=>s("remove"),["stop"])),class:"flex-none cursor-pointer invisible group-hover:visible py-[1px] px-[2px] rounded-md hover:bg-zinc-200"},[r(e,{class:"inline w-4"})])),n("button",{onClick:t[1]||(t[1]=w(x=>s("toggle"),["stop"])),class:"flex-none cursor-pointer invisible group-hover:visible py-[1px] px-[2px] rounded-md hover:bg-zinc-200 ml-1"},[i.section.disabled?(l(),y(g,{key:1,class:"inline w-4"})):(l(),y(o,{key:0,class:"inline w-4"}))])])],8,G)],32)}}}),q={class:"pb-3"},J={class:"text-sm font-semibold p-3"},K={key:0,class:"text-sm px-3"},Q={key:1,class:"space-y-2 mt-4 px-3"},W=$({__name:"SectionsGroup",props:{title:null,sections:null,order:{default:()=>[]},static:{type:Boolean,default:!1}},emits:["reorder","addSection","toggleSection","removeSection","activateSection","deactivateSection"],setup(i,{emit:a}){const c=i,s=a,v=T("sortable");return z(()=>{new L(v.value,{animation:150,ghostClass:"sortable-ghost",onEnd({newIndex:p,oldIndex:d}){const t=[...c.order],u=t.splice(d,1)[0];t.splice(p,0,u),s("reorder",t)}})}),(p,d)=>{const t=H,u=O;return l(),f("div",q,[n("h2",J,h(i.title),1),n("div",{ref_key:"sortable",ref:v,class:"space-y-1 px-3"},[i.sections.length>0?(l(!0),f(B,{key:0},I(i.sections,e=>(l(),y(t,{key:e.id,static:i.static,section:e,onToggle:o=>s("toggleSection",e.id),onRemove:o=>s("removeSection",e.id),onActivate:o=>s("activateSection",e.id),onDeactivate:o=>s("deactivateSection",e.id)},null,8,["static","section","onToggle","onRemove","onActivate","onDeactivate"]))),128)):S("",!0)],512),i.static?(l(),f("p",K,"No sections")):S("",!0),c.static?S("",!0):(l(),f("div",Q,[n("button",{class:"block w-full !text-left",onClick:d[0]||(d[0]=e=>s("addSection",e))},[r(u,{class:"w-4 h-4 inline mr-1"}),d[1]||(d[1]=P(" Add Section "))])]))])}}}),X={class:"w-full h-full flex flex-col"},Y={class:"flex-1 overflow-y-auto"},oe=$({__name:"index",setup(i){const a=D(),c=N(!1);function s(e){c.value=!c.value}function v(e){a.setContentSectionsOrder(e)}function p(e){a.toggleSection(e)}function d(e){a.removeSection(e)}function t(e){a.activateSection(e)}function u(e){a.deactivateSection(e)}return(e,o)=>{const g=W,x=R;return l(),f("div",X,[o[3]||(o[3]=n("header",{class:"flex none px-4 py-3 border-b font-medium"},[n("h1",null,"Page title")],-1)),n("div",Y,[r(g,{static:"",title:"Layout Header Sections",sections:m(a).beforeContentSections,onToggleSection:p,onActivateSection:t,onDeactivateSection:u},null,8,["sections"]),o[1]||(o[1]=n("hr",null,null,-1)),r(g,{title:"Template Sections",order:m(a).contentSectionsOrder,sections:m(a).contentSections,onReorder:v,onAddSection:s,onToggleSection:p,onRemoveSection:d,onActivateSection:t,onDeactivateSection:u},null,8,["order","sections"]),o[2]||(o[2]=n("hr",null,null,-1)),r(g,{static:"",title:"Layout Footer Sections",sections:[],onToggleSection:p,onActivateSection:t,onDeactivateSection:u})]),r(m(b).Root,{open:m(c),"onUpdate:open":o[0]||(o[0]=k=>E(c)?c.value=k:null),positioning:{placement:"left-start",gutter:16,offset:{mainAxis:120,crossAxis:120}}},{default:_(()=>[r(m(b).Positioner,null,{default:_(()=>[r(m(b).Content,{class:"bg-white w-48 border rounded shadow p-1"},{default:_(()=>[n("header",null,[r(x)])]),_:1})]),_:1})]),_:1},8,["open"])])}}});export{oe as default};

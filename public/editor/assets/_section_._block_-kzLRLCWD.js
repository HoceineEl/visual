import{_ as A}from"./trash-CNN6PX5z.js";import{A as i,_ as F,a as j}from"./accordion-CUJnNVk5.js";import{d as q,j as E,q as g,l as e,c as l,a as s,b as a,t as f,e as b,m as u,F as k,i as v,u as L,p as $,o,r as x,f as y,_ as z}from"./index-DKILB3q3.js";import{g as H}from"./utils-BZao-1VW.js";import"./popover-DaTwUwUE.js";const J={key:0,class:"flex flex-col h-full overflow-hidden relative w-full"},K={class:"flex-none p-2 border-b"},M={class:"flex items-center"},O={class:"ml-2 truncate"},P={key:0,class:"mt-2 text-sm"},Q={class:"flex-1 overflow-y-auto"},U={key:1},W={class:"flex-none border-t"},oe=q({__name:"[section].[block]",setup(X){const h=L(),t=$(),r=E(),_=g(()=>r.getSectionBlockData(t.params.section,t.params.block)),c=g(()=>_.value?r.getSectionBlockByType(t.params.section,_.value.type):null),S=g(()=>{var n;return H(((n=c.value)==null?void 0:n.settings)||[])});function B(){h.back()}function w(n){return r.getThemeDataValue(["sectionsData",t.params.section,"blocks",t.params.block,"settings",n])}function V(n,m){return r.updateThemeDataValue(["sectionsData",t.params.section,"blocks",t.params.block,"settings",n],m)}function D(){r.removeSectionBlock(t.params.section,t.params.block),h.back()}return(n,m)=>{const I=F,C=z,T=j,R=A;return e(c)?(o(),l("div",J,[s("header",K,[s("div",M,[s("button",{class:"p-1 px-2 rounded hover:bg-gray-200 focus:outline-none",onClick:B},[a(I,{class:"inline w-4"})]),s("span",O,f(e(_).settings.title||e(_).settings.heading||e(c).name),1)]),e(c).description?(o(),l("p",P,f(e(c).description),1)):b("",!0)]),s("section",Q,[a(e(i).Root,{multiple:"",defaultValue:["blocks","Settings"]},{default:u(()=>[(o(!0),l(k,null,x(e(S),p=>(o(),y(e(i).Item,{value:p.name,key:p.name},{default:u(()=>[a(e(i).ItemTrigger,null,{default:u(()=>[v(f(p.name)+" ",1),a(e(i).ItemIndicator,null,{default:u(()=>[a(C)]),_:1})]),_:2},1024),a(e(i).ItemContent,null,{default:u(()=>[(o(!0),l(k,null,x(p.settings,d=>(o(),y(T,{key:d.id,value:w(d.id),setting:d,onInput:N=>V(d.id,N)},null,8,["value","setting","onInput"]))),128))]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1}),e(c).settings.length>0?(o(),l(k,{key:0},[],64)):(o(),l("p",U,f("This section has no configuration")))]),s("footer",W,[s("button",{class:"flex items-center w-full text-left py-2 px-4 text-red-500 hover:bg-gray-100",onClick:D},[a(R,{class:"inline mr-2 w-4"}),m[0]||(m[0]=v(" Remove block "))])])])):b("",!0)}}});export{oe as default};
